<!DOCTYPE html><html><head><title>专利 CN102456053A - 一种xml文档到数据库的映射方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种xml文档到数据库的映射方法"><meta name="DC.contributor" content="宋余庆" scheme="inventor"><meta name="DC.contributor" content="耿飚" scheme="inventor"><meta name="DC.contributor" content="鉴保瑞" scheme="inventor"><meta name="DC.contributor" content="陈健美" scheme="inventor"><meta name="DC.contributor" content="江苏大学" scheme="assignee"><meta name="DC.date" content="2010-11-2" scheme="dateSubmitted"><meta name="DC.description" content="本发明涉及一种XML文档到关系数据库的映射方法,属于计算机数据处理领域。该方法通过建立有序标识树、建立主、从表以及将XML文档的有序标识树逐项分别映射到关系数据主表和从表对应的字段中，从而完成XML文档到数据库的映射。本发明与传统映射方法相比，不仅可以有效地保持XML文档的结构，而且可以显著节省存储空间，还能提高数据查询效率，具有实际应用价值。"><meta name="DC.date" content="2012-5-16"><meta name="DC.relation" content="CN:101984434:A" scheme="references"><meta name="DC.relation" content="CN:1560766:A" scheme="references"><meta name="DC.relation" content="US:20100306207:A1" scheme="references"><meta name="citation_reference" content="盛惠娟: &quot;Native XML数据库存储模型研究&quot;, 《中国优秀硕士学位论文全文数据库》, 31 December 2005 (2005-12-31), pages 23 - 24"><meta name="citation_patent_publication_number" content="CN:102456053:A"><meta name="citation_patent_application_number" content="CN:201010527890"><link rel="canonical" href="https://www.google.com/patents/CN102456053A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102456053A?cl=zh"/><meta name="title" content="专利 CN102456053A - 一种xml文档到数据库的映射方法"/><meta name="description" content="本发明涉及一种XML文档到关系数据库的映射方法,属于计算机数据处理领域。该方法通过建立有序标识树、建立主、从表以及将XML文档的有序标识树逐项分别映射到关系数据主表和从表对应的字段中，从而完成XML文档到数据库的映射。本发明与传统映射方法相比，不仅可以有效地保持XML文档的结构，而且可以显著节省存储空间，还能提高数据查询效率，具有实际应用价值。"/><meta property="og:title" content="专利 CN102456053A - 一种xml文档到数据库的映射方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102456053A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102456053A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=RsdwBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102456053A&amp;usg=AFQjCNFBhTjPHZX1qyF0F6-fzbThgU5LzQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/b31b335325f2d243df8b/CN102456053A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/b31b335325f2d243df8b/CN102456053A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102456053A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102456053A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102456053A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102456053B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102456053A?cl=zh" style="display:none"><span itemprop="description">本发明涉及一种XML文档到关系数据库的映射方法,属于计算机数据处理领域。该方法通过建立有序标识树、建立主、从表以及将XML文档的有序标识树逐项分别映射到关系数据主表和从表对应的字段中，从而完成XML文档到数据库的 ...</span><span itemprop="url">https://www.google.com/patents/CN102456053A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102456053A - 一种xml文档到数据库的映射方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102456053A - 一种xml文档到数据库的映射方法" title="专利 CN102456053A - 一种xml文档到数据库的映射方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102456053 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010527890</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年5月16日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年11月2日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年11月2日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102456053B?hl=zh-CN&amp;cl=zh">CN102456053B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010527890.3, </span><span class="patent-bibdata-value">CN 102456053 A, </span><span class="patent-bibdata-value">CN 102456053A, </span><span class="patent-bibdata-value">CN 201010527890, </span><span class="patent-bibdata-value">CN-A-102456053, </span><span class="patent-bibdata-value">CN102456053 A, </span><span class="patent-bibdata-value">CN102456053A, </span><span class="patent-bibdata-value">CN201010527890, </span><span class="patent-bibdata-value">CN201010527890.3</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AE%8B%E4%BD%99%E5%BA%86%22">宋余庆</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%80%BF%E9%A3%9A%22">耿飚</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%89%B4%E4%BF%9D%E7%91%9E%22">鉴保瑞</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%99%88%E5%81%A5%E7%BE%8E%22">陈健美</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%B1%9F%E8%8B%8F%E5%A4%A7%E5%AD%A6%22">江苏大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102456053A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102456053A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102456053A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (5)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=RsdwBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010527890&amp;usg=AFQjCNHa95nEu7mFhVxd5Jg-uNq6n1R2aQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=RsdwBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102456053A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFbrb3e9bh_GeXJqm3_35AOtz3jMA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT112428670" lang="ZH" load-source="patent-office">一种xml文档到数据库的映射方法</invention-title>
      </span><br><span class="patent-number">CN 102456053 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA95935421" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明涉及一种XML文档到关系数据库的映射方法,属于计算机数据处理领域。该方法通过建立有序标识树、建立主、从表以及将XML文档的有序标识树逐项分别映射到关系数据主表和从表对应的字段中，从而完成XML文档到数据库的映射。本发明与传统映射方法相比，不仅可以有效地保持XML文档的结构，而且可以显著节省存储空间，还能提高数据查询效率，具有实际应用价值。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(4)</span></span></div><div class="patent-text"><div mxw-id="PCLM41301113" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种XML文档到数据库的映射方法，其特征在于包括以下步骤：步骤1、建立有序标识树&#8212;&#8212;根据XML文档节点结构，将XML文档映射成对应的有序标识树；步骤2、在数据库中设置主、从表&#8212;&#8212;根据步骤1所建立的有序标识树，在数据库中设置存储基于文档结构信息的主表和存储基于文档内容的从表；步骤3、XML文档映射到数据库&#8212;&#8212;将XML文档的有序标识树逐项分别映射到数据库相应的主表和从表对应的字段中，从而完成XML文档到数据库的映射。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的XML文档到数据库的映射方法，其特征在于：所述有序标识树由按祖先后裔顺序连接的元素节点、与叶节点连接的文本值、以及与相应元素节点连接的属性节点构成。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1或2所述的XML文档到数据库的映射方法，其特征在于：所述主表由用于标记XML文档的主键字段和用于以编码字符串描述该文档节点结构的文本字段构成；所述从表由用于连接主表的外键字段、用于标记主键字段的主键标识字段、用于标记文档内容名或属性的名字段，以及用于标记文档内容的文本字段构成。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求3所述的XML文档到数据库的映射方法，其特征在于：所述步骤3的映射采用W3C文档对象模型DOM表示内存中的XML文档，建立一个遍历XML文档的栈后，以相反的顺序把XML文档映射到关系数据库主表和从表的各字段元素压入栈。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES46749523" lang="ZH" load-source="patent-office" class="description">
    <p>一种XML文档到数据库的映射方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及一种XML文档映射方法，尤其涉及一种XML文档到数据库的映射方法， 属于计算机数据处理技术领域。</p>
    <p>背景技术</p>
    <p>[0002]	XML (extensible Markup Language，可扩展标记语言）具有平台无关性、自描述性、可扩展性、简单易于处理等优点，其相关技术的成熟使之成为hternet数据表示和交换的标准。XML在Web服务、电子商务和数据集成等诸多领域具有广泛应用。基于关系数据库技术的的存储应用十分普遍，但XML数据存储与关系数据库存储的数据转换是当前没有解决的核心技术问题。</p>
    <p>[0003]	目前，基于关系的XML存储研究受到国内外研究者的重视，发表了一些重要的研究成果，但是总的来说根据存储时是否使用XML模式（DTD或XML khema)可以分为以下两类：结构映射方法和模型映射方法。</p>
    <p>[0004]	结构映射方法是在进行关系数据库的XML存储时，先根据XML模式(或挖掘出XML 文档中固有的模式信息)生成相应的关系模式，然后再根据生成的关系模式对XML文档进行解析分解并将其存放于相应的数据表中。结构映射方法中比较有影响的主要有STORED方法、DTD方法、CPI方法和p_schema方法。</p>
    <p>[0005]	模型映射方法是将任何XML数据都存放在有固定关系模式的数据库中，而不考虑 XML文档的模式，其本质就是存储XML文档的结构信息。按XML数据的存储方式不同，模型映射方法主要有基于边的方法和基于节点的方法两种。其中，基于边的方法中比较有影响的主要有Edge方法和Xparent方法；基于节点的方法中比较有影响的主要有)(Rel方法。 与结构映射方法相比，模型映射方法具有以下三个优点：⑴支持任何静态（XML模式不变） 或动态（XML模式不断变化）的XML数据存储；⑵支持任何格式良好的而没有XML模式的 XML数据存储；⑶不需要对数据库模型进行任何扩展就可以支持XML的存储。</p>
    <p>[0006]	以上关于XML存储的研究所提出的方法多种多样，但都不同程度的存在着一些问题。第一种结构映射方法对XML文档的格式要求过于严格，耗费大量的数据空间，没有考虑数据库存储及查询方面的性能等因素；而第二种模型映射方法中插入节点后需要重新标识，动态更新非常困难，提取父-子和祖先-后代节点关系也很很麻烦。此外，模型映射方法中的基于边的方法不能有效地处理正则路径表达式查询和XML结构查询，在查询过程中需要对表进行大量连接操作，因而效率特别低；基于节点的方法，例如)(Rel模型，则占用了大量的存储空间。</p>
    <p>[0007]	申请号为PCT/US2002/030783的国际专利申请公开了一种将XML模式映射到对象关系数据库系统的方法，该方法首先将XML模式注册到数据库系统中，然后将注册的XML模式映射为数据库系统所支持的模式，最后将符合所述XML模式的XML文档存储到数据库系统中。此外，申请号为200410073869. 5的中国专利也申请公开了一种基于模式的XML存储方法，该方法依据XML文档的模式信息，选取了该模式定义的特定节点作为记录节点，把输入的XML文档划分成一个一个记录，并记录其类型，对得到的记录按类型进行分类，类型相同的记录存储在一起，最终将XML文档映射到了关系数据库表中。采用这两种方法，映射后的XML文档占用的存储空间相对较小并且查询效率得到一定提高。但这两种方法都属于结构映射方法，是基于模式的，不同XML文档的模式很可能有差别，对这些模式信息的提取和管理本身就是一个极其繁琐的问题。在映射过程中，关系表不是预定义的，而且产生表的数量也不确定。如果XML的嵌套深度很大，可能产生大量的关系表。此外，XML定义的元素、 属性顺序信息在映射后一般不予以保证，并且注释、处理指令等信息也有可能被遗弃。</p>
    <p>[0008]	综上所述，目前广泛采用的结构映射方法以及传统的模型映射方法都不同程度的存在着一些缺陷，因此都不能较好的解决XML文档到关系数据库映射这一问题。</p>
    <p>[0009]	发明内容</p>
    <p>本发明的目的是：针对上述现有XML映射方法存在的问题和不足之处，鉴于模型映射方法具有的优势，提出一种不仅可以显著节省存储空间以及提高查询效率，并且动态更新十分方便的XML文档到数据库的映射方法。</p>
    <p>[0010]	为达到上述目的，本发明XML文档到数据库的映射方法步骤如下：</p>
    <p>步骤1、建立有序标识树一根据XML文档节点结构，将XML文档映射成对应的有序标识树。通常，所述有序标识树由按祖先后裔顺序连接的元素节点（元素节点可以包含子元素节点)、与叶节点连接的文本值、以及与相应元素节点连接的属性节点构成，给XML文档节点 (元素和属性）赋予唯一的标识。这样，可以对节点进行如先序、中序或后序遍历。</p>
    <p>[0011]	步骤2、在数据库中设置主、从表&#8212;&#8212;根据步骤1所建立的有序标识树，在数据库中设置存储基于文档结构信息的主表和存储基于文档内容的从表。即这两个表分别为 documents主表和tags从表，基于文档本身结构信息的存储放在documents表，基于文档内容的存储放在tags表。</p>
    <p>[0012]	所述主表宜由用于标记XML文档的主键字段和用于以编码字符串描述该文档节点结构的文本字段构成。即主表的结构可以表示为documents (doc_id，doc_structure)。 其中：doc_id是唯一标识的主键字段，由每个文档本身产生来标记该文档；doC_StruCture 是包含编码字符串的大文本字段，用来描述文档结构，文档节点结构的任何变化都映射在这个字段中。</p>
    <p>[0013]	所述从表宜由用于连接主表的外键字段、用于标记主键字段的主键标识字段、 用于标记文档内容名或属性的名字段，以及用于标记文档内容的文本字段构成。即从表的结构可以表示为 tags(doc_id, tag_id, tag_name, tag_value)。其中：doc_id 是连接 documents表的外键，反映主从表间的关系；tag_id是每个标记产生的主键标识字段；tag_ name是标记名或属性名字段；tag_ValUe是标记属性的文本字段。</p>
    <p>[0014]	步骤3、XML文档映射到数据库&#8212;&#8212;将XML文档的有序标识树逐项分别映射到数据库相应的主表和从表对应的字段中，从而完成XML文档到数据库的映射。</p>
    <p>[0015]	上述映射算法可以采用W3C文档对象模型DOM (Document Object Model，D0M)表示内存中的XML文档，建立一个遍历XML文档的栈后，以相反的顺序把XML文档映射到关系数据库主表和从表的各字段元素压入栈，以便保留它们在d0C_strUCtUre字段里的顺序。</p>
    <p>[0016]	归纳起来，本发明与现有技术相比，具有以下显著优点：</p>
    <p>1.存储空间占用少。由于本方法将XML文档仅映射为两个关系数据库表，且主表中存储XML文档的结构信息为字符串形式，与其它方法相比，较大程度节省了存储空间。</p>
    <p>[0017]	2.查询效率高。当对XML文档进行查询时，首先将对XML文档的查询语句转化为对关系数据库表的查询语句SQL，然后采用SQL对关系表查询时，只需要做一下字符串匹配操作来判断节点的父子关系，而不需要对大量的关系表进行频繁的连接操作，因此显著提高了查询效率。</p>
    <p>[0018]	3.动态更新容易。如果增加子树节点（元素和属性)，仅仅是在字符串的合适位置做插入操作即可，而XML文档原有的标识不需要更改，因此动态更新非常容易。</p>
    <p>[0019]	4.通用性强。由于最终依据建立的有序标记树来建立数据库表，因此不仅适用于 XML文档数据，而且还适用于任何树状数据结构，通用性较强。</p>
    <p>附图说明</p>
    <p>[0020]	下面结合附图对本发明作进一步的说明。</p>
    <p>[0021]	图1为本发明实施例一的XML文档； 图2为图1中XML文档的树形示意；</p>
    <p>图3为图IXML文档到关系数据库映射算法示意图； 图4为图2对应的documents表； 图5为图2对应的tags表； 图6为插入的XML文档片段； 图7为图6等价的tags表记录片段。</p>
    <p>具体实施方式</p>
    <p>[0022]	为使本发明的目的、优点以及技术方案更加清楚明白，以下通过具体实施例，并结合附图，对本发明进一步详细说明。</p>
    <p>[0023]	步骤1、建立有序标识树。对于图1中的XML文档，图2给出了相应的树形结构。</p>
    <p>[0024]	根据XML文档节点的结构，将XML文档映射成对应的有序标识树，该有序标识树由按祖先后裔顺序连接的元素节点（元素节点可以包含子元素节点）、与叶节点连接的文本值、以及与相应元素节点连接的属性节点构成。给XML文档节点（元素和属性）赋予唯一的标识。可以对节点进行如先序，中序或后序遍历。</p>
    <p>[0025]	XML文档D可以表示为一棵有序标识树T= (V, ν0, Σ，type, tag, val,彡），其中： V是XML节点的集合；vO e V是树的根节点；有穷字母表Σ是文档D的元素和属性名称组成的集合；函数type:V&#8212; {elem, attr, text}确定节点类型，type (v) =elem若ν为元素， type (ν) =attr 若 ν 为属性，type (ν) =text 若 ν 为文本；Ve= {ν | ν e V Λ type (ν) =elem} 表示元素节点集合，Va={v|v e V Λ type (ν) =attr}表示属性节点集合， Vt={v|v e V Λ type (ν) =text}表示文本节点集合；函数tag:Ve U Va&#8212;Σ返回元素或属性节点的名称；函数val =Va U Vt &#8212; str返回属性或文本节点的值，str是XML文档中所有合法字符串的集合。二元关系&lt; e V2定义XML文档顺序，在文档D中如果节点u出现在ν 之前或u=v，则（U, v) e彡或记为U彡V。</p>
    <p>[0026]	此逻辑数据模型只定义了构成XML文档的主要数据：元素、属性和文本，而忽略处理指令、注释等次要数据，因此V=Ve U Va U Vt0元素节点可以有0个、1个或多个子元素节点，子元素节点的类型可以是元素、属性或文本；属性和文本节点没有子元素节点。T中每个元素和属性节点都被赋予唯一的标识，称为节点id。对于任意ν e V，其节点id记作 id (ν)。节点集合可以表示为节点id的集合。</p>
    <p>[0027]	根据定义1可以写出上述XML文档的逻辑数据模型T= (V, ν0, Σ , type, tag, val,彡），其中：</p>
    <p>&#165;={100, IOli 114}； VO=IOOi</p>
    <p>Σ= {pub, book, year, title, price, author, id, sex}；</p>
    <p>type(l00) =elem, type (102)=ati:r, type (104)二text,…；</p>
    <p>tag(IOO)=Pubj tag(103)=title,…；</p>
    <p>val (102)二 “2008 ”, val (104)=25. 50,…；</p>
    <p>&lt;={(100,101), (101,102),-},</p>
    <p>步骤2、在数据库中建立主、从表&#8212;&#8212;根据步骤1所建立的有序标识树，在数据库中设置存储基于文档结构信息的主表和存储基于文档内容的从表。即这两个表分别为 documents主表和tags从表，基于文档本身结构信息的存储放在documents表，基于文档内容的存储放在tags表。</p>
    <p>[0028]	所述主表由用于标记XML文档的主键字段和用于以编码字符串描述该文档节点结构的文本字段构成。即主表的结构可以表示为documents (doc_id, doc_structure)。其中：doc_id是唯一标识的主键字段，由每个文档本身产生来标记该文档；doC_StruCture是包含编码字符串的大文本字段，用来描述文档结构，文档结构的任何变化都应该映射在这个字段中。</p>
    <p>[0029]	所述从表由用于连接主表的外键字段、用于标记主键字段的主键标识字段、用于标记文档内容名或属性的名字段，以及用于标记文档内容的文本字段构成。即从表的结构可以表不为 tags (doc_id, tag&#8212;id，tag&#8212;name，tag&#8212;value)。其中：doc&#8212;id 是连接 documents 表的外键，反映主从表间的关系；tag_id是每个标记产生的主键标识字段；tag_name是标记名或属性名字段；tag_ValUe是标记属性的文本字段。</p>
    <p>[0030]	步骤3、XML文档映射到数据库&#8212;&#8212;将XML文档的有序标识树逐项分别映射到数据库相应的主表和从表对应的字段中，从而完成XML文档到数据库的映射。</p>
    <p>[0031]	其中，本实施例主表doc_structure字段的规则如下： ⑴doC_StruCture字段由一系列长序列相关键组成；</p>
    <p>⑵每个键以字母表中字母为开始，元素用“T”，属性用“A”，必须依照顺序来定界键。 字母后面紧跟着一个数值型数字代表tag_id ；</p>
    <p>(3)如果元素中有一些属性，那么这个键在doC_StruCture中的标识将由下面的一些键定义这些属性。</p>
    <p>[0032]	(4)如果元素中含有一些子元素，那么这些子元素将由尖括号括起来的键字符串表不。</p>
    <p>[0033]	根据上述映射规则，本映射算法可以采用W3C文档对象模型D0M(Document Object Model，DOM)表示内存中的XML文档，建立一个遍历XML文档的栈后，以相反的顺序把XML文档映射到关系数据库主表和从表的各字段元素压入栈，以便保留它们在d0C_StrUCtUre字段里的顺序。该映射算法的详细描述如图3所示。</p>
    <p>[0034]	通过上述算法，XML文档的所有结构信息以及节点信息都被映射到了关系数据库表中。</p>
    <p>[0035]	为了更详细的阐述上面介绍的映射算法，结合图1和图2给出具体的算法示例。本实施例中，树里的每个节点(元素和属性)标识假定按照先序遍历的。经过转换之后，这个文档将在documents表里有一条记录显示，如图4中documents表所示的doc_id为50，图5 中tags表包含文档内容的所有记录。此时文档对应的doC_StruCture字段如下：T100&lt;T1 01Α102&lt;Τ103Τ104Τ105Α106Α107&gt;Τ108Α109&lt;Τ110Τ111Τ112Α113Α114&#187;ο</p>
    <p>[0036]	根据上述方法能很容易保持文档的结构，例如要删除id为101的作者的sex属性，这个属性是A107，所需做的仅是简单的从d0C_strUCtUre字符串中删除子串A107操作。 假设需要在已经存在的标记之间新增一个book标记，仅仅是在上面的字符串的合适位置做插入操作即可，如新增一本书其结构如图6所示，相应的tags表的记录片段如图7所示， 其等价的键字符串是T150A151&lt;T152T153&gt;。这个新的子串将在合适的位置被插入到doc_ structure，来保留文档的原先次序。此时doc_structure字段将变成：T100&lt;T101A102&lt;T1 03T104T105A106A107&gt; T150A151&lt;T152T153&gt;T108A109&lt;T110T111T112A113A114&gt;&gt;。</p>
    <p>[0037]	除上述实施例外，本发明还可以有其他实施方式。凡采用等同替换或等效变换形成的技术方案，均落在本发明要求的保护范围。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1560766A?cl=zh">CN1560766A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年2月17日</td><td class="patent-data-table-td patent-date-value">2005年1月5日</td><td class="patent-data-table-td ">北京大学</td><td class="patent-data-table-td ">面向可扩展标记语言模式的键约束自动生成方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101984434A?cl=zh">CN101984434A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年11月16日</td><td class="patent-data-table-td patent-date-value">2011年3月9日</td><td class="patent-data-table-td ">东北大学</td><td class="patent-data-table-td ">基于可扩展语言查询的网页数据抽取方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20100306207">US20100306207</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年5月26日</td><td class="patent-data-table-td patent-date-value">2010年12月2日</td><td class="patent-data-table-td ">Ibm Corporation</td><td class="patent-data-table-td ">Method and system for transforming xml data to rdf data</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">盛惠娟: "<a href='http://scholar.google.com/scholar?q="Native+XML%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%A8%A1%E5%9E%8B%E7%A0%94%E7%A9%B6"'>Native XML数据库存储模型研究</a>", 《中国优秀硕士学位论文全文数据库》, 31 December 2005 (2005-12-31), pages 23 - 24</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102768673A?cl=zh">CN102768673A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月12日</td><td class="patent-data-table-td patent-date-value">2012年11月7日</td><td class="patent-data-table-td ">上海方正数字出版技术有限公司</td><td class="patent-data-table-td ">一种可扩展的xml数据节点标识号码的编码方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102768673B?cl=zh">CN102768673B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月12日</td><td class="patent-data-table-td patent-date-value">2016年4月20日</td><td class="patent-data-table-td ">北大方正集团有限公司</td><td class="patent-data-table-td ">一种可扩展的xml数据节点标识号码的编码方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=RsdwBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年5月16日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年6月27日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年6月5日</td><td class="patent-data-table-td ">C53</td><td class="patent-data-table-td ">Correction of patent for invention or patent application</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年6月5日</td><td class="patent-data-table-td ">COR</td><td class="patent-data-table-td ">Change of bibliographic data</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CORRECT: INVENTOR; FROM: SONG YUQING CHEN JIANMEI JIAN BAORUI GENG BIAO TO: SONG YUQING LIU ZHE LIUYI CHEN JIANMEI JIAN BAORUI GENG BIAO</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年8月14日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/b31b335325f2d243df8b/CN102456053A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8Dxml%E6%96%87%E6%A1%A3%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%98%A0%E5%B0%84%E6%96%B9.pdf?id=RsdwBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U3PS4zxGYkPDTYpXOUpOlL098uObA"},"sample_url":"https://www.google.com/patents/reader?id=RsdwBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>