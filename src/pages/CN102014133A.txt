<!DOCTYPE html><html><head><title>专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="在云存储环境下一种安全存储系统的实现方法"><meta name="DC.contributor" content="沈志荣" scheme="inventor"><meta name="DC.contributor" content="舒继武" scheme="inventor"><meta name="DC.contributor" content="薛巍" scheme="inventor"><meta name="DC.contributor" content="薛矛" scheme="inventor"><meta name="DC.contributor" content="清华大学" scheme="assignee"><meta name="DC.date" content="2010-11-26" scheme="dateSubmitted"><meta name="DC.description" content="在云存储环境下一种安全存储系统的实现方法属于存储安全技术领域，其特征在于：在服务器中根据用户需求建立信任域，在其中利用公钥基础设施PKI进行身份认证，利用用户空间的文件系统FUSE，实现了存储系统与底层系统无关，利用哈希算法SHA1算法以块为单位对文件计算哈希值，再利用密钥和对称加密算法AES算法对以块为单位对文件块加密，再将文件密文上传到云存储区中的文件服务器，保证了文件的机密性和完整性，文件所有者通过在访问控制列表中指定具有对该文件进行访问的用户及其权限，在发生权限撤销操作时，将对文件进行重新加密的操作推迟，只有当用户对文件内容进行修改时，由该用户重新加密修改内容所在的文件块，系统实行了文件块密钥、安全元数据文件密钥和信任域服务器密钥三层密钥管理，既保证了权限撤销时文件的安全性，又不增加系统的管理负担。"><meta name="DC.date" content="2011-4-13"><meta name="DC.relation" content="CN:101095133:A" scheme="references"><meta name="DC.relation" content="WO:2007143057:A2" scheme="references"><meta name="DC.relation" content="WO:2008109661:A2" scheme="references"><meta name="citation_reference" content="LANXIANG CHEN 等: &quot;A Direction to Avoid Re-encryption in Cryptographic File Sharing&quot;, 《LECTURE NOTES IN COMPUTER SCIENCE, 2007》, vol. 4672, 18 September 2007 (2007-09-18), pages 375 - 383, XP047306628, DOI: doi:10.1007/978-3-540-74784-0_38"><meta name="citation_reference" content="洪澄 等: &quot;AB-ACCS：一种云存储密文访问控制方法&quot;, 《计算机研究与发展》, no. 47, 13 October 2010 (2010-10-13), pages 259 - 265"><meta name="citation_patent_publication_number" content="CN:102014133:A"><meta name="citation_patent_application_number" content="CN:201010569398"><link rel="canonical" href="https://www.google.com/patents/CN102014133A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102014133A?cl=zh"/><meta name="title" content="专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法"/><meta name="description" content="在云存储环境下一种安全存储系统的实现方法属于存储安全技术领域，其特征在于：在服务器中根据用户需求建立信任域，在其中利用公钥基础设施PKI进行身份认证，利用用户空间的文件系统FUSE，实现了存储系统与底层系统无关，利用哈希算法SHA1算法以块为单位对文件计算哈希值，再利用密钥和对称加密算法AES算法对以块为单位对文件块加密，再将文件密文上传到云存储区中的文件服务器，保证了文件的机密性和完整性，文件所有者通过在访问控制列表中指定具有对该文件进行访问的用户及其权限，在发生权限撤销操作时，将对文件进行重新加密的操作推迟，只有当用户对文件内容进行修改时，由该用户重新加密修改内容所在的文件块，系统实行了文件块密钥、安全元数据文件密钥和信任域服务器密钥三层密钥管理，既保证了权限撤销时文件的安全性，又不增加系统的管理负担。"/><meta property="og:title" content="专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102014133A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102014133A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=dEdyBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102014133A&amp;usg=AFQjCNEYS_HTWaId73Y_iLBrAPjNwlL7Sg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/bc27186f39a7c38921ee/CN102014133A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/bc27186f39a7c38921ee/CN102014133A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102014133A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102014133A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102014133A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102014133B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102014133A?cl=zh" style="display:none"><span itemprop="description">在云存储环境下一种安全存储系统的实现方法属于存储安全技术领域，其特征在于：在服务器中根据用户需求建立信任域，在其中利用公钥基础设施PKI进行身份认证，利用用户空间的文件系统FUSE，实现了存储系统与底层系统无 ...</span><span itemprop="url">https://www.google.com/patents/CN102014133A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法" title="专利 CN102014133A - 在云存储环境下一种安全存储系统的实现方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102014133 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010569398</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年4月13日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年11月26日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年11月26日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102014133B?hl=zh-CN&amp;cl=zh">CN102014133B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010569398.2, </span><span class="patent-bibdata-value">CN 102014133 A, </span><span class="patent-bibdata-value">CN 102014133A, </span><span class="patent-bibdata-value">CN 201010569398, </span><span class="patent-bibdata-value">CN-A-102014133, </span><span class="patent-bibdata-value">CN102014133 A, </span><span class="patent-bibdata-value">CN102014133A, </span><span class="patent-bibdata-value">CN201010569398, </span><span class="patent-bibdata-value">CN201010569398.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%B2%88%E5%BF%97%E8%8D%A3%22">沈志荣</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%88%92%E7%BB%A7%E6%AD%A6%22">舒继武</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%96%9B%E5%B7%8D%22">薛巍</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%96%9B%E7%9F%9B%22">薛矛</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%22">清华大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102014133A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102014133A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102014133A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (28),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dEdyBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010569398&amp;usg=AFQjCNECdZ4q3nCnPNyKYFSLYRPmVhWkPw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dEdyBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102014133A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFnEgxEjtvnFicJuUJLpoeZIBmz6g"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT102455860" lang="ZH" load-source="patent-office">在云存储环境下一种安全存储系统的实现方法</invention-title>
      </span><br><span class="patent-number">CN 102014133 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA84405254" lang="ZH" load-source="patent-office">
    <div class="abstract">在云存储环境下一种安全存储系统的实现方法属于存储安全技术领域，其特征在于：在服务器中根据用户需求建立信任域，在其中利用公钥基础设施PKI进行身份认证，利用用户空间的文件系统FUSE，实现了存储系统与底层系统无关，利用哈希算法SHA1算法以块为单位对文件计算哈希值，再利用密钥和对称加密算法AES算法对以块为单位对文件块加密，再将文件密文上传到云存储区中的文件服务器，保证了文件的机密性和完整性，文件所有者通过在访问控制列表中指定具有对该文件进行访问的用户及其权限，在发生权限撤销操作时，将对文件进行重新加密的操作推迟，只有当用户对文件内容进行修改时，由该用户重新加密修改内容所在的文件块，系统实行了文件块密钥、安全元数据文件密钥和信任域服务器密钥三层密钥管理，既保证了权限撤销时文件的安全性，又不增加系统的管理负担。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(1)</span></span></div><div class="patent-text"><div mxw-id="PCLM35570630" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.在云存储环境下的一种安全存储系统的实现方法，其特征在于，所述的方法是在 信任域服务器、客户端和文件服务器组成的网络中，使用用户空间的文件系统FUSE在 Linux上依次按照以下步骤实现的： 步骤（1)：网络的初始化，步骤（1.1)：信任域服务器的初始化，设立用户认证模块和访问控制模块，其中用户 认证模块采用了 SSL/TLS协议和公钥基础设施PKI，访问控制模块是在文件所有者授权 下执行对文件的访问控制，在系统中采用了三级密钥管理机制，其中第一级密钥是文件 块密钥，为了安全高效地处理大文件，在本系统中以块为单位加密文件，并称此块为文 件块，每个文件块都使用一个单独的叫做文件块密钥的对称密钥进行加密，文件块密钥 被加密后，存储在安全元数据文件中，第二级密钥是安全元数据文件密钥，包括一个锁 盒子密钥LBK和一个文件签名密钥FSK，每个文件都有独自的安全元数据文件密钥，其 中锁盒子密钥LBK被用来加密该文件中的所有文件块密钥，保证文件块密钥的机密性， 后者是写用户在对文件数据进行修改后的签名密钥，用于区分读操作和写操作，第三级 密钥是信任域服务器密钥，是信任域服务器所维护的两个对称密钥，一个叫做信任域服 务器加密密钥ASEK，用来加密数据文件所对应的安全元数据文件的锁盒子密钥LBK和 文件签名密钥FSK，从而进行访问控制和区分读-写操作，一个叫做信任域服务器签 名密钥ASSK，用来对安全元数据文件中的访问控制块计算基于哈希的消息验证码，即 HMAC值，以保证访问控制块的完整性，步骤（1.2)：客户端设有数据加解密模块，数据完整性验证模块，缓存模块，文件系 统接口，步骤（1.3)：文件服务器设有存储模块；步骤（2)：用户申请获得用户身份标识，步骤如下：步骤（2.1)：用户在客户端通过安全套接层协议SSL和传输层安全协议TLS在加密的 信道上向信任域服务器的用户认证模块发送用户身份标识请求，步骤（2.2)：所述的用户认证模块基于公钥基础设施，用户身份与信任域服务器身份 都是借助公钥基础设施所授予的X.509证书进行认证，系统新用户首先必须向注册机构申 请证书，然后才可以使用该系统；步骤（3)：文件的所有者按照以下步骤创建文件：步骤（3.1)：所述的文件所有者向所述信任域服务器发送创建文件的请求：文件所有 者首先创建访问控制块的内容，内容包括：用户的身份标识、文件名、所指定的加密算 法和模式以及访问控制列表，并将访问控制块发给信任域服务器的访问控制模块，其中 所述访问控制列表包含用户名的哈希值以及该用户的访问权限，步骤（3.2)：所述的信任域服务器处理文件所有者创建文件的请求，使用身份认证模 块对文件所有者的身份进行认证，判断其身份和权限，然后为其请求创建的文件生成锁 盒子密钥LBK和文件签名密钥FSK ；步骤（3.3)：信任域服务器使用信任域加密密钥ASEK加密锁盒子密钥LBK和文件签 名密钥FSK，并使用信任域签名密钥ASSK为访问控制块计算HMAC值，并存入访问控 制块的HMAC域中，然后将访问控制块返回给文件所有者；步骤（3.4)：所述文件所有者创建文件，输入数据，然后使用安全哈希算法SHA1，对文件以块为单位计算哈希值，将哈希值保存在安全元数据文件中，再使用文件块密钥 对文件以块为单位进行加密，并生成文件密文，最后将文件的密文和安全元数据文件发 给所述文件服务器进行存储；步骤（4)：读用户按照以下步骤读取步骤（3)所创建的文件： 步骤（4.1)：从所述文件服务器端读取文件数据密文和安全元数据文件， 步骤（4.2)：按以下步骤进行该读用户的身份认证，步骤（4.2.1)：读用户将自己的身份标识和安全元数据文件中的访问控制块发给所述 信任域服务器，步骤（4.2.2)：信任域服务器调用身份认证模块确认用户的身份标识，调用访问控制 模块，使用信任域密钥ASEK解密该访问控制块，获得包括锁盒子密钥LBK、文件签名 密钥FSK和访问控制列表在内的信息，使用信任域签名密钥ASSK计算访问控制块的 HMAC值，以判断访问控制块的完整性，并根据访问控制列表确定读用户的读权限，然 后将锁盒子密钥LBK发给读用户，步骤（4.3):该读用户获得锁盒子密钥LBK之后，利用其解密获得文件块密钥，然 后使用文件块密钥对文件数据进行解密，最后获得文件数据的明文信息，并使用SHAl 算法对所读内容所在的文件块计算哈希值，看是否与安全元数据中保存的哈希值一致， 判断所读数据的完整性，若相等，则说明数据完整，用户再读取该数据，否则则向系统 报错；步骤（5)：写用户按照以下步骤写入或者修改文件数据，步骤（5.1)：该写用户首先从所述文件服务器端读取要修改的所述文件数据的密文和 安全元数据文件，步骤（5.2)：写用户按以下步骤进行身份认证，步骤（5.2.1)：该写用户将自己的身份标识和安全元数据文件中的访问控制块发给信 任域服务器，所述信任域服务器调用身份认证模块确认用户的身份标识，并调用所述访 问控制模块，使用信任域密钥ASEK解密该访问控制块，获得包括锁盒子密钥LBK、文 件签名密钥FSK和访问控制列表在内的信息，使用信任域签名密钥ASSK重新计算该访 问控制块的HMAC值，看是否与访问控制块中的HMAC值相等，判断该访问控制块是否 完整，并通过访问控制列表确定写用户所具有的写权限，接着，并将锁盒子密钥LBK和 文件签名密钥FSK返回给用户，步骤（5.3)写用户按以下步骤写入或者修改文件，步骤（5.3.1)写用户使用锁盒子密钥LBK获得文件块密钥，然后使用文件块密钥对文 件数据进行解密，获得文件明文信息，并使用SHAl算法对文件以块为单位计算所要修 改内容所在文件块的哈希值，看是否与安全元数据中保存的哈希值一致，判断所读数据 的完整性，步骤（5.3.2)：对步骤（5.3.1)的文件进行写入或者修改，并使用文件块密钥重新对新 的文件数据进行加密，并使用文件签名密钥FSK进行签名，步骤（5.3.3)：写用户将修改后的文件数据和安全元数据文件发给所述文件服务器进 行存储；步骤（6)：所述文件所有者按以下步骤进行权限撤销操作：步骤（6.1)：该文件所有者从所述文件服务器端获得安全元数据文件，然后将自己的 身份标识、安全元数据文件中的访问控制块和拟撤销的用户列表发给信任域服务器， 步骤（6.2)：该信任域服务器按以下步骤执行操作，步骤（6.2.1)：调用所述的身份认证模块对文件所有者的身份标识进行认证，确定其 具有撤销用户操作的权限，步骤（6.2.1):调用所述的访问控制模块，使用信任域密钥ASEK解密该访问控制 块，获得访问控制列表、锁盒子密钥LBK和文件签名密钥FSK在内的信息，并使用自 己的信任域签名密钥ASSK重新计算该访问控制块的HMAC值，判断该访问控制块的完 整，然后从访问控制块的访问控制列表中删除需要撤销的用户所在的访问控制列表项， 接着为文件生成新的锁盒子密钥LBK'和新的文件签名密钥FSK'，然后信任域服务器 用信任域服务器加密密钥ASEK重新加密新生成的锁盒子密钥LBK'和新生成的文件 签名密钥FSK'，并使用信任域服务器签名密钥ASSK重新对修改过的访问控制块计算 HMAC，步骤（6.2.2)：所述信任域服务器将新的访问控制块、新的文件签名密钥FSK'、新 的锁盒子密钥LBK'以及旧的锁盒子密钥LBK返回给文件所有者，步骤（6.3)：所述文件所有者按以下方式使用懒惰撤销操作：使用旧的锁盒子密钥 LBK解密所有文件块密钥，使用新的锁盒子密钥LBK'加密这些文件块密钥，对文件块 的重新加密操作推迟到用户对文件块的更新时再进行。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES41363404" lang="ZH" load-source="patent-office" class="description">
    <p>在云存储环境下一种安全存储系统的实现方法</p>
    <p>技术领域</p>
    <p>[0001]	云存储环境下安全存储系统的实现方法属于存储安全领域，尤其涉及其中的安 全访问控制、密钥分发管理和文件管理等技术领域。</p>
    <p>背景技术</p>
    <p>[0002]	现今随着云计算技术的飞速发展，云存储也逐渐受到了广泛的关注和应用，文 件所有者可以创建文件，并将文件上传到云存储区中，将文件交由云存储服务提供商进 行管理，同时该文件所有者可以允许指定其他用户对该文件进行读写访问，实现了文件 的共享访问。</p>
    <p>[0003]	虽然云存储服务提供商能够给用户提供方便的文件共享访问，但是存在于其中 的安全问题则不容忽视。首先，文件的机密性无法保证：文件是以明文形式存储于云 存储区中，这些信息都毫无保留地置于云存储服务提供商的视线之中，倘若云存储服务 提供商获取了这些文件信息，并应用于非法目的，则将给用户带来不可预计的后果；其 次，文件信息的完整性无法保证：在其他用户对该文件的共享时，文件的信息是以明文 的形式在网络中传输，这样就给网络窃听者带来了可乘之机，网络窃听者可以在网络中 截取文件信息，在得到文件信息后，可以将不利于自己的一些信息删去，同时人为添加 一些对自己有利的虚假信息，然后再将该信息发给其他用户，达到自己的非法目的；再 次，对于权限的没有有效地管理，以及权限撤销时的安全性无法保证：如何能够有效实 现用户对该文件的共享，以及当一个用户的对该文件的访问权限被撤销后，如何能够保 证该文件更新后的内容不会再被撤销权限的用户获得。以上这些都是考验安全存储系统 的一些安全性问题。</p>
    <p>[0004]	安全存储系统的功能是使用户能够保证共享数据的安全，它的实现方法是：首 先文件所有者在本地使用哈希算法对该文件以块为单位计算哈希值，并使用密钥和加密 算法对文件以块为单位进行加密，然后将密文和哈希值一起放入公共的存储区进行存 储，这样公共存储区的管理员就无法得知文件的内容，保证了数据的机密性，同时由该 文件的所有者将密钥分发给他认为可以对该文件进行访问的用户。这些用户可以访问该 文件，并用掌握的密钥对访问内容所在文件块进行解密，然后计算这些块的哈希值，看 是否与保存的哈希值相等，如果相等，则说明访问的内容是完整的，最后再进行读取文 件的内容。在国内外现今所实现的安全存储系统，虽然保证了文件的机密性和完整性， 但是还有一些不足：首先，有的存储系统的实现需要底层存储系统的支持，甚至是需要 对内核的版本进行改动或者是有特定内核版本的要求，这样给用户带来了许多不便，如 果用户需要使用这些安全存储系统，则需要安装特定的底层存储系统，或者是需要特定 版本的内核，或者是需要对内核进行修改；其次，有的安全存储系统在对文件进行操作 时，使用到了非对称加密算法，在一些情况中还需要使用到密钥回滚操作，由于非对称 加密算法的复杂度较高，因此该类安全存储系统的性能不容乐观；再次，大部分现今的 安全存储系统在对待用户的权限撤销上，一般使用的是积极撤销方法，积极撤消操作出现的背景是：由于文件的所有者可能会认为已经授权访问该文件的某个用户会对该文件 进行破坏或者该用户可能会将文件的内容散发出去，造成文件所有者所不希望看到的效 果，因此文件所有者可能会将这个用户的权限进行撤销，但是由于该用户已经掌握了访 问该文件所需要的密钥，因此为了保证文件的安全性，文件所有者不得不立刻重新生成 新的密钥，并用新的密钥重立刻新对文件进行加密，最后将新的密钥分发给除了被撤销 权限的用户之外的其他合法用户，这就是积极撤销，这样做带来的一些后果是，对于大 文件来说，积极撤销带来的立刻重新加密的密码学开销极为庞大，同时在频繁撤销的环 境中，这种安全存储系统的开销也可能让用户难以承受。</p>
    <p>[0005]	本发明实现了一种云存储环境下的安全存储系统，其为用户保证了数据的机密 性和完整性，同时对用户的权限进行的有效地管理，并保证了权限撤销时文件的安全 性，该系统还具有良好的可拓展性。</p>
    <p>发明内容</p>
    <p>[0006]	本发明的目的在于提供一种云存储环境下安全存储系统的系统架构，使得用户 在不可信的存储和网络环境中即使失去了对系统物理资源的控制仍然可以安全高效地进 行文件共享，同时数据安全保护与已部署的底层存储系统无关：底层存储系统只提供可 靠的数据存储服务，而数据机密性、完整性的保护与访问控制则在根据用户需求设立的 信任域中完成；用户可以不依赖底层存储系统提供数据安全性保护机制就能保证自己数 据端到端的安全性，反过来底层存储系统也无法干涉用户的安全性保护机制。该架构将 数据安全保护的责任从用户不具有控制权限的数据服务器和安全性较弱的单个客户机集 中到具有较高安全级别的、可由用户自己设定维护的、可信的信任域服务器上，从而消 除了存储系统对不可信文件服务器的信任需求，并降低了用户的管理复杂度和由客户机 密钥泄漏所带来的安全风险，因此非常适用于用户对底层共享文件系统没有控制权限的 应用场景。</p>
    <p>[0007]	本发明的框架包括：信任域服务器、文件服务器、客户端和网络。其作用分别 如下：</p>
    <p>[0008]	1)信任域服务器：其作用是对用户的身份进行认证，并对文件的密钥进行管理 和分发；</p>
    <p>[0009]	2)文件服务器：其作用是存储文件和安全元数据文件；</p>
    <p>[0010]	3)客户端：创建文件并对文件进行访问；</p>
    <p>[0011]	4)网络：作为文件传输的介质，传输用户的访问请求和文件信息；</p>
    <p>[0012]	本发明的思路是：</p>
    <p>[0013]	1)该存储系统与底层存储系统无关；即数据安全保护与已部署的底层存储系统 无关，底层存储系统只提供可靠的数据存储服务，而数据机密性、完整性的保护与访问 控制则在根据用户需求设立的信任域中完成；用户可以不依赖底层存储系统提供数据安 全性保护机制就能保证自己数据端到端的安全性，反过来底层存储系统也无法干涉用户 的安全性保护机制；</p>
    <p>[0014]	2)文件的机密性和完整性保护；</p>
    <p>[0015]	i.文件所有者创建文件；首先在本地使用哈希算法&#8212;&#8212;SHAl算法对文件以块为单位计算哈希值，然后使用密钥和加密算法AES算法对文件以块为单位进行加密，然 后上传到云存储区中存储，这样就保证了文件在云存储区中的机密性，其中SHAl算法 是由美国国家安全局设计，并由美国国家标准与技术研究院发布的一种安全散列算法， 是一种被广泛应用的哈希算法，它的用处是将冗长的文件压缩成为一段独特的数字信息 (一般称为哈希值），保证原来文件的合法性和安全性，同时AES算法是美国国家技术 标准委员会在2000年所确定的高级加密标准，是一种广泛应用的保护数据安全的加密算 法；方便的密钥管理文件所有者将密钥分发和管理的权限交给信任域服务器进行。</p>
    <p>[0016]	ii.文件所有者指定访问控制列表，指定具有对该文件进行访问的权限的用户； 当文件所有者创建一份该文件的访问控制列表，将他认为可以对该文件进行访问的用户 添加入访问控制列表，并将访问控制列表发给信任域服务器，信任域服务器将该文件的 密钥发给访问控制列表上的用户。当具有访问权限的用户对文件进行访问时，数据是以 密文形式在网络中传输，用户再利用掌握的密钥对文件以块为单位进行解密，然后使用 SHAl算法对解密后的文件以块为单位计算哈希值，判断是否与读取到的哈希值相等，若 相等，则表示数据是完整的，最后读取文件内容，若用户计算的哈希值与读取到的哈希 值不相等，则表示数据的完整性遭到了破坏，则向系统报错；</p>
    <p>[0017]	3)密钥的分发管理由信任域服务器统一进行；在该安全存储系统中主要实现的 密钥管理主要分为三层，其理由是：利用层级的组织方式对对称密钥进行组织管理，从 而达到既保证系统性能和安全性，又不增加系统的管理负担的目的。操作步骤如下：</p>
    <p>[0018]	i.文件块密钥：为了安全高效地处理大文件，在本系统中以块为单位加密文 件，并称此块为文件块，以区分底层存储系统块，每个文件块都使用一个单独的叫做文 件块密钥的对称密钥进行加密，并且每个文件都有一组文件块密钥，；</p>
    <p>[0019]	ii.安全元数据文件密钥：保存在安全元数据文件中的密钥是第二级，这些密钥 包括一个锁盒子密钥LBK和一个文件签名密钥FSK。锁盒子密钥LBK指的是：在一个 锁盒子中装有一个文件中的所有文件块密钥，但是这个盒子则被对称的锁盒子密钥LBK 加密。只有得到锁盒子密钥LBK的授权用户才能解密锁盒子，进而得到文件块密钥以解 密文件内容；文件签名密钥FSK主要是写用户在对文件进行修改后的签名密钥。在这个 安全存储系统中，正是通过文件签名密钥FSK来区分读操作和写操作，需要说明的是， 锁盒子密钥LBK和文件签名密钥FSK都是对称密钥，采用复杂度较低的对称密钥可以显 著降低系统的密码学计算开销；</p>
    <p>[0020]	iii.信任域服务器密钥：最上面的层次是信任域服务器密钥；所谓信任域服 务器密钥只是信任域服务器所维护的两个对称密钥，一个叫做信任域服务器加密密钥 ASEK，一个叫做信任域服务器签名密钥ASSK。前者用来加密数据文件所对应的安全 元数据文件的锁盒子密钥LBK和文件签名密钥FSK，从而进行访问控制和区分读_写 操作；后者用来作为HMAC算法的输入参数，对安全元数据文件中的访问控制块计算 HMAC值以保证其完整性，其中HMAC是一种使用加密散列函数和密钥计算出来的一种 消息验证码， 它的作用主要是对消息的完整性进行检查。信任域服务器必须保证这两个 密钥的机密性，任何时候都不能将这两个密钥泄露给其他任何人，这一点可以在实际应 用中借助硬件辅助手段实现。</p>
    <p>[0021]	本发明的特征在于，所述的方法是在信任域服务器、客户端和文件服务器组成的网络中，使用用户空间的文件系统FUSE在Linux上依次按照以下步骤实现的：</p>
    <p>[0022]	步骤（1)：网络的初始化，</p>
    <p>[0023]	步骤（1.1)：信任域服务器的初始化，设立用户认证模块和访问控制模块，其中用户认证模块采用了 SSL/TLS协议和公钥基础设施PKI，访问控制模块是在文件所有 者授权下执行对文件的访问控制，在系统中采用了三级密钥管理机制，其中第一级密钥 是文件块密钥，为了安全高效地处理大文件，在本系统中以块为单位加密文件，并称此 块为文件块，每个文件块都使用一个单独的叫做文件块密钥的对称密钥进行加密，文件 块密钥被加密后，存储在安全元数据文件中，第二级密钥是安全元数据文件密钥，包括 一个锁盒子密钥LBK和一个文件签名密钥FSK，每个文件都有独自的安全元数据文件密 钥，其中锁盒子密钥LBK被用来加密该文件中的所有文件块密钥，保证文件块密钥的机 密性，后者是写用户在对文件数据进行修改后的签名密钥，用于区分读操作和写操作， 第三级密钥是信任域服务器密钥，是信任域服务器所维护的两个对称密钥，一个叫做信 任域服务器加密密钥ASEK，用来加密数据文件所对应的安全元数据文件的锁盒子密钥 LBK和文件签名密钥FSK，从而进行访问控制和区分读-写操作，一个叫做信任域服务 器签名密钥ASSK，用来对安全元数据文件中的访问控制块计算基于哈希的消息验证码， 即HMAC值，以保证访问控制块的完整性，</p>
    <p>[0024]	步骤（1.2)：客户端设有数据加解密模块，数据完整性验证模块，缓存模块，文 件系统接口，</p>
    <p>[0025]	步骤（1.3)：文件服务器设有存储模块；</p>
    <p>[0026]	步骤（2):用户申请获得用户身份标识，步骤如下：</p>
    <p>[0027]	步骤（2.1)：用户在客户端通过安全套接层协议SSL和传输层安全协议TLS在加 密的信道上向信任域服务器的用户认证模块发送用户身份标识请求，</p>
    <p>[0028]	步骤（2.2)：所述的用户认证模块基于公钥基础设施，用户身份与信任域服务器 身份都是借助公钥基础设施所授予的X.509证书进行认证，系统新用户首先必须向注册机 构申请证书，然后才可以使用该系统；</p>
    <p>[0029]	步骤（3)：文件的所有者按照以下步骤创建文件：</p>
    <p>[0030]	步骤（3.1)：所述的文件所有者向所述信任域服务器发送创建文件的请求：文件 所有者首先创建访问控制块的内容，内容包括：用户的身份标识、文件名、所指定的加 密算法和模式以及访问控制列表，并将访问控制块发给信任域服务器的访问控制模块， 其中所述访问控制列表包含用户名的哈希值以及该用户的访问权限，</p>
    <p>[0031]	步骤（3.2)：所述的信任域服务器处理文件所有者创建文件的请求，使用身份认 证模块对文件所有者的身份进行认证，判断其身份和权限，然后为其请求创建的文件生 成锁盒子密钥LBK和文件签名密钥FSK ；</p>
    <p>[0032]	步骤（3.3)：信任域服务器使用信任域加密密钥ASEK加密锁盒子密钥LBK和文 件签名密钥FSK，并使用信任域签名密钥ASSK为访问控制块计算HMAC值，并存入访 问控制块的HMAC域中，然后将访问控制块返回给文件所有者；</p>
    <p>[0033]	步骤（3.4)：所述文件所有者创建文件，输入数据，然后使用安全哈希算法，即 SHAl算法，对文件以块为单位计算哈希值，将哈希值保存在安全元数据文件中，再使用 文件块密钥对文件以块为单位进行加密，并生成文件密文，最后将文件的密文和安全元数据文件发给所述文件服务器进行存储；</p>
    <p>[0034]	步骤（4)：读用户按照以下步骤读取步骤（3)所创建的文件：</p>
    <p>[0035]	步骤（4.1)：从所述文件服务器端读取文件数据密文和安全元数据文件，</p>
    <p>[0036]	步骤（4.2)：按以下步骤进行该读用户的身份认证，</p>
    <p>[0037]	步骤（4.2.1)：读用户将自己的身份标识和安全 元数据文件中的访问控制块发给 所述信任域服务器，</p>
    <p>[0038]	步骤（4.2.2)：信任域服务器调用身份认证模块确认用户的身份标识，调用访问 控制模块，使用信任域密钥ASEK解密该访问控制块，获得包括锁盒子密钥LBK、文件 签名密钥FSK和访问控制列表在内的信息，使用信任域签名密钥ASSK计算访问控制块 的HMAC值，以判断访问控制块的完整性，并根据访问控制列表确定读用户的读权限， 然后将锁盒子密钥LBK发给读用户，</p>
    <p>[0039]	步骤（4.3)：该读用户获得锁盒子密钥LBK之后，利用其解密获得文件块密 钥，然后使用文件块密钥对文件数据进行解密，最后获得文件数据的明文信息，并使用 SHAl算法对所读内容所在的文件块计算哈希值，看是否与安全元数据中保存的哈希值一 致，判断所读数据的完整性，若相等，则说明数据完整，用户再读取该数据，否则则向 系统报错；</p>
    <p>[0040]	步骤（5)：写用户按照以下步骤写入或者修改文件数据，</p>
    <p>[0041]	步骤（5.1)：该写用户首先从所述文件服务器端读取要修改的所述文件数据的密 文和安全元数据文件，</p>
    <p>[0042]	步骤（5.2)：写用户按以下步骤进行身份认证，</p>
    <p>[0043]	步骤（5.2.1)：该写用户将自己的身份标识和安全元数据文件中的访问控制块 发给信任域服务器，所述信任域服务器调用身份认证模块确认用户的身份标识，并调 用所述访问控制模块，使用信任域密钥ASEK解密该访问控制块，获得包括锁盒子密钥 LBK、文件签名密钥FSK和访问控制列表在内的信息，使用信任域签名密钥ASSK重新 计算该访问控制块的HMAC值，看是否与访问控制块中的HMAC值相等，判断该访问控 制块是否完整，并通过访问控制列表确定写用户所具有的写权限，接着，并将锁盒子密 钥LBK和文件签名密钥FSK返回给用户，</p>
    <p>[0044]	步骤（5.3)写用户按以下步骤写入或者修改文件，</p>
    <p>[0045]	步骤（5.3.1)写用户使用锁盒子密钥LBK获得文件块密钥，然后使用文件块密钥 对文件数据进行解密，获得文件明文信息，并使用SHAl算法对文件以块为单位计算所 要修改内容所在文件块的哈希值，看是否与安全元数据中保存的哈希值一致，判断所读 数据的完整性，</p>
    <p>[0046]	步骤（5.3.2)：对步骤（5.3.1)的文件进行写入或者修改，并使用文件块密钥重新 对新的文件数据进行加密，并使用文件签名密钥FSK进行签名，</p>
    <p>[0047]	步骤（5.3.3)：写用户将修改后的文件数据和安全元数据文件发给所述文件服务 器进行存储；</p>
    <p>[0048]	步骤（6)：所述文件所有者按以下步骤进行权限撤销操作：</p>
    <p>[0049]	步骤（6.1)：该文件所有者从所述文件服务器端获得安全元数据文件，然后将 自己的身份标识、安全元数据文件中的访问控制块和拟撤销的用户列表发给信任域服务器，</p>
    <p>[0050]	步骤（6.2)：该信 任域服务器按以下步骤执行操作，</p>
    <p>[0051]	步骤（6.2.1)：调用所述的身份认证模块对文件所有者的身份标识进行认证，确 定其具有撤销用户操作的权限，</p>
    <p>[0052]	步骤（6.2.1)：调用所述的访问控制模块，使用信任域密钥ASEK解密该访问控 制块，获得访问控制列表、锁盒子密钥LBK和文件签名密钥FSK在内的信息，并使用自 己的信任域签名密钥ASSK重新计算该访问控制块的HMAC值，判断该访问控制块的完 整，然后从访问控制块的访问控制列表中删除需要撤销的用户所在的访问控制列表项， 接着为文件生成新的锁盒子密钥LBK'和新的文件签名密钥FSK'，然后信任域服务器 用信任域服务器加密密钥ASEK重新加密新生成的锁盒子密钥LBK'和新生成的文件 签名密钥FSK'，并使用信任域服务器签名密钥ASSK重新对修改过的访问控制块计算 HMAC，</p>
    <p>[0053]	步骤（6.2.2)：所述信任域服务器将新的访问控制块、新的文件签名密钥 FSK'、新的锁盒子密钥LBK'以及旧的锁盒子密钥LBK返回给文件所有者，</p>
    <p>[0054]	步骤（6.3)：所述文件所有者按以下方式使用懒惰撤销操作：使用旧的锁盒子密 钥LBK解密所有文件块密钥，使用新的锁盒子密钥LBK'加密这些文件块密钥，对文件 块的重新加密操作推迟到用户对文件块的更新时再进行。</p>
    <p>[0055]	本发明的效果如下：</p>
    <p>[0056]	1.不依赖于底层文件系统并保证用户文件在云存储区的机密性，只有拥有合法 权限的用户才可以获得文件的信息；</p>
    <p>[0057]	2.保证了用户对文件操作过程中端到端的完整性，用户能够及时发现数据在网 络中传输时是否被非法篡改或者由于存储介质的变化导致数据破坏等情况；</p>
    <p>[0058]	3.降低了权限撤销的开销，特别是在一个多用户，权限变更频繁的应用场景 中，本发明能够很大程度提高权限撤销的效率；</p>
    <p>[0059]	本发明在清华大学计算机系高性能计算技术研究所进行过测试，结果表明，这 种安全存储系统能在云存储环境下为用户提供文件共享的同时，也能保证数据的机密 性、完整性和访问控制，并且性能开销也在用户可以接受的范围之内。</p>
    <p>附图说明：</p>
    <p>[0060]	图1系统结构图。</p>
    <p>[0061]	图2文件所有者创建文件示意图。</p>
    <p>[0062]	图3读用户读文件示意图。</p>
    <p>[0063]	图4写用户写文件示意图。</p>
    <p>[0064]	图5文件所有者撤销用户权限示意图。</p>
    <p>[0065]	图6访问控制块图示意图。</p>
    <p>[0066]	图7单机环境下使用IOzone测试对比ext3和本发明的读写性能。</p>
    <p>[0067]	图8集群环境下使用IOzone测试对比NFS和本发明的读写性能。具体实施方式：</p>
    <p>[0068]	本发明的具体实施方式如下：</p>
    <p>[0069]	&gt;步骤1 ：用户申请获得用户标识：用户标识是用户在系统中唯一的身份标识，文件所有者和信任域服务器都是通过用户的标识来确定用户的身份，判断其的访问权 限；为了安全有效地识别系统中主体（包括信任域服务器和用户）的身份，以便系统对 进行操作的用户建立起相互之间的信任关系，系统需要一种独立于底层存储系统的安全 的用户身份标识机制。在本系统中采用公钥基础设施（PKI，Public Key Infrastructure)， 通过数字证书来为系统提供用户标识。数字证书是由公正、权威的机构签发给主体的电 子文档，该文档中记录有主体名称、证书序号、签发方名称、证书的有效期、密码算法 标识、公钥信息和其它信息，并经过签发方的数字签名公钥基础设施是包括了硬件、软 件、人力、策略和过程的平台或框架，它利用公钥技术提供了对数字证书进行创建、管 理、分发、使用、存储以及撤销的功能。证书颁发机构（CA，CerfiticateAuthority)和注 册机构（RA，Registration Authority)是公钥基础设施的重要组成部分。前者是公钥基础 设施的核心，它是一个可信的第三方，通过将用户的公钥与用户的其他信息（包括用户 身份）绑定在一起来为用户签发数字证书，并提供证书的查询、撤销、生命周期管理以 及密钥管理；后者主要是面向用户履行证书颁发机构委派的一些责任。公钥基础设施是 一种成熟的、被广泛应用的技术体系，具有统一的规范和标准，并有很多较为完备的实 现。利用公钥基础设施为系统提供用户标识，可以将维护用户标识唯一性和真实性的工 作交给这个成熟的体系来完成，同时使系统用户在不必了解复杂管理细节的情况下安全 高效地验证其他系统主体的身份，实现用户之间的相互信任，从而保证用户信息的真实 性、完整性、机密性和不可否认性；</p>
    <p>[0070]	&gt;步骤2 ：文件所有者创建文件，文件所有者创建文件的步骤一般有如下步骤， 具体如图2所示；</p>
    <p>[0071]今步骤2.1	：文件所有者向信任域服务器发送创建文件的请求：文件所有者首先 创建访问控制块的内容，内容包括：他的身份标识、文件名、所指定的加密算法和模式 以及访问控制列表，并将访问控制块发给信任域服务器；</p>
    <p>[0072]今步骤2.2	：信任域服务器处理文件所有者创建文件的请求：信任域服务器首先 根据文件所有者的身份标识判断其身份和权限，然后为其请求创建的文件生成锁盒子密 钥LBK和文件签名密钥FSK，接着信任域服务器使用信任域加密密钥ASEK加密锁盒子 密钥LBK和文件签名密钥FSK，并使用信任域签名密钥ASSK为访问控制块计算HMAC 值，然后将访问控制块返回给文件所有者；</p>
    <p>[0073]令步骤2.3:文件所有者创建文件：文件所有者创建文件，输入内容，然后使用 SHAl算法对文件以块为单位计算哈希值，将哈希值保存在安全元数据文件中，再使用文 件块密钥对文件以块为单位进行加密，并生成文件密文，最后将文件的密文和安全元数 据文件发给文件服务器进行存储；</p>
    <p>[0074]	&gt;步骤3:读用户读取文件，读用户读取文件信息一般有如下步骤，具体如图3 所示：今步骤3.1:读取文件密文和安全元数据文件；读用户首先从文件服务器端读取 文件密文和安全元数据文件，获得访问控制块；</p>
    <p>[0075]今步骤3.2:读用户的身份认证；读用户将自己的身份标识和安全元数据文件中的访问控制块发给信任域服务器，信任域在接收到读用户的身份标识和访问控制块后，首先使用信任域密钥ASEK解密该访问控制块，获得访问控制列表、锁盒子密钥LBK和 文件签名密钥FSK等信息，然后使用自己的信任域签名密钥ASSK，计算访问控制块的 HMAC值，判断访问控制块的完整性，然后信任域服务器确认了用户的身份标识，并根 据访问控制列表确定了读用户的读权限，然后将锁盒子密钥LBK发给读用户；</p>
    <p>[0076]令步骤3.3:读用户读取文件；读用户获得锁盒子密钥LBK之后，利用其解密 获得文件块密钥，然后使用文件块密钥对所读内容所在的文件块进行解密，获得明文信 息，并使用SHAl算法对所读内容所在的文件块计算哈希值，看是否与安全元数据中保 存的哈希值一致，判断所读数据的完整性，若所读数据是完整的，则读取该数据，否则 向系统报错；</p>
    <p>[0077]	&gt;步骤4:写用户对文件进行修改，一般步骤如下，具体如图4所示：</p>
    <p>[0078]今步骤4.1:写用户读取文件密文和安全元数据文件；写用户首先从文件服务器 端读取要修改的文件的密文和安全元数据文件；</p>
    <p>[0079]令步骤4.2:写用户的身份认证；写用户将自己的身份标识和安全元数据文件中 的访问控制块发给信任域服务器，信任域服务器接收到访问控制块后，使用信任域密钥 ASEK解密该访问控制块，获得访问控制列表、锁盒子密钥LBK和文件签名密钥FSK等 信息，并使用自己的信任域签名密钥ASSK重新计算该访问控制块的HMAC值，看是否 与访问控制块中的HMAC值相等，判断该访问控制块是否完整，然后确认用户的身份标 识，并通过访问控制列表确定用户所具有的写权限，并将锁盒子密钥LBK和文件签名密 钥FSK返回给用户，</p>
    <p>[0080]令步骤4.3:写用户修改文件；写用户在获得锁盒子密钥LBK和文件签名密钥 FSK后，使用锁盒子密钥LBK获得文件块密钥，然后使用文件块密钥对所修改内容所 在的文件块进行解密，获得明文信息，并使用SHAl算法对要修改内容所在的文件块计 算，看是否与安全元数据中保存的哈希值一致，判断所修改数据的完整性，紧接着写用 户修改文件，然后使用文件块密钥重新对写入的内容计算哈希值和进行加密，并使用文 件签名密钥FSK进行签名，最后还需要对安全元数据进行更新；</p>
    <p>[0081 ]今步骤4.4 ：写用户将修改后的文件和安全元数据文件发给文件服务器进行存储；</p>
    <p>[0082]	&gt;步骤5 ：权限撤销的操作；当文件所有者认为某个用户可能会对文件造成破坏 或者会向外散播该文件信息，可能会将这个用户的权限进行撤销，当文件所有者撤销用 户的权限，一般具有以下步骤，具体如图5所示；</p>
    <p>[0083]今步骤5.1:文件所有者向信任域服务器发出请求，请求撤销用户的权限；首先 文件所有者从文件服务器端获得安全元数据文件，然后将自己的身份标识、安全元数据 文件中的访问控制块和撤销的用户列表发给信任域服务器；</p>
    <p>[0084]今步骤5.2	：信任域服务器对文件所有者的请求进行处理；信任域服务器接收到 用户的请求后，首先使用信任域密钥ASEK解密该访问控制块，获得访问控制列表、锁 盒子密钥LBK和文件签名密钥FSK等信息，并使用自己的信任域签名密钥ASSK重新计 算该访问控制块的HMAC值，判断该访问控制块的完整后，在对文件所有者的身份进行 认证，在确定文件所有者的身份和其具有撤销用户操作的权限后，然后从访问控制块的 访问控制列表中删除需要撤销的用户所在的访问控制列表项，接着为文件生成新的锁盒子密钥LBK'和新的文件签名密钥FSK'。然后信任域服务器用信任域服务器加密密钥 重新加密新生成的锁盒子密钥LBK'和文件签名密钥FSK'，并使用信任域服务器签名 密钥重新对修改过的访问控制块计算HMAC。然后，信任域服务器将新的访问控制块、 新的文件签名密钥、新的锁盒子密钥LBK'以及旧的锁盒子密钥LBK返回给文件所有 者；</p>
    <p>[0085]令步骤5.3 	：文件所有者使用懒惰撤销操作；文件所有者首先使用旧的锁盒子密 钥LBK解密所有文件块密钥，使用新的锁盒子密钥LBK'加密这些文件块密钥，并将新 的访问控制块信息写入到安全元数据文件中，所谓的懒惰撤销方法指的是：文件所有者 并不是使用新的密钥对整个文件（即所有的文件块）进行重新加密，而是将对文件块的重 新加密操作推迟到用户对文件块的更新时再进行；</p>
    <p>[0086]	本发明的系统结构如图1所示，使用FUSE(Filesystem in Userspace)框架在Linux 上实现。FUSE是一种被文件系统开发者广泛使用的技术。通过FUSE，文件系统开发 者可以在不修改内核的前提下迅速方便地开发自己的用户态文件系统。得益于其内核模 块，FUSE可以从VFS层截获系统调用，然后将这些系统调用传递给开发者自己的用户态 的文件系统以实现一些特殊的操作逻辑。FUSE也使得用户可以在没有root权限的情况下 挂载自己的文件系统。此外，FUSE独立于特定的底层存储系统，具有良好的可移植性。 这些特性完全满足了本发明的设计和实现需求。在密码学操作上，本发明使用OpenSSL 库来执行密码学相关操作，其中OpenSSL是。这个库以良好的实现和完备的接口著称， 因此被广泛应用。在系统中使用SHA-I作为密码学哈希函数，使用基于SHA-I的HMAC 作为MAC函数，以及使用AES-256作为默认的块加密函数。这些参数都是可以由用户在 挂载系统时进行配置。另外，OpenSSL也提供了对公钥基础设施（PKI)的较好的实现， 可以用在系统中以认证系统角色并在用户和信任域服务器之间建立安全信道。</p>
    <p>[0087]	本发明的核心是提出了一种云存储环境下的安全存储系统，其实现主要是由以 下几个部分以及其相应的模块组成：</p>
    <p>[0088]	&#8226;信任域服务器</p>
    <p>[0089]	信任域服务器主要有以下几个模块构成：</p>
    <p>[0090]	1.用户认证模块</p>
    <p>[0091]	该模块负责对用户身份进行验证。实际上因为采用了在SSL/TLS和公钥基础 设施，用户身份与信任域服务器身份都是借助公钥基础设施所授予的X.509证书进行认证 的，系统新用户首先必须向注册机构（RA，RegistrationAuthority)申请证书，然后才可以 使用该系统。尽管这个过程需要基于非对称加密的公钥基础设施的支持，并会引入一定 的开销，但是这种非对称计算只有在新用户第一次加入才会发生并且只进行一次；在占 据绝大多数使用时间的后续的文件访问过程中进行的全部是对称加密计算，这样一来相 比其他采用非对称加密的系统，本系统并不会引入过多的性能开销。在用户与信任域服 务器进行通信的时候，信任域服务器需要验证用户证书，并从中得到用户的用户名，据 此计算用户名哈希值以便进行后续的访问控制。</p>
    <p>[0092]	用户在进行文件访问时，必须首先在客户端上通过SSL/TLS协议在加密的信道 上与信任域服务器交互，信任域服务器需要验证用户证书，并从中得到用户的用户名， 据此计算用户名哈希值；在信任域服务器的通过用户认证与访问控制权限验证以后，用户才可以最终获得文件块密钥。</p>
    <p>[0093]	关于公钥基础设施需要指出的是，一些具有安全需求的组织或机构可能已经部 署了公钥基础设施，因此这并不是一个额外的配置要求。</p>
    <p>[0094]	2.访问控制模块</p>
    <p>[0095]	该模块在文件所有者授权下执行对文件的访问控制，所执行的操作包括对用户 发来的访问控制块完整性的验证（通过计算访问控制块的HMAC值），对用户身份的验 证（验证用户的身份标识，并通过比较发送请求中的用户名哈希值与访问控制块中访问 控制列表保存的用户名哈希），对用户请求访问权限的验证（通过查询访问控制列表获得 用户的所具有的权限操作），以及对访问控制块中相关密钥的解密（使用信任域加密密 钥ASEK对访问控制块进行解密，使用信任域签名密钥ASSK计算访问控制块的HMAC 值）。</p>
    <p>[0096]	&#8226;客户端</p>
    <p>[0097]	客户端主要由以下几个模块构成：</p>
    <p>[0098]	1.数据加解密模块</p>
    <p>[0099]	该模块承担了系统的大部分的加解密相关的密码学操作操作，包括使用文件块 密钥加解密文件块等。此外该模块还负责处理客户端与信任域服务器之间的通信。</p>
    <p>[0100]	2.数据完整性验证模块</p>
    <p>[0101]	该模块提供文件块内容完整性验证等操作，以及文件块内容哈希值更新等操 作。</p>
    <p>[0102]	3.缓存模块</p>
    <p>[0103]	缓存模块提供缓存以提高系统性能。缓存分为安全元数据缓存和文件数据缓存 两部分。其中，安全元数据缓存对诸如访问控制块、用于访问控制的密钥进行缓存；而 文件数据缓存则负责缓存文件数据。此外该模块还负责维护缓存与实际数据的一致性。</p>
    <p>[0104]	4.文件系统接口</p>
    <p>[0105]	该模块提供了 POSIX文件系统调用。本发明在这些接口中实现了大部分逻辑， 考虑了对FUSE挂载点路径的转换处理和因为以文件块为单位验证数据内容完整性而导致 的对访问请求偏移和长度的扩展，并实现了对文件空洞进行读写的支持。</p>
    <p>[0106]	&#8226;文件服务器</p>
    <p>[0107]	1.存储模块：存储文件密文和安全元数据文件。其中，安全元数据文件的主 要构成为：访问控制块和文件的一些完整性信息。访问控制块的内容如图6所示主要 包括：文件名的哈 希值、访问控制列表、加密算法和加密的模式、锁盒子密钥和文件签 名密钥，以及整个访问控制块的HMAC值，其中访问控制列表如下表所示，它是一个二 维数组，其中一列是用户名的哈希值，这样做的目的是可以保证用户名的机密性和完整 性，另一列是用户的操作权限，其中“r”表示用户具有读操作权限，“W”表示用户具 有写操作权限，对于可执行文件来说，“X”表示可执行操作权限；另外，文件的完整 性信息主要是文件块的哈希值等。</p>
    <p>[0108]</p>
    <p>用户名（哈希值）操作权限 -Hash(用户名 1) |rw-</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102014133A/CN102014133AD00151.png"> <img id="idf0001" file="CN102014133AD00151.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102014133A/CN102014133AD00151.png" class="patent-full-image" alt="Figure CN102014133AD00151"> </a> </div>
    <p>[0109]	性能测试</p>
    <p>[0110]	本发明在清华大学计算机科学与技术系高性能计算研究所进行了系统的测试， 这些测试包括使用业界认可的文件系统的基准程序IOzone，分别在单机和集群环境下测 试本发明的读写性能，以及测试了本发明在权限撤销下的性能。</p>
    <p>[0111]	&#8226;单机标准测试程序测试</p>
    <p>[0112]	使用IOzone对本发明在单机文件系统ext3下的文件系统的性能进行测试。实验 环境包含一台具有1.8GHz AMD双核CPU和4GB内存的Sun SunFire&#8482; V20z服务器，该 服务器上运行的操作系统是Debian Linux (version 2.6.30)。该服务器上同时运行信任域服 务器端与客户端软件。为消除文件系统缓存的影响，实验将文件大小设为8GB (2倍于系 统内存大小）。在测试中，测试文件大小为8GB;文件系统访问请求大小分别为64KB。</p>
    <p>[0113]	由于没有网络通信开销，密码学计算开销将占据额外开销的主要部分。通过 对本发明在AES-256加密算法CFB模式下运行IOzone，并将结果与直接在ext3上运行 IOzone的结果对比，有助于深入了解（因密码学计算所致性能下降的）系统性能，最后得 到的结果如图7所示。</p>
    <p>[0114]	从图中可以看出与ext3相比，本发明由于密码学计算的开销带来平均30%左右 的性能下降。</p>
    <p>[0115]	&#8226;集群标准测试程序测试</p>
    <p>[0116]	为使测试结果接近本发明在网络环境下文件系统的真实性能，本文使用IOzone 对架在NFS之上的本发明与NFS进行性能比较。实验环境架设在具有7个节点的Dell PowerEdge&#8482; M605刀片集群上，包括1台信任域服务器，1台NFSv4服务器和5台装有 本发明的客户机，这些机器通过IOOOMbps以太网连接。信任域服务器和NFS服务器分 别运行在具有两颗800MHz AMD四核CPU和16GB内存的机器上，装有本发明的客户端 则分别运行在5台具有两颗800MHz AMD四核CPU和8GB内存的客户机上。这些机器 上运行的操作系统都是Fedora Core IOLinux (version 2.6.32)。实验采用256位AES算法 做数据加密算法，采用SHA-I算法作为密码学哈希函数，并使用基于SHA-I的HMAC 作为MAC算法。为消除文件系统缓存的影响并测试对实际应用中较大文件的支持，将 文件大小设为16GB(2倍于系统内存大小）。</p>
    <p>[0117]	需要指出的是，为更贴近实际应用，实验选取默认的64KB作为文件块大小，并 选择CFB作为AES-256的加密模式，因为其安全性较好，可在实际中广泛应用。</p>
    <p>[0118]	实验利用IOzone分别测试了 NFS和架设在NFS之上的本发明在16GB文件上以 64KB请求进行的顺序写、顺序重写、顺序读和顺序重读的吞吐率。实验结果如图8所 示，图中结果为5个节点上测试所得的聚合吞吐率。</p>
    <p>[0119]	从图中可以看出，本发明架在NFS之上的聚合访问速度十分接近于NFS本身的 速度，由此可见当客户端增多时，底层存储成为了瓶颈，本发明引入的计算开销就很不 明显了。实验结果表明，在共享存储环境中，本发明将能得到很好的应用。</p>
    <p>[0120]	&#8226;权限撤销[0121]	测试环境包括一台信任域服务器和一台客户机，每台机器的配置为：装有1.8GHz AMD双核CPU和4GB内存的Sun SunFire&#8482; V20z服务器，操作系统是Debian Linux(内核版本2.6.30)。实验在一个IGB大小的文件上首先对1000个不同的用户授予 r-权限，然后将这些用户的权限修改为rw_，最后撤销这些用户的权限。实验在装有本 发明的客户端的访问控制工具上测试得到的每个用户的有关权限的操作时间并且将这些 时间做了平均，得到结果下所示。</p>
    <p>[0122]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102014133A/CN102014133AD00161.png"> <img id="idf0002" file="CN102014133AD00161.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102014133A/CN102014133AD00161.png" class="patent-full-image" alt="Figure CN102014133AD00161"> </a> </div>
    <p>[0123] 可以看出在本发明中对大文件的用户使用权限操作时间开销较短，具有很好的 高效性。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101095133A?cl=zh">CN101095133A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年7月30日</td><td class="patent-data-table-td patent-date-value">2007年12月26日</td><td class="patent-data-table-td ">微软公司</td><td class="patent-data-table-td ">权限管理的实体间消息策略和实施</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2007143057A2?cl=zh">WO2007143057A2</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年5月31日</td><td class="patent-data-table-td patent-date-value">2007年12月13日</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">Logon and machine unlock integration</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2008109661A2?cl=zh">WO2008109661A2</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年3月5日</td><td class="patent-data-table-td patent-date-value">2008年9月12日</td><td class="patent-data-table-td ">Vidoop, Llc.</td><td class="patent-data-table-td ">Method and system for securely caching authentication elements</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">LANXIANG CHEN 等: "<a href='http://scholar.google.com/scholar?q="A+Direction+to+Avoid+Re-encryption+in+Cryptographic+File+Sharing"'>A Direction to Avoid Re-encryption in Cryptographic File Sharing</a>", 《LECTURE NOTES IN COMPUTER SCIENCE, 2007》, vol. 4672, 18 September 2007 (2007-09-18), pages 375 - 383, XP047306628, DOI: doi:10.1007/978-3-540-74784-0_38</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">洪澄 等: "<a href='http://scholar.google.com/scholar?q="AB-ACCS%EF%BC%9A%E4%B8%80%E7%A7%8D%E4%BA%91%E5%AD%98%E5%82%A8%E5%AF%86%E6%96%87%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"'>AB-ACCS：一种云存储密文访问控制方法</a>", 《计算机研究与发展》, no. 47, 13 October 2010 (2010-10-13), pages 259 - 265</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102170452A?cl=zh">CN102170452A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年5月19日</td><td class="patent-data-table-td patent-date-value">2011年8月31日</td><td class="patent-data-table-td ">浪潮电子信息产业股份有限公司</td><td class="patent-data-table-td ">一种针对云存储系统的授权及管理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102299970A?cl=zh">CN102299970A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年9月27日</td><td class="patent-data-table-td patent-date-value">2011年12月28日</td><td class="patent-data-table-td ">惠州紫旭科技有限公司</td><td class="patent-data-table-td ">基于云计算的数据黑匣子系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102307240A?cl=zh">CN102307240A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年9月20日</td><td class="patent-data-table-td patent-date-value">2012年1月4日</td><td class="patent-data-table-td ">清华大学</td><td class="patent-data-table-td ">一种互联网上利用计算机设备实现文件分享的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102316164A?cl=zh">CN102316164A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年9月7日</td><td class="patent-data-table-td patent-date-value">2012年1月11日</td><td class="patent-data-table-td ">深圳市硅格半导体有限公司</td><td class="patent-data-table-td ">云端存储用户端设备及其数据处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102438004A?cl=zh">CN102438004A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年9月5日</td><td class="patent-data-table-td patent-date-value">2012年5月2日</td><td class="patent-data-table-td ">深圳创维数字技术股份有限公司</td><td class="patent-data-table-td ">获取媒体文件的元数据信息的方法、系统及多媒体播放器</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102546181A?cl=zh">CN102546181A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年1月9日</td><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">西安电子科技大学</td><td class="patent-data-table-td ">基于密钥池的云存储加解密方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102546740A?cl=zh">CN102546740A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月24日</td><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">奇智软件（北京）有限公司</td><td class="patent-data-table-td ">一种基于云压缩文件的压缩和解压缩方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102546740B?cl=zh">CN102546740B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月24日</td><td class="patent-data-table-td patent-date-value">2015年5月6日</td><td class="patent-data-table-td ">奇智软件（北京）有限公司</td><td class="patent-data-table-td ">一种基于云压缩文件的压缩和解压缩方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102624708A?cl=zh">CN102624708A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年2月23日</td><td class="patent-data-table-td patent-date-value">2012年8月1日</td><td class="patent-data-table-td ">浙江工商大学</td><td class="patent-data-table-td ">一种面向云存储的高效数据加密、更新和访问控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102685148A?cl=zh">CN102685148A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月31日</td><td class="patent-data-table-td patent-date-value">2012年9月19日</td><td class="patent-data-table-td ">清华大学</td><td class="patent-data-table-td ">一种云存储环境下的安全网盘系统的实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102685148B?cl=zh">CN102685148B</a></td><td class="patent-data-table-td patent-date-value">2012年5月31日</td><td class="patent-data-table-td patent-date-value">2014年10月15日</td><td class="patent-data-table-td ">清华大学</td><td class="patent-data-table-td ">一种云存储环境下的安全网盘系统的实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102739689A?cl=zh">CN102739689A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年7月16日</td><td class="patent-data-table-td patent-date-value">2012年10月17日</td><td class="patent-data-table-td ">四川师范大学</td><td class="patent-data-table-td ">一种用于云存储系统的文件数据传输装置和方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102739689B?cl=zh">CN102739689B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年7月16日</td><td class="patent-data-table-td patent-date-value">2015年5月13日</td><td class="patent-data-table-td ">四川师范大学</td><td class="patent-data-table-td ">一种用于云存储系统的文件数据传输装置和方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102761521A?cl=zh">CN102761521A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年4月26日</td><td class="patent-data-table-td patent-date-value">2012年10月31日</td><td class="patent-data-table-td ">上海格尔软件股份有限公司</td><td class="patent-data-table-td ">云安全存储及共享服务平台</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102970299A?cl=zh">CN102970299A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月27日</td><td class="patent-data-table-td patent-date-value">2013年3月13日</td><td class="patent-data-table-td ">西安电子科技大学</td><td class="patent-data-table-td ">文件安全保护系统及其方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103001772A?cl=zh">CN103001772A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月27日</td><td class="patent-data-table-td patent-date-value">2013年3月27日</td><td class="patent-data-table-td ">江苏乐买到网络科技有限公司</td><td class="patent-data-table-td ">数据安全保护终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103024041A?cl=zh">CN103024041A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月13日</td><td class="patent-data-table-td patent-date-value">2013年4月3日</td><td class="patent-data-table-td ">曙光云计算技术有限公司</td><td class="patent-data-table-td ">云计算系统中的数据共享方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103139149A?cl=zh">CN103139149A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月25日</td><td class="patent-data-table-td patent-date-value">2013年6月5日</td><td class="patent-data-table-td ">国民技术股份有限公司</td><td class="patent-data-table-td ">一种云存储的数据存取方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103248623A?cl=zh">CN103248623A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月18日</td><td class="patent-data-table-td patent-date-value">2013年8月14日</td><td class="patent-data-table-td ">广东一一五科技有限公司</td><td class="patent-data-table-td ">在线存储区域访问控制方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103262491A?cl=zh">CN103262491A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月9日</td><td class="patent-data-table-td patent-date-value">2013年8月21日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种保护云中数据安全的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103312823A?cl=zh">CN103312823A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月9日</td><td class="patent-data-table-td patent-date-value">2013年9月18日</td><td class="patent-data-table-td ">苏州市职业大学</td><td class="patent-data-table-td ">一种云计算系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103428299A?cl=zh">CN103428299A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年9月4日</td><td class="patent-data-table-td patent-date-value">2013年12月4日</td><td class="patent-data-table-td ">安徽大学</td><td class="patent-data-table-td ">一种云存储访问控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103561021A?cl=zh">CN103561021A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年11月1日</td><td class="patent-data-table-td patent-date-value">2014年2月5日</td><td class="patent-data-table-td ">全渝娟</td><td class="patent-data-table-td ">一种云存储系统实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103581196A?cl=zh">CN103581196A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年11月13日</td><td class="patent-data-table-td patent-date-value">2014年2月12日</td><td class="patent-data-table-td ">上海众人网络安全技术有限公司</td><td class="patent-data-table-td ">分布式文件透明加密方法及透明解密方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103595703A?cl=zh">CN103595703A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月31日</td><td class="patent-data-table-td patent-date-value">2014年2月19日</td><td class="patent-data-table-td ">重庆城市管理职业学院</td><td class="patent-data-table-td ">一种基于OpenSSL的Linux安全文件传输系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9203614">US9203614</a></td><td class="patent-data-table-td patent-date-value">2013年12月27日</td><td class="patent-data-table-td patent-date-value">2015年12月1日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">Method, apparatus, and system for protecting cloud data security</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012163043A1?cl=zh">WO2012163043A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月9日</td><td class="patent-data-table-td patent-date-value">2012年12月6日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">一种保护云中数据安全的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015149309A1?cl=zh">WO2015149309A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年4月2日</td><td class="patent-data-table-td patent-date-value">2015年10月8日</td><td class="patent-data-table-td ">华为终端有限公司</td><td class="patent-data-table-td ">一种处理数据的方法及终端</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=dEdyBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=dEdyBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年4月13日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年6月1日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年8月21日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/bc27186f39a7c38921ee/CN102014133A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9C%A8%E4%BA%91%E5%AD%98%E5%82%A8%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%B8%80%E7%A7%8D%E5%AE%89%E5%85%A8%E5%AD%98%E5%82%A8.pdf?id=dEdyBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0Engm8URYZybvxrOHDyY7UDDRVUg"},"sample_url":"https://www.google.com/patents/reader?id=dEdyBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>