<!DOCTYPE html><html><head><title>专利 CN103064933A - 数据查询方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="数据查询方法及系统"><meta name="DC.contributor" content="谢永方" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2012-12-24" scheme="dateSubmitted"><meta name="DC.description" content="本发明涉及一种数据查询方法及系统，所述方法包括：接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识；根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器通过所述数据采集器中所述查询命令携带的字段对应的本地索引表查询得到与所述查询命令中携带的查询词相匹配的数据；接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。本发明能够提高数据查询的处理速度，减轻数据采集器的系统资源占用和数据查询服务器的负荷压力。"><meta name="DC.date" content="2013-4-24"><meta name="DC.relation" content="CN:102193917:A" scheme="references"><meta name="DC.relation" content="CN:102375853:A" scheme="references"><meta name="DC.relation" content="CN:102789487:A" scheme="references"><meta name="DC.relation" content="US:6144957" scheme="references"><meta name="citation_patent_publication_number" content="CN:103064933:A"><meta name="citation_patent_application_number" content="CN:201210566137"><link rel="canonical" href="https://www.google.com/patents/CN103064933A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN103064933A?cl=zh"/><meta name="title" content="专利 CN103064933A - 数据查询方法及系统"/><meta name="description" content="本发明涉及一种数据查询方法及系统，所述方法包括：接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识；根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器通过所述数据采集器中所述查询命令携带的字段对应的本地索引表查询得到与所述查询命令中携带的查询词相匹配的数据；接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。本发明能够提高数据查询的处理速度，减轻数据采集器的系统资源占用和数据查询服务器的负荷压力。"/><meta property="og:title" content="专利 CN103064933A - 数据查询方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN103064933A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN103064933A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=jRbzBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN103064933A&amp;usg=AFQjCNHxh1pLyDHbd7kdlSiCNzZLOLlEyg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/a05f78573481e22d26dd/CN103064933A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/a05f78573481e22d26dd/CN103064933A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN103064933A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN103064933A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN103064933A?cl=zh" style="display:none"><span itemprop="description">本发明涉及一种数据查询方法及系统，所述方法包括：接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识；根据所述查询请...</span><span itemprop="url">https://www.google.com/patents/CN103064933A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN103064933A - 数据查询方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN103064933A - 数据查询方法及系统" title="专利 CN103064933A - 数据查询方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN103064933 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201210566137</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2013年4月24日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年12月24日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2012年12月24日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/WO2014101445A1?hl=zh-CN&amp;cl=zh">WO2014101445A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201210566137.4, </span><span class="patent-bibdata-value">CN 103064933 A, </span><span class="patent-bibdata-value">CN 103064933A, </span><span class="patent-bibdata-value">CN 201210566137, </span><span class="patent-bibdata-value">CN-A-103064933, </span><span class="patent-bibdata-value">CN103064933 A, </span><span class="patent-bibdata-value">CN103064933A, </span><span class="patent-bibdata-value">CN201210566137, </span><span class="patent-bibdata-value">CN201210566137.4</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B0%A2%E6%B0%B8%E6%96%B9%22">谢永方</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN103064933A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103064933A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103064933A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (2)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=jRbzBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201210566137&amp;usg=AFQjCNEv4_uM8XKsVuVZsJVvrr2u_mbIiA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=jRbzBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D103064933A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEMY5qdaYEsaV87uaXR7_NBlNEVhA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT124002588" lang="ZH" load-source="patent-office">数据查询方法及系统</invention-title>
      </span><br><span class="patent-number">CN 103064933 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA110967793" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明涉及一种数据查询方法及系统，所述方法包括：接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识；根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器通过所述数据采集器中所述查询命令携带的字段对应的本地索引表查询得到与所述查询命令中携带的查询词相匹配的数据；接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。本发明能够提高数据查询的处理速度，减轻数据采集器的系统资源占用和数据查询服务器的负荷压力。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(15)</span></span></div><div class="patent-text"><div mxw-id="PCLM52714543" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种数据查询方法，其特征在于，所述方法包括：  接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；  从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识，所述集中索引表中存储所述字段中的查询词与采集器标识的对应关系；  根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器在所述数据采集器中所述查询命令携带的字段对应的本地索引表中，查询得到与所述查询命令中携带的查询词相匹配的数据；  接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的数据查询方法，其特征在于，所述从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识之前，还包括：  针对所述字段，建立所述字段对应的集中索引表；  所述建立所述字段对应的集中索引表，包括：  接收各数据采集器发送的所述字段的上报索引表，所述上报索引表中包括发送所述上报索引表的数据采集器中的数据对应于所述字段的查询词；  在所述字段的集中索引表中，存储数据采集器的标识与所述数据采集器上报的上报索引表中该字段的查询词的对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1所述的数据查询方法，其特征在于，所述从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识，包括：  若所述查询请求中携带至少两个所要查询的字段，获取所述查询请求中各字段的查询词，并记录所述查询请求中携带的所述各字段的查询词之间的逻辑关系； 从所述各字段对应的集中索引表中查询得到所述各字段的查询词对应的采集器标识；  根据所述各字段的查询词之间的逻辑关系，从查询得到的所述采集器标识中筛选得到满足所述逻辑关系的采集器标识。</div>
    </div>
    </div> <div class="claim"> <div num="4" class="claim">
      <div class="claim-text">4.	一种数据查询方法，其特征在于，所述方法包括：  接收数据查询服务器发送的查询命令，所述查询命令携带所要查询的字段和所述字段中的查询词；  从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置，所述本地索引表中存储所述字段中的查询词与所述数据的存储位置的对应关系;  根据所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求4所述的数据查询方法，其特征在于，所述从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置之前，还包括：  针对所述字段，建立所述字段对应的本地索引表；  所述建立所述字段对应的本地索引表，包括：  获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容；针对每一个字段，将所述数据在该字段的内容作为所述数据的查询词，在所述当前数据采集器中所述字段的本地索引表中，存储所述数据的查询词与所述数据的存储位置的对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求5所述的数据查询方法，其特征在于，所述在所述当前数据采集器中所述字段的本地索引表中，存储所述数据的查询词与所述数据的存储位置的对应关系之后,还包括：  从该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表；  将所述字段的上报索引表发送给所述数据查询服务器，用以所述数据查询服务器建立所述字段对应的集中索引表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求4所述的数据查询方法，其特征在于，所述从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置，包括：  若所述查询命令中携带至少两个所要查询的字段，获取所述查询命令中各字段的查询词，并记录所述查询命令中携带的各字段的查询词之间的逻辑关系；  从所述各字段对应的本地索引表中查询得到与所述查询命令中各字段的查询词相匹配的数据的存储位置；  根据所述各字段的查询词之间的逻辑关系，从查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8.	一种数据查询服务器，其特征在于，所述数据查询服务器包括：  第一接收单元，用于接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；  第一查询单元，用于从所述字段对应的集中索引表中，查询得到所述第一接收单元接收的所述查询请求携带的查询词对应的采集器标识，所述集中索引表中存储所述字段中的查询词与采集器标识的对应关系；  第一处理单元，用于根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述第一查询单元查询得到的采集器标识对应的数据采集器，用以所述数据采集器在所述数据采集器中所述查询命令携带的字段对应的本地索引表中，查询得到与所述查询命令中携带的查询词相匹配的数据；  第一输出单元，用于接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求8所述的数据查询服务器，其特征在于，所述数据查询服务器还包括：  第一索引单元，用于针对所述字段，建立所述字段对应的集中索引表；  所述第一索引单元包括：  第一接收子单元，用于接收各数据采集器发送的所述字段的上报索引表，所述上报索引表中包括发送所述上报索引表的数据采集器中的数据对应于所述字段的查询词；  第一索引子单元，用于在所述字段的集中索引表中，存储数据采集器的标识与所述数据采集器上报的上报索引表中该字段的查询词的对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求8所述的数据查询服务器，其特征在于，所述第一查询单元包括：  第一解析子单元，用于若所述第一接收单元接收的所述查询请求中携带至少两个所要查询的字段，获取所述查询请求中各字段的查询词，并记录所述查询请求中携带的所述各字段的查询词之间的逻辑关系；  第一查询子单元，用于从所述各字段对应的集中索引表中查询得到所述第一解析子单元获取的所述各字段的查询词对应的采集器标识；  第一过滤子单元，用于根据所述第一解析子单元获取的所述各字段的查询词之间的逻辑关系，从所述第一查询子单元查询得到的所述采集器标识中筛选得到满足所述逻辑关系的采集器标识。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11.	一种数据采集器，其特征在于，包括：  第二接收单元，用于接收数据查询服务器发送的查询命令，所述查询命令携带所要查询的字段和所述字段中的查询词；  第二查询单元，用于从所述字段对应的本地索引表中查询得到与所述第二接收单元接收的查询命令中的查询词相匹配的数据的存储位置，所述本地索引表中存储所述字段中的查询词与所述数据的存储位置的对应关系；  第二处理单元，用于根据所述第二查询单元查询得到的所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求11所述的数据采集器，其特征在于，所述数据采集器还包括：  第二索引单元，用于针对所述字段，建立所述字段对应的本地索引表；  所述第二索引单元包括：  获取子单元，用于获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容；  第二索引子单元，用于针对所述获取子单元获取的每一个字段，将所述数据在该字段的内容作为所述数据的查询词，在所述数据采集器中所述字段的本地索引表中，存储所述数据的查询词与所述数据的存储位置的对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求12所述的数据采集器，其特征在于，所述第二索引单元还包括：  第三索引子单元，用于从所述第二索引子单元得到的该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述数据采集器的所述字段的上报索引表；发送子单元，用于将所述第三索引子单元形成的所述字段的上报索引表发送给所述数据查询服务器，用以所述数据查询服务器建立所述字段的集中索引表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.根据权利要求11所述的数据采集器，其特征在于，所述第二查询单元包括：  第二解析子单元，用于若所述第二接收单元接收的所述查询命令中携带至少两个所要查询的字段，获取所述查询命令中各字段的查询词，并记录所述查询命令中携带的各字段的查询词之间的逻辑关系；  第二查询子单元，用于从所述各字段对应的本地索引表中查询得到与所述第二解析子单元获取的所述查询命令中各字段的查询词相匹配的数据的存储位置；  第二过滤子单元，用于根据所述第二解析子单元获取的所述各字段的查询词之间的逻辑关系，从所述第二查询子单元查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.	一种数据查询系统，其特征在于，所述系统包括：  如权利要求8&#12316;10任一权项所述的数据查询服务器和如权利要求11&#12316;14任一权项所述的数 据采集器。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES59770703" lang="ZH" load-source="patent-office" class="description">
    <p>数据查询方法及系统</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及计算机网络技术领域，尤其涉及一种数据查询方法、数据查询服务器、数据采集器及一种数据查询系统。</p>
    <p>背景技术</p>
    <p>[0002]	在当前互联网极度发达的时代，数据的采集与查询系统具有广泛的用途，各种信息技术（Informat ion Technology, IT)系统、网络设备、安全设备都会产生大量的日志等数据，其中有很多日志数据需要长期存档，并用于各种审计和查询。</p>
    <p>[0003]	在海量数据的采集查询系统中，系统的架构有分布式存储和集中式存储两种方式，不论哪种方式，都面临着海量日志数据的快速存储、快速查询的需求。</p>
    <p>[0004]	现有的一种分布式数据查询系统包括一台数据查询服务器和多台数据采集器，数据采集器负责日志的采集(接收、格式化、归并)、存储和建立索引，数据查询服务器是日志查询的统一入口。需要查询指定日志的时候，由数据查询服务器给所有的数据采集器下发查询命令，将所有数据采集器的查询结果收到之后汇总出最终的查询结果。如果数据采集器很多，一次查询中要查询的日志仅存在于少数数据采集器中，查询操作又很频繁，则这种现有方案会增加所有数据采集器的负担，包括数据采集器的功耗和中央处理单元（CentralProcessing Unit, CPU)资源，同时数据采集器除了查询之外，还需要做数据接收和入库的工作，如果查询操作很频繁，也会影响数据采集器的采集性能，降低了系统整体的处理能力。</p>
    <p>[0005]	现有的另一种分布式数据查询系统的原始日志数据采用集中式存储，每个数据采集器只负责日志的采集(接收、格式化、归并)、上报，日志内容在数据采集器处理之后并不在本地保存，而是上报到数据查询服务器去存储。数据查询服务器在收到数据采集器上报的日志之后，集中存储到数据库中，并建立索引，需要对日志查询的时候直接到数据查询服务器的数据库中查询就可以。这种数据集中存储的方式，使日志的查询操作仅限于在数据查询服务器的数据库中执行，不会影响到数据采集器。然而，由于日志数据集中存放在数据查询服务器的数据库中，数据采集器需要上报大量的日志数据，一方面使数据查询服务器的负荷大大增加，另一方面也大量消耗了数据采集器和数据查询服务器之间的带宽，这样也就限制了一台数据查询服务器可以带的数据采集器的数量，整个系统的处理能力不可能很闻。</p>
    <p>发明内容</p>
    <p>[0006]	本发明提供了一种数据查询方法、数据查询服务器、数据采集器及数据查询系统，能够提高数据查询的处理速度，减轻数据采集器的系统资源占用和数据查询服务器的负荷压力，提升整个系统的处理能力。</p>
    <p>[0007]	为实现上述目的，本发明第一方面提供了一种数据查询方法，所述方法包括：</p>
    <p>[0008]	接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；</p>
    <p>[0009]	从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识，所述集中索引表中存储所述字段中的查询词与采集器标识的对应关系；</p>
    <p>[0010]	根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器在所述数据采集器中所述查询命令携带的字段对应的本地索弓I表中，查询得到与所述查询命令中携带的查询词相匹配的数据；</p>
    <p>[0011]	接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</p>
    <p>[0012]	结合第一方面，在第一方面的第一种可能的实施方式中，所述从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识之前，还包括：</p>
    <p>[0013]	针对所述字段，建立所述字段对应的集中索引表；</p>
    <p>[0014]	所述建立所述字段对应的集中索引表，包括：</p>
    <p>[0015]	接收各数据采集器发送的所述字段的上报索引表，所述上报索引表中包括发送所述上报索引表的数据采集器中的数据对应于所述字段的查询词；</p>
    <p>[0016]	在所述字段的集中索引表中，存储数据采集器的标识与所述数据采集器上报的上报索引表中该字段的查询词的对应关系。</p>
    <p>[0017]	结合第一方面，在第一方面的第二种可能的实施方式中，所述从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识，包括：</p>
    <p>[0018]	若所述查询请求中携带至少两个所要查询的字段，获取所述查询请求中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0019]	从所述各字段对应的集中索引表中查询得到所述各字段的查询词对应的采集器标识；</p>
    <p>[0020]	根据所述各字段的查询词之间的逻辑关系，从查询得到的所述采集器标识中筛选得到满足所述逻辑关系的采集器标识。</p>
    <p>[0021]	第二方面，本发明还提供了一种数据查询方法，所述方法包括：</p>
    <p>[0022]	接收数据查询服务器发送的查询命令，所述查询命令包括所述数据查询服务器接收的查询请求中携带的所要查询的字段和所述字段中的查询词；</p>
    <p>[0023]	从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置，所述本地索引表中存储所述字段中的查询词与所述数据的存储位置的对应关系；</p>
    <p>[0024]	根据所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</p>
    <p>[0025]	结合第二方面，在第二方面的第一种可能的实施方式中，所述从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置之前，还包括：</p>
    <p>[0026]	针对所述字段，建立所述字段对应的本地索引表；</p>
    <p>[0027]	所述建立所述字段对应的本地索引表，包括：</p>
    <p>[0028]	获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容；[0029]	针对每一个字段，将所述数据在该字段的内容作为所述数据的查询词，建立所述查询词与所述存储位置的映射关系，形成该字段在所述当前数据采集器的本地索引表。</p>
    <p>[0030]	结合第二方面的第一种可能的实施方式，在第二方面的第二种可能的实施方式中，所述在所述当前数据采集器中所述字段的本地索引表中，存储所述数据的查询词与所述数据的存储位置的对应关系之后，还包括：</p>
    <p>[0031]	从该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表；</p>
    <p>[0032]	将所述字段的上报索引表发送给所述数据查询服务器，用以所述数据查询服务器建立所述字段对应的集中索引表。</p>
    <p>[0033]	结合第二方面，在第二方面的第三种可能的实施方式中，所述从所述字段对应的本地索引表中查询得到与所述查询命令中的查询词相匹配的数据的存储位置，包括：</p>
    <p>[0034]	若所述查询命令中携带至少两个所要查询的字段，获取所述查询命令中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0035]	从所述各字段对应的本地索引表中查询得到与所述查询命令中各字段的查询词相匹配的数据的存储位置；</p>
    <p>[0036]	根据所述各字段的查询词之间的逻辑关系，从查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0037]	第三方面，本发明还提供了一种数据查询服务器，所述数据查询服务器包括：</p>
    <p>[0038]	第一接收单元，用于接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；</p>
    <p>[0039]	第一查询单元，用于从所述字段对应的集中索引表中，查询得到所述第一接收单元接收的所述查询请求携带的查询词对应的采集器标识，所述集中索引表中存储所述字段中的查询词与采集器标识的对应关系；</p>
    <p>[0040]	第一处理单元，用于根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述第一查询单元查询得到的采集器标识对应的数据采集器，用以所述数据采集器在所述数据采集器中所述查询命令携带的字段对应的本地索引表中，查询得到与所述查询命令中携带的查询词相匹配的数据；</p>
    <p>[0041]	第一输出单元，用于接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</p>
    <p>[0042]	结合第三方面，在第三方面的第一种可能的实施方式中，所述数据查询服务器还包括：</p>
    <p>[0043]	第一索引单元，用于针对所述字段，建立所述字段对应的集中索引表；</p>
    <p>[0044]	所述第一索引单元包括：</p>
    <p>[0045]	第一接收子单元，用于接收各数据采集器发送的所述字段的上报索引表，所述上报索引表中包括发送所述上报索引表的数据采集器中的数据对应于所述字段的查询词；</p>
    <p>[0046]	第一索引子单元，用于在所述字段的集中索引表中，存储数据采集器的标识与所述数据采集器上报的上报索引表中该字段的查询词的对应关系。</p>
    <p>[0047]	结合第三方面，在第三方面的第二种可能的实施方式中，所述第一查询单元包括：[0048]	第一解析子单元，用于若所述第一接收单元接收的所述查询请求中携带至少两个所要查询的字段，获取所述查询请求中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0049]	第一查询子单元，用于从所述各字段对应的集中索引表中查询得到所述第一解析子单元获取的所述各字段的查询词对应的采集器标识；</p>
    <p>[0050]	第一过滤子单元，用于根据所述第一解析子单元获取的所述各字段的查询词之间的逻辑关系，从所述第一查询子单元查询得到的所述采集器标识中筛选得到满足所述逻辑关系的采集器标识。</p>
    <p>[0051]	第四方面，本发明还提供了一种数据采集器，所述数据采集器包括：</p>
    <p>[0052]	第二接收单元，用于接收数据查询服务器发送的查询命令，所述查询命令携带所要查询的字段和所述字段中的查询词；</p>
    <p>[0053]	第二查询单元，用于从所述字段对应的本地索引表中查询得到与所述第二接收单元接收的查询命令中的查询词相匹配的数据的存储位置，所述本地索引表中存储所述字段中的查询词与所述数据的存储位置的对应关系；</p>
    <p>[0054]	第二处理单元，用于根据所述第二查询单元查询得到的所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</p>
    <p>[0055]	结合第四方面，在第四方面的第一种可能的实施方式中，所述数据采集器还包括：</p>
    <p>[0056]	第二索引单元，用于针对所述字段，建立所述字段对应的本地索引表；</p>
    <p>[0057]	所述第二索引单元包括：</p>
    <p>[0058]	获取子单元，用于获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容；</p>
    <p>[0059]	第二索引子单元，用于针对所述获取子单元获取的每一个字段，将所述数据在该字段的内容作为所述数据的查询词，在所述数据采集器中所述字段的本地索引表中，存储所述数据的查询词与所述数据的存储位置的对应关系。</p>
    <p>[0060]	结合第四方面的第一种可能的实施方式，在第四方面的第二种可能的实施方式中，所述第二索引单元还包括：</p>
    <p>[0061]	第三索引子单元，用于从所述第二索引子单元得到的该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表；</p>
    <p>[0062]	发送子单元，用于将所述第三索引子单元形成的所述字段的上报索引表发送给所述数据查询服务器，用以所述数据查询服务器建立所述字段的集中索引表。</p>
    <p>[0063]	结合第四方面，在第四方面的第三种可能的实施方式中，所述第二查询单元包括：</p>
    <p>[0064]	第二解析子单元，用于若所述第二接收单元接收的所述查询命令中携带至少两个所要查询的字段，获取所述查询命令中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0065]	第二查询子单元，用于从所述各字段对应的本地索引表中查询得到与所述第二解析子单元获取的所述查询命令中各字段的查询词相匹配的数据的存储位置；[0066]	第二过滤子单元，用于根据所述第二解析子单元获取的所述各字段的查询词之间的逻辑关系，从所述第二查询子单元查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0067]	第五方面，本发明还提供了一种数据查询系统，所述系统包括：</p>
    <p>[0068]	上述第三方面提供的数据查询服务器和上述第四方面提供的数据采集器。</p>
    <p>[0069]	本发明实施例提供的数据查询方法、数据查询服务器、数据采集器及数据查询系统，通过在数据采集器和数据查询服务器中分别建立本地索引表和集中索引表，可以有效的减轻数据采集器的系统资源占用，使数据采集器可以有更多的资源用于提高采集的性能，从而提升系统整体的处理能力，提高数据查询的处理速度。</p>
    <p>附图说明</p>
    <p>[0070]图1为本发明实施例提供的数据查询系统的架构图；</p>
    <p>[0071]	图2为本发明实施例一提供的索引建立过程的信令图；</p>
    <p>[0072]	图3为本发明实施例一提供的一种数据查询方法流程图；</p>
    <p>[0073]	图4为本发明实施例一提供的又一种数据查询方法流程图；</p>
    <p>[0074]	图5为本发明实施例二提供的数据查询系统的示意图；</p>
    <p>[0075]	图6为本发明实施例二提供的数据查询服务器和数据采集器的示意图；</p>
    <p>[0076]	图7为本发明实施例三提供的数据查询服务器的示意图；</p>
    <p>[0077]	图8为本发明实施例三提供的数据采集器的示意图。</p>
    <p>具体实施方式</p>
    <p>[0078]	下面通过附图和实施例，对本发明的技术方案做进一步的详细描述。</p>
    <p>[0079]图1是本发明实施例提供的数据查询系统的架构图，如图1所示，本发明采用分布式架构，包括一台数据查询服务器10和多台数据采集器20，数据采集器20负责对日志源30上报的海量日志等数据的采集(包括接收、格式化、归并)、存储和索引等处理，数据查询服务器10是数据查询的统一入口。</p>
    <p>[0080]	本发明提供的数据查询方法可用于海量数据的快速查询，在下面的实施例中以日志数据为例进行说明。</p>
    <p>[0081]	实施例一</p>
    <p>[0082]	在进行日志数据的查询之前，需预先对系统中已存储的数据建立索引，通常在数据存储时进行，用以系统根据建立的索引表进行数据的查询。</p>
    <p>[0083]	本实施例中在数据采集器和数据查询服务器中分别建立本地索引表和集中索引表。本地索引表用于存储当前数据采集器中的日志数据的索引，其作用是：当给出查询条件时，可以查找到本地数据中符合条件的所有日志的具体存储位置。集中索引表用于存储各字段的查询词与采集器标识的索引，其作用是：当给出查询条件时，可以查找到待查询数据可能存储在哪些数据采集器上，集中索引表中给出了存储有待查询数据的数据采集器的标识息。</p>
    <p>[0084]	图2是本实施例提供的索引建立过程的信令图，如图2所示，包括：</p>
    <p>[0085]	步骤S101、数据采集器获取当前数据采集器中的数据和所述数据的存储位置。[0086]	可选地，数据采集器中存储的数据为日志源上报的原始日志数据。在日志源上报原始日志数据到数据采集器之后，数据采集器还需要为原始日志数据建本地索引。</p>
    <p>[0087]	数据采集器对原始日志数据进行格式化和归并处理，将原始日志数据处理为日志表中每条记录的形式（即日志表中的每行记录)，每个日志表可能有多个字段，如下表I所示，该日志表包括字段I和字段2等字段，序号表示数据的存储位置。</p>
    <p>[0088]表	I</p>
    <p>[0089]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00111.png"> <img id="idf0001" file="CN103064933AD00111.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00111.png" class="patent-full-image" alt="Figure CN103064933AD00111"> </a> </div>
    <p>[0090]	步骤S102、数据采集器针对每一个字段，将所述数据在该字段的内容作为所述数据的查询词，建立所述查询词与所述存储位置的映射关系，形成该字段在所述当前数据采集器的本地索引表。</p>
    <p>[0091]	在数据采集器的本地索引中，针对日志表中每条记录的每个字段分别建立本地索引表，每个索引表对应指定的日志表中某个字段内容和含有所述指定的某个字段内容的数据在日志表的存储位置信息。其中，字段内容作为对应数据的查询词。所述查询词与所述存储位置的映射关系可以但不限于采用表格的形式表示，如下表2所示为数据采集器中字段I的本地索引表：</p>
    <p>[0092]表	2</p>
    <p>[0093]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00112.png"> <img id="idf0002" file="CN103064933AD00112.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00112.png" class="patent-full-image" alt="Figure CN103064933AD00112"> </a> </div>
    <p>[0094]</p>
    <p>[0095]	通过对应字段的本地索引表可以快速地找到数据在该数据采集器上的具体位置。例如，要字段I某个内容的具体位置，则根据字段I的本地索引表，即可快速找到对应的位置。</p>
    <p>[0096]	步骤S103、数据采集器从该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表。</p>
    <p>[0097]	数据采集器根据字段的本地索引表，提取出上报的上报索引表。上报索引表中已经没有每个索引内容对应的具体原始日志位置，而只有各个数据对应该字段的内容，即查询词。通常在上报之前，还会对查询词进行去重处理，使上报的每个字段的不重复内容。例如表2中字段I内容有两个aaa和一个bbb，经过去重处理后，上报索引表中只有一个aaa和一个bbb,如下表3所不。</p>
    <p>[0098]	表 3</p>
    <p>[0099]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00121.png"> <img id="idf0003" file="CN103064933AD00121.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00121.png" class="patent-full-image" alt="Figure CN103064933AD00121"> </a> </div>
    <p>[0100]	对于新增的本地索引表中提取出的查询词，将其与已上报的上报索引表相比对，如果查询词相同，则不添加到上报索引表中，仅上传新增的不重复的上报索引表。</p>
    <p>[0101]	步骤S104、数据采集器将所述字段的上报索引表发送给所述数据查询服务器。</p>
    <p>[0102]	数据采集器将如表3所示的上报索引表上报给数据查询服务器。对于本地索引表中有更新的情况，则仅上传根据更新后的本地索引表生成的上报索引表中新增的内容。</p>
    <p>[0103]	数据查询服务器对于多个数据采集器发送的上报索引表进行汇总，并在数据查询服务器中分别建立各个字段对应的集中索引表，具体包括：</p>
    <p>[0104]	步骤S105、数据查询服务器接收各数据采集器发送的所述字段的上报索引表。</p>
    <p>[0105]	数据采集器的上报索引表中包括该数据采集器中的数据对应于所述字段的查询</p>
    <p>ο</p>
    <p>[0106]	步骤S106、建立所述查询词与所述采集器标识的映射关系，形成所述字段的集中索引表。</p>
    <p>[0107]	针对不同的字段，数据查询服务器分别建立对应字段的集中索引表。例如对于字段1，数据查询服务器的集中索引表中会存储各个数据采集器上包含的查询词以及对应的采集器标识，如下表4所示：</p>
    <p>[0108]表	4</p>
    <p>[0109]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00122.png"> <img id="idf0004" file="CN103064933AD00122.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00122.png" class="patent-full-image" alt="Figure CN103064933AD00122"> </a> </div>
    <p>[0110]	又例如，对于字段2，数据查询服务器建立的集中索引表如下表5所示：</p>
    <p>[0111]表	5</p>
    <p>[0112]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00131.png"> <img id="idf0005" file="CN103064933AD00131.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00131.png" class="patent-full-image" alt="Figure CN103064933AD00131"> </a> </div>
    <p>[0113]	数据查询服务器中对应每个字段有一个集中索引表，将每个数据采集器上报的上报索引表汇总到数据查询服务器的集中索引表中，即在数据查询服务器上所述字段的集中索引表中，存储数据采集器的标识与所述数据采集器上报的上报索引表中该字段的查询词的对应关系。</p>
    <p>[0114]	在建立索引表后，当接收到查询请求时，即可通过索引表找到需要查询的数据。</p>
    <p>[0115]	图3是本实施例提供的数据查询方法流程图，如图3所示，本发明的数据查询方法包括：</p>
    <p>[0116]	步骤S201、数据查询服务器接收输入的查询请求。</p>
    <p>[0117]	用户通过表格检索或表达式检索等方式，输入查询请求。对于表格检索方式，与用户的交互界面中会给出固定的字段，用户可以在多个字段的提示框中输入查询词，最后通过提交按键将查询请求提交给数据查询服务器。对于表达式检索的方式，则是用户直接输入所要查询的字段及该字段的查询词，提交给数据查询服务器。</p>
    <p>[0118]	数据查询服务器接收到的查询请求中携带所要查询的字段和所述字段的查询词。</p>
    <p>[0119]	当查询请求包含多个字段时`，数据查询服务器接收到的查询请求还携带各个字段的查询词之间的逻辑关系。例如，用户在不同的检索字段输入查询词，数据查询服务器接收这些在各个不同的检索字段的查询词及各查询词之间的逻辑关系。</p>
    <p>[0120]	例如，输入的查询请求为：（字段l=aaa)AND(字段2=ccc)，该查询请求中包括字段I和字段2这两个字段，其对应的查询词分别为aaa和ccc，AND表示这两个查询词之间的逻辑关系是“与”的关系。</p>
    <p>[0121]	步骤S202、数据查询服务器从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识。</p>
    <p>[0122]	当查询请求中包括字段I时，则字段I的集中索引表中得到与查询词相匹配的查询词，得到对应的采集器标识，从而得到所述查询词在哪一个的数据采集器。</p>
    <p>[0123]	例如，查询请求为：字段l=aaa，则从表4所示的集中索引表中查询得到aaa对应的采集器标识为采集器I和采集器3。</p>
    <p>[0124]	对于查询请求包括多个字段的情况，本步骤具体包括：</p>
    <p>[0125]	步骤S2021、获取所述查询请求中各字段的查询词，并记录所述查询请求中携带的所述各字段的查询词之间的逻辑关系。</p>
    <p>[0126]	步骤S2022、从所述各字段对应的集中索引表中查询得到所述各字段的查询词对应的采集器标识。</p>
    <p>[0127]	步骤S2023、根据所述各字段的查询词之间的逻辑关系，从步骤S2022查询得到的所述采集器标识筛选得到满足所述逻辑关系的采集器标识。[0128]	例如，查询请求为：（字段l=aaa)AND (字段2=ccc)，则从表4所示的集中索引表中查询得到aaa对应的采集器标识为采集器I和采集器3，从表5所示的集中索引表中查询得到ccc对应的采集器标识为采集器1，aaa与ccc之间的逻辑关系为“与”，则可以筛选出满足逻辑关系的采集器标识只有采集器I。</p>
    <p>[0129]	步骤S203、数据查询服务器根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器。</p>
    <p>[0130]	数据查询服务器生成的查询命令可以与输入的查询请求相同，也可以只包括所发送的目的数据采集器包括的查询词。例如，查询请求为：（字段l=aaa)0R (字段2=ccc)，则从表4所示的集中索引表中查询得到aaa对应的采集器标识为采集器I和采集器3，从表5所示的集中索引表中查询得到ccc对应的采集器标识为采集器l，aaa与ccc之间的逻辑关系为“或”，向采集器I发送的查询命令为：（字段l=aaa)0R(字段2=ccc)，向采集器3发送的查询命令为：字段2=ccc。</p>
    <p>[0131]	所述数据采集器通过所述数据采集器的本地索引表查询得到与所述查询词相匹配的数据，具体的过程后续结合图3进行详细说明。</p>
    <p>[0132]	步骤S204、数据查询服务器接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</p>
    <p>[0133]	数据查询服务器对接收到的数据进行汇总，可以但不限于以表格的形式输出。</p>
    <p>[0134]	例如，对于查询请求为：（字段l=aaa)AND (字段2=ccc)，最后输出的查询结果如下表6所示：</p>
    <p>[0135]表	6</p>
    <p>[0136]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00141.png"> <img id="idf0006" file="CN103064933AD00141.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00141.png" class="patent-full-image" alt="Figure CN103064933AD00141"> </a> </div>
    <p>[0137]	图4是本实施例提供的又一数据查询方法流程图，如图4所示，本发明的数据查询方法包括：</p>
    <p>[0138]	步骤S301、数据采集器接收数据查询服务器发送的查询命令。</p>
    <p>[0139]	所述查询命令包括所述数据查询服务器接收的查询请求中携带的所要查询的字段和所述字段的查询词，可选地，也可以包括多个字段的查询词和所述查询词之间的逻辑关系。</p>
    <p>[0140]	步骤S302、数据采集器从所述字段对应的本地索引表中查询得到与所述查询命令相匹配的数据的存储位置。</p>
    <p>[0141]	对于查询命令中包含多个字段的查询词的情况，本步骤具体包括：</p>
    <p>[0142]	步骤S3021、数据采集器获取步骤S301接收的查询命令中各字段的查询词，并记录所述查询命令中携带的各字段的查询词之间的逻辑关系。</p>
    <p>[0143]	步骤S3022、数据采集器从所述各字段对应的本地索引表中查询得到与所述各字段的查询词相匹配的数据的存储位置。</p>
    <p>[0144]	例如，查询命令为：（字段l=aaa)0R(字段2=ccc)，则在字段I的本地索引表中查询得到数据对应的存储位置为2，在字段2的本地索引表中查询得到数据对应的存储位置也为2。</p>
    <p>[0145]	步骤S3023、数据采集器根据所述各字段的查询词之间的逻辑关系，从查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0146]	数据采集器对匹配得到的数据的存储位置根据查询词之间的逻辑关系进行筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0147]	步骤S303、数据采集器根据所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</p>
    <p>[0148]	数据采集器根据步骤S302得到的数据的存储位置，获取对应的所述数据，例如：可以获取得到满足所述查询命令的数据为：</p>
    <p>[0149]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00151.png"> <img id="idf0007" file="CN103064933AD00151.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103064933A/CN103064933AD00151.png" class="patent-full-image" alt="Figure CN103064933AD00151"> </a> </div>
    <p>[0150]	数据采集器将所述数据发送给数据查询服务器，用以数据查询服务器汇总输出所述查询请求的查询结果。</p>
    <p>[0151]	本实施例提供的数据查询方法，通过在数据采集器和数据查询服务器中分别建立本地索引表和集中索引表，在查询数据时，通过对应字段的集中索引表找到查询词对应的采集器标识，从而在采集器标识对应的数据采集器中获取对应的数据，这样可以有效的减轻数据查询服务器和数据采集器的系统资源占用，使数据采集器可以有更多的资源用于提高采集的性能，提高数据查询的处 理速度。</p>
    <p>[0152]	以上是对本发明所提供的数据查询方法进行的详细描述，下面对本发明提供的数据查询系统进行详细描述。</p>
    <p>[0153]	实施例二</p>
    <p>[0154]图5是本实施例提供的数据查询系统的示意图，如图5所示，本发明实施例的数据查询系统包括：数据查询服务器10和数据采集器20。其中，数据采集器20负责数据的采集，包括接收、格式化、归并，数据的存储并对存储的数据建立索引。数据查询服务器10用于对多个数据采集器20上存储的内容进行统一管理，并作为数据查询的统一入口。</p>
    <p>[0155]	图6是本实施例提供的数据查询服务器10和数据采集器20的示意图，如图6所示，数据查询服务器10包括第一索引单元100、第一接收单元101、第一查询单元102、第一处理单元103和第一输出单元104。</p>
    <p>[0156]	数据采集器20包括第二索引单元200、第二接收单元201、第二查询单元202和第二处理单元203。</p>
    <p>[0157]	在进行日志数据的查询之前，数据采集器20和数据查询服务器10需预先对系统中已存储的数据建立索引，通常在数据存储时完成，用以系统根据建立的索引表进行数据的查询。数据查询服务器10利用第一索引单元100针对每一个所述字段，建立所述字段的集中索引表。数据采集器20利用第二索引单元200建立字段的本地索引表。</p>
    <p>[0158]	本地索引表用于存储当前数据采集器中的日志数据的索引，其作用是：当给出查询条件时，可以查找到本地数据中符合条件的所有日志的具体存储位置。集中索引表用于存储待查询数据与采集器标识的索引，其作用是：当给出查询条件时，可以查找到待查询数据可能存储在哪些数据采集器上，集中索引表中给出了存储有待查询数据的数据采集器的标识信息。</p>
    <p>[0159]	其中，第二索引单元200包括获取子单元2001、第二索引子单元2002、第三索引子单元2003和发送子单元2004。</p>
    <p>[0160]	获取子单元2001用于获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容。</p>
    <p>[0161]	可选地，数据采集器中存储的数据为日志源上报的原始日志数据。在日志源上报原始日志数据到数据采集器之后，数据采集器还需要为原始日志数据建本地索引。</p>
    <p>[0162]	数据采集器对原始日志数据进行格式化和归并处理，将原始日志数据处理为日志表中每条记录的形式（即日志表中的每行记录)，每个日志表可能有多个字段，如表I所示，该日志表包括字段I和字段2等字段，序号表示数据的存储位置。</p>
    <p>[0163]	第二索引子单元2002用于针对每一个字段，将所述数据在该字段的内容作为所述数据的查询词，建立所述查询词与所述存储位置的映射关系，形成该字段在所述当前数据采集器的本地索引表。</p>
    <p>[0164]	在数据采集器20的本地索引中，针对日志表中每条记录的每个字段分别建立本地索引表，每个索弓I表对应指定的日志表中某个字段内容和含有所述指定的某个字段内容的数据在日志表的存储位置信息。其中，字段内容作为对应数据的查询词。所述查询词与所述存储位置的映射关系可以但不限于采用表格的形式表示，如表2所示。</p>
    <p>[0165]	通过对应字段的本地索引表可以快速地找到数据在该数据采集器上的具体位置。例如，要字段I某个内容的具体位置，则根据字段I的本地索引表，即可快速找到对应的位置。</p>
    <p>[0166]	第三索引子单元2003用于从该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表。</p>
    <p>[0167]	数据采集器根据字段的本地索引表，提取出上报的上报索引表。上报索引表中已经没有每个索引内容对应的具体原始日志位置，而只有各个数据对应该字段的内容，即查询词。通常在上报之前，还会对查询词进行去重处理，使上报的每个字段的不重复内容。例如表2中字段I内容有两个aaa和一个bbb，经过去重处理后，上报索引表中只有一个aaa和一个bbb,如表3所不。</p>
    <p>[0168]	对于新增的本地索引表中提取出的查询词，将其与已上报的上报索引表相比对，如果查询词相同，则不添加到上报索引表中，仅上传新增的不重复的上报索引表。</p>
    <p>[0169]	发送子单元2004用于将所述字段的上报索引表发送给数据查询服务器10的第一索引单元100，用以所述数据查询服务器建立所述字段的集中索引表。</p>
    <p>[0170]	第一索引单元100包括第一接收子单元1001和第一索引子单元1002。</p>
    <p>[0171]	第一接收子单元1001用于接收各数据采集器发送的所述字段的上报索引表。所述上报索引表中包括发送上报索引表的数据采集器中的数据对应于所述字段的查询词。</p>
    <p>[0172]	第一索引子单元1002用于建立所述查询词与所述采集器标识的映射关系，形成所述字段的集中索引表。</p>
    <p>[0173]	第一索引子单元1002针对不同的字段，分别建立对应字段的集中索引表。例如对于字段1，集中索引表中会存储各个数据采集器上包含的查询词以及对应的采集器标识，如表4所示。</p>
    <p>[0174]	第一索引子单元1002对应每个字段建立一个集中索引表，每个数据采集器上报的上报索引表汇总到数据查询服务器的集中索引表中。</p>
    <p>[0175]	通过第一索引单元100和第二索引单元200分别在数据查询服务器10和数据采集器20中建立索引表后，当接收到查询请求时，即可通过索引表找到需要查询的数据。</p>
    <p>[0176]	第一接收单元101用于接收输入的查询请求。</p>
    <p>[0177]	用户通过表格检索或表达式检索等方式，输入查询请求。对于表格检索方式，与用户的交互界面中会给出固定的字段，用户可以在多个字段的提示框中输入查询词，最后通过提交按键将查询请求提交给数据查询服务器。对于表达式检索的方式，则是用户直接输入所要查询的字段及该字段的查询词，提交给数据查询服务器。</p>
    <p>[0178]	第一接收单元101接收到的查询请求中携带所要查询的字段和所述字段的查询</p>
    <p>    ο</p>
    <p>[0179]	当查询请求包含多个字段时，第一接收单元101接收到的查询请求还包括各个字段的查询词之间的逻辑关系。例如，用户在不同的检索字段输入查询词，第一接收单元101接收这些在各个不同的检索字段的查询词及各查询词之间的逻辑关系。</p>
    <p>[0180]	第一查询单元102用于从所述字段的集中索引表中，查询得到第一接收单元101接收的所述查询请求携带的查询词对应的采集器标识。</p>
    <p>[0181]	当查询请求中包括字段I时，第一查询单元102则从字段I的集中索引表中得到与查询词相匹配的查询词，得到对应的采集器标识，从而得到所述查询词在哪一个的数据采集器。 </p>
    <p>[0182]	对于查询请求包括多个字段的情况，第一查询单元102包括：解析子单元、第一查询子单元和第一过滤子单元（图未示)。</p>
    <p>[0183]	第一解析子单元用于获取所述查询请求中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系。</p>
    <p>[0184]	第一查询子单元，用于从所述字段对应的集中索引表中查询得到所述第一解析子单元获取的所述各字段的查询词对应的采集器标识。</p>
    <p>[0185]	第一过滤子单元，用于根据所述第一解析子单元获取的所述各字段的查询词之间的逻辑关系，从第一查询子单元查询得到的所述采集器标识筛选得到满足所述逻辑关系的采集器标识。</p>
    <p>[0186]	第一处理单元103用于根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给第一查询单元102查询得到的采集器标识对应的数据采集器20。</p>
    <p>[0187]	第一处理单元103生成的查询命令可以与输入的查询请求相同，也可以只包括所发送的目的数据采集器包括的查询词。例如，查询请求为：（字段l=aaa)0R(字段2=ccc)，则第一查询单元102从表4所示的集中索引表中查询得到aaa对应的采集器标识为采集器I和采集器3，第一查询单元102从表5所示的集中索引表中查询得到ccc对应的采集器标识为采集器1，aaa与ccc之间的逻辑关系为“或”，第一处理单元103生成向采集器I发送的查询命令为：（字段l=aaa) OR (字段2=ccc)，第一处理单元103生成向采集器3发送的查询命令为：字段2=ccc。[0188]	数据采集器20的第二接收单元201用于接收数据查询服务器10发送的查询命令。</p>
    <p>[0189]	所述查询命令包括数据查询服务器10接收的查询请求中携带的所要查询的字段和所述字段的查询词，可以包括多个字段的查询词和所述查询词之间的逻辑关系。</p>
    <p>[0190]	第二查询单元202用于从所述字段对应的本地索引表中查询得到与第二接收单元201接收的查询命令中的查询词相匹配的数据的存储位置。</p>
    <p>[0191]	可选地，对于查询命令中包含多个字段的查询词的情况，第二查询单元202包括：第二解析子单元、第二查询子单元和第二过滤子单元（图未示)。</p>
    <p>[0192]	第二解析子单元用于若第二接收单元201接收的所述查询命令中携带多个所要查询的字段时，获取所述查询命令中各字段的查询词，并记录所述查询命令中携带的各字段的查询词之间的逻辑关系。</p>
    <p>[0193]	第二查询子单元用于从所述各字段对应的本地索引表中查询得到与所述第二解析子单元获取的所述查询命令中各字段的查询词相匹配的数据的存储位置。</p>
    <p>[0194]	第二过滤子单元用于根据所述第二解析子单元获取的所述各字段的查询词之间的逻辑关系，从所述第二查询子单元查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0195]	第二处理单元203用于根据第二查询单元202查询得到的所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</p>
    <p>[0196]	第二处理单元203将第二查询单元202查询得到的数据发送给数据查询服务器10的第一输出单元104，用以输出所述查询请求的查询结果。</p>
    <p>[0197]	第一输出单元104用于接收数据采集器20的第二处理单元203返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</p>
    <p>[0198]	本发明实施例提供的数据查询服务器、数据采集器及系统，利用第一索引单元在数据查询服务器中建立集中索引表，利用第二索引单元在数据采集器中建立本地索引表，可以提高数据查询的处理速度。对于待查询的数据只存在于少数数据采集器的情况，本发明不用每台数据采集器都去查询，降低了数据采集器的负担。对于需要频繁查询的日志系统，本发明实施例提供的方案可以有效的减轻数据采集器的系统资源占用，使数据采集器可以有更多的资源用于提高采集的性能，从而提升系统整体的处理能力。</p>
    <p>[0199]	实施例三</p>
    <p>[0200]	图7为本实施例提供的数据查询服务器10的示意图，如图7所示，所述数据查询服务器10包括：网络接口 71、处理器72和存储器73。系统总线74用于连接网络接口 71、处理器72和存储器73。</p>
    <p>[0201]	网络接口 71用于与数据采集器20进行通信。</p>
    <p>[0202]	存储器73可以是永久存储器，例如硬盘驱动器和闪存，存储器73中具有软件模块和设备驱动程序。软件模块能够执行本发明上述方法的各种功能模块；设备驱动程序可以是网络和接口驱动程序。</p>
    <p>[0203]	在启动时，这些软件组件被加载到存储器73中，然后被处理器72访问并执行如下指令：</p>
    <p>[0204]	接收输入的查询请求，所述查询请求中携带所要查询的字段和所述字段中的查询词；</p>
    <p>[0205]	从所述字段对应的集中索引表中查询得到所述查询词对应的采集器标识，所述集中索引表中存储所述字段中的查询词与采集器标识的对应关系；</p>
    <p>[0206]	根据所述查询请求生成携带有所述字段和查询词的查询命令，并将所述查询命令发送给所述采集器标识对应的数据采集器，用以所述数据采集器通过所述数据采集器中所述查询命令携带的字段对应的本地索引表查询得到与所述查询命令中携带的查询词相匹配的数据；</p>
    <p>[0207]	接收所述数据采集器返回的所述数据，根据接收到的数据形成所述查询请求的查询结果并输出。</p>
    <p>[0208]	本实施例的数据查询服务器通过字段的集中索引表找到查询词对应的采集器标识，从而在采集器标识对应的数据采集器中获取对应的数据，可以有效的减轻数据查询服务器的系统资源占用，提高数据查询的处理速度。</p>
    <p>[0209]	进一步的，所述处理器访问存储器73的软件组件后，执行以下过程的指令：</p>
    <p>[0210]	针对所述字段，建立所述字段对应的集中索引表；</p>
    <p>[0211]	所述建立所述字段对应的集中索引表，包括：</p>
    <p>[0212]	接收各数据采集器发送的所述字段的上报索引表，所述上报索引表中包括发送所述上报索引表的数据采集器中的数据对应于所述字段的查询词；</p>
    <p>[0213]	建立所述查询词与所述采集器标识的映射关系，形成所述字段的集中索引表。</p>
    <p>[0214]	上述指令过程就是数据查询服务器建立集中索引表的过程，通过建立查询词与采集器标识的映射关系，以便在数据查询时，找到查询词对应的采集器标识，并从对应的数据采集器得到匹配的数据。</p>
    <p>[0215]	进一步的，所述处理器访问存储器73的软件组件后，执行以下过程的指令：</p>
    <p>[0216]	当所述查询请求中携带至少两个所要查询的字段时，获取所述查询请求中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0217]	从所述各字段对应的集中索引表中查询得到所述各字段的查询词对应的采集器标识；</p>
    <p>[0218]	根据所述各字段的查询词之间的逻辑关系，从查询得到的所述采集器标识筛选得到满足所述逻辑关系的采集器标识。</p>
    <p>[0219]	上述指令过程就是数据查询服务器针对多个所要查询的字段的查询词查找对应的采集器标识的过程，可以避免访问不能完全满足查询请求的数据采集器。</p>
    <p>[0220]	图8为本实施例提供的数据采集器20的示意图，如图8所示，所述数据采集器20包括：网络接口 81、处理器82和存储器83。系统总线84用于连接网络接口 81、处理器82和存储器83。</p>
    <p>[0221]	网络接口 81用于与数据查询服务器10进行通信。</p>
    <p>[0222]	存储器83可以是永久存储器，例如硬盘驱动器和闪存，存储器83中具有软件模块和设备驱动程序。软件模块能够执行本发明上述方法的各种功能模块；设备驱动程序可以是网络和接口驱动程序。</p>
    <p>[0223]	在启动时，这些软件组件被加载到存储器83中，然后被处理器82访问并执行如下指令：[0224]	接收数据查询服务器发送的查询命令，所述查询命令包括所述数据查询服务器接收的查询请求中携带的所要查询的字段和所述字段中的查询词；</p>
    <p>[0225]	从所述字段对应的本地索引表中查询得到与所述查询命令相匹配的数据的存储位置，所述本地索引表中存储所述字段中的查询词与所述数据的存储位置的对应关系；</p>
    <p>[0226]	根据所述数据的存储位置，获取所述数据并发送给所述数据查询服务器。</p>
    <p>[0227]	本实施例的数据采集器通过字段的本地索引表找到查询词对应的数据，提供给数据查询服务器，可以有效的减轻数据采集器的系统资源占用，使数据采集器可以有更多的资源用于提高采集的性能，提高数据查询的处理速度。</p>
    <p>[0228]	进一步的，所述处理器访问存储器83的软件组件后，执行以下过程的指令：</p>
    <p>[0229]	针对所述字段，建立所述字段对应的本地索引表；</p>
    <p>[0230]	所述建立所述字段对应的本地索引表，包括：</p>
    <p>[0231]	获取当前数据采集器中的数据和所述数据的存储位置，所述数据中包括至少一个字段的内容；</p>
    <p>[0232]	针对每一个字段，将所述数据在该字段的内容作为所述数据的查询词，建立所述查询词与所述存储位置的映射关系，形成该字段在所述当前数据采集器的本地索引表。</p>
    <p>[0233]	上述指令过程就是数据采集器建立本地索引表的过程，通过建立查询词与数据的存储位置的映射关系，从而根据查询词对应的数据的存储位置获取数据。</p>
    <p>[0234]	进一步的，所述处理器访问存储器83的软件组件后，执行以下过程的指令：</p>
    <p>[0235]	从该字段的本地索引表中提取出所述查询词，对所述查询词进行去重处理，形成所述当前数据采集器的所述字段的上报索引表；</p>
    <p>[0236]	将所述字段的上报索引表发送给所述数据查询服务器，用以所述数据查询服务器建立所述字段对应的集中索引表。</p>
    <p>[0237]	上述指令过程就是数据采集器根据本地索引表建立上报索引表并发送给数据查询服务器的过程，以便数据查询服务器建立集中索引表。</p>
    <p>[0238]	进一步的，所述处理器访问存储器83的软件组件后，执行以下过程的指令：</p>
    <p>[0239]	当所述查询命令中携带至少两个所要查询的字段时，获取所述查询命令中各字段的查询词，并记录所述各字段的查询词之间的逻辑关系；</p>
    <p>[0240]	从所述各字段对应的本地索引表中查询得到与所述各字段的查询词相匹配的数据的存储位置；</p>
    <p>[0241]	根据所述各字段的查询词之间的逻辑关系，从查询得到的所述数据的存储位置中筛选得到满足所述逻辑关系的数据的存储位置。</p>
    <p>[0242]	上述指令过程就是数据采集器针对多个所要查询的字段的查询词找到对应的存储位置的过程，可以避免获取不能完全满足查询命令的数据。</p>
    <p>[0243]	专业人员应该还可以进一步意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、计算机软件或者二者的结合来实现，为了清楚地说明硬件和软件的可互换性，在上述说明中已经按照功能一般性地描述了各示例的组成及步骤。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。[0244]	结合本文中所公开的实施例描述的方法或算法的步骤可以用硬件、处理器执行的软件模块，或者二者的结合来实施。软件模块可以置于随机存储器（RAM)、内存、只读存储器(ROM)、电可编程ROM、电可擦除可编程ROM、寄存器、硬盘、可移动磁盘、CD-ROM、或技术领域内所公知的任意其它形式的存储介质中。</p>
    <p>[0245]	以上所述的具体实施方式，对本发明的目的、技术方案和有益效果进行了进一步详细说明，所应理解的是，以上所述仅为本发明的具体实施方式而已，并不用于限定本发明的保护范围，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102193917A?cl=zh">CN102193917A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年3月1日</td><td class="patent-data-table-td patent-date-value">2011年9月21日</td><td class="patent-data-table-td ">中国移动通信集团公司</td><td class="patent-data-table-td ">一种数据处理和查询方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102375853A?cl=zh">CN102375853A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年8月24日</td><td class="patent-data-table-td patent-date-value">2012年3月14日</td><td class="patent-data-table-td ">中国移动通信集团公司</td><td class="patent-data-table-td ">分布式数据库系统、在其中建立索引的方法和查询方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102789487A?cl=zh">CN102789487A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月29日</td><td class="patent-data-table-td patent-date-value">2012年11月21日</td><td class="patent-data-table-td ">用友软件股份有限公司</td><td class="patent-data-table-td ">数据查询检索处理装置和数据查询检索处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6144957">US6144957</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">1999年5月13日</td><td class="patent-data-table-td patent-date-value">2000年11月7日</td><td class="patent-data-table-td ">Oracle Corporation</td><td class="patent-data-table-td ">Method and apparatus for using incompatible types of indexes to process a single query</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014101445A1?cl=zh">WO2014101445A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月23日</td><td class="patent-data-table-td patent-date-value">2014年7月3日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">数据查询方法及系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=jRbzBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=jRbzBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30011">G06F17/30011</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2013年4月24日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年5月29日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/a05f78573481e22d26dd/CN103064933A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95%E5%8F%8A%E7%B3%BB%E7%BB%9F.pdf?id=jRbzBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U1jk_uzq6qgD0loWMgo6xceyoMfhA"},"sample_url":"https://www.google.com/patents/reader?id=jRbzBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>