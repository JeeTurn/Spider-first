<!DOCTYPE html><html><head><title>专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种即时通讯中的用户搜索方法、系统、服务器及客户端"><meta name="DC.contributor" content="戴永裕" scheme="inventor"><meta name="DC.contributor" content="斌 李" scheme="inventor"><meta name="DC.contributor" content="腾讯科技（深圳）有限公司" scheme="assignee"><meta name="DC.date" content="2008-3-26" scheme="dateSubmitted"><meta name="DC.description" content="本发明实施例公开了一种即时通讯IM用户搜索方法，包括：IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG属性；IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录，则确定具有所述TAG属性的用户，将已确定用户的信息发给发送所述搜索协议命令的IM客户端。本发明还公开了一种支持TAG搜索的IM系统、服务器和客户端，应用本发明实施例可搜索到反映自身真实情况的IM用户。"><meta name="DC.date" content="2008-8-20"><meta name="citation_patent_publication_number" content="CN:101247368:A"><meta name="citation_patent_application_number" content="CN:200810089701"><link rel="canonical" href="https://www.google.com/patents/CN101247368A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101247368A?cl=zh"/><meta name="title" content="专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端"/><meta name="description" content="本发明实施例公开了一种即时通讯IM用户搜索方法，包括：IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG属性；IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录，则确定具有所述TAG属性的用户，将已确定用户的信息发给发送所述搜索协议命令的IM客户端。本发明还公开了一种支持TAG搜索的IM系统、服务器和客户端，应用本发明实施例可搜索到反映自身真实情况的IM用户。"/><meta property="og:title" content="专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101247368A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101247368A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=oQ9fBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101247368A&amp;usg=AFQjCNGe-MhyYDy2vkNfa599bru5hMSWcQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/34b4c1b6db9d0fbaab98/CN101247368A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/34b4c1b6db9d0fbaab98/CN101247368A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101247368A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101247368A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101247368A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101247368B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101247368A?cl=zh" style="display:none"><span itemprop="description">本发明实施例公开了一种即时通讯IM用户搜索方法，包括：IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目标用户、或与所述目标用户为好友关系，则在...</span><span itemprop="url">https://www.google.com/patents/CN101247368A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端" title="专利 CN101247368A - 一种即时通讯中的用户搜索方法、系统、服务器及客户端"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101247368 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810089701</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2008年8月20日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年3月26日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年3月26日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101247368B?hl=zh-CN&amp;cl=zh">CN101247368B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810089701.1, </span><span class="patent-bibdata-value">CN 101247368 A, </span><span class="patent-bibdata-value">CN 101247368A, </span><span class="patent-bibdata-value">CN 200810089701, </span><span class="patent-bibdata-value">CN-A-101247368, </span><span class="patent-bibdata-value">CN101247368 A, </span><span class="patent-bibdata-value">CN101247368A, </span><span class="patent-bibdata-value">CN200810089701, </span><span class="patent-bibdata-value">CN200810089701.1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%88%B4%E6%B0%B8%E8%A3%95%22">戴永裕</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%96%8C+%E6%9D%8E%22">斌 李</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E8%85%BE%E8%AE%AF%E7%A7%91%E6%8A%80%EF%BC%88%E6%B7%B1%E5%9C%B3%EF%BC%89%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">腾讯科技（深圳）有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101247368A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101247368A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101247368A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (8),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=oQ9fBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810089701&amp;usg=AFQjCNGIcYNzuOCH7S7qIjrbEwUY_H_e4w"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=oQ9fBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101247368A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEkYHWqLth2hQ45u97zCJDqLOcuCA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT70802540" lang="ZH" load-source="patent-office">一种即时通讯中的用户搜索方法、系统、服务器及客户端</invention-title>
    </span><br><span class="patent-number">CN 101247368 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA38572228" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明实施例公开了一种即时通讯IM用户搜索方法，包括：IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG属性；IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录，则确定具有所述TAG属性的用户，将已确定用户的信息发给发送所述搜索协议命令的IM客户端。本发明还公开了一种支持TAG搜索的IM系统、服务器和客户端，应用本发明实施例可搜索到反映自身真实情况的IM用户。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(13)</span></span></div><div class="patent-text"><div mxw-id="PCLM5986476" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种即时通讯中的用户搜索方法，其特征在于，该方法包括步骤：    即时通讯IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目标用户或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG属性；    IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录，则确定具有所述TAG属性的用户，将已确定的用户信息发给发送所述搜索协议命令的IM客户端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求l所述的方法，其特征在于，在具有所述TAG属性的用户 ID列表中记录所述目标用户的ID包括：搜索是否存在具有所述TAG属性的用户ID列表，若不存在，则创建具有 所述TAG属性的用户ID列表，并初始化为所述目标用户的ID;若存在，则搜索具有所述TAG属性的用户ID列表中是否存在所述目标用 户的ID，若不存在，则添加所述目标用户ID;确定具有所述TAG属性的用户包括：将具有所述TAG属性的用户ID列表中的用户作为已确定用户。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求l所述的方法，其特征在于，在所述目标用户的用户信息中 记录所述TAG属性包括：搜索具有所述TAG属性的用户ID列表中是否包含所述目标用户的ID，若 未包含，则在所述目标用户的信息中添加所述TAG属性，并设置TAG属性次 数为l，若已包含，则将所述目标用户的信息中的TAG属性次数加1。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求3所述的方法，其特征在于，所述已确定用户的信息携带有所述已确定用户的TAG属性及其次数； 将已确定用户的信息发给发送所述搜索协议命令的IM客户端之后进一步 包括：IM客户端显示所述已确定用户的信息，接收到好友添加触发后，向IM服 务器发送好友添加请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求l所述的方法，其特征在于，IM服务器接收到携带有TAG 属性和目标用户ID的TAG属性设置协议命令之前进一步包括：IM客户端向IM服务器发送获取推荐TAG列表的协议命令，输出触发TAG 属性设置的用户已设置的TAG属性、IM服务器根据所述获取推荐TAG列表的 协议命令返回的TAG列表，用于用户从中选择欲设置的TAG属性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求l所述的方法，其特征在于，该方法进一步包括步骤：IM客户端接收到好友推荐触发后，将携带有好友推荐对象的用户ID及 TAG属性、接收好友推荐的用户ID的好友推荐协议命令，发给IM服务器；IM服务器确定所述接收好友推荐的用户登录成功后，将触发好友推荐的用 户ID、所述好友推荐对象的用户ID及TAG属性发给所述接收好友推荐的用户 登录的IM客户端，接收到所述IM客户端发来的推荐接受消息后，建立所述好 友推荐对象和所述接收好友推荐的用户的好友关系。</div>
    </div>
    </div> <div class="claim"> <div num="7" class="claim">
      <div class="claim-text">7、 一种即时通讯中的用户搜索系统，其特征在于，该系统包括IM服务器 和IM客户端；所述IM服务器用于，接收到IM客户端发来的携带有TAG属性和目标用 户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目 标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列 表中记录所述目标用户的ID,在所述目标用户的用户信息中记录所述TAG属 性；接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录， 则确定具有所述TAG属性的用户，将已确定用户的信息发给IM客户端；所述IM客户端用于，向IM服务器发送携带有TAG属性和目标用户ID的 TAG属性设置协议命令，向IM服务器发送携带有TAG属性的搜索协议命令， 接收IM服务器根据所述搜索协议命令返回的用户信息。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8、 一种即时通讯中的服务器，其特征在于，该服务器包括TAG属性设置 单元和用户搜索单元；所述TAG属性设置单元用于，接收到IM客户端发来的携带有TAG属性 和目标用户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户 为所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用 户ID列表中记录所述目标用户的ID,在所述目标用户的用户信息中记录所述 TAG属性；所述用户搜索单元用于，接收到携带有TAG属性的搜索协议命令后，若在 所述TAG属性设置单元中搜索到该TAG属性已记录，则确定具有所述TAG 属性的用户，将已确定用户的信息发给IM客户端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 如权利要求8所述的服务器，其特征在于，所述服务器进一步包括推荐 TAG列表获取单元；所述推荐TAG列表获取单元用于，接收到获取推荐TAG列表的协议命令 后，返回满足预定条件的TAG;所述TAG属性设置单元进一步用于，记录TAG的设置情况。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求8所述的服务器，其特征在于，所述服务器进一步包括好 友推荐单元；所述好友推荐单元用于，接收携带有好友推荐对象的用户ID及TAG属性、 接收好友推荐的用户ID的好友推荐协议命令，确定所述接收好友推荐的用户登 录成功后，将触发好友推荐的用户ID、所述好友推荐对象的用户ID及所述TAG 属性发给所述接收好友推荐的用户登录的IM客户端，接收到推荐接受消息后， 建立所述好友推荐对象和所述接收好友推荐的用户的好友关系。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11、 一种即时通讯中的客户端，其特征在于，所迷客户端包括TAG属性输 入单元、TAG属性设置单元和用户搜索单元；所述TAG属性输入单元用于，若接收到TAG选定触发及TAG属性设置 单元发来的设置指示，则向TAG属性设置单元发送确定指示，若接收到TAG 选定触发及用户搜索单元发来的搜索指示，则向用户搜索单元发送确定指示；所述TAG属性设置单元用于，向TAG属性输入单元发送设置指示，接收 到TAG属性输入单元发来的确定指示后，向IM服务器发送携带有TAG属性和目标用户ID的TAG属性设置协议命令；所述用户搜索单元用于，向TAG属性输入单元发送搜索指示，接收到TAG 属性输入单元发来的确定指示后，向IM服务器发送携带有TAG属性的搜索协 议命令。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求11所述的客户端，其特征在于，所述TAG属性输入单元 包括推荐TAG列表获取模块、已设置TAG管理模块和TAG录入模块；所述推荐TAG列表获取模块用于，向IM服务器发送获取推荐TAG列表 的协议命令，接收IM服务器返回的推荐TAG列表，接收到TAG设置选定触 发后，向TAG属性设置单元发送确定指示；所述已设置TAG管理模块用于，存储每一IM用户已设置的TAG，输出发 送所述TAG属性设置协议命令的IM用户已设置的TAG,接收到TAG设置选 定触发后，向TAG属性设置单元发送确定指示；所述TAG输入模块用于，接收到录入的TAG及TAG选定触发后，向TAG 属性设置单元发送确定指示。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、 如权利要求11所述的客户端，其特征在于，所述客户端进一步包括好 友推荐单元；所述好友推荐单元用于，向IM服务器发送携带有好友推荐对象的用户ID 及TAG属性、接收好友推荐的用户ID的好友推荐协议命令，接收到携带有触 发好友推荐的用户ID、好友推荐对象的用户ID及TAG属性的好友推荐通知后， 向IM服务器回复推荐接受消息或推荐拒绝消息。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES10694717" lang="ZH" load-source="patent-office" class="description">
    <p>一种即时通讯中的用户搜索方法、系统、服务器及客户端技术领域本发明涉及互联网领域，尤其涉及一种即时通讯中的用户搜索方法、系 统、服务器及客户端。背景技术网络即时通讯（InstantMessenging, IM)发展到今天，已经被大多数的 网民所接受,在IM用户平时的休闲娱乐和工作中都得到了广泛的使用，建立 好友关系是IM用户之间进行沟通的基础。在建立好友关系之前，IM用户需要搜索好友添加对象，现有的IM用户 以昵称、IM用户身份标识（ID)等信息作为自身的属性，区别于其它IM用 户，因此，现有的IM用户搜索方法主要以昵称、IM用户ID等属性作为搜 索条件搜索IM用户，搜索到满足搜索条件的IM用户后，即可从中选择好 友添加对象，发送好友添加请求，若好友添加成功，IM用户即可与添加的 好友进行沟通。可见，现有的IM用户属性简单，对IM用户的兴趣、爱好等情况反映 有限，因此，以现有IM用户属性作为搜索条件搜索IM用户时，无法搜索 到反映自身真实情况的IM用户。发明内容有鉴于此，本发明实施例的目的在于提供一种即时通讯中的用户搜索方 法、系统、服务器及客户端，以搜索到反映自身真实情况的IM用户。 为达到上述目的，本发明实施例的技术方案具体是这样实现的： 一种即时通讯中的用户:^叟索方法，该方法包^t舌步骤：IM服务器接收到携带有标签TAG属性和目标用户身份标识ID的TAG属目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目标 用户的ID，在所述目标用户的用户信息中记录所述TAG属性；IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属 性已记录，则确定具有所述TAG属性的用户，将已确定用户的信息发给发送所 述搜索协议命令的IM客户端。一种即时通讯中的用户搜索系统，该系统包括IM服务器和IM客户端；所述IM服务器用于，接收到IM客户端发来的携带有TAG属性和目标用 户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为所述目 标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户ID列 表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG属 性；接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录， 则确定具有所述TAG属性的用户，将已确定用户的信息发给IM客户端；所述IM客户端用于，向IM服务器发送携带有TAG属性和目标用户ID的 TAG属性设置协议命令，向IM服务器发送携带有TAG属性的搜索协议命令， 接收IM服务器根据所述搜索协议命令返回的用户信息。一种即时通讯中的服务器，该服务器包括TAG属性设置单元和用户搜索单元；所述TAG属性设置单元用于，接收到IM客户端发来的携带有TAG属性 和目标用户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户 为所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用 户ID列表中记录所述目标用户的ID,在所述目标用户的用户信息中记录所述 TAG属性；所述用户搜索单元用于，接收到携带有TAG属性的搜索协议命令后，若在 所述TAG属性设置单元中搜索到该TAG属性已记录，则确定具有所述TAG 属性的用户，将已确定用户的信息发给IM客户端。一种即时通讯中的客户端，所述客户端包括TAG属性输入单元、TAG属性设置单元和用户搜索单元；所述TAG属性输入单元用于，若接收到TAG选定触发及TAG属性设置 单元发来的设置指示，则向TAG属性设置单元发送确定指示，若接收到TAG 选定触发及用户搜索单元发来的搜索指示，则向用户搜索单元发送确定指示；所述TAG属性设置单元用于，向TAG属性输入单元发送设置指示，接收 到TAG属性输入单元发来的确定指示后，向IM服务器发送携带有TAG属性 和目标用户ID的TAG属性设置协议命令；所述用户搜索单元用于，向TAG属性输入单元发送搜索指示，接收到TAG 属性输入单元发来的确定指示后，向IM服务器发送携带有TAG属性的搜索协 议命令。由上述技术方案可见，本发明实施例所提供的技术方案，在IM用户的属 性中增加了 TAG属性，以所述TAG属性作为搜索条件搜索IM用户，由于TAG 属性是其自身或好友设置的，因此，该TAG属性能够反映IM用户的真实情况， 以TAG属性为搜索条件搜索IM用户，可以搜索到反映自身真实情况的IM用 户。附图说明图1为本发明方法实施例所提供的IM用户搜索方法流程图；图2为IM服务器设置TAG属性的流程图；图3为已设置了 TAG属性的IM服务器搜索IM用户的流程图；图4为设置了用户信息管理服务器的IM系统以TAG属性为搜索条件 搜索IM用户、设置TAG属性的方法流程图；图5为本发明系统实施例提供的支持以TAG为搜索条件搜索IM用户 的IM系统结构图；图6为本发明装置实施例提供的IM服务器结构图；图7为本发明装置实施例提供的IM客户端结构图。具体实施方式本发明实施例所提供的技术方案，在IM用户的用户信息中增加标签(TAG)属性，以所述TAG属性作为搜索条件搜索IM用户。其中，TAG是 一种可由IM用户自定义的属性，通常为IM用户根据与目标用户的沟通过程， 对目标用户的兴趣、爱好、职业、性格等做出的描述，或者IM用户对自身所 作出的描述。图1为本发明方法实施例所提供的IM用户搜索方法流程图，如图1所 示，该方法具体包括如下步骤：步骤IOI, IM服务器记录TAG属性。IM服务器接收到携带有TAG属性和目标用户ID的TAG属性设置协议命 令后，若确定发送所述协议命令的用户为所述目标用户、或与所述目标用户为 好友关系，则在所述目标用户的用户信息中记录所述TAG属性，在具有所述 TAG属性的用户ID列表中记录所述目标用户的ID。步骤102， IM服务器根据TAG属性搜索IM用户。IM服务器接收到携带有TAG属性的搜索协议命令后，若搜索到该TAG 属性已记录，则确定具有所述TAG属性的用户，将已确定用户的信息发给发送 所述搜索协议命令的IM客户端。图2为IM服务器设置TAG属性的流程图，如图2所示，该方法具体 包括如下步骤：步骤201,接收TAG属性设置协议命令。IM服务器接收来自IM客户端的TAG属性设置协议命令，该TAG属 性设置协议命令携带有TAG属性和目标用户的ID。步骤202， IM服务器确认发送所述协议命令的用户是否为所述目标用户、 或所述目标用户与发送TAG属性设置协议命令的用户是否为好友关系，若 是，则执行步骤203,否则执行步骤205。步骤203，在具有所述TAG属性的用户ID列表中记录所述目标用户。对应每一个TAG属性，IM服务器中都建立有用户ID列表，记录了具 有该TAG属性的用户ID。IM服务器接收到TAG属性设置协议命令后，搜索对应所述TAG属性 设置协议命令携带的TAG属性，是否已设置了用户ID列表，若是，则在已 设置的用户ID列表中搜索目标用户的ID,若否，则对应所述TAG属性， 建立具有所述TAG属性的用户ID列表，将该用户ID列表初始化为该目标 用户的ID。在具有所述TAG属性的用户ID列表中遍历搜索目标用户的ID后，若 搜索到，则根据目标用户ID获取该目标用户的用户信息，若未搜索到，则 在具有所述TAG属性的用户ID列表中添加该目标用户的ID,并根据目标 用户ID获取该目标用户的用户信息。步骤204,在目标用户的用户信息中记录所述TAG属性，结束本流程。IM服务器搜索目标用户的用户信息中是否已记录了所述TAG属性，若 未记录，则在该目标用户的用户信息中记录该TAG属性，并将所述目标用 户被设置为该TAG属性的次数初始化为1,若已记录，则将所述目标用户 被设置为该TAG属性的次数加1 。步骤205 ，向发送TAG属性设置协议命令的用户返回无权设置的提示， 结束本流程。IM服务器还可以记录TAG属性的设置情况，包括该IM服务器已设置的TAG属性，以及每一个TAG属性的设置次数，可通过建立已记录TAG属性列表记录TAG属性的设置情况。图3为已设置了 TAG属性的IM服务器搜索IM用户的流程图，如图3所示，该方法具体包括如下步骤：步骤301， IM服务器接收携带有TAG属性的搜索协议命令。步骤302， IM服务器搜索所述TAG属性是否已记录。IM服务器可通过已记录TAG属性列表确定TAG属性是否已记录，或者搜索是否存在具有所述TAG属性的IM用户ID列表，若存在，则所述TAG属性已记录，否则所述TAG属性未记录。步骤303，确定具有所述TAG属性的用户，将已确定用户的信息发给 IM客户端。IM服务器可将具有所述TAG属性的IM用户ID列表中的所有用户、 或满足预订条件的用户设置为已确定用户，通过IM用户ID搜索到该IM用 户的用户信息，将所述用户信息发给IM客户端。例如，将TAG属性的设 置次数在预订次数（例如5次）以上的IM用户、或TAG属性设置次数最 高的前M (M为自然数）个IM用户（例如，M-20时，即为按IM用户被 设置为所述TAG属性的次数由高到低排列的前20个IM用户），设置为已 确定用户。已确定用户的信息包括该已确定用户的ID、系统头^f象、具有的TAG属 性等。图2和图3给出了在IM服务器中存储IM用户信息，直接由IM服务器 设置TAG属性、或直接由IM服务器以TAG属性为搜索条件，搜索IM用 户的方法，实际应用中，IM系统中可以进一步地设置用户信息管理服务器， 用于管理IM用户的用户信息，这样，IM服务器可以将TAG属性设置的协 议命令转给该用户信息管理服务器，由该用户信息管理服务器设置TAG属性，也可以将TAG搜索协议命令转给该用户信息管理服务器，由该用户信 息管理服务器根据TAG搜索协议命令搜索IM用户，并将搜索结果发给IM 客户端。当在IM系统中设置用户信息管理服务器时，用户信息管理服务器进行 TAG属性设置和IM用户搜索的方法可参照图2和图3所示的方法。下面以设置了用户信息管理服务器的IM系统为例，举例介绍以TAG 属性为搜索条件搜索IM用户、设置TAG属性的方法。图4为设置了用户信息管理服务器的IM系统以TAG属性为搜索条件 搜索IM用户、设置TAG属性的方法流程图，如图4所示，该方法具体包 括如下步骤：步骤401, IM用户1登陆IM客户端1。本步骤为现有技术。IM客户端1接收IM用户1输入的IM用户1的ID及密码，组合所述ID及密码到数据包中，将数据包进行加密处理后，携带验证ID及密码有效性的协议命令，通过与IM服务器的通道，发给IM服务器。IM服务器验证所述ID及密码是否有效，若有效，则IM用户1登陆成功，否则登陆失败，IM服务器向IM客户端1发送提示IM用户重新输入ID及密码的消息。步骤402， IM客户端1接收到TAG搜索触发后，向IM服务器发送TAG 搜索协议命令。IM服务器判断接收到的协议命令为TAG搜索协议命令后， 将该TAG搜索协议命令转发给用户信息管理服务器。TAG搜索协议命令中携带有TAG属性，该TAG属性由IM用户登录IM 客户端，并触发TAG搜索后，输入该IM客户端。步骤403,用户信息管理服务器搜索具有TAG属性的用户ID列表。用户信息管理服务器针对每一个TAG属性都建立有用户ID列表，记录 了具有该TAG属性的用户ID。用户信息管理服务器接收到TAG搜索协议命令后，搜索对应所述TAG 搜索协议命令携带的TAG属性，是否存在用户ID列表，若存在，则获取用 户ID列表中的用户ID。步骤404,搜索步骤403中获取的用户ID对应的用户信息。每一个用户ID对应的用户信息，除了包括IM用户昵称、系统头像等 属性外，还含有该用户ID已被设置过的TAG属性及其设置次数。步骤405，用户信息管理服务器向IM客户端1直接下发携带有所述TAG 属性及其次数的用户信息。步骤406, IM客户端1显示接收到的用户信息，用于IM用户l从中选 择好友添加对象。IM客户端1接收到IM用户1的好友添加触发后，向IM 服务器发送添加好友的协议命令，接收IM服务器返回的好友添加回复。IM客户端接收到的用户信息通常为用户信息列表的形式，这时，IM客户端可以采用如下方式显示用户信息：IM客户端创建windows列表控件， 分别装载用户信息列表中的每个用户对应的系统头像、昵称以及对应的tag 及其设置次数，并可按照TAG的次数进行排序，这样IM用户可以根据该 tag属性的设置次数确定该tag属性的真实度，从而选择性地添加好友。 IM服务器对添加好友的协议命令的处理为现有技术，此处不再赘述。 经过步骤401~406，在支持TAG搜索的IM系统中，IM用户可以TAG 为搜索条件，搜索到具有所述TAG属性的IM用户。由于TAG属性能够较 真实地反映IM用户的兴趣、爱好、性格等特征，因此，通过TAG搜索方 法，可以搜索到反映自身真实情况的IM用户。步骤401~406以IM系统中已经设置了 TAG属性为前提，提供了实现 TAG搜索的方法，下面的步骤407-413,提供了在IM系统中，为IM用户 设置TAG属性的方法。下面以IM用户1成功登陆IM客户端1为例，介绍步骤407~413 。 步骤407， IM用户1选定设置TAG属性的目标用户后，即可触发TAG 属性设置，则IM客户端1向IM服务器发送获取推荐TAG列表的协议命令。 步骤408， IM服务器判断接收到的命令为获取推荐TAG列表的协议命 令后，将该命令转发给用户信息管理服务器。步骤409，用户信息管理服务器向IM客户端l返回推荐的TAG列表。 通常，该推荐的TAG列表为用户信息管理服务器中记录的热门TAG。 用户信息管理服务器每设置一次TAG属性，都将记录该TAG (若已记录， 则只需将该TAG的设置次数加1即可），及其在该用户信息管理服务器中 的设置次数，通常将设置次数最多的前N ( N为自然数）个TAG记录为热 门TAG。步骤410， IM客户端l获取IM用户1已设置的TAG属性。 IM客户端中设置TAG属性管理模块，用于记录每一个IM用户设置过 的TAG属性，可通过建立IM用户ID与其设置过的TAG属性的对应列表 这一方法进行记录，这样，IM客户端通过查询该对应列表，即可获得IM用户已设置的TAG属性。IM客户端1将IM服务器返回的推荐TAG列表、IM用户1已设置的 TAG属性显示给IM用户1,供IM用户1从中选择为步骤407中的目标用 户设置的TAG属性。IM客户端1也可提供手动输入TAG属性的界面。IM客户端1接收到设置TAG属性的确认操作后，即可向IM服务器发 送TAG属性设置命令。TAG属性设置命令中携带有目标用户的ID及IM用户1确认的TAG属性。步骤411,此步骤为可选步骤。IM用户1可在执行完步骤410后，触 发好友推荐，选择欲将步骤407中的目标用户推荐给哪个IM用户（记为IM 用户2)。步骤412， IM服务器判断接收到的命令为TAG属性设置命令后，将该 命令转发给用户信息管理服务器。步骤413，用户信息管理服务器根据TAG属性设置命令设置TAG属性， 具体方法请参见图2相关说明。若用户信息管理服务器确认IM用户1与所述目标用户为好友关系、或 IM用户1即为所述目标用户，则在设置完TAG属性后，向IM客户端l返 回TAG设置成功的消息，否则，向IM客户端1返回无权设置TAG的提示。步骤407&#12316;413,提供了在IM系统中，为IM用户设置TAG属性的方法。 由步骤407&#12316;413可知，IM用户可为其自身或其好友设置TAG属性。IM用户可通过在用户资料中设置TAG属性等多种方式触发自身的 TAG属性设置。IM客户端接收到IM用户自身的TAG属性设置触发后，将 该IM用户的ID作为目标用户的ID，携带在TAG属性设置协议命令中发给 IM服务器。若IM用户l执行了步骤411，则通过再执行步骤414-418，还可实现 IM用户1将其好友1 (以所述目标用户为例）推荐给好友2 (记为IM用户 2)。下面对步骤414~418进行详细介绍：步骤414， IM客户端1接收到TAG设置成功的消息后，向IM服务器 发送好友推荐的协议命令。该好友推荐协议命令中携带有IM用户1的ID、目标用户的ID及TAG 属性、IM用户2的ID。步骤415， IM服务器判断接收到的命令为好友推荐命令后，将该命令 转发给用户信息管理服务器。步骤416, IM服务器得知IM用户2成功登陆IM客户端（记为IM客 户端2)后，向IM客户端2发送好友推荐通知。所述好友推荐通知中携带有IM用户1的ID、目标用户的ID及TAG属性。IM客户端2接收到好友推荐通知后，既可根据IM用户2的触发，也可 根据IM客户端2的设定，向IM服务器发送好友推荐的回复消息。步骤417，若IM服务器接收到的好友推荐回复消息为失败消息，则向 IM用户1发送好友推荐失败消息，若IM服务器接收到的好友推荐回复消息 为接受消息，则向用户信息管理服务器转发好友推荐接受消息。该好友推荐接受消息中携带有IM用户2的ID和目标用户的ID。步骤418,用户信息管理服务器接收到好友推荐接受消息后，建立IM 用户2与目标用户之间的好友关系。好友关系建立完成后，用户信息管理服务器向IM用户l发送好友推荐 成功的通知。通过执行步骤411以及414~418,可实现IM用户间的好友推荐功能， 且好友推荐的消息中携带有好友推荐对象的TAG属性时，可以使接收好友 推荐的用户对好友推荐对象的真实情况有更清晰的了解，从而有效扩大IM用户的沟通面。实际应用中，好友推荐功能并非必须在TAG属性设置完成后马上进行。 IM用户可在其好友列表中选择好友推荐对象、以及接收好友推荐的用户， 确认上述选择后，触发好友推荐，IM客户端即可向IM服务器发送好友推荐命令。以上为本发明的方法实施例，下面给出支持以TAG为搜索条件搜索IM 用户的系统及装置实施例。图5为本发明系统实施例提供的支持以TAG为搜索条件搜索IM用户 的IM系统结构图，如图5所示，该系统包括IM服务器501和IM客户端502。IM服务器501用于，接收到IM客户端502发来的携带有TAG属性和目 标用户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户与所 述目标用户为好友关系，则在具有所述TAG属性的用户ID列表中记录所述目 标用户的ID,在所述目标用户的用户信息中记录所述TAG属性；接收到携带 有TAG属性的搜索协议命令后，若搜索到该TAG属性已记录，则确定具有所 述TAG属性的用户，将已确定用户的信息发给IM客户端502。IM客户端502用于，向IM服务器501发送携带有TAG属性和目标用户 ID的TAG属性设置协议命令，向IM服务器501发送携带有TAG属性的搜索 协议命令，接收IM服务器501根据所述搜索协议命令返回的用户信息。图6为本发明装置实施例提供的IM服务器结构图，如图6所示，该IM 服务器包括TAG属性设置单元601和用户搜索单元602。TAG属性设置单元601用于，接收到IM客户端发来的携带有TAG属性和 目标用户ID的TAG属性设置协议命令后，若确定发送所述协议命令的用户为 所述目标用户、或与所述目标用户为好友关系，则在具有所述TAG属性的用户 ID列表中记录所述目标用户的ID，在所述目标用户的用户信息中记录所述TAG 属性。用户搜索单元602用于，接收到携带有TAG属性的搜索协议命令后，若在 所述TAG属性设置单元中搜索到该TAG属性已记录，则确定具有所述TAG 属性的用户，将已确定用户的信息发给IM客户端。所述IM服务器还可进一步包括推荐TAG列表获取单元。 所述推荐TAG列表获取单元用于，接收到获取推荐TAG列表的协议命令 后，返回满足预定条件的TAG。TAG属性设置单元601进一步用于，记录TAG的设置情况。 所述IM服务器还可进一步包括好友推荐单元。所述好友推荐单元用于，接收携带有好友推荐对象的用户ID及TAG属性、 接收好友推荐的用户ID的好友推荐协议命令，确定所述接收好友推荐的用户登 录成功后，将触发好友推荐的用户ID、所述好友推荐对象的用户ID及所述TAG 属性发给所述接收好友推荐的用户登录的IM客户端，接收到推荐接受消息后， 建立所述好友推荐对象和所述接收好友推荐的用户的好友关系。图7为本发明装置实施例提供的IM客户端结构图，如图7所示，所述 IM客户端包括TAG属性输入单元701 、 TAG属性设置单元702和用户搜索单 元703。TAG属性输入单元701用于，若接收到TAG选定触发及TAG属性设置单 元702发来的设置指示，则向TAG属性设置单元702发送确定指示，若接收到 TAG选定触发及用户搜索单元703发来的搜索指示，则向用户搜索单元703发 送确定指示。TAG属性设置单元702用于，向TAG属性输入单元701发送设置指示， 接收到TAG属性输入单元701发来的确定指示后，向IM服务器发送携带有 TAG属性和目标用户ID的TAG属性设置协议命令。用户搜索单元703用于，向TAG属性输入单元701发送搜索指示，接收到 TAG属性输入单元701发来的确定指示后，向IM服务器发送携带有TAG属性 的搜索协议命令。TAG属性输入单元701可包括推荐TAG列表获取模块、已设置TAG管理 模块和TAG录入模块。所述推荐TAG列表获取模块用于，向IM服务器发送获取推荐TAG列表 的协议命令，接收IM服务器返回的推荐TAG列表，接收到TAG选定触发后， 向TAG属性设置单元702发送确定指示。所述已设置TAG管理模块用于，存储每一 IM用户已设置的TAG,输出发 送所述TAG属性设置协议命令的IM用户已设置的TAG，接收到TAG选定触发后，向TAG属性设置单元702发送确定指示。所述TAG录入模块用于，接收到录入的TAG及TAG选定触发后，向TAG 设置单元702发送确定指示。所述IM客户端还可进一步包括好友推荐单元。所述好友推荐单元用于，向IM服务器发送携带有好友推荐对象的用户ID 及TAG属性、接收好友推荐的用户ID的好友推荐协议命令，接收到携带有触 发好友推荐的用户ID、好友推荐对象的用户ID及TAG属性的好友推荐通知后， 向IM服务器回复推荐接受消息或推荐拒绝消息。由上述方案可见，本发明实施例所提供的技术方案，由于在IM用户的属性 中增加了由其自身或其好友设置的TAG属性，因此，可通过该TAG属性对IM用 户的真实情况进行描述。在设置了TAG属性的IM系统中，若以TAG属性为搜索条件，则可以搜索到 具有所述TAG属性的IM用户，从而搜索到反映自身真实情况的1M用户。若搜索到的IM用户信息中携带有TAG的设置次数，则可通过该TAG设置次 数反映TAG属性的真实度。若在IM系统中进行好友推荐，则可以进一步扩大IM用户的沟通面。以上所述，仅为本发明的较佳实施例而已，并非用于限定本发明的保护 范围，凡在本发明的精神和原则之内所做的任何修改、等同替换、改进等， 均应包含在本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101415031B?cl=zh">CN101415031B</a></td><td class="patent-data-table-td patent-date-value">2008年12月3日</td><td class="patent-data-table-td patent-date-value">2011年7月27日</td><td class="patent-data-table-td ">吴静</td><td class="patent-data-table-td ">一种终端间互助式鉴权方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102724140A?cl=zh">CN102724140A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月28日</td><td class="patent-data-table-td patent-date-value">2012年10月10日</td><td class="patent-data-table-td ">奇智软件（北京）有限公司</td><td class="patent-data-table-td ">即时通信好友添加方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103412910A?cl=zh">CN103412910A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月2日</td><td class="patent-data-table-td patent-date-value">2013年11月27日</td><td class="patent-data-table-td ">北京小米科技有限责任公司</td><td class="patent-data-table-td ">一种建立标签库及搜索用户的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103412931A?cl=zh">CN103412931A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月20日</td><td class="patent-data-table-td patent-date-value">2013年11月27日</td><td class="patent-data-table-td ">苏州跨界软件科技有限公司</td><td class="patent-data-table-td ">一种基于宠物的移动社交平台</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103414780A?cl=zh">CN103414780A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月20日</td><td class="patent-data-table-td patent-date-value">2013年11月27日</td><td class="patent-data-table-td ">苏州跨界软件科技有限公司</td><td class="patent-data-table-td ">一种基于宠物的移动社交实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103516581A?cl=zh">CN103516581A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月28日</td><td class="patent-data-table-td patent-date-value">2014年1月15日</td><td class="patent-data-table-td ">北京奇虎科技有限公司</td><td class="patent-data-table-td ">添加即时通信好友的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013075275A1?cl=zh">WO2013075275A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月21日</td><td class="patent-data-table-td patent-date-value">2013年5月30日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">用户信息采集方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014176738A1?cl=zh">WO2014176738A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月28日</td><td class="patent-data-table-td patent-date-value">2014年11月6日</td><td class="patent-data-table-td ">Tencent Technology (Shenzhen) Company Limited</td><td class="patent-data-table-td ">Method and device for transmitting and forwarding a message</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=oQ9fBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=oQ9fBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012580000">H04L12/58</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2008年8月20日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2008年10月15日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年8月18日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/34b4c1b6db9d0fbaab98/CN101247368A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E4%B8%AD%E7%9A%84%E7%94%A8%E6%88%B7%E6%90%9C%E7%B4%A2%E6%96%B9.pdf?id=oQ9fBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U1nibekTHzeLx7nk3kdjWNYNghVwA"},"sample_url":"https://www.google.com/patents/reader?id=oQ9fBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>