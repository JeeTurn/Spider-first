<!DOCTYPE html><html><head><title>专利 CN102572014A - 消息处理方法、装置和系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="消息处理方法、装置和系统"><meta name="DC.contributor" content="白春荣" scheme="inventor"><meta name="DC.contributor" content="华为终端有限公司" scheme="assignee"><meta name="DC.date" content="2012-3-7" scheme="dateSubmitted"><meta name="DC.description" content="本发明实施例提供了一种消息处理方法、装置和系统。该方法包括：接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；根据该第一域名解析请求消息，从域名系统DNS服务器优先级列表中确定第一DNS服务器，该第一DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合；根据该第一域名解析请求消息，向该第一DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。本发明实施例的消息处理方法、装置和系统，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中选取DNS服务器，能够减少域名解析时间，避免域名解析失败。"><meta name="DC.date" content="2012-7-11"><meta name="DC.relation" content="CN:101631133:A" scheme="references"><meta name="DC.relation" content="CN:101841577:A" scheme="references"><meta name="DC.relation" content="US:20060039352:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102572014:A"><meta name="citation_patent_application_number" content="CN:201210058052"><link rel="canonical" href="https://www.google.com/patents/CN102572014A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102572014A?cl=zh"/><meta name="title" content="专利 CN102572014A - 消息处理方法、装置和系统"/><meta name="description" content="本发明实施例提供了一种消息处理方法、装置和系统。该方法包括：接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；根据该第一域名解析请求消息，从域名系统DNS服务器优先级列表中确定第一DNS服务器，该第一DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合；根据该第一域名解析请求消息，向该第一DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。本发明实施例的消息处理方法、装置和系统，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中选取DNS服务器，能够减少域名解析时间，避免域名解析失败。"/><meta property="og:title" content="专利 CN102572014A - 消息处理方法、装置和系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102572014A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102572014A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102572014A&amp;usg=AFQjCNFuC2nO0i8V7mJORA64CA1dXM6KDA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/0f61f4242599248805b8/CN102572014A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/0f61f4242599248805b8/CN102572014A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102572014A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102572014A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102572014A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102572014B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102572014A?cl=zh" style="display:none"><span itemprop="description">本发明实施例提供了一种消息处理方法、装置和系统。该方法包括：接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；根据该第一域名解析请求消息，从域名系统DNS服务器优先级...</span><span itemprop="url">https://www.google.com/patents/CN102572014A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102572014A - 消息处理方法、装置和系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102572014A - 消息处理方法、装置和系统" title="专利 CN102572014A - 消息处理方法、装置和系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102572014 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201210058052</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年7月11日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年3月7日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2012年3月7日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102572014B?hl=zh-CN&amp;cl=zh">CN102572014B</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2800343A1?hl=zh-CN&amp;cl=zh">EP2800343A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2800343A4?hl=zh-CN&amp;cl=zh">EP2800343A4</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20140359041?hl=zh-CN&amp;cl=zh">US20140359041</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2013131472A1?hl=zh-CN&amp;cl=zh">WO2013131472A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201210058052.5, </span><span class="patent-bibdata-value">CN 102572014 A, </span><span class="patent-bibdata-value">CN 102572014A, </span><span class="patent-bibdata-value">CN 201210058052, </span><span class="patent-bibdata-value">CN-A-102572014, </span><span class="patent-bibdata-value">CN102572014 A, </span><span class="patent-bibdata-value">CN102572014A, </span><span class="patent-bibdata-value">CN201210058052, </span><span class="patent-bibdata-value">CN201210058052.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%99%BD%E6%98%A5%E8%8D%A3%22">白春荣</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E7%BB%88%E7%AB%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为终端有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102572014A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102572014A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102572014A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201210058052&amp;usg=AFQjCNG50mPUANkqgko6cU5L9ToAgsVGdA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102572014A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHzTTL4EgyEw_TKIL0sbhn2OuJ3Dw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT114031273" lang="ZH" load-source="patent-office">消息处理方法、装置和系统</invention-title>
      </span><br><span class="patent-number">CN 102572014 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA98379374" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明实施例提供了一种消息处理方法、装置和系统。该方法包括：接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；根据该第一域名解析请求消息，从域名系统DNS服务器优先级列表中确定第一DNS服务器，该第一DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合；根据该第一域名解析请求消息，向该第一DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。本发明实施例的消息处理方法、装置和系统，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中选取DNS服务器，能够减少域名解析时间，避免域名解析失败。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(19)</span></span></div><div class="patent-text"><div mxw-id="PCLM44203152" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种消息处理方法，其特征在于，包括：消息处理装置接收上位机发送的第一域名解析请求消息，所述第一域名解析请求消息携带所述上位机要求解析的域名；根据所述第一域名解析请求消息，所述消息处理装置从域名系统DNS服务器优先级列表中确定第一 DNS服务器，所述第一 DNS服务器属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合；根据所述第一域名解析请求消息，所述消息处理装置向所述第一 DNS服务器发送第二域名解析请求消息，所述第二域名解析请求消息携带所述上位机要求解析的域名。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的方法，其特征在于，在所述消息处理装置从域名系统DNS服务器优先级列表中确定第一 DNS服务器之前，所述方法还包括：所述消息处理装置基于DNS服务器解析域名的平均解析时间，确定所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1或2所述的方法，其特征在于，所述消息处理装置基于DNS服务器解析域名的平均解析时间，确定所述DNS服务器优先级列表，包括：所述消息处理装置基于DNS服务器解析域名的平均解析时间和解析次数，确定所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求1至3中任一项所述的方法，其特征在于，在所述消息处理装置向所述第一 DNS服务器发送第二域名解析请求消息之后，所述方法还包括：在预定的时间内，所述消息处理装置接收到所述第一 DNS服务器发送的第一域名解析响应消息，且在所述第一域名解析响应消息中的第一 DNS服务器的IP地址不同于所述第一域名解析请求消息中的目标DNS服务器的IP地址时，所述消息处理装置将所述第一域名解析响应消息中的第一DNS服务器的IP地址更新为所述第一域名解析请求消息中的目标DNS服务器的IP地址，以生成第二域名解析响应消息；所述消息处理装置向所述上位机发送所述第二域名解析响应消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求4所述的方法，其特征在于，所述方法还包括：所述消息处理装置根据所述第二域名解析请求消息和所述第一域名解析响应消息，确定域名解析时间；所述消息处理装置根据所述域名解析时间，更新所述第一 DNS服务器解析域名的平均解析时间，并更新所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求1至3中任一项所述的方法，其特征在于，在所述消息处理装置向所述第一 DNS服务器发送第二域名解析请求消息之后，所述方法还包括：在预定的时间内，所述消息处理装置未接收到所述第一 DNS服务器发送的第一域名解析响应消息时，从所述DNS服务器优先级列表中，确定第二 DNS服务器，所述第二 DNS服务器属于所述DNS服务器优先级列表中所述优先级最高的DNS服务器集合或优先级次高的DNS服务器集合；所述消息处理装置向所述第二 DNS服务器发送第三域名解析请求消息，所述第三域名解析请求消息携带所述上位机要求解析的域名。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的方法，其特征在于，所述方法还包括：所述消息处理装置更新所述第一 DNS服务器解析域名的平均解析时间，并更新所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求1至7中任一项所述的方法，其特征在于，所述方法还包括：所述消息处理装置接收空中下载OTA消息，所述OTA消息包括更新的DNS服务器的信息；所述消息处理装置根据所述OTA消息，将所述更新的DNS服务器确定为属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求1至8中任一项所述的方法，其特征在于，所述DNS服务器优先级列表包括所述上位机所处位置区的DNS服务器优先级列表、所述上位机的运营商的DNS服务器优先级列表和所有运营商的DNS服务器优先级列表中的至少一种，其中，所述DNS服务器优先级列表的查询次序依次为所述上位机所处位置区的DNS服务器优先级列表、所述上位机的运营商的DNS服务器优先级列表、所有运营商的DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim"> <div num="10" class="claim">
      <div class="claim-text">10.	一种消息处理装置，其特征在于，包括：接收器，用于接收上位机发送的第一域名解析请求消息，所述第一域名解析请求消息携带所述上位机要求解析的域名；存储器，用于存储域名系统DNS服务器优先级列表；处理器，用于根据所述接收器接收的所述第一域名解析请求消息，从所述存储器中获取所述DNS服务器优先级列表，并从所述DNS服务器优先级列表中确定第一 DNS服务器，所述第一 DNS服务器属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合，还用于根据所述第一域名解析请求消息和所述第一 DNS服务器生成第二域名解析请求消息，所述第二域名解析请求消息中携带所述上位机要求解析的域名；发送器，用于向所述第一 DNS服务器发送所述处理器生成的所述第二域名解析请求消肩、ο</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.根据权利要求10所述的装置，其特征在于，所述处理器，还用于根据DNS服务器解析域名的平均解析时间，确定所述DNS服务器优先级列表；所述存储器，还用于存储DNS服务器解析域名的平均解析时间。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求10或11所述的装置，其特征在于，所述处理器，还用于根据DNS服务器解析域名的平均解析时间和解析次数，确定所述DNS服务器优先级列表；所述存储器，还用于存储DNS服务器解析域名的解析次数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求10至12中任一项所述的装置，其特征在于，所述接收器，还用于在预定的时间内接收所述第一 DNS服务器发送的第一域名解析响应消息；所述处理器，还用于确定所述第一域名解析响应消息中的第一 DNS服务器的IP地址是否与所述第一域名解析请求消息中的目标DNS服务器的IP地址相同，并在所述第一域名解析响应消息中的第一 DNS服务器的IP地址不同于所述第一域名解析请求消息中的目标DNS服务器的IP地址时，将所述第一域名解析响应消息中的第一 DNS服务器的IP地址更新成所述第一域名解析请求消息中的目标DNS服务器的IP地址，以生成第二域名解析响应消息；所述发送器，还用于向所述上位机发送所述处理器生成的所述第二域名解析响应消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.根据权利要求13所述的装置，其特征在于，所述处理器还用于：根据所述第二域名解析请求消息和所述第一域名解析响应消息，确定域名解析时间；根据所述域名解析时间，更新所述第一 DNS服务器解析域名的平均解析时间，并更新所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.根据权利要求10至12中任一项所述的装置，其特征在于，所述处理器，还用于在确定在预定的时间内所述接收器未接收到所述第一 DNS服务器发送的第一域名解析响应消息时，从所述DNS服务器优先级列表中，确定第二 DNS服务器，所述第二 DNS服务器属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合或优先级次高的DNS服务器集合，所述处理器还用于根据所述第一域名解析请求消息和第二DNS服务器生成第三域名解析请求消息，所述第三域名解析请求消息中携带所述上位机要求解析的域名；所述发送器，还用于向所述第二 DNS服务器发送所述处理器生成的所述第三域名解析请求消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16.根据权利要求15所述的装置，其特征在于，所述处理器还用于：更新所述第一 DNS服务器解析域名的平均解析时间，并更新所述DNS服务器优先级列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.根据权利要求10至16中任一项所述的装置，其特征在于，所述接收器，还用于接收空中下载OTA消息，所述OTA消息包括更新的DNS服务器的消息；所述处理器，还用于根据所述接收器接收的所述OTA消息，将所述更新的DNS服务器确定为属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.根据权利要求10-17所述的任一项的装置，其特征在于，所述消息处理装置包括无线上网卡或无线上网模块。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.一种消息处理系统，其特征在于，所述消息处理系统包括上位机，以及根据权利要求10至18中任一项所述的消息处理装置，其中，所述上位机用于向所述消息处理装置发送第一域名解析请求消息，所述第一域名解析请求消息携带所述上位机要求解析的域名；所述消息处理装置，用于接收所述上位机发送的所述第一域名解析请求消息，并根据所述第一域名解析请求消息，从域名系统DNS服务器优先级列表中确定第一 DNS服务器，所述第一 DNS服务器属于所述DNS服务器优先级列表中优先级最高的DNS服务器集合，并根据所述第一域名解析请求消息，向所述第一 DNS服务器发送第二域名解析请求消息，所述第二域名解析请求消息携带所述上位机要求解析的域名。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES49824832" lang="ZH" load-source="patent-office" class="description">
    <p>消息处理方法、装置和系统技术领域[0001]	本发明涉及通信领域，并且更具体的，涉及消息处理方法、装置和系统。 背景技术[0002]	目前，用户通过终端上网浏览网站时，大部分的网站都以域名的形式，而不是以互联网协议（Internet Protocol，简称“IP”）地址的形式在用户面前体现。在浏览这些网站的时候，上网终端首先要根据用户要访问的网站，给域名系统（Domain Name System，简称“DNS”）服务器发送域名解析请求消息，以获得域名对应的IP地址，然后根据IP地址访问其对应的网站，与其建立传输控制协议（Transmission Control Protocol，简称“TCP”） 链接，进行超文本传输协议（Hyper Text Transfer Protocol，简称“HTTP”）报文的传送等。例如，在宽带码分多址(Wideband Code Division Multiple Access，简称 “WCDMA”） 的网络制式下，在上网终端与网络侧建立网络连接时，网络侧会根据该终端所在的位置或者其归属的位置，为其指定相应的DNS服务器，一般指定两个，主DNS (ft~imary DNS)和辅 DNS (Secondary DNS)。上网终端在需要访问网络打开网页的时候，首先向主DNS服务器发送域名解析请求消息，如果主DNS服务器没有响应，再向辅DNS服务器发送域名解析请求消肩、ο[0003]	然而，上网终端只能向网络侧指定的DNS服务器发送域名解析请求消息，其接收指定DNS服务器返回的域名解析响应消息的时间可能会比较长，造成网页浏览缓慢，如果网络侧指定的DNS服务器失效，则会造成用户无法进行正常浏览网页。发明内容[0004]	本发明实施例提供一种消息处理方法、装置和系统，能够解决上网终端只能向网络侧指定的DNS服务器发送域名解析请求消息的问题。[0005]	一方面，提供了一种消息处理方法，该方法包括：消息处理装置接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；根据该第一域名解析请求消息，该消息处理装置从域名系统DNS服务器优先级列表中确定第一 DNS服务器，该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合；根据该第一域名解析请求消息，该消息处理装置向该第一 DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。[0006]	另一方面，提供了一种消息处理装置，该装置包括：接收器，用于接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；存储器，用于存储DNS服务器优先级列表；处理器，用于根据该接收器接收的该第一域名解析请求消息，获取存储器中存储的DNS服务器优先级列表，并从该DNS优先级列表中确定第一 DNS服务器，该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合，还用于根据该第一域名解析请求消息和该第一 DNS服务器生成第二域名解析请求消息，该第二域名解析请求消息中携带该上位机要求解析的域名；发送器，用于向该第一 DNS服务器发送该处理器生成的该第二域名解析请求消息。</p>
    <p>[0007]	再一方面，提供了一种消息处理系统，该系统包括：上位机以及消息处理装置，其中，该上位机用于向该消息处理装置发送第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；该消息处理装置，用于接收该上位机发送的该第一域名解析请求消息，并根据该第一域名解析请求消息，从DNS服务器优先级列表中确定第一 DNS 服务器，该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合， 并根据该第一域名解析请求消息，向该第一 DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。</p>
    <p>[0008]	基于以上技术方案，本发明实施例的消息处理方法、装置和系统，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够进一步减少域名解析时间，避免域名解析失败，提升用户的上网体验。</p>
    <p>附图说明</p>
    <p>[0009]	为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍，显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。</p>
    <p>[0010]	图1示出了根据本发明实施例的消息处理方法的示意性流程图；</p>
    <p>[0011]	图2示出了根据本发明另一实施例的消息处理方法的示意性流程图。</p>
    <p>[0012]	图3示出了根据本发明另一实施例的消息处理方法的示意性流程图。</p>
    <p>[0013]	图4示出了根据本发明另一实施例的消息处理方法的示意性流程图。</p>
    <p>[0014]	图5示出了根据本发明实施例的消息处理装置的示意性结构图。</p>
    <p>[0015]	图6示出了根据本发明实施例的消息处理系统的示意性结构图。</p>
    <p>具体实施方式</p>
    <p>[0016]	下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明的一部分实施例，而不是全部实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都应属于本发明保护的范围。</p>
    <p>[0017]	应理解，本发明实施例的技术方案可以应用于各种通信系统，例如：全球移动通讯 (Global System of Mobile communication，简称“GSM，，)系统、码分多址(Code Division Multiple Access，简称“CDMA”)系统、宽带码分多址(Wideband Code Division Multiple Access，简称 “WCDMA”）系统、通用分组无线业务（General Packet Radio Service，简称 “GPRS”）、长期演进(Long Term Evolution，简称 “LTE”）系统、LTE 频分双工(Frequency Division Duplex，简称“FDD”）系统、LTE 时分双工（Time Division Duplex，简称“TDD”）、 通用移动通信系统（Universal Mobile Telecommunication System，简称"UMTS，，）等。</p>
    <p>[0018]	上位机，也可称之为终端、上网终端、用户、用户设备等，可以经接入网与一个或多个核心网进行通信，上位机可以是移动终端，如移动电话（或称为“蜂窝”电话）和具有移动终端的计算机，例如，可以是便携式、袖珍式、手持式、计算机内置的或者车载的移动装置， 它们与接入网交换语言和/或数据。</p>
    <p>[0019]	图1是根据本发明实施例的消息处理方法100的示意性流程图。如图1所示，该方法100包括：</p>
    <p>[0020]	S110、消息处理装置接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；</p>
    <p>[0021]	S120、根据该第一域名解析请求消息，该消息处理装置从域名系统DNS服务器优先级列表中确定第一 DNS服务器，该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合；</p>
    <p>[0022]	S130、根据该第一域名解析请求消息，该消息处理装置向该第一 DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。</p>
    <p>[0023]	消息处理装置在接收到上位机发送的第一域名解析请求消息时，可以从DNS服务器优先级列表中优先级最高的DNS服务器集合中选取DNS服务器，并向该选取的DNS服务器发送第二域名解析请求消息。</p>
    <p>[0024]	因此，根据本发明实施例的消息处理方法，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够减少进一步域名解析时间，避免域名解析失败，并能够提升用户的上网体验。</p>
    <p>[0025]	应理解，在本发明实施例中，优先级最高的DNS服务器集合可以包括一个或多个 DNS服务器，例如，该优先级最高的DNS服务器集合可以由优先级高于网络侧为上位机指定的DNS服务器的DNS服务器组成，或者由优先级高于某一阈值的DNS服务器组成，或者只包括DNS服务器优先级列表中优先级最高的DNS服务器，应根据具体情况而定，本发明实施例并不对此进行限定。</p>
    <p>[0026]	在本发明实施例中，DNS服务器优先级列表可以是静态配置的，例如，根据DNS服务器的硬件配置优劣排序的DNS服务器优先级列表，优先级高的DNS服务器为硬件配置较优的DNS服务器；也可以是基于DNS服务器已解析域名的平均解析时间确定的，例如，可以将DNS解析域名平均解析时间短的DNS服务器确定为优先级较高的DNS服务器，可以根据具体情况而定，本发明实施例并不对此进行限定。</p>
    <p>[0027]	在本发明实施例中，消息处理装置在接收到上位机发送的第一域名解析请求消息后，可以根据该第一域名解析请求消息中的原目标DNS服务器（即为网络侧为该上位机指定的DNS服务器）确定是否属于优先级最高的DNS服务器集合，如果属于DNS服务器优先级最高的DNS服务器集合，则可以直接发送与第一域名解析请求消息具有相同目标DNS服务器的第二域名请求消息；如果原目标DNS服务器不属于DNS服务器优先级最高的DNS服务器集合，则可以从该优先级最高的DNS服务器集合中选取一个DNS服务器，并向新选取的 DNS服务器发送第二域名解析请求消息。</p>
    <p>[0028]	在本发明实施例中，在S120中根据该第一域名解析请求，消息处理装置从DNS服务器列表中确定第一 DNS服务器之前，方法100还可以包括：</p>
    <p>[0029]	基于DNS服务器解析域名的平均解析时间，确定该DNS服务器优先级列表。</p>
    <p>[0030]	在本发明实施例中，DNS服务器优先级列表可以是基于DNS服务器解析域名的平均解析时间确定的，其中，所述的解析时间可以包括DNS服务器接收域名解析请求消息、进行域名解析和返回域名解析响应消息的过程总共耗费的时间。例如，将解析域名的平均解析时间短的DNS服务器确定为优先级较高的DNS服务器；在本发明实施例中，DNS服务器优先级列表也可以是根据DNS服务器解析域名的平均解析时间和解析次数确定的，例如，在平均解析时间相同的两个DNS服务器中，因为解析次数较多的DNS服务器的性能较为稳定， 可以将解析次数较多的DNS服务器确定为优先级更高的DNS服务器，从而能够避免域名解析失败。[0031]	在本发明实施例中，如图2所示，在步骤S130之后，方法100还可以包括：[0032]	S141、在预定的时间内，消息处理装置接收到该第一 DNS服务器发送的第一域名解析响应消息，且该第一域名解析响应消息中的第一 DNS服务器的IP地址不同于该第一域名解析请求消息中的目标DNS服务器的IP地址时，将该第一域名解析响应消息中的第一 DNS服务器的IP地址更新为该第一域名解析请求消息中的目标DNS服务器的IP地址，以生成第二域名解析响应消息；[0033]	S142、消息处理装置向该上位机发送该第二域名解析响应消息。[0034]	S卩，消息处理装置在向第一 DNS服务器发送第二域名解析请求消息的时候，可以启动定时器，若在定时器预定的时间内接收到该DNS服务器发送的第一域名解析响应消息时，可以确定该第一域名解析响应消息中的第一 DNS服务器的IP地址是否与该第一域名解析请求中的目标DNS服务器的IP地址相同；在该第一域名解析响应消息中的第一DNS服务器的IP地址不同于该第一域名解析请求消息中的目标DNS服务器的IP地址时，将该第一域名解析响应消息中的第一 DNS服务器的IP地址更新为该第一域名解析请求消息中的目标DNS服务器的IP地址，以生成第二域名解析响应消息。随后，消息处理装置可以向该上位机发送该第二域名解析响应消息，从而上位机可以识别该第二域名解析响应消息，并根据该第二域名解析响应消息中域名对应的IP地址，访问相应的服务器。[0035]	消息处理装置在确定第一域名解析响应消息中的第一 DNS服务器的IP地址与该第一域名解析请求消息中的目标DNS服务器的IP地址相同时（即，第一 DNS服务器为网络侧为上位机指定的DNS服务器），可以直接将该第一域名解析响应消息发送至上位机，从而上位机可以根据该第一域名解析响应消息中域名对应的IP地址，访问相应的服务器。[0036]	在本发明实施例中，消息处理装置也可以在接收到第一 DNS服务器发送的域名解析响应消息之前，确定第一 DNS服务器的IP地址是否与第一域名解析请求消息中的目标 DNS服务器的IP地址相同，并记录该比较结果，并在接收到第一 DNS服务器发送的第一域名解析响应消息之后，根据记录结果，确定是否更改第一域名解析响应消息中DNS服务器的 IP地址。[0037]	在本发明实施例中，若在预定的时间内，消息处理装置接收到第一 DNS服务器发送的第一域名解析响应消息时，如图2所示，方法100还可以包括：[0038]	S143，消息处理装置根据该第二域名解析请求消息和该第一域名解析响应消息， 确定域名解析时间；[0039]	S144，消息处理装置根据该域名解析时间，更新该第一 DNS服务器解析域名的平均解析时间，并更新该DNS服务器优先级列表。[0040]	消息处理装置若在预定的时间内接收到第一 DNS服务器发送的域名解析响应消息，则可以根据发送第二域名解析请求消息的时间和接收第一域名解析响应消息的时间， 确定此次解析域名的解析时间，从而可以更新第一 DNS服务器解析域名的平均解析时间， 并更新该DNS服务器优先级列表；在本发明实施例中，如果DNS服务器优先级列表不仅是根据DNS服务器解析域名的平均解析时间确定的，还是结合DNS服务器解析域名的解析次数确定的时，信息处理装置还可以更新第一 DNS服务器的解析次数，并根据更新后的解析次数和平均解析时间，更新该DNS服务器优先级列表。</p>
    <p>[0041]	在本发明实施例中，如图3所示，在步骤S130之后，方法100还可以包括：</p>
    <p>[0042]	S145、在预定的时间内，消息处理装置未接收到该第一 DNS服务器发送的第一域名解析响应消息时，从该DNS服务器优先级列表中，确定第二 DNS服务器，该第二 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合或优先级次高的DNS服务器集合；</p>
    <p>[0043]	S146、消息处理装置向该第二 DNS服务器发送第三域名解析请求消息，该第三域名解析请求消息携带该上位机要求解析的域名。</p>
    <p>[0044]	消息处理装置在预定的时间内，如果没有接收到第一 DNS服务器发送的域名解析响应消息时，可以重新选取DNS服务器，例如，假使第一 DNS服务器为优先级最高的DNS服务器，可以选取除第一 DNS服务器之外优先级最高的DNS服务器，假使优先级最高的DNS服务器集合中包括多个DNS服务器时，消息处理装置可以从该优先级最高的DNS服务器集合中选取其他DNS服务器，并向该重新选取的DNS服务器发送域名解析请求，或者当优先级最高的DNS服务器集合中只有第一 DNS服务器时，可以从优先级次高的DNS服务器集合中选取其他DNS服务器，并向该重新选取的DNS服务器发送域名解析请求，从而可以避免DNS服务器解析域名失败，提升用户的体验。</p>
    <p>[0045]	在本发明实施例中，若在预定的时间内，消息处理装置未接收到第一 DNS服务器发送的第一域名解析响应消息时，如图3所示，方法100还可以包括：</p>
    <p>[0046]	S147，消息处理装置更新该第一 DNS服务器解析域名的平均解析时间，并更新该 DNS服务器优先级列表。</p>
    <p>[0047]	S卩，消息处理装置如果在预定的时间内未接收到第一 DNS服务器发送的域名解析响应消息时，可以假定第一DNS服务器的该次解析时间为预定时间，或预定时间的2) 倍，也可以将该次解析域名的解析时间确定为无穷大，从而可以重新确定该DNS服务器解析域名的平均解析时间，并更新DNS服务器优先级列表；在本发明实施例中，如果DNS服务器优先级列表不仅是根据DNS服务器解析域名的平均解析时间确定的，还是结合DNS服务器解析域名的解析次数确定的时，信息处理装置还可以更新第一 DNS服务器的解析次数， 并根据更新后的解析次数和平均解析时间，更新该DNS服务器优先级列表。</p>
    <p>[0048]	在本发明实施例中，方法100还可以包括：</p>
    <p>[0049]	消息处理装置接收空中下载（Over the Air,简称“OTA” )消息，该OTA消息包括更新的DNS服务器的信息；</p>
    <p>[0050]	消息处理装置根据该OTA消息，将该更新的DNS服务器确定为属于该DNS服务器优先级列表中优先级最高的DNS服务器集合。</p>
    <p>[0051]	即，消息处理装置接收到用于指示需要更新DNS服务器的OTA消息后，例如，由网络侧发送的OTA消息，可以将该需要更新的DNS服务器确定为优先级最高的DNS服务器集合，例如，可以将该更新的DNS服务器的解析域名的平均解析时间确定为0，因为0为最短的平均解析时间，因此，可以将该更新的DNS服务器确定优先级最高的DNS服务器，或者确定为属于优先级最高的DNS服务器集合，或者可以确定为上位机当前位置区内优先级最高的 DNS服务器，或者确定为属于上位机当前位置区内优先级最高的DNS服务器集合。因此，上位机进入不同的位置区，网络可以根据需要设置不同的DNS服务器。[0052]	在本发明实施例中，该DNS服务器优先级列表可以包括该上位机所处位置区的 DNS服务器优先级列表、该上位机的运营商的DNS服务器优先级列表和所有运营商的DNS服务器优先级列表中的至少一种，其中，该DNS服务器优先级列表的查询次序依次为该上位机所处位置区的DNS服务器优先级列表、该上位机的运营商的DNS服务器优先级列表、所有运营商的DNS服务器优先级列表。[0053]	为了更加理解本发明，下面将结合图4具体描述根据本发明另一实施例的消息处理方法。[0054]	图4是根据本发明实施例的消息处理方法200的示意性流程图。如图4所示，该方法200包括：[0055]	S201、上位机拨号上网过程中，网络侧为上位机指定用于解析域名的DNS服务器。[0056]	S202、上位机需要访问某网站，向消息处理装置发送域名解析请求消息，其中，该请求消息中携带需要解析的域名，以及网络侧指定的DNS服务器的IP地址。[0057]	S203、消息处理装置根据上位机所处的位置区从DNS服务器优先级列表中选择优先级最高的DNS服务器，例如，DNS服务器1，并向该DNS服务器1发送域名解析请求消息， 该域名解析请求消息中携带需要解析的域名，并在发送该域名解析请求消息的同时，启动定时器。[0058]	S204、消息处理装置在定时器设定的时间内未接收到DNS服务器1发送的域名解析响应消息时，从DNS服务器优先级列表中，选取除DNS服务器1之外该位置区内优先级最高的DNS服务器，例如，DNS服务器2，并向DNS服务器2发送域名解析请求，该域名解析请求消息中携带需要解析的域名，并在发送域名解析请求消息的同时启动定时器。[0059]	S205.DNS服务器2接收到消息处理装置发送的域名解析请求消息时，可以根据该域名解析请求消息，确定域名解析请求消息中携带的域名对应的IP地址，并向该消息处理装置发送域名解析响应消息，该域名解析响应消息中携带DNS服务器要求解析的域名对应的IP地址和DNS服务器2的IP地址。[0060]	S206、在预定的时间内，消息处理装置接收到DNS服务器发送的域名解析响应消息，并确定响应消息中的DNS服务器2的IP地址是否为上位机携带的网络侧指定的DNS服务器的IP地址，如果不是，则将该响应消息中的DNS服务器2的IP地址更新为上位机发送的域名解析请求消息中的DNS服务器的IP地址。消息处理装置向上位机发送域名解析响应消息，以便于上位机可以根据该域名解析响应消息中携带的IP地址访问相应的服务器。[0061]	S207、消息处理装置可以根据此次域名的解析时间，更新DNS服务器2和DNS服务器1的平均域名解析时间和域名解析次数，并更新该DNS服务器优先级列表的优先级排序。[0062]	S208、网络侧需要更新上位机所处位置区的DNS服务器，则向消息处理装置发送 OTA消息，该OTA消息携带更新的DNS服务器的信息。[0063]	S209、消息处理装置在接收到网络侧发送的OTA消息，则可以将该更新的DNS服务器设定为该上位机所处位置区优先级最高的DNS服务器。</p>
    <p>[0064]	应理解，方法200只是本发明的一个实施例中，不应对本发明构成任何限定，例如，消息处理装置在预定的时间内未接收到DNS服务器2的域名解析响应消息时，则可以再次选取DNS服务器，并向该重新选取的DNS服务器发送域名解析请求消息，如果在预定的时间内还未接收到该重新选取的DNS服务器的域名解析响应消息时，则可以再次选取DNS服务器，直到收到DNS服务器发送的域名解析响应消息为止。</p>
    <p>[0065]	还应理解，在本发明的各种实施例中，上述各过程的序号的大小并不意味着执行顺序的先后，各过程的执行顺序应以其功能和内在逻辑确定，而不应对本发明实施例的实施过程构成任何限定，例如，S207中更新DNS服务器1的域名解析时间和域名解析次数可以在S204中选取DNS服务器2之前执行；再例如，S208和S209可以在S201网络侧为上位机分配DNS之前执行。</p>
    <p>[0066]	因此，根据本发明实施例的消息处理方法，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够进一步减少域名解析时间，避免域名解析失败，并能够提升用户的上网体验。</p>
    <p>[0067]	以上已结合图1至图4描述了根据本发明实施例的消息处理方法。以下将结合图 5描述根据本发明实施例的消息处理装置。所述的消息处理装置，具体可以是一个集成的上网模块，也可以是一个无线上网卡，还可以是其他处理域名解析消息的装置、产品。</p>
    <p>[0068]	图5是根据本发明实施例的消息处理装置的示意性框图。如图5所示，装置400 包括：</p>
    <p>[0069]	接收器410，用于接收上位机发送的第一域名解析请求消息，该第一域名解析请求消息携带该上位机要求解析的域名；</p>
    <p>[0070]	存储器420，用于存储DNS服务器优先级列表；</p>
    <p>[0071]	处理器430，用于根据该接收器410接收的该第一域名解析请求消息，从该存储器 420中获取该DNS服务器优先级列表，并从该DNS服务器优先级列表中确定第一 DNS服务器，该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合，还用于根据该第一域名解析请求消息和该第一 DNS服务器生成第二域名解析请求消息，该第二域名解析请求消息中携带该上位机要求解析的域名；</p>
    <p>[0072]	发送器440，用于向该第一 DNS服务器发送该处理器430生成的该第二域名解析请求消息。</p>
    <p>[0073]	因此，根据本发明实施例的消息处理装置，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够进一步减少域名解析时间，避免域名解析失败，并能够提升用户的上网体验。</p>
    <p>[0074]	可选地，该处理器430，还用于根据DNS服务器解析域名的平均解析时间，确定该 DNS服务器优先级列表；</p>
    <p>[0075]	该存储器420，还用于存储DNS服务器解析域名的平均解析时间。</p>
    <p>[0076]	可选地，该处理器430，还用于根据DNS服务器解析域名的平均解析时间和解析次数，确定该DNS服务器优先级列表；[0077]	该存储器420，还用于存储DNS服务器解析域名的解析次数。[0078]	可选地，该接收器410，还用于在预定的时间内接收该第一 DNS服务器发送的第一域名解析响应消息；[0079]	该处理器430，还用于确定该第一域名解析响应消息中的第一 DNS服务器的IP地址是否与该第一域名解析请求消息中的目标DNS服务器的IP地址相同，并在该第一域名解析响应消息中的第一 DNS服务器的IP地址不同于该第一域名解析请求消息中的目标DNS 服务器的IP地址时，将该第一域名解析响应消息中的第一 DNS服务器的IP地址更新成该第一域名解析请求消息中的目标DNS服务器的IP地址，以生成第二域名解析响应消息；[0080]	该发送器440，还用于向该上位机发送该处理器430生成的该第二域名解析响应消息。[0081]	可选地，该处理器430还用于：[0082]	根据该第二域名解析请求消息和该第一域名解析响应消息，确定域名解析时间；[0083]	根据该域名解析时间，更新该第一 DNS服务器解析域名的平均解析时间，并更新该DNS服务器优先级列表[0084]	可选地，该处理器430，还用于在确定在预定的时间内接收器410未接收到该第一	DNS服务器发送的第一域名解析响应消息时，从该DNS服务器优先级列表中，确定第二 DNS服务器，该第二 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合或优先级次高的DNS服务器集合，该处理器还用于根据该第一域名解析请求消息和第二	DNS服务器生成第三域名解析请求消息，该第三域名解析请求消息中携带该上位机要求解析的域名；[0085]	该发送器440，还用于向该第二 DNS服务器发送该处理器430生成的该第三域名解析请求消息。[0086]	可选地，该处理器430还用于：[0087]	更新该第一 DNS服务器解析域名的平均解析时间，并更新该DNS服务器优先级列表。[0088]	可选地，该接收器410，还用于接收空中下载OTA消息，该OTA消息包括更新的DNS 服务器的信息；[0089]	该处理器430，还用于根据该接收器410接收的该OTA消息，将该更新的DNS服务器确定为属于该DNS服务器优先级列表中优先级最高的DNS服务器集合。[0090]	在本发明实施例中，为了描述的简洁，在图5中各个硬件只描述了一个，但是图5 中的各个硬件可以是一个或多个，例如，图中所示的处理器可以是一个微处理器或多个处理单元、芯片的组合，接收器和发送器可以是一个整体的射频元件，也可以由多个射频元件组成，本发明实施例对此并不限定。[0091]	在本发明实施例中，接收器、发送器、处理器和存储器的元件组成具体可以参考现有技术，本发明实施例并不对此进行限定。[0092]	应理解，根据本发明实施例的消息处理装置400可对应于本发明方法实施例中的消息处理装置，装置400的各个硬件或硬件与相应软件的配合所执行的操作可以参考上述图1至图4方法实施例中的方法100至200。为了避免重复，在此不再赘述。[0093]	因此，根据本发明实施例的消息处理装置，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够进一步减少域名解析时间，避免域名解析失败，并能够提升用户的上网体验。[0094]	图6是根据本发明实施例的消息处理系统，如图6所示，该系统包括：上位机510 以及消息处理装置520，其中，该上位机510用于向该消息处理装置发送第一域名解析请求消息，该第一域名解析请求消息携带该上位机510要求解析的域名；[0095]	该消息处理装置520，用于接收该上位机510发送的该第一域名解析请求消息，并根据该第一域名解析请求消息，从域名系统DNS服务器优先级列表中确定第一 DNS服务器， 该第一 DNS服务器属于该DNS服务器优先级列表中优先级最高的DNS服务器集合，并根据该第一域名解析请求消息，向该第一 DNS服务器发送第二域名解析请求消息，该第二域名解析请求消息携带该上位机要求解析的域名。[0096]	根据本发明实施例的消息处理装置520可对应于本发明装置实施例的中的消息处理装置400，为了简洁，在此不再赘述。[0097]	根据本发明实施例的消息处理装置520可以对应于多个上位机510，即，一个消息处理装置可以为处理多个上位机的域名解析请求消息，可以根据具体情况而定，本发明实施例并不对此进行限定。[0098]	根据本发明实施例的消息处理装置可以为无线网卡、接入点、也可以是上位机中的模块，所述的消息处理器系统，可以是包含有无线上网模块的手机、平板电脑、计算机或者其他具备上网功能的机器，本发明实施例并不对此进行限定。[0099]	因此，根据本发明实施例的消息处理系统，通过从DNS服务器优先级列表中优先级最高的DNS服务器集合中确定DNS服务器，能够灵活选取用于解析域名的DNS服务器，避免只能采用网络侧指定的DNS服务器解析域名，从而能够进一步减少域名解析时间，避免域名解析失败，并能够提升用户的上网体验。[0100]	本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元及算法步骤，能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。[0101]	所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、 装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。[0102]	在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。[0103]	所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。</p>
    <p>[0104]	另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。</p>
    <p>[0105]	所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备（可以是个人计算机，服务器，或者网络设备等)执行本发明各个实施例所述方法的全部或部分步骤。 而前述的存储介质包括：U盘、移动硬盘、只读存储器（ROM，Read-only Memory)、随机存取存储器（RAM，Random Access Memory)、磁碟或者光盘等各种可以存储程序代码的介质。</p>
    <p>[0106]	以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101631133A?cl=zh">CN101631133A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年7月15日</td><td class="patent-data-table-td patent-date-value">2010年1月20日</td><td class="patent-data-table-td ">华为技术有限公司;中国移动通信集团公司</td><td class="patent-data-table-td ">一种域名解析系统、设备及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101841577A?cl=zh">CN101841577A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月7日</td><td class="patent-data-table-td patent-date-value">2010年9月22日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种实现域名解析代理功能的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20060039352">US20060039352</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年8月19日</td><td class="patent-data-table-td patent-date-value">2006年2月23日</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">System and method for designating a priority access order of domain name service servers</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102821171A?cl=zh">CN102821171A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月29日</td><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">网宿科技股份有限公司</td><td class="patent-data-table-td ">通过域名服务提供者进行dns重定向的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102821171B?cl=zh">CN102821171B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月29日</td><td class="patent-data-table-td patent-date-value">2015年5月27日</td><td class="patent-data-table-td ">网宿科技股份有限公司</td><td class="patent-data-table-td ">通过域名服务提供者进行dns重定向的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103002069A?cl=zh">CN103002069A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月25日</td><td class="patent-data-table-td patent-date-value">2013年3月27日</td><td class="patent-data-table-td ">北京小米科技有限责任公司</td><td class="patent-data-table-td ">一种域名解析方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103051740B?cl=zh">CN103051740B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月13日</td><td class="patent-data-table-td patent-date-value">2016年4月20日</td><td class="patent-data-table-td ">上海牙木通讯技术有限公司</td><td class="patent-data-table-td ">域名解析方法、dns服务器及域名解析系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103327135A?cl=zh">CN103327135A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月27日</td><td class="patent-data-table-td patent-date-value">2013年9月25日</td><td class="patent-data-table-td ">贝壳网际（北京）安全技术有限公司</td><td class="patent-data-table-td ">域名解析方法、装置及客户端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013131472A1?cl=zh">WO2013131472A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年3月6日</td><td class="patent-data-table-td patent-date-value">2013年9月12日</td><td class="patent-data-table-td ">Huawei Device Co., Ltd.</td><td class="patent-data-table-td ">消息处理方法、装置和系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029120000">H04L29/12</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L61/1511">H04L61/1511</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=t6iDBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L61/6013">H04L61/6013</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年7月11日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2015年12月2日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/0f61f4242599248805b8/CN102572014A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95_%E8%A3%85%E7%BD%AE%E5%92%8C%E7%B3%BB%E7%BB%9F.pdf?id=t6iDBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U39nVVhLEuyjw40aotWD10anjc8_w"},"sample_url":"https://www.google.com/patents/reader?id=t6iDBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>