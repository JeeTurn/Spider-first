<!DOCTYPE html><html><head><title>专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="基于flex技术在电信移动业务事务交换监控方法"><meta name="DC.contributor" content="余志刚" scheme="inventor"><meta name="DC.contributor" content="孙力斌" scheme="inventor"><meta name="DC.contributor" content="官进锋" scheme="inventor"><meta name="DC.contributor" content="陈进忠" scheme="inventor"><meta name="DC.contributor" content="南京联创科技集团股份有限公司" scheme="assignee"><meta name="DC.date" content="2009-9-16" scheme="dateSubmitted"><meta name="DC.description" content="基于flex技术在电信移动业务事务交换数据的监控方法，对电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图的形式同时展现最近1±0.5小时内枢纽各业务总业务量、系统异常量和总异常量的变化趋势；后台取出各业务总业务量、系统异常量和总异常量数据进行实时刷新和定时刷新；枢纽拓扑视图监控：多窗口视图主要展现的是最近一段时间个业务业务量异常量的总量的变化趋势；基于flex?message的后台驱动实时告警：通过JMS消息适配器使得Flex消息与java消息交互，Java消息发布者订阅者也做为Flex的客户端，这样Java对象向Flex应用发布消息。"><meta name="DC.date" content="2010-4-7"><meta name="citation_patent_publication_number" content="CN:101692736:A"><meta name="citation_patent_application_number" content="CN:200910034965"><link rel="canonical" href="https://www.google.com/patents/CN101692736A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101692736A?cl=zh"/><meta name="title" content="专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法"/><meta name="description" content="基于flex技术在电信移动业务事务交换数据的监控方法，对电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图的形式同时展现最近1±0.5小时内枢纽各业务总业务量、系统异常量和总异常量的变化趋势；后台取出各业务总业务量、系统异常量和总异常量数据进行实时刷新和定时刷新；枢纽拓扑视图监控：多窗口视图主要展现的是最近一段时间个业务业务量异常量的总量的变化趋势；基于flex?message的后台驱动实时告警：通过JMS消息适配器使得Flex消息与java消息交互，Java消息发布者订阅者也做为Flex的客户端，这样Java对象向Flex应用发布消息。"/><meta property="og:title" content="专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101692736A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101692736A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=i0N8BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101692736A&amp;usg=AFQjCNHf9v1_gRXKEdlXAuXle9M0IUcECA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/b97e845982d6e54bd9b8/CN101692736A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/b97e845982d6e54bd9b8/CN101692736A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101692736A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101692736A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101692736A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101692736B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101692736A?cl=zh" style="display:none"><span itemprop="description">基于flex技术在电信移动业务事务交换数据的监控方法，对电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图的形式同时展现最近1±0.5小时内枢纽各业务总业务量、系统异常量和总异常量的变化趋势；后台取出 ...</span><span itemprop="url">https://www.google.com/patents/CN101692736A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法" title="专利 CN101692736A - 基于flex技术在电信移动业务事务交换监控方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101692736 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200910034965</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2010年4月7日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2009年9月16日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2009年9月16日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101692736B?hl=zh-CN&amp;cl=zh">CN101692736B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200910034965.1, </span><span class="patent-bibdata-value">CN 101692736 A, </span><span class="patent-bibdata-value">CN 101692736A, </span><span class="patent-bibdata-value">CN 200910034965, </span><span class="patent-bibdata-value">CN-A-101692736, </span><span class="patent-bibdata-value">CN101692736 A, </span><span class="patent-bibdata-value">CN101692736A, </span><span class="patent-bibdata-value">CN200910034965, </span><span class="patent-bibdata-value">CN200910034965.1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BD%99%E5%BF%97%E5%88%9A%22">余志刚</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AD%99%E5%8A%9B%E6%96%8C%22">孙力斌</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AE%98%E8%BF%9B%E9%94%8B%22">官进锋</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%99%88%E8%BF%9B%E5%BF%A0%22">陈进忠</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%97%E4%BA%AC%E8%81%94%E5%88%9B%E7%A7%91%E6%8A%80%E9%9B%86%E5%9B%A2%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">南京联创科技集团股份有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101692736A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101692736A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101692736A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=i0N8BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200910034965&amp;usg=AFQjCNHuFJ2ZjYCJHZDr5ASN-NfEDXhNQQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=i0N8BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101692736A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFiafH6MAw6UF66HjTvHsQQgC_FKg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT94752391" lang="ZH" load-source="patent-office">基于flex技术在电信移动业务事务交换监控方法</invention-title>
      </span><br><span class="patent-number">CN 101692736 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA76598720" lang="ZH" load-source="patent-office">
    <div class="abstract">基于flex技术在电信移动业务事务交换数据的监控方法，对电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图的形式同时展现最近1±0.5小时内枢纽各业务总业务量、系统异常量和总异常量的变化趋势；后台取出各业务总业务量、系统异常量和总异常量数据进行实时刷新和定时刷新；枢纽拓扑视图监控：多窗口视图主要展现的是最近一段时间个业务业务量异常量的总量的变化趋势；基于flex?message的后台驱动实时告警：通过JMS消息适配器使得Flex消息与java消息交互，Java消息发布者订阅者也做为Flex的客户端，这样Java对象向Flex应用发布消息。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(1)</span></span></div><div class="patent-text"><ol mxw-id="PCLM31600528" lang="ZH" load-source="patent-office" class="claims">
    <li class="claim"> <div num="1" class="claim">
      <div class="claim-text">基于flex技术在电信移动业务事务交换数据的监控方法，其特征是1)对电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图的形式同时展现最近1±0.5小时内枢纽各业务总业务量、系统异常量和总异常量的变化趋势；维护人员看出整个枢纽系统最近一段时间各业务的运行情况：具体步骤是，按小时统计的主数据进入；业务数据触发，从后台取出各业务总业务量、系统异常量和总异常量数据；前台以拓扑视图的形式显示；后台取出各业务总业务量、系统异常量和总异常量数据进行实时刷新和定时刷新；电信移动业务枢纽建有业务量异常量的统计模型，每笔业务交易都将刷新统计数据，时间粒度控制在分钟级别上，前台界面上可根据需要再提取并统计指定时间段内指定业务的业务量或者异常量；使用三种不同的颜色渲染曲线，分别表示总业务量，总系统异常量，总业务异常量；2)枢纽拓扑视图监控：多窗口视图主要展现的是最近一段时间个业务业务量异常量的总量的变化趋势，关注的各业务大致的运行情况，而拓扑视图关注的是某项业务下各省份的统计对比情况，以及该业务某个省份的发起业务，以及作为落地方业务的统计情况；使用拓扑图形的展现形式直观地反映省系统与枢纽交互的过程与运行情况；这里使用了基于Flex第三方开源的birdeye?RaVis关系分析图形控件来构造拓扑视图；3)基于flex?message的后台驱动实时告警；Flex通过消息适配器使Flex程序向JMS主题与队列订阅消息，JMS是Java平台上有关面向消息中间件的技术规范；Java程序将消息发送到Flex，利用这种机制可以实现后台驱动前台数据更新；监控中一旦发现异常，就立即将告警发送给前台界面来展示。而不需前台不停地请求后台数据来监听异常；基于flex消息服务的后台驱动实时告警：Flex具有消息服务机制，通过JMS消息适配器使得Flex消息与java消息交互，Java消息发布者订阅者也做为Flex的客户端，这样Java对象向Flex应用发布消息，或对Flex应用发布的消息做出响应；实际应用中在flex客户端创建消息组件Consumer，接收来自接收点java消息服务端Producer发送的消息；Flex的消息服务机制：由后台驱动前台数据刷新，后台线程定时统计数据，再将数据以增量的方式推送给前台，前台只保存一段时间范围内的数据，避免了重复加载，并提高了数据更新的实时性；后台线程再根据业务告警阈值，来判断当前系统或业务的运行状态，需要的时候向前台特定的消息接收点发送告警信息。</div>
    </div>
  </li> </ol>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES37013549" lang="ZH" load-source="patent-office" class="description">
    <p>基于f lex技术在电信移动业务事务交换监控方法</p>
    <p>一、 技术领域</p>
    <p>[0001]    本发明涉及flex技术在电信全国移动业务事务交换（枢纽系统）监控上的应用。</p>
    <p>二、 背景技术</p>
    <p>[0002] 传统的电信全国移动业务事务交换监控系统，主要是采用B/S架构，JSP或者 PHP等动态脚本语言，以javascript结合SVG或者VML图形技术动态作出曲线柱状等统 计分析图形界面的来展现数据关系。按一定的时间频率使用ajax请求后台生成监控数据 来局部刷新前台的图形视图。</p>
    <p>[0003] 这种开发方式受客户端javascript的限制，需要做大量的二次开发，开发出符合 系统需求的图形展现，比如柱状图、饼图、趋势图等等，但是这样开发出的图形展现效 果较单一，用户交互体验差。开发的时候还要注意不同的浏览器之间javascript, css不兼 容的问题，需要做许多额外的工作。开发调试javascript也十分繁琐。为达到尽量实时 的监控，频繁的采集后台数据也给后台服务器造成了压力，甚至可能对其监控的系统造 成影响，也占用了大量的网络带宽资源。</p>
    <p>[0004]    flex是Adobe公司开发出来的基于Flash的客户端技术，相比传统的html具有无 可比拟的用户体验，它封装好了一些常用的UI控件，以及诸如字段验证，行为特效等， 开发人员使用起来十分方便，还可以根据需要扩展自定义组件来满足自己的需要。 [0005]    Flex的优势，还在于跨平台性、浏览器应用系统无关，只需要浏览器里有flash player就可以，而绝大部分的浏览器里装有flash player。所以传统web html开发所面临 的十分繁琐的跨浏览器CSS， javascript兼容性问题，使用flex不会遇到。 [0006]    监控常常是在一定业务规则下展现的告警，通过图形来展现可以很直观地看出 数据关系，量化比较等。传统的web在图形视图的开发上非常的繁琐，需要耗费大量的 人力，而开发出来的监控展现用户交互体验性不好。flex自身封装的图形控件以及开源 社区里有许多第三方图形控件可以很好的实现数据的图形化展现，加上flex本身良好的 交互体验特性，可以作为监控图形展现很好的解决方案。有效提高了开发人员的开发效 率。</p>
    <p>[0007] 电信枢纽系统面对的是全国电信业务的综合交换，快速准确的发现定位并且解 决问题，是保障系统正常运行，保障全国电信业务交换业务支撑正常开展的需要。因 此，准确高效的监控也是系统的重要组成部分。</p>
    <p>三、 发明内容</p>
    <p>[0008] 本发明目的是：针对传统web监控实现机制的缺点，本发明使用flex作为前端 的展现技术，提出一种基于flex技术在电信移动业务事务交换监控上的应用方法。利用 Flex的技术特点加上系统针对电信业务的特点设计的事件告警计划，也有利于维护人员 从多角度发现问题，快速分析定位问题，协调解决问题。</p>
    <p>[0009]    本发明的技术方案是：基于flex技术在电信移动业务事务交换数据的监控方法，</p>
    <p>[0010] (1)、电信移动业务的枢纽业务综合监控时，使用多个面板窗口以拓扑视图（曲 线图）的形式在同一个界面上像仪表盘（dashboard) &#8212;样并排同时展现最近1±0。 5小时 内枢纽各业务总业务量，总异常量的变化趋势；维护人员看出整个枢纽系统最近一段时 间各业务的大体运行情况。</p>
    <p>[0011]     图l使用多个面板窗口以拓扑视图在同一个界面上显示的具体流程图，图l如下</p>
    <p>所示：</p>
    <p>[0012] 枢纽系统建有业务量异常量的统计模型，每笔业务交易都将刷新统计数据，时 间粒度控制在分钟级别上，前台界面上可根据需要再提取并统计指定时间段内指定业务 的业务量或者异常量。例如，多窗口视图中，每个窗口展现一种业务一段时间比如最近 一小时的运行状况，就可以取出这段时间内相应业务的统计量来展现。多窗口视图，主 要是为了使维护人员能比较直观的在一个页面内看到系统最近一段时间内大致的运行情 况，业务量异常量变化趋势，选用曲线图方式来展现比较直观，使用三种不同的颜色渲 染曲线，分别表示总业务量，总系统异常量，总业务异常量，用户可以通过界面上的功 能设置，设置关注的时间范围。总系统、总业务异常量设定可以根据时间统计模型获 得，如高于正常时间段10%则判断异常。多窗口视图每个窗口可以最大化，最小化， 可关闭，就如同windows操作系统一样管理窗口。这样用户就可以详细查看某种业务的 运行状况，或者隐去不关注的业务。后台线程会每隔一分钟取一下最近一分钟的统计数 据，发送到前台缓存的统计数据里，视图也随之变化。缓存里超出最大时间范围内的统 计数据将被删除。</p>
    <p>[0013] (2)、枢纽系统拓扑视图监控：多窗口视图主要展现的是最近一段时间个业务业 务量异常量的总量的变化趋势，关注的各业务大致的运行情况，而拓扑视图关注的是某 项业务下各省份的统计对比情况，以及该业务某个省份的发起业务，以及作为落地方业 务的统计情况。使用拓扑图形的展现形式直观地反映省系统与枢纽交互的过程与运行情</p>
    <p>况；这里使用了基于Flex第三方开源的birdeye RaVis关系分析图形控件来构造拓扑关系 图；每个拓扑节点表示省份系统或者枢纽平台。节点文字使用向上向下的箭头图标表示 发起或者作为落地方业务类型，箭头图标旁边标以当前的业务统计数据。点击某个节点 再显示该省份系统某时间范围内的业务、异常统计详情。具体流程图如图2。 [0014] (3)、基于flex message的后台驱动实时告警；Flex具有消息服务机制，它通过消 息适配器使Flex程序向JMS主题与队列订阅消息，JMS(Java Messaging Service)是Java平 台上有关面向消息中间件的技术规范；这样Java程序就可以将消息发送到Flex。利用这 种机制可以实现后台驱动前台数据更新。监控中一旦发现异常，就立即将告警发送给前 台界面来展示。而不需前台不停地请求后台数据来监听异常；</p>
    <p>[0015] 基于flex消息服务的后台驱动实时告警；Flex具有消息服务机制，由其自身提 供的客户端API以及相应的服务端消息服务来创建Flex消息服务，例如通过JMS消息适 配器使得Flex消息可以与Java消息交互，Java消息发布者订阅者也可以做为Flex的客 户端，这样Java对象可以向Flex应用发布消息，也可以对Flex应用发布的消息做出响 应。实际应用中在flex客户端创建消息组件Consumer,接收来自接收点Java消息服务端 Producer发送的消息。[0016] 在本监控系统中，由于涉及到的业务数据众多，而且要求能尽量实时的展现系 统的运行状态，如果按照传统的web刷新机制，如果不能很好的管理控制数据的加载， 频繁地请求后台数据，很可能导致系统耗用大量的带宽资源，系统响应缓慢，甚至浏览 器缓存不足崩溃等等。因此本系统中利用Flex的这种消息服务机制，由后台驱动前台数 据刷新，后台线程定时统计数据，再将数据以增量的方式推送给前台，前台只保存一段 时间范围内的数据，避免了重复加载，并提高了数据更新的实时性。后台线程再根据业 务告警阈值，来判断当前系统或业务的运行状态，需要的时候向前台特定的消息接收点 发送告警信息。</p>
    <p>[0017]    (4)、基于flex的界面展现</p>
    <p>[0018]    Flex的组件机制与数据绑定机制，使得开发人员可以最大限度的做到组件重 用，或者根据需要做适当的扩展即可。数据绑定机制使得开发人员无需对变化的数据再 做逻辑处理来刷新视图。flex内部的机制可以监听数据的变化，做到视图的同步更新。 这样开发人员可以专注于视图的展现，行为的控制处理，而不是业务数据的转换处理展 示。</p>
    <p>[0019] (5)、基于flex的监控图形展现，Flex自带的一些图表控件，如曲线图，柱状 图，饼图等的控件使用，使维护人员可以观察到业务量的变化趋势，系统间数据量的对 比分析。</p>
    <p>[0020]    (6)、枢纽系统的告警通知事件计划，枢纽系统定义了一套事件计划机制。或者 实时或者定时将枢纽系统的异常信息或者与各省的事务交换过程中的异常业务反馈给枢 纽以及省系统维护人员。反馈的方式有邮件、短信或者及时通。 [0021]     (7)、枢纽业务、性能统计监控</p>
    <p>[0022] 针对枢纽系统与各省之间事务交换海量的数据，以及系统维护人员关注的业务 对象。枢纽设计了在海量业务数据中快速统计业务量异常量的模型，以便维护人员尽 快地了解各省系统的运行状况，也便于集团公司对各业务做全局分析，来做业务决策规 划。</p>
    <p>[0023]     (3)有益效果：</p>
    <p>[0024]     &#21443;使用flex做前台开发，后台仍然可以沿用j2ee的开发架构，前台的界面架构具</p>
    <p>有良好的可移植性。</p>
    <p>[0025] &#21443;基于flex message的后台驱动机制，改变了传统的客户端不停的请求后台数据 的监控模式，减少了带宽资源的浪费，并且提高了实时性。使维护人员可以及时地发现 问题。</p>
    <p>[0026] &#21443;基于组件开发，以及flex布局方式，使得界面开发的效率较高，开发人员可 以将开发的重点转移到业务相关的开发实现上。</p>
    <p>[0027]     &#21443;Flex的图形控件，具有良好的界面交互特性，可以非常直观地体现数据在监</p>
    <p>控逻辑上的关系，开发人员不需要再做二次开发，直接将图形元素绑定数据即可。</p>
    <p>[0028] &#21443;针对电信事务交换系统的监控告警事件计划机制可以帮助维护运营人员保障</p>
    <p>系统正常稳定的运行。四、 附图说明</p>
    <p>[0029]      图1使用多个面板窗口以拓扑视图在同一个界面上显示的流程图，</p>
    <p>[0030]     图2是枢纽系统拓扑视图监控的流程图，图3是整个事件计划处理过程的流程图。</p>
    <p>五、 具体实施方式</p>
    <p>[0031]      1、枢纽系统业务综合监控</p>
    <p>[0032] 为使维护人员对系统所有业务的最近一段时间运行状况有一个全局的把握，在 主监控界面使用多窗口界面，在每个窗口中以曲线图的形式同时展现最近一个小时内枢 纽各业务总业务量，总异常量的变化趋势。维护人员只要打开这个页面就可以知道枢纽 最近一段时间的运行状况，前台界面定时到后台取数据，曲线图控件绑定数据，及时更 新变化，刷新频率可以由用户来设定。用户可以最大最小化窗口来关注某些业务。 [0033]     2、枢纽系统拓扑视图监控</p>
    <p>[0034] 拓扑视图有助于枢纽系统与省公司在业务过程中发起方、落地方关系的表示。 这里使用了基于Flex的birdeye raVis关系图分析控件来展现。初始化的时候指定当前关 注业务下有哪些系统可以关注，运行时可以动态地显示隐藏系统，以便关注某些特定的 系统。拓扑图在显示隐藏或者初始加载的时候可以动态的改变布局拓扑节点在界面上的 位置。节点上使用向上向下的图标展现业务的交易方向，节点数据即该系统的当前关注 业务下当天的业务量。点击选中某个节点可以在旁边的业务详情面板中展现选中系统最 近的业务量，这个面板可由用户拖动到合适的位置，或改变大小。 [0035]    3、基于flex message的后台驱动实时告警</p>
    <p>[0036] Flex具有消息服务机制，消息适配器是扮演Flex消息服务与其他的消息系统之 间管道的代码。Java程序可以将消息发送到Flex，实现后台驱动前台数据更新。 [0037] 系统中我们在前台flex程序的配置文件中配置一个适配器，建立与后台连通的 通信通道（channel)。后台编写Java线程在不停地监听监控数据，前端flex订阅了这个消 息。 一旦有异常消息的产生，producer将把异常消息推送给前端来展现。这样用户只要 开着系统实时告警的功能页面，只要有异常信息就能够实时地被告知，并且及时地做处 理。枢纽系统维护人员使用这个机制关注各省系统发的单子是否存在异常单。 [0038]    4、基于flex的界面展现</p>
    <p>[0039] Flex的数据绑定机制，是flex内部可以侦听数据的变化， 一旦数据发生变化，会 更新数据关联的视图。传统的html页面，需要开发人员自己编写代码，根据变化了的数 据做视图的更新。数据绑定机制使得开发人员无需对变化的数据再做逻辑处理来刷新视 图。Flex的基于组件开发机制使得用户可以重用组件，用户可以直接使用flex丰富的UI 库，或者其他自定义的控件来构建自己的页面。通常这些控件都已经根据一些常用的需 求做了功能的封装，例如使用了 flex的表格控件，点击表头（columnHeader)的时候可以根 据这一列对数据进行排序；后台数据加载的时候，显示一个时钟的忙状态鼠标；多窗口 视图组件等。</p>
    <p>[0040]     5、基于flex的监控图形展现[0041]     枢纽系统维护人员需要关注枢纽以及各省系统业务量的变化，异常单子数量， 对比各省各业务的交易状况等等，Flex自带的一些图表控件，如曲线图，柱状图，饼图 等的控件使用，使维护人员可以观察到业务量的变化趋势，系统间数据量的对比分析。 程序实现上，只需在界面上定义好图标控件，指明需要关注的字段，加载数据到前台， 绑定即可。图表上面的一些如坐标轴刻度值、饼图占比、图例等都由flex自己计算生 成。</p>
    <p>[0042]     6、枢纽系统的告警通知事件计划</p>
    <p>[0043] 告警通知事件分为实时监控的告警以及计划通知事件。实时告警针对系统运行 环境、各省系统联通状况性能状况等异常的监控，以及针对枢纽、省系统之间事务交换 过程中各种各样的业务异常单子的监控。这些监控需要维护人员及时的发现并及时的处 理，避免出现宕机、堵单、非法攻击等影响枢纽事务交换系统正常运行的状况出现；计 划事件告警针对枢纽系统与省系统交互过程中的通知、提醒，可以是维护人员的通知， 或者是程序根据一定规则产生的警告提醒。</p>
    <p>[0044] 事件计划的添加通过系统管理界面来实现。配置该事件计划需要配置关注的是 哪个系统哪个业务，是成功的还是失败的。配置关注时长、关注时长下告警阈值统计量 区间，以及关注的指标类型（总业务量，总异常量，性能统计量等）。不同的业务在不同 的时段时长内是不一样的，甚至可能是几个数量级的差别。所以需要针对不同的业务不 同的时段时长做不同的告警计划。</p>
    <p>[0045] 维护人员还需要配置该事件计划的触发类型。当前枢纽系统设计的触发类型主 要有时钟触发、关注触发两类。时钟触发是指实时去扫描业务统计表以及告警阈值配置 表，来判断是否有需要告警。由于时钟关注是实时的侦听关注，同一个时刻内可能重复 的发送一样的告警内容，程序中将做重复发送的告警判断，避免用一个告警时长内重复 的发送。关注触发是根据维护人员设定的计划安排来发送告警通知内容，不需要做重复 发送的判断。</p>
    <p>[0046] 不管是实时触发告警还是关注触发告警，系统都将记录告警发出事件，记录其 时间，内容以及发出后的处理状态，处理状态由维护人员通过界面上的操作来修改状 态。</p>
    <p>[0047]     整个事件计划处理过程的流程图（图3)如下： [0048]     7、枢纽业务、性能统计监控</p>
    <p>[0049] 枢纽系统根据维护，统计的需要设计了业务当天、历史业务量统计表，业务量 统计的关键指标包括总业务量，总系统异常量、总业务异常量，异常处理完成量（记录维 护人员当天异常的处理量），这几项指标可以帮助维护了解系统业务交易运行状况，或者 业务运营维护人员做业务的对比分析总结。</p>
    <p>[0050] 对于全国海量业务的交换，枢纽与各省系统之间的事务交换过程中的性能状 况，也是维护人员非常关注的一个指标。枢纽系统设计了针对性能的监控统计表，关键 指标包括：总时长，平均时长，请求转发总时长，请求转发平均时长，落地总时长，落 地平均时长等。</p>
    <p>[0051]     在枢纽与各系统的交互过程中每一笔交互在枢纽系统中，都会做完整的记录， 包括原始的交易报文，每一个步骤的发生时间等，都有一个完整的事务过程，以保证正常交易顺利正确的完成。这个过程中记录的时间，包括单子在枢纽内部处理的时间，枢 纽向落地方请求的时间，作为本次交易的性能衡量指标。</p>
    <p>[0052] 在成功完成一次交易后，表触发器会根据完成的状态往当天业务统计表里添加 一条记录。统计表以一分钟作为统计粒度。前台展现的时候以时间维度、系统、业务维 度，不同的时间粒度来展现统计数据，生成不同的统计报表。</p>
    <p>[0053] 表触发器触发执行的代码里还会根据计算出来的性能数据，往当天的性能统计 表里新增一条性能统计数据。到凌晨0点的时候，系统将会把当天的表数据清到历史表 里去。在当天表里只有当天的业务量、性能统计数据，为求前台监控展现的效率。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102012817A?cl=zh">CN102012817A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月1日</td><td class="patent-data-table-td patent-date-value">2011年4月13日</td><td class="patent-data-table-td ">南京工业大学</td><td class="patent-data-table-td ">基于Flex技术大型公建能耗监测平台的开发方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102012817B?cl=zh">CN102012817B</a></td><td class="patent-data-table-td patent-date-value">2010年12月1日</td><td class="patent-data-table-td patent-date-value">2014年4月9日</td><td class="patent-data-table-td ">南京工业大学</td><td class="patent-data-table-td ">基于Flex技术大型公建能耗监测平台的开发方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102236709A?cl=zh">CN102236709A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年7月1日</td><td class="patent-data-table-td patent-date-value">2011年11月9日</td><td class="patent-data-table-td ">南京中兴力维软件有限公司</td><td class="patent-data-table-td ">一种基于Flex的监控页面显示方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102739461A?cl=zh">CN102739461A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年4月8日</td><td class="patent-data-table-td patent-date-value">2012年10月17日</td><td class="patent-data-table-td ">深圳市金蝶中间件有限公司</td><td class="patent-data-table-td ">基于flex的获取后台数据的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103186516A?cl=zh">CN103186516A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月29日</td><td class="patent-data-table-td patent-date-value">2013年7月3日</td><td class="patent-data-table-td ">广州市中海达测绘仪器有限公司</td><td class="patent-data-table-td ">一种生成监测图表的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103793309A?cl=zh">CN103793309A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年10月29日</td><td class="patent-data-table-td patent-date-value">2014年5月14日</td><td class="patent-data-table-td ">中国移动通信集团浙江有限公司</td><td class="patent-data-table-td ">一种批量业务预警方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=i0N8BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0088180000">H04W88/18</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=i0N8BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0024000000">H04W24/00</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2010年4月7日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年5月26日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年8月29日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/b97e845982d6e54bd9b8/CN101692736A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9F%BA%E4%BA%8Eflex%E6%8A%80%E6%9C%AF%E5%9C%A8%E7%94%B5%E4%BF%A1%E7%A7%BB%E5%8A%A8%E4%B8%9A%E5%8A%A1%E4%BA%8B.pdf?id=i0N8BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2YnNS2ZCQOAen2ZNEBWKyzFJVpUQ"},"sample_url":"https://www.google.com/patents/reader?id=i0N8BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>