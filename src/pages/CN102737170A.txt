<!DOCTYPE html><html><head><title>专利 CN102737170A - 一种USB key安全芯片及语音USB key -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种USB key安全芯片及语音USB key"><meta name="DC.contributor" content="苗欣" scheme="inventor"><meta name="DC.contributor" content="杭州晟元芯片技术有限公司" scheme="assignee"><meta name="DC.date" content="2011-4-8" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种USBkey安全芯片及语音USBkey，在USB安全芯片中设置存储模块和语音模块，存储模块用于存储预设语音数据；语音模块用于将存储模块中的语音数据和待签名数据转换为语音信号，并通过I/O接口进行输出。形成包含语音功能的USB安全芯片。从而能够通过单芯片实现带语音功能且可以反复修改语音数据的USBkey，无需使用多个芯片及其大量外围电路，降低USBkey生产成本和系统复杂度。且相对于多芯片USBkey，单芯片USBkey无需考虑芯片之间的通讯和可能出现的冲突，编程时更加简单。由于存储模块可反复修改语音数据，从而在进行语音升级时，只需更新语音源和相应固件即可，不需要语音芯片提供商重新烧录，降低USBkey产品维护和升级成本。"><meta name="DC.date" content="2012-10-17"><meta name="DC.relation" content="CN:101009562:A" scheme="references"><meta name="DC.relation" content="CN:101013942:A" scheme="references"><meta name="DC.relation" content="CN:101729595:A" scheme="references"><meta name="DC.relation" content="CN:101819614:A" scheme="references"><meta name="DC.relation" content="CN:1889419:A" scheme="references"><meta name="DC.relation" content="EP:2251812:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102737170:A"><meta name="citation_patent_application_number" content="CN:201110088323"><link rel="canonical" href="https://www.google.com/patents/CN102737170A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102737170A?cl=zh"/><meta name="title" content="专利 CN102737170A - 一种USB key安全芯片及语音USB key"/><meta name="description" content="本发明公开了一种USBkey安全芯片及语音USBkey，在USB安全芯片中设置存储模块和语音模块，存储模块用于存储预设语音数据；语音模块用于将存储模块中的语音数据和待签名数据转换为语音信号，并通过I/O接口进行输出。形成包含语音功能的USB安全芯片。从而能够通过单芯片实现带语音功能且可以反复修改语音数据的USBkey，无需使用多个芯片及其大量外围电路，降低USBkey生产成本和系统复杂度。且相对于多芯片USBkey，单芯片USBkey无需考虑芯片之间的通讯和可能出现的冲突，编程时更加简单。由于存储模块可反复修改语音数据，从而在进行语音升级时，只需更新语音源和相应固件即可，不需要语音芯片提供商重新烧录，降低USBkey产品维护和升级成本。"/><meta property="og:title" content="专利 CN102737170A - 一种USB key安全芯片及语音USB key"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102737170A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102737170A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=FKmpBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102737170A&amp;usg=AFQjCNEiAG3PFkScaMFHggPO05xdypUSFQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/e3cf6207ad38a7fc377e/CN102737170A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/e3cf6207ad38a7fc377e/CN102737170A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102737170A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102737170A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102737170A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种USBkey安全芯片及语音USBkey，在USB安全芯片中设置存储模块和语音模块，存储模块用于存储预设语音数据；语音模块用于将存储模块中的语音数据和待签名数据转换为语音信号，并通过I/O接口进行输出。形成包含...</span><span itemprop="url">https://www.google.com/patents/CN102737170A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102737170A - 一种USB key安全芯片及语音USB key</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102737170A - 一种USB key安全芯片及语音USB key" title="专利 CN102737170A - 一种USB key安全芯片及语音USB key"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102737170 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110088323</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年10月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年4月8日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年4月8日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110088323.7, </span><span class="patent-bibdata-value">CN 102737170 A, </span><span class="patent-bibdata-value">CN 102737170A, </span><span class="patent-bibdata-value">CN 201110088323, </span><span class="patent-bibdata-value">CN-A-102737170, </span><span class="patent-bibdata-value">CN102737170 A, </span><span class="patent-bibdata-value">CN102737170A, </span><span class="patent-bibdata-value">CN201110088323, </span><span class="patent-bibdata-value">CN201110088323.7</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%8B%97%E6%AC%A3%22">苗欣</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%9D%AD%E5%B7%9E%E6%99%9F%E5%85%83%E8%8A%AF%E7%89%87%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">杭州晟元芯片技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102737170A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102737170A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102737170A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=FKmpBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110088323&amp;usg=AFQjCNEoI00JAwPfnYIzM8GfttODxDDvtg"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=FKmpBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102737170A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNF2q-kUdXTl8yPM15vo8pTBcNwNSg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT116296770" lang="ZH" load-source="patent-office">一种USB key安全芯片及语音USB key</invention-title>
      </span><br><span class="patent-number">CN 102737170 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA101266890" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种USBkey安全芯片及语音USBkey，在USB安全芯片中设置存储模块和语音模块，存储模块用于存储预设语音数据；语音模块用于将存储模块中的语音数据和待签名数据转换为语音信号，并通过I/O接口进行输出。形成包含语音功能的USB安全芯片。从而能够通过单芯片实现带语音功能且可以反复修改语音数据的USBkey，无需使用多个芯片及其大量外围电路，降低USBkey生产成本和系统复杂度。且相对于多芯片USBkey，单芯片USBkey无需考虑芯片之间的通讯和可能出现的冲突，编程时更加简单。由于存储模块可反复修改语音数据，从而在进行语音升级时，只需更新语音源和相应固件即可，不需要语音芯片提供商重新烧录，降低USBkey产品维护和升级成本。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><div mxw-id="PCLM45873105" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种USB key安全芯片，包含输入/输出I/O接口、安全芯片内核、进行密钥管理及加密解密计算的加解密模块，其特征在于，还包含存储模块和语音模块，所述安全芯片内核、加解密模块、存储模块和语音模块通过内部总线进行通信；  所述I/O接口与USB接口相连，从所述USB接口获取待签名数据；  所述存储模块用于存储预设语音数据；  所述语音模块用于将所述存储模块中对应的语音数据和所述待签名数据转换为语音信号，并通过所述I/O接口输出所述语音信号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求I所述的USB	key安全芯片，其特征在于，所述存储模块中存储有至少 两段语音数据；  所述语音模块根据所述安全芯片内核的命令，从所述存储模块选择对应的语音数据，将所述对应的语音数据和所述待签名数据转换为语音信号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求I所述的USB	key安全芯片，其特征在于，所述存储模块为flash闪存。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求I所述的USB	key安全芯片，其特征在于，所述语音模块还与一外扩存储器件相连，从外扩存储器件中获取语音数据，将获取的语音数据和所述待签名数据转换为语音信号，并通过所述I/O接口输出所述语音信号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求I所述的USB	key安全芯片，其特征在于，所述加解密模块进一步包含：  加解密计算模块，用于进行加密和解密计算；  真随机数发生器，用于利用所述安全芯片内部的白噪声作为种子产生一个真随机数；  密钥生成模块，包含密钥算法引擎，用于生成密钥对，和实现数字签名。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求5所述的USB	key安全芯片，其特征在于，所述加解密计算模块至少支持以下算法之一或其组合：  高级加密标准AES算法、数据加密标准DES算法、3DES算法。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求5所述的USB	key安全芯片，其特征在于，所述加解密模块进一步包含：  特殊加解密模块，包含部分需要认证或授权的加解密算法。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求I所述的USB	key安全芯片，其特征在于，还包含：  I/O控制模块，用于控制所述安全芯片的各I/O接口，根据所述I/O接口连接的外部设备，对该I/O接口进行配置；或者将所述I/O接口配置为实现信号输入输出的普通I/O接□。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.	一种语音USB key,其特征在于,包含权利要求I至8中任意一项所述的USB key安全芯片和一放大电路；  所述USB key安全芯片通过I/O接口与所述放大电路相连，将语音信号传输到所述放大电路；  所述放大电路用于对所述语音信号进行滤波放大，产生语音，输出到扩音器，通过扩音器报读所述待签名数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求9所述的语音USB	key，其特征在于，还包含：  反馈装置，通过I/O接口与所述USB key安全芯片相连，用于接收表示用户同意或拒绝该待签名数据的反馈信号，并将所述反馈信号传输至所述USB key安全芯片，所述USB key 安全芯片根据所述反馈信号确认或拒绝所述待签名数据。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES52232606" lang="ZH" load-source="patent-office" class="description">
    <p>&#8212;种USB key安全芯片及语音USB key</p>
    <p>[0001]</p>
    <p>技术领域</p>
    <p>[0002]	本发明涉及USB key技术领域,尤其涉及USB key安全芯片技术。</p>
    <p>[0003]</p>
    <p>背景技术</p>
    <p>[0004]	USB key是一种通过USB (通用串行总线）接口直接与计算机相连、具有密码验证功能、可靠高速的小型存储设备。USB key是对现行的网络安全体系是一个极为有力的补充，并通过了中国信息安全测评认证中心认证的网络安全产品。基于可信计算机及智 能卡技术把易用性，便携性和最高级别的安全性带给了使用Microsoft IE或NetscapeNavigator进行Web访问，在线交易（购物、付款)，收发电子邮件，在线聊天交友及表单签名，文件数字签名等操作的用户，保证用户在USB key下的操作不可篡改、抵赖。USB key最大的特点就是安全性高，技术规范一致性强，操作系统兼容性好，携带使用灵活。</p>
    <p>[0005]	从2000年我国第一款USB key面市以来，已经经过10年的发展，国内USB key技术通过与公钥基础设施（Public Key Infrastructure,简称“PKI ”）技术结合,和智能卡技术结合等发展，已经日趋成熟，行业发展也蒸蒸日上，对USB key的安全性能要求亦越来越闻。</p>
    <p>[0006]	面对交易数据在用户客户端提交到USB key过程中被篡改的危险性，第二代USBkey产品增加了显示模块或语音模块，可以把送到USB key内的交易数据信息显示或报读出来。USB key内的显示模块或语音模块都是直接被USB key内安全芯片直接控制，不会被木马程序更改显示或报读的内容，因此通过USB key显示或报读的数据内容就是真正被签名的内容，实现了“所见即所签”，用户在确认显示或报读的内容正确无误后按下物理按键进行确认，即可完成整个交易。</p>
    <p>[0007]	但是二代USB key由于动辄上百元的价格，使得用户难以接受，并且由于USB key使用环境的原因，带显示功能的液晶USB key在与用户互动时显得不够灵活：由于USB key是通过USB接口直接与计算机相连，所以用户在使用时并不方便观察液晶屏，并且由于USBkey本身的体积通常比较小，液晶屏上能显示的信息非常有限。相比于液晶USB key，语音USB key在使用环境下更加方便，并且语音器件的采购价格相对比较便宜，所以语音USBkey更有希望成为市场的主流产品。</p>
    <p>[0008]目前的语音USB	key都是多芯片的解决方案,一般是使用一块外挂的语音芯片和放大电路实现语音输出。如图I所示，在安全芯片外接一块语音芯片，组成一个多芯片的应用系统，通过安全芯片对语音芯片的控制，使得其在需要的时候发出合适的语音信号，语音信号经过外围电路放大后输出，从而和用户间建立互动。由安全芯片、语音芯片及其外围电路组成的应用系统最终经过互联网与数字证书认证中心（Certificate Authority,简称“CA”)以及交易平台互动。安全芯片和语音芯片之间按照语音芯片的选择，可能需要一个或几个I/O接口进行通讯，并且需要为语音芯片正常工作提供其他的外围电路。</p>
    <p>[0009]	现有技术大多数使用一次性可编程（One Time Programable,简称“OTP”）语音芯片，这种芯片价格相对便宜，但是由于OTP语音芯片一次烧录的特性，需要在订购时预先烧录语音，而当USB key功能增加需要更新语音时，不得不重新购买一批新语音芯片，不利于产品的升级。并且由于OTP芯片容量越大成本越高，所以总语音时长和语音段数量受到限制。而能够反复烧录的语音芯片价格都非常高，因此没有办法很好地控制成本。</p>
    <p>[0010]另外，在上述现有技术中，语音芯片需要使其正常工作的外围电路，所以使得系统有更多电路，即硬件变的更加复杂。由于语音芯片和USB key安全芯片之间还必须建立通讯，并由此控制语音芯片的工作，所以系统的软件部分也会增加相应的通讯和控制部分的程序，即软件变得更加复杂。</p>
    <p>[0011]	并且，现有的带有语音提示的USB key中增加的语音芯片及其外围电路在增加成 本的同时，使得设计者无法将USB key体积做的更小，不利于缩小产品体积。且由于语音芯片占用了安全芯片的一些I/O接口，使其他扩展能使用的I/O接口数量减少。</p>
    <p>[0012]</p>
    <p>发明内容</p>
    <p>[0013]	本发明主要解决的技术问题是提供一种USB key安全芯片，使得能够通过单芯片实现带语音功能的USB key，降低USB key生产及维护成本，降低系统复杂度。</p>
    <p>[0014]	为了解决上述技术问题，本发明提供了一种USB key安全芯片，包含I/O接口、安全芯片内核、进行密钥管理及加密解密计算的加解密模块，还包含存储模块和语音模块，安全芯片内核、加解密模块、存储模块和语音模块通过内部总线进行通信；</p>
    <p>  I/O接口与USB接口相连，从USB接口获取待签名数据；</p>
    <p>  存储模块用于存储预设语音数据；</p>
    <p>  语音模块用于将存储模块中对应的语音数据和该待签名数据转换为语音信号，并通过I/O接口输出该语音信号。</p>
    <p>[0015]	作为上述技术方案的改进，该存储模块中可以存储至少两段语音数据；</p>
    <p>  语音模块根据安全芯片内核的命令，从该存储模块选择对应的语音数据，将对应的语音数据和该待签名数据转换为语音信号。</p>
    <p>[0016]	作为上述技术方案的改进，该存储模块可以为flash闪存。</p>
    <p>[0017]	作为上述技术方案的改进，该语音模块还可以与外扩存储器件相连，从外扩存储器件中获取语音数据，将获取的语音数据和该待签名数据转换为语音信号，并通过I/O接口输出该语音信号。</p>
    <p>[0018]	作为上述技术方案的改进，该加解密模块进一步包含：</p>
    <p>  加解密计算模块，用于进行加密和解密计算；</p>
    <p>  真随机数发生器，用于利用该安全芯片内部的白噪声作为种子产生一个真随机数；</p>
    <p>  密钥生成模块，包含密钥算法引擎，用于生成密钥对，和实现数字签名。</p>
    <p>[0019]	作为上述技术方案的改进，该加解密计算模块至少支持以下算法之一或其组合：高级加密标准（Advanced Encryption Standard,简称“AES”）算法,数据加密标准（DataEncryption Standard,简称 “DES”）算法、3DES (Triple DES)算法。[0020]	作为上述技术方案的改进，该加解密模块可以进一步包含：</p>
    <p>  特殊加解密模块，包含部分需要认证或授权的加解密算法。</p>
    <p>[0021]	作为上述技术方案的改进，该安全芯片还可以包含：</p>
    <p>  I/o控制模块，用于控制该安全芯片的各I/O接口，根据I/O接口连接的外部设备，对该I/o接口进行配置；或者将I/O接口配置为实现信号输入输出的普通I/O接口。</p>
    <p>[0022]	本发明还提供了一种语音USB key,上述任意一项的USB key安全芯片和一放大电路；</p>
    <p>  USB key安全芯片通过I/O接口与该放大电路相连，将语音信号传输到该放大电路；放大电路用于对该语音信号进行滤波放大，产生语音，输出到扩音器，通过扩音器报读待签名数据。 [0023]	作为上述技术方案的改进，该语音USB key还包含：</p>
    <p>  反馈装置，通过I/O接口与该USB key安全芯片相连，用于接收表示用户同意或拒绝该待签名数据的反馈信号，并将该反馈信号传输至USB key安全芯片，USB key安全芯片根据该反馈信号确认或拒绝待签名数据。</p>
    <p>[0024]	本发明实施方式与现有技术相比，主要区别及其效果在于：在USB安全芯片中设置存储模块和语音模块，其中存储模块用于存储预设的语音数据；语音模块用于将存储模块中对应的语音数据和待签名数据转换为语音信号，并通过I/O接口进行输出；形成包含语音功能的USB安全芯片。从而能够通过单芯片实现带语音功能且可以反复修改语音数据的USB key，不再需要使用多个芯片及其对应的大量外围电路，降低USB key生产成本和系统复杂度。且相对于现有的多芯片USB key，单芯片USB key在编程中不需要考虑芯片之间的通讯和可能出现的冲突，因此在编程时更加简单。</p>
    <p>[0025]	由于存储模块可反复修改语音数据，从而在进行语音升级时，只需要更新语音源和相应固件即可，方便用户在不同的应用中更换不同的语音，不需要语音芯片提供商重新烧录，降低了 USB key产品的维护和升级成本。</p>
    <p>[0026]</p>
    <p>附图说明</p>
    <p>[0027]	下面结合附图和具体实施方式对本发明作进一步详细说明。</p>
    <p>[0028]	图I是现有技术中多芯片USB key结构示意图；</p>
    <p>  图2是本发明第一实施方式的USB key安全芯片结构图；</p>
    <p>  图3是本发明第一实施方式的安全芯片语音发生示意图；</p>
    <p>  图4是本发明第二实施方式的语音USB key的应用示意图。</p>
    <p>[0029]</p>
    <p>具体实施方式</p>
    <p>[0030]	为使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明的实施方式作进一步地详细描述。</p>
    <p>[0031]	本发明第一实施方式涉及一种USB key安全芯片，包含I/O接口、安全芯片内核MCU、进行密钥管理及加密解密计算的加解密模块、存储模块、语音模块、I/O控制模块、安全I/O模块和其他模块，各模块之间通过内部总线进行通信，如图2所示。</p>
    <p>[0032]	其中，I/O接口与USB接口相连，从USB接口获取待签名数据；存储模块用于存储预设语音数据；语音模块用于将存储模块中对应的语音数据和待签名数据转换为语音信号，并通过I/O接口输出该语音信号。语音模块输出的语音信号可以是脉冲宽度调制(Pulse Width Modulation，简称“PWM”）信号，语音模块需要占用一个I/O接口用于传输PWM信号，该I/O接口必须支持传输频率高于音源采样频率方波信号，并且其占空比是可调的，按照采样频率发生的中断，来修改输出的占空比，该语音信号经过外围电路的滤波放大即可产生语音，如图 3所示。</p>
    <p>[0033]	本实施方式中存储模块可重复读写，可以是flash闪存，存储模块中的语音数据可由开发者修改更新，开发者只需要增减或替换存储模块/存储模块中的语音文件，以及修改少量代码，就能够实现修改语音的目的，从而可以方便升级语音，不再需要语音芯片提供商重新烧录，降低USB key产品的维护和升级成本。USB key中语音总时长取决于存储模块的容量，语音段数则不受到限制，且可以根据用户的需求，存储多段语音数据。在存储模块中存储有多段语音数据的情况下，语音模块可以根据安全芯片内核的命令来确定当前使用哪段语音数据，选择对应的语音数据转换为语音信号，通过I/O接口输出该语音信号。相对于现有的以OTP语音芯片为主的语音输出方式，本实施方式的带语音功能的USB key安全芯片在语音输出上无论是语音总时长、语音总段数都有很明显的提高，并且开发者可以自己更新语音，实现语音的反复烧录，在应用时方便灵活。</p>
    <p>[0034]	除此以外，该USB key安全芯片还可以外挂外扩存储器件，语音模块可以从外扩存储器件中获取语音数据，将获取的语音数据和待签名数据转换为语音信号，并通过I/O接口输出。</p>
    <p>[0035]	本实施方式的USB key安全芯片中包含的I/O控制模块，用于控制安全芯片的各I/o接口，根据I/O接口连接的外部设备，对该I/O接口进行配置；或者将I/O接口配置为实现信号输入输出的普通I/o接口。在实际应用中，语音模块占用一个I/O接口用于语音信号的输出，在不需要语音输出的场合里，该I/o接口可以被配置成普通I/O接口。</p>
    <p>[0036]	如图2所示的加解密模块进一步包含加解密计算模块、真随机数发生器、密钥生成模块和特殊加解密模块。加解密计算模块，用于进行加密和解密计算，至少支持以下算法之一或其组合：AES算法，DES/3DES算法。真随机数发生器，用于利用安全芯片内部的白噪声作为种子产生一个真随机数。密钥生成模块，包含密钥算法引擎，用于生成密钥对，和实现数字签名。特殊加解密模块，包含部分需要认证或授权的加解密算法。</p>
    <p>[0037]	该USB key安全芯片的安全I/O模块中进一步包含安全输入模块和安全输出模块，相对普通I/O接口，有更高的安全性，专用性。</p>
    <p>[0038]	综上所述，本实施方式的安全芯片在应用上可以实现单芯片语音USB key，且可以反复修改USB key中的语音数据，降低了语音USB key的生产成本和对系列产品的升级和维护成本。不仅减少多芯片USB key中的大量外围电路和芯片数量，使硬件系统更加简单，并且能使USB key变得更加小巧成为可能。而且相对于现有的多芯片USB key，单芯片USBkey在编程中不需要考虑芯片之间的通讯和可能出现的冲突，因此在编程时更加简单。</p>
    <p>[0039]	并且，在相同目的的设计中，更少的外围器件和更简单的电路能够减少由于外界干扰产生的设备发生异常的可能性。而要改变该USB key安全芯片的语音输出只需要更新语音源和相应固件即可，方便用户在不同的应用中更换不同的语音，不需要语音芯片提供商重新烧录。</p>
    <p>[0040]	另外，本实施方式的USB key安全芯片符合《网上银行系统信息安全通用规范(试行)》中的增强要求：即通过语音使USB key应用中能做到防远程挟持。这使得本发明在《网上银行系统信息安全通用规范(试行)》发布后的未来几年能够满足防远程挟持的需求。</p>
    <p>[0041]	本发明第二实施方式涉及一种语音USB key，包含USB key安全芯片、放大电路和反馈装置。</p>
    <p>[0042]	USB key安全芯片通过I/O接口与放大电路相连，将语音信号传输到该放大电路；放大电路用于对语音信号进行滤波放大，产生语音，输出到扩音器，通过扩音器报读待确认</p>
    <p>的数据。反馈装置，通过I/O接口与USB key安全芯片相连，用于接收用户的反馈信号(表示用户同意或拒绝该待签名数据)，并将该反馈信号传输至USB key安全芯片，USB key安全芯片根据反馈信号确认或拒绝待确认数据。</p>
    <p>[0043]	在具体应用时，如图4所示，由语音USB key中安全芯片直接输出语音信号，在经过简单的放大电路后即可对用户做出语音提示，报读当前需要签名的数据，用户在得到语音提示后对待签名数据（例如金额）等通过反馈装置进行确认，该反馈装置可以是外置的按键，在得到确认后，语音USB key才会对交易签名或输出，若用户在一定时间内没有按键确认，则系统自动清除数据，而交易将也因为始终没有得到签名而终止。</p>
    <p>[0044]	由此可见，在现有技术中，带有语音提示的USB key基本都是依靠外挂语音芯片来实现语音输出的，增加语音芯片及其外围电路必然会增加USB key的成本，并且不利于缩小产品体积；不仅如此，在实际应用中，语音芯片也需要使其正常工作的外围电路，所以使得系统有更多电路，硬件变得更加复杂；另外由于语音芯片和USB key安全芯片之间还必须建立通讯，并由此控制语音芯片的工作，所以系统的软件部分也会增加相应的通讯和控制部分的程序，使软件变的更加复杂。并且，语音芯片由此占用了安全芯片的一些I/O接口，使其他扩展能使用的I/O接口数量减少。而本实施方式中，在安全芯片内部实现语音输出，通过单芯片实现语音USB key,降低了 USB key的生产成本和对系列产品的升级和维护成本。减少多芯片方案中的大量外围电路和芯片，使硬件系统更加简单，且能使USB key变得更加小巧成为可能。而且相对于现有的多芯片语音USB key，单芯片语音USB key在编程中不需要考虑芯片之间的通讯和可能出现的冲突，因此在编程时更加简单。</p>
    <p>[0045]	虽然通过参照本发明的某些优选实施方式，已经对本发明进行了图示和描述，但本领域的普通技术人员应该明白，可以在形式上和细节上对其作各种改变，而不偏离本发明的精神和范围。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1889419A?cl=zh">CN1889419A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2005年6月30日</td><td class="patent-data-table-td patent-date-value">2007年1月3日</td><td class="patent-data-table-td ">联想(北京)有限公司</td><td class="patent-data-table-td ">一种实现加密的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101009562A?cl=zh">CN101009562A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年2月1日</td><td class="patent-data-table-td patent-date-value">2007年8月1日</td><td class="patent-data-table-td ">北京飞天诚信科技有限公司</td><td class="patent-data-table-td ">提高智能密钥设备安全性的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101013942A?cl=zh">CN101013942A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年1月24日</td><td class="patent-data-table-td patent-date-value">2007年8月8日</td><td class="patent-data-table-td ">北京飞天诚信科技有限公司</td><td class="patent-data-table-td ">提高智能密钥设备安全性的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101729595A?cl=zh">CN101729595A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年11月26日</td><td class="patent-data-table-td patent-date-value">2010年6月9日</td><td class="patent-data-table-td ">世导数据通讯(杭州)有限公司</td><td class="patent-data-table-td ">网络备份装置及其备份方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101819614A?cl=zh">CN101819614A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年1月21日</td><td class="patent-data-table-td patent-date-value">2010年9月1日</td><td class="patent-data-table-td ">浙江维尔生物识别技术股份有限公司</td><td class="patent-data-table-td ">利用语音核验USBKey增强网络交易安全性的系统和方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/EP2251812A1?cl=zh">EP2251812A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年5月10日</td><td class="patent-data-table-td patent-date-value">2010年11月17日</td><td class="patent-data-table-td ">Mario Guido Finetti</td><td class="patent-data-table-td ">Transaction verification USB token</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=FKmpBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06K0019077000">G06K19/077</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=FKmpBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0021000000">G06F21/00</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年10月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2015年5月27日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/e3cf6207ad38a7fc377e/CN102737170A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8DUSB_key%E5%AE%89%E5%85%A8%E8%8A%AF%E7%89%87%E5%8F%8A%E8%AF%AD%E9%9F%B3USB_ke.pdf?id=FKmpBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U3gB4G2qp2cdS5cAkpLXHe7LoJfBg"},"sample_url":"https://www.google.com/patents/reader?id=FKmpBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>