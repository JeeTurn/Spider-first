<!DOCTYPE html><html><head><title>专利 CN101873224A - 一种云计算负载均衡方法和设备 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种云计算负载均衡方法和设备"><meta name="DC.contributor" content="张昕" scheme="inventor"><meta name="DC.contributor" content="金晨" scheme="inventor"><meta name="DC.contributor" content="北京高森明晨信息科技有限公司" scheme="assignee"><meta name="DC.date" content="2010-6-7" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种云计算负载均衡方法和设备，属于计算机网络技术领域。所述云计算负载均衡方法包括：根据用户提出的服务组合请求中各服务器的负载容率选择服务副本，及对服务器应用分布式服务路由方法建立服务路径，将用户提出的服务组合请求沿着服务路径传输，传递给用户。所述云计算负载均衡设备包括服务组合请求模块、服务副本选择模块、服务路径建立模块和服务路径建立模块。本发明根据服务器的负载波动情况获得服务器的负载容率，由于服务器的负载波动情况不断进行自适应调整，因而服务器的负载容率也是自适应变化的，本发明根据服务器的负载容率选择合适服务副本，能够保证各副本上的负载分布比较均匀，实现服务器的自适应负载均衡。"><meta name="DC.date" content="2010-10-27"><meta name="DC.relation" content="CN:101635635:A" scheme="references"><meta name="DC.relation" content="CN:101667187:A" scheme="references"><meta name="citation_reference" content="《软件学报》 20060531 李文中等 服务组合中一种自适应的负载均衡算法 第17卷, 第5期 2"><meta name="citation_patent_publication_number" content="CN:101873224:A"><meta name="citation_patent_application_number" content="CN:201010199455"><link rel="canonical" href="https://www.google.com/patents/CN101873224A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101873224A?cl=zh"/><meta name="title" content="专利 CN101873224A - 一种云计算负载均衡方法和设备"/><meta name="description" content="本发明公开了一种云计算负载均衡方法和设备，属于计算机网络技术领域。所述云计算负载均衡方法包括：根据用户提出的服务组合请求中各服务器的负载容率选择服务副本，及对服务器应用分布式服务路由方法建立服务路径，将用户提出的服务组合请求沿着服务路径传输，传递给用户。所述云计算负载均衡设备包括服务组合请求模块、服务副本选择模块、服务路径建立模块和服务路径建立模块。本发明根据服务器的负载波动情况获得服务器的负载容率，由于服务器的负载波动情况不断进行自适应调整，因而服务器的负载容率也是自适应变化的，本发明根据服务器的负载容率选择合适服务副本，能够保证各副本上的负载分布比较均匀，实现服务器的自适应负载均衡。"/><meta property="og:title" content="专利 CN101873224A - 一种云计算负载均衡方法和设备"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101873224A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101873224A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=m_h7BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101873224A&amp;usg=AFQjCNEEoW-0XIC_3a5D-aiHHLH_WrkD-w" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/27a603d6ebce824d4f7c/CN101873224A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/27a603d6ebce824d4f7c/CN101873224A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101873224A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101873224A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101873224A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种云计算负载均衡方法和设备，属于计算机网络技术领域。所述云计算负载均衡方法包括：根据用户提出的服务组合请求中各服务器的负载容率选择服务副本，及对服务器应用分布式服务路由方法建立服务路径，...</span><span itemprop="url">https://www.google.com/patents/CN101873224A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101873224A - 一种云计算负载均衡方法和设备</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101873224A - 一种云计算负载均衡方法和设备" title="专利 CN101873224A - 一种云计算负载均衡方法和设备"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101873224 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010199455</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2010年10月27日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年6月7日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年6月7日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010199455.2, </span><span class="patent-bibdata-value">CN 101873224 A, </span><span class="patent-bibdata-value">CN 101873224A, </span><span class="patent-bibdata-value">CN 201010199455, </span><span class="patent-bibdata-value">CN-A-101873224, </span><span class="patent-bibdata-value">CN101873224 A, </span><span class="patent-bibdata-value">CN101873224A, </span><span class="patent-bibdata-value">CN201010199455, </span><span class="patent-bibdata-value">CN201010199455.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E6%98%95%22">张昕</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%87%91%E6%99%A8%22">金晨</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E9%AB%98%E6%A3%AE%E6%98%8E%E6%99%A8%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">北京高森明晨信息科技有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101873224A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101873224A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101873224A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (20),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=m_h7BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010199455&amp;usg=AFQjCNFsZ-xqogeFze_QGd2A1PqZ7d6GeQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=m_h7BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101873224A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEv6hqdFUZclN17IOPhMgSGiM01Uw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT98501167" lang="ZH" load-source="patent-office">一种云计算负载均衡方法和设备</invention-title>
      </span><br><span class="patent-number">CN 101873224 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA80926467" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种云计算负载均衡方法和设备，属于计算机网络技术领域。所述云计算负载均衡方法包括：根据用户提出的服务组合请求中各服务器的负载容率选择服务副本，及对服务器应用分布式服务路由方法建立服务路径，将用户提出的服务组合请求沿着服务路径传输，传递给用户。所述云计算负载均衡设备包括服务组合请求模块、服务副本选择模块、服务路径建立模块和服务路径建立模块。本发明根据服务器的负载波动情况获得服务器的负载容率，由于服务器的负载波动情况不断进行自适应调整，因而服务器的负载容率也是自适应变化的，本发明根据服务器的负载容率选择合适服务副本，能够保证各副本上的负载分布比较均匀，实现服务器的自适应负载均衡。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><ol mxw-id="PCLM33542481" lang="ZH" load-source="patent-office" class="claims">
    <li class="claim"> <div num="1" class="claim">
      <div class="claim-text">一种云计算负载均衡方法，其特征在于，所述方法包括：用户向服务覆盖网络图中节点提出服务组合请求，所述服务组合请求中的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器上；对所述服务组合请求中每个服务选择负载容率最大的服务副本，所述服务副本的负载容率为部署该服务副本的服务器的负载容率；对上述选择的部署服务副本的服务器应用分布式服务路由方法建立服务路径；将所述服务组合请求沿着所述服务路径传输给用户。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的一种云计算负载均衡方法，其特征在于，对所述服务组合请求 中每个服务选择负载容率最大的服务副本具体为：在所述服务组合请求中的第一服务的服 务副本集合中选择负载容率最大的第一服务副本，在所述服务组合请求中的第二服务的服 务副本集合中选择负载容率最大的第二服务副本，并依次在服务组合请求中的每个服务的 服务副本集合中选择负载容率最大的服务副本，所述服务副本的负载容率根据部署该服务 副本的服务器的负载波动率获得。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求1所述的一种云计算负载均衡方法，其特征在于，对上述选择的部署服 务副本的服务器应用分布式服务路由方法建立服务路径具体为：根据源服务节点到其他节 点间的最短路径的长度确定转发邻居节点，以所述转发邻居节点为源服务节点进行扩散， 直到所述转发邻居节点为目标节点，所述转发邻居节点用于将所述源服务节点的服务组合 请求转发到目标节点。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求2所述的一种云计算负载均衡方法，其特征在于，根据CL	= f((l_ α Δ) CL)计算服务器的负载容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值 在0-1之间的波动因子，△是服务器u的负载波动率，所述负载波动率为服务器两次接入 服务请求时，服务器的负载差值对两次接入服务请求时间差的比值。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求2所述的一种云计算负载均衡方法，其特征在于，根据CL	= f((l_ α Δ) CL)计算服务器的负载容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值 在0-1之间的波动因子，△是服务器u的负载波动率，所述负载波动率为服务器两次接入 服务请求时，1减去两次接入服务请求之间的时间内服务器结束的服务数量与两次接入服 务请求时间差的比值。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求2所述的一种云计算负载均衡方法，其特征在于，所述各服务器的负载 容率与服务路径长度相关。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求6所述的一种云计算负载均衡方法，其特征在于，根据“	ICl=/ (I-Od)Cl^^t-计算服务器的负载容率，其中f是用于将CL值限定在0-1 ‘,,	Impsj之间的门限函数，α是取值在0-1之间的波动因子，Δ是服务器u的负载波动率，所述负载 波动率为服务器两次接入服务请求时，服务器的负载差值对两次接入服务请求时间差的比 值，β是路径因子，用于表示路径长度因素对于服务路径选择的影响，hops为两个服务节 点之间的跳数，用于表示两个服务节点之间的路径长度。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求6所述的一种云计算负载均衡方法，其特征在于，根据CL=f((1-α△）CL+β1/hops)计算服务器的负载容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是服务器u的负载波动率，所述负载 波动率为服务器两次接入服务请求时，1减去两次接入服务请求之间的时间内服务器结束 的服务数量与两次接入服务请求时间差的比值，β是路径因子，用于表示路径长度因素对 于服务路径选择的影响，hops为两个服务节点之间的跳数，用于表示两个服务节点之间的 路径长度。</div>
    </div>
    </li> <li class="claim"> <div num="9" class="claim">
      <div class="claim-text">9.	一种云计算负载均衡设备，其特征在于，所述设备包括：服务组合请求模块，用于向服务覆盖网图中节点提出服务组合请求，所述服务组合请 求中的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器上；服务副本选择模块，用于对所述服务组合请求中每个服务选择负载容率最大的服务副 本，所述服务副本的负载容率为部署该服务副本的服务器的负载容率；服务路径建立模块，用于对选择的部署服务副本的服务器应用分布式服务路由方法建 立服务路径；服务路径建立模块，用于将服务组合请求沿着服务路径传输给用户。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求9所述的一种云计算负载均衡设备，其特征在于，所述设备还包括一负 载容率计算模块，所述负载容率计算模块为第一负载容率计算单元、第二负载容率计算单 元、第三负载容率计算单元或第四负载容率计算单元；所述第一负载容率计算单元，根据CL = f ((1- α Δ ) CL)计算服务器的负载容率，其中f 是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是服务器 u的负载波动率，所述负载波动率为服务器两次接入服务请求时，服务器的负载差值对两次 接入服务请求时间差的比值；所述第二负载容率计算单元，根据CL = f((l-a Δ)CL)计算服务器的负载容率，其中 f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是服务 器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，1减去两次接入服务请 求之间的时间内服务器结束的服务数量与两次接入服务请求时间差的比值；所述第三负载容率计算单元，根据CL=f((1-α△）CL+β1/hops)计算服务器的负载 容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子， Δ是服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，服务器的负 载差值对两次接入服务请求时间差的比值，β是路径因子，用于表示路径长度因素对于服 务路径选择的影响，hops为两个服务节点之间的跳数，用于表示两个服务节点之间的路径 长度；所述第四负载容率计算单元，根据CL=f((1-α△）CL+β1/hops)计算服务器的负载 容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子， Δ是服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，1减去两次接 入服务请求之间的时间内服务器结束的服务数量与两次接入服务请求时间差的比值，β是路径因子，用于表示路径长度因素对于服务路径选择的影响，hops为两个服务节点之间的 跳数，用于表示两个服务节点之间的路径长度。</div>
    </div>
  </li> </ol>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES38805609" lang="ZH" load-source="patent-office" class="description">
    <p>一种云计算负载均衡方法和设备</p>
    <p>技术领域  [0001]	本发明涉及计算机网络技术领域，特别涉及一种云计算负载均衡方法和设备。 背景技术</p>
    <p>[0002]云计算（Cloud	Computing)是分布式计算（Distributed Computing)、并行计算 (Parallel Computing)和网格计算（Grid Computing)的发展，其基本原理是将计算任务通 过网络分配给多台计算机执行，每台计算机成为云计算网络的一个节点。云计算提供服务 除公共计算和SaaSGoftware-as-a-service，软件即服务）外，还包括网络服务、平台即服 务以及MSP (Management Service Provider，管理服务提供商）等其他形式。云计算服务通 过浏览器把程序传给成千上万的用户，“云”的优势在于其基础架构管理，日益成熟的虚拟 技术为这种服务提供了强大的技术支持，使“云”能够通过自动部署、重新构建映像、重新均 衡工作负载、监控并系统地处理变更请求，以便管理并更好地利用底层资源。</p>
    <p>[0003]	现如今，虚拟化技术应用越来越广，数据中心虚拟化则是利用虚拟化技术帮助企 业的数据中心实现更加高效、可管理性更高、资源配置更灵活的数据中心。在这一领域，存 储虚拟化、服务器的虚拟化被更多的人关注和应用。在网络领域特别是利用负载均衡设备 更能有效地帮助用户实现上述目标。目前的主流负载均衡设备大多着眼于更多的功能，更 高的性能。这使得负载均衡设备日趋复杂，产品的价格、服务的开销也居高不下，这使得企 业数据中心虚拟化中负载均衡的应用受到严重的制约。</p>
    <p>[0004]	现有的云计算负载均衡设备包括Google云计算负载均衡设备和亚马逊云计算负 载均衡设备，由于Google云计算负载均衡设备是针对Google特定的网络应用程序设定的， 不具备广泛意义的适用性，且Google云计算负载均衡设备无法支持任何非GFS系统开发的 软件，也就是说多数windows平台和imix环境下的软件得不到Google云计算负载均衡设 备的支持。亚马逊云计算负载均衡设备必须基于Linux环境，而不支持Windows或其他操 作系统，且其运行的必须是Web在线业务，并不支持一般的C/S服务器。</p>
    <p>[0005]	为完成云计算的负载均衡，寻求传输服务组合请求的服务路径是必要步骤，现有 技术中使用LIAC(least-inverse-available-capacity)测度构建服务路径（简称为LIAC 方法），LIAC方法的基本思想是：对于用户请求组合的k个服务，将覆盖网络图复制k+Ι次， 并在用户所请求的服务之间添加垂直边，形成多层转换图；然后，根据服务器的最大负载和 当前负载信息，在垂直边上设置权重。这样，只需使用Diikstra算法在带权多层转换图上 寻找一条从顶层到底层的最短路径，就是服务负载最轻的一条路径。</p>
    <p>[0006]	在实现本发明的过程中，发明人发现现有技术至少存在以下问题：</p>
    <p>[0007]	1、LIAC方法的多层转换图需要将覆盖网络图复制k+Ι次，存储空间开销和计算时 间开销比较大；</p>
    <p>[0008]	2、LIAC方法构造多层转换图时需要知道服务覆盖网的全局拓扑结构，LIAC测度 的计算需要知道每台服务器的当前负载和最大负载值，在实际网络环境中，服务器的最大 负载量往往是难以预先估算，服务器的当前负载也是难以测定的。[0009]	3、每个服务器需要维护全局的网络拓扑和负载信息，一个服务器加入或退出系 统，会导致整个多层转换图的拓扑结构发生改变，LIAC方法需要重新进行计算，开销较大。 LIAC方法实际上适用于一种集中式计算环境，并不适用于大规模网络中服务节点动态加入 和退出的情况。</p>
    <p>发明内容</p>
    <p>[0010]	为了降低覆盖网络图的存储空间开销和计算时间开销，本发明实施例提供了一种 云计算负载均衡方法和设备。所述云计算负载均衡方法的技术方案如下：</p>
    <p>[0011]	用户向服务覆盖网络图中节点提出服务组合请求，所述服务组合请求中的每个服 务有多个服务副本部署在不同的服务器上；</p>
    <p>[0012]	对所述服务组合请求中每个服务选择负载容率最大的服务副本，所述服务副本的 负载容率为部署该服务副本的服务器的负载容率；</p>
    <p>[0013]	对上述选择的部署服务副本的服务器应用分布式服务路由方法建立服务路径；</p>
    <p>[0014]	将所述服务组合请求沿着所述服务路径传输给用户。</p>
    <p>[0015]	同时，本发明提供了一种云计算负载均衡设备，包括：</p>
    <p>[0016]	服务组合请求模块，用于向服务覆盖网图中节点提出服务组合请求，所述服务组 合请求中的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器上；</p>
    <p>[0017]	服务副本选择模块，用于对所述服务组合请求中每个服务选择负载容率最大的服 务副本，所述服务副本的负载容率为部署该服务副本的服务器的负载容率；</p>
    <p>[0018]	服务路径建立模块，用于对选择的部署服务副本的服务器应用分布式服务路由方 法建立服务路径；</p>
    <p>[0019]	传输服务组合请求模块，用于将服务组合请求沿着服务路径传输给用户。</p>
    <p>[0020]	本发明实施例提供的技术方案带来如下有益效果：</p>
    <p>[0021]	1、本发明实施例应用于云计算平台的同时，能够广泛应用于集群式计算环境，更 适用于大规模网络环境下服务节点动态加入和退出的情况。</p>
    <p>[0022]	2、本发明实施例只需对覆盖网络图应用分布式服务路由方法，减小了存储空间开 销和计算时间开销，且只需知道服务节点的负载波动情况，也就是服务器在一段时间内结 束的服务数量，这对于服务器来说是可以准确测量的。</p>
    <p>[0023]	3、本发明实施例使用分布式的服务路由，若一个服务节点的状态发生改变，只需 对分布式路由表的部分项进行修改，重新计算CL表中该节点的测度值即可。本方法具有高 可用性，若一个服务节点失效，它的任务可以传递给其他节点，能够有效防止单点失效。</p>
    <p>[0024]	4、本发明实施例通过改进负载均衡方法和负载均衡设备中的参数，能够适用于各 种集群式计算环境，具有高扩展性。</p>
    <p>[0025]	5、本发明实施例提供的云计算负载均衡方法具有高性能和高性价比，系统允许接 入更多的用户，可以采用廉价的符合工业标准的硬件构造高性能的系统。</p>
    <p>附图说明 </p>
    <p>[0026]	图1是本发明实施例1中提供的冠实广泛应用型云计算平台的服务覆盖网络图；</p>
    <p>[0027]	图2是本发明实施例1中提供的负载均衡方法的流程示意图；[0028]	图3是本发明实施例3中提供的服务器上服务副本的负载量随时间变化的曲线 图；</p>
    <p>[0029]	图4是本发明实施例3中提供的平均负载距离与波动因子的关系图；</p>
    <p>[0030]	图5是本发明实施例3中提供的非均&#21243;用户访问的负载变化图；</p>
    <p>[0031]	图6是本发明实施例3中提供的使用CL测度和最短路径测度获得服务路径的累 积分布图；</p>
    <p>[0032]	图7是本发明实施例3中提供的平均负载距离与路径因子的关系图； </p>
    <p>[0033]	图8是本发明实施例3中提供的路径因子取不同值时的服务路径的累积分布图；</p>
    <p>[0034]	图9是本发明实施例4中提供的负载均衡设备的结构示意图；</p>
    <p>[0035]	图10是本发明实施例4中提供的负载均衡设备二的结构示意图。</p>
    <p>具体实施方式</p>
    <p>[0036]	为使本发明的目的、技术方案和优点更加清楚，下面将结合附图对本发明实施方 式作进一步地详细描述。</p>
    <p>[0037]	实施例1</p>
    <p>[0038]	服务覆盖网（Service Overlay Network)中的服务组合问题是冠实广泛应用型云 计算平台的主体部分。服务覆盖网是由服务节点（即服务器）构成的覆盖网络图，服务提 供者可以在服务节点上部署相应的服务，每类服务都可以有多个实例（或称为服务副本）， 提供相同或不同级别的服务质量，实现覆盖网络中负载均衡并提供有弹性的容错。服务组 合通过选择一组所需的服务副本，在服务覆盖网络图中形成服务路径，将现有的简单服务 集合形成复杂服务，如将多个简单的web服务灵活构建功能强大的复杂的web服务，将现在 多样分散的异构web服务通过服务组合有机地组织成新的服务，以及将各种异构的硬件设 备（如PC，PDA等）和网络服务访问方式（如有线，无线等）以一种新方式组合提供新的服 务，对网络资源的重用和协同具有重要意义。</p>
    <p>[0039]	图1是本发明实施例1中提供的冠实广泛应用型云计算平台的服务覆盖网络图， 用户可以向服务覆盖网络图中任意一个节点提出服务组合请求，该节点称为出口节点，所 述服务组合请求中的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器 上。图1显示了 4种服务及多个服务副本的部署情况，用户请求组合服务0和服务2，建立 一条服务路径，经过服务0和服务2两种服务组件，为用户提供新的服务。服务路径中允许 存在非操作服务，非操作服务节点只作服务组合请求数据的转发，不进行任何处理。对该服 务组合请求中每个服务选择负载容率最大的服务副本，服务副本的负载容率为部署该服务 副本的服务器的负载容率；对选择的部署服务副本的服务器应用分布式服务路由方法建立 服务路径；服务组合请求沿着该服务路径传输，最后到达出口节点，传递给用户。</p>
    <p>[0040]	一个服务组合可以由多条服务路径来实现，服务路径由服务组件和服务组件之间 的网络构成，服务组合的性能严重依赖于服务组合过程中所选择的各服务组件的副本。为 了提高服务质量，在建立服务路径时，要避免某些服务副本负载过重而另一些服务副本负 载很轻的情况。服务组合用于根据用户的服务请求，寻找一条最佳服务路径满足用户请求， 同时使每种服务的各服务副本上的负载尽可能分布均衡。</p>
    <p>[0041]	对于服务组合的负载均衡，服务器负载均衡只需选择一台服务器提供服务，而服务组合需要选择一组服务副本，服务之间存在某种次序和依赖关系，形成服务路径；且服务 实例的选择必须是动态的，因为组合服务往往是持续一段时间的软实时应用（比如多媒体 流），这一点与接受短时间会话请求（如Web页面访问）的Web服务器不同。</p>
    <p>[0042]	本发明实施例提出一种基于负载容率的云计算负载均衡（Cloud Load BalancingAlgorithm，简称CLBA)方法，其流程如图2所示，具体为：</p>
    <p>[0043]	步骤101，用户向服务覆盖网络图中节点提出服务组合请求，所述服务组合请求中 的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器上； </p>
    <p>[0044]	步骤102，对所述服务组合请求中每个服务选择负载容率最大的服务副本，所述服 务副本的负载容率为部署该服务副本的服务器的负载容率；</p>
    <p>[0045]	步骤103，对上述选择的部署服务副本的服务器应用分布式服务路由方法建立服 务路径；</p>
    <p>[0046]	步骤104，将所述服务组合请求沿着所述服务路径传输给用户。</p>
    <p>[0047]	本发明实施例通过建立分布式路由及当服务有多个服务副本时，根据各服务节点 的负载波动情况自适应选择服务副本，确定服务路径，达到良好的负载均衡效果。</p>
    <p>[0048]	本发明实施例提出的CLBA方法，在服务覆盖网络图的每个服务节点上维护两张 表：服务路由表和负载容率（Cloud Load，简称CL)表。服务路由表用于服务的查找和数据 转发，CL表则用于为服务副本的选择提供决策。</p>
    <p>[0049]	(1)在服务覆盖网中，为了实现服务的组合和服务之间的数据转发，建立服务路由 表，服务路由表记录服务覆盖网中部署的每个服务节点的路由信息，即本服务器到达其他 服务副本的路由信息，所述路由信息包括服务节点到其他节点的最短路径的长度和该服务 节点的转发邻居节点的信息，根据最短路径长度确定服务节点之间的最短服务路径，根据 转发邻居节点的信息将服务组合请求转发到目标节点。</p>
    <p>[0050]	本发明采用分布式路由的方法建立服务路由，如基于Floyd方法的简单的分布式 路由方法和Merlin-Segall方法和Chandy-Misra方法等改进的分布式路由方法。通过建 立服务路由，服务覆盖网中的一个服务节点可以选择一个邻居服务节点，将服务组合请求 转发到目标节点。</p>
    <p>[0051]	本发明实施例通过采用Chandy-Misra方法建立分布式服务路由，上述步骤103可 以具体为：根据源服务节点到其他节点间的最短路径的长度确定转发邻居节点，以所述转 发邻居节点为源服务节点进行扩散，直到所述转发邻居节点为目标节点，所述转发邻居节 点用于将所述源服务节点的服务组合请求转发到目标节点。</p>
    <p>[0052]	(2)在服务覆盖网中，为了根据各服务节点的负载波动情况，自适应选择服务副 本，建立CL表，所述CL表记录服务覆盖网中各服务节点（即各服务器）的CL值，负载容率 CL是表示当前服务器还能容纳多少负载量的一个测度，CL越大，表示服务器的负载容纳能 力越大，说明服务器当前负载还比较轻，可以接纳更多的客户；反之，说明服务器负载较重， 应该减少接纳的客户。服务器能够容纳多少负载量是动态变化的，因此CL的值是根据服务 器的负载波动情况不断进行自适应调整的。</p>
    <p>[0053]	使用CL测度来表征服务器的当前负载状况，从而根据CL值选择一条合适的服务 路径，保证各服务副本的负载分布比较均&#21243;。CL值根据服务器的负载波动情况不断进行自 适应的调整，为服务副本的选择提供决策。[0054]	上述步骤102可以具体为：在服务组合请求中的第一服务的服务副本集合中选择 负载容率最大的第一服务副本，在服务组合请求中的第二服务的服务副本集合中选择负载 容率最大的第二服务副本，并依次在服务组合请求中的每个服务的服务副本集合中选择负 载容率最大的服务副本。</p>
    <p>[0055]	服务副本的负载容率根据部署该服务副本的服务器的负载波动率获得，因服务器 的负载容率CL值与服务器的负载波动率△的密切相关，首先介绍服务器的负载波动率Δ。 一台服务器的负载波动率定义为两次接入用户请求时，服务器的负载变化与时间变化的比 值。假设服务器u接入一个用户请求时，时间为Tl，负载为Lu (Tl)，而该服务器上一次接入 用户请求时，时间为Τ2，负载为Lu (Τ2)，则负载波动率定义为：</p>
    <p>[0056]</p>
    <span class="patent-image-not-available"> </span>
    <p>[0057]	事实上，如果在T2到Tl这段时间内没有服务结束，则服务器在本次接入请求和 上一次接入请求之间负载增量必然为1。考虑到在T2到Tl这段时间内会有已接入的服 务运行结束，因此，这段时间内负载的变化量等于1减去这段时间内结束的服务数量，即 Lu (Tl)-Lu (T2) = l-expired(T2, Tl)。其中，expired (T2, Tl)表示在 T2 到 Tl 时间段内 结束的服务数量（负载增量可为负值，表明这段时间内结束的服务数量大于接入的服务数 量）。上述负载波动率改写为如下：</p>
    <p>[0058]</p>
    <span class="patent-image-not-available"> </span>
    <p>[0059]	从公式⑵可见，要获得服务器的负载波动率Δ，并不需要知道服务器的最大负 载信息和当前负载信息，只需要知道在两次用户接入的时间间隔内结束的服务数量。对于 服务器来说，它的最大负载量一般很难预先估算，当前负载量也很难准确测量，但一段时间 内结束的服务数量却是很容易计算的。</p>
    <p>[0060]	每个服务节点用一个负载容率CL测度来估算它的相对负载状况，服务器能够容 纳多少负载量是动态变化的，因此CL值是根据服务器的负载波动情况不断进行自适应调 整的。CL值的取值范围在0&#12316;1之间。假设CL的初始值为1，表示服务器运行开始时服务 节点负载为空，每接入一个客户，CL值进行相应调整，CL更新公式为：</p>
    <p>[0061]	CL = f ((1-α Δ )CL)	(3)</p>
    <p>[0062]	上述CL公式中，f是一个门限函数，用于将CL的值限定在0&#12316;1之间。f(x)定义 为：</p>
    <p>0063]</p>
    <span class="patent-image-not-available"> </span>
    <p>[0064] α是一个取值在0&#12316;1之间的数，称为波动因子，它反映了随负载波动对CL进行 调整的幅度。由公式⑶可见，当服务节点的负载以恒定的速率增加时，Δ恒定，CL是一个 指数衰减函数，它的值由1逐渐衰减，趋于0。事实上，负载波动率△不是恒定的。从公式 (2)可见，两次接入客户的时间间隔越短，△就越大，CL也就衰减得越快。但是，如果在一段时间内结束的服务数量大于接入的客户数量，△的值就是负值，表明服务器有了空余的 服务能力，这样，CL的值就会由小而大地递增。α是控制衰减和递增速率的参数，α取不 同的值有不同的负载均衡的效果。本发明将在后面详细说明α取值对于负载均衡的影响。</p>
    <p>[0065]	实施例2</p>
    <p>[0066]	下面通过一个具体的实施例来说明本发明的负载均衡方法</p>
    <p>[0067]	1、建立分布式服务路由的方法</p>
    <p>[0068]	服务覆盖网可以用一个无向连通图来表示，每一个节点表示一个服务器，建立网络中各服务器的服务路由的本质是找到服务覆盖网中任意两个节点之间的最短路径。本发 明实施例给出采用Chandy-Misra分布式路由方法来建立服务路由的方法。</p>
    <p>[0069]	假设服务覆盖网部署有N个服务节点，建立长度为N的服务路由表，V为服务覆盖 网中所有服务节点的集合。服务路由表的每一项包含该服务节点到其他节点的最短路径的 长度和转发邻居的信息。对于服务节点u，用Ru表示它的服务路由信息，Neighu为服务节 点u的所有邻居节点的集合。Ru[i]. hops表示服务节点u到节点i的最短路径的长度，本 发明实施例用转发的跳数hops来表示路径长度，Ru [i]. next表示服务节点u到节点i的转 发邻居节点，u到i的数据都经过该转发邻居节点转发。本发明实施例使用Chandy-Misra 方法计算到达目的节点vO的服务路由的过程如下：</p>
    <p>[0070]	Initialization ：</p>
    <p>[0071]	begin</p>
    <p>[0072]	forall ν e Vdo</p>
    <p>[0073]	If ν = u then begin Ru[ν]. hops ： = 0 ；Ru[v]. next ： = null end</p>
    <p>[0074]	else begin Ru[v]. hops ： = 00 ；Ru[v]. next ： = null end</p>
    <p>[0075]	end</p>
    <p>[0076]	For node V0 only ：</p>
    <p>[0077]	begin</p>
    <p>[0078]	forall ω e Neighu do send message (v0,0) to ω ；</p>
    <p>[0079]	end</p>
    <p>[0080]	Processing a message (v0, d)from neighbor ω by u ：</p>
    <p>[0081]	begin</p>
    <p>[0082]	receive message (v0, d) from ω ；</p>
    <p>[0083]	if d+1 &lt; Ru[v0], hops then</p>
    <p>[0084]	begin</p>
    <p>[0085]	Rjv0]. hops ：= d+1 ；</p>
    <p>[0086]	Ru[v0]. next ：= ω ；</p>
    <p>[0087]	forall χ e Neighu do if χ 兴 ω then send message (v0, Ru[v0]. hops) to χ ；</p>
    <p>[0088]	end</p>
    <p>[0089]	end</p>
    <p>[0090]上述	Chandy-Misra 方法利用了扩散计算（diffusing computation)，设 u 为源服 务节点，确定源服务节点的转发邻居节点后，以该转发邻居节点为源服务节点进行扩散，即由一个节点初始化，其他节点一接到消息后就加入。对于服务覆盖网中的每个服务节点，都 要作为目标节点，服务覆盖网中的每个服务节点均经过上述方法计算后，形成完整的服务 路由表。Chandy-Misra方法中，每一信道交换消息复杂度为0(N2)，该方法的消息复杂度为 0(N2- |E|)，其中，|E|表示覆盖网络中边的总数。</p>
    <p>[0091]	2、根据各服务节点的负载波动情况，自适应地选择服务副本的方法</p>
    <p>[0092]	(1)假设服务覆盖网中的一个服务器（即服务节点）u接收到用户的一个服务组合 请求Req:=饭，&amp;，…；丨上述k个服务的所有服务副本集合表示为R印lica(S)；</p>
    <p>[0093]	(2)对于用户请求的第1个服务Si，选择其服务副本集合中CL值最大的服务副本 S提供服务</p>
    <p>[0094]	max_CL :=-1 ;S := null ；</p>
    <p>[0095]	forall x G Replica (S^ do</p>
    <p>[0096]	begin</p>
    <p>[0097]	if (CLu(x) &gt; max_CL then begin max_CL ： = CLU(x) ；S ： = x end</p>
    <p>[0098]	end</p>
    <p>[0099]	if S = null exit</p>
    <p>[0100]	(3)使用上述公式（2)、(3)和(4)更新服务节点u的CL表CLU(S) :=MAX(0, MIN(1，(1-a X As) XCLU(S))) ； A s表示服务副本S的负载波动率;</p>
    <p>[0101]	(4)查询服务路由表，将用户的其他服务请求转发给服务S所在的服务器，由S选 择下一个服务副本，形成服务路径:Req ：= (S2，. . &#8226;，Sk) ；request_forward(u,S,Req)；所述 request_forward(u,S,Req)的功能是查找服务路由表，将请求Req由源节点u转发给目标 节点So</p>
    <p>[0102]	实施例3</p>
    <p>[0103]	下面主要给出采用本发明云计算负载均衡方法实现负载均衡的实验数据及实验 效果</p>
    <p>[0104]	本发明实施例通过模拟实验来验证CLBA方法的负载均衡性能，使用网络仿真工 具GT-ITM生成物理网络拓扑，并在生成的物理网络上随机选择100个节点作为服务覆盖网 的节点，在这些节点之间定义了 117条链接。设置10个不同的服务SO&#12316;S9，每个服务有4 个服务副本，在服务覆盖网的100个节点上随机选择40个节点来部署这些服务副本，每个 节点的最大负载量设为1500。假设每使用一次服务副本消耗1个单位的负载。设置每个会 话的持续时间为70s&#12316;90s，会话请求的到达速率设为20次/秒。每个会话随机包含2个 服务。一次实验处理10000个会话。每个会话到达后，可以使用不同的方式选择出口节点。 根据不同的实验目的，将使用随机和非随机两种方式选择出口节点。</p>
    <p>[0105]	1、假设用户的请求是随机向服务覆盖网的100个节点发送</p>
    <p>[0106]	令波动因子a =0. 1，表1显示了当10000个会话全部建立后，每种服务的4个服 务副本所接入的会话总数。从表1可以看出，每种服务的4个副本所接入的负载总量相差 不太大，表明使用本发明的负载均衡方法，各服务副本在一个时间段内所接入的负载总量 是均衡的。</p>
    <p>[0107]	Replica SO SI S2 S3 S4 S5 S6 S7 S8 S9</p>
    <p>[0108]	number</p>
    <p>11[0109]	0	452 493 503 476 474 473 502 496 491 473</p>
    <p>[0110]	1	527 536 540 510 488 513 539 516 493 510</p>
    <p>[0111]	2	496 510 501 485 477 499 493 504 545 506</p>
    <p>[0112]	3	487 501 513 533 470 448 492 511 505 519</p>
    <p>[0113]	表1服务副本的负载分布表</p>
    <p>[0114]	为了研究各服务副本的负载随时间变化的情况，本实验每隔15秒测量一次各服 务副本的负载量，验证本发明的负载均衡方法的性能。图3为本发明实施例3提供的服务 器上服务副本的负载量随时间 变化的曲线图，其中α =0.1，时间以秒为单位，即一个服务 SO在不同服务器上的4个副本，即副本0、副本1、副本2和副本3的负载量随时间变化的曲 线图，其他服务的副本负载变化情况也类似。如图3所示，4条曲线相互越靠近，表明分布 在4个服务副本上的负载越均衡。CLBA方法是一种分布式方法，它使用的CL测度是一个根 据服务器负载波动估算的测度，并不是真正的服务器负载信息。同时，CL测度是自适应调 整的，当几个服务副本之间的负载差异比较大时，CL值会自动调整，使各副本的负载趋于均 &#21243;。从图3所示，虽然在有些点，4条曲线的距离比较大，但通过CL测度的调整会逐渐趋于 靠近。在实际的网络应用环境中，并不要求各服务副本的负载在任何时刻都严格保持均衡， 各服务副本之间的载只要相差在一定的范围内，都是可以接受的。从图3来看，大部分情况 下4个服务副本之间的负载相差不超过20。因此，CLBA方法能够适用于真实网络环境中的 服务组合应用。</p>
    <p>[0115]	2、波动因子α对负载均衡的影响</p>
    <p>[0116]	波动因子α的取值对负载均衡有着重要的影响，适当地选取α的值可以获得更 好的负载均衡效果。为了衡量负载均衡的效果，本实施例引入LD(Load Distance，负载距 离）来表示4条负载曲线之间相互靠近的程度。在任一时刻，LD定义为4条负载曲线上各 点两两距离的总和。4条负载曲线相互越靠近，LD越小，表明负载越均衡。假设ο为负载 观测点的集合，sum为观测点的总数。设P为一个观测点，则在P点处观测到4个服务副本 的负载值L0，Li，L2，L3。在P点处的负载距离LDp定义为：</p>
    <p>[0117]</p>
    <p>j=m	(5)</p>
    <p>[0118]	本实施例用平均负载距离来衡量整体的负载均衡效果。平均负载距离定义为在所</p>
    <p>有观测点上的负载距离的平均值。平均负载距离的计算公式为</p>
    <p>[0119]</p>
    <p>_ 可 jjy,</p>
    <p>LD= z^gg ‘ Ρ</p>
    <p>sum	(6)[0120]	为了考察波动因子a对平均负载距离LD的影响，将a分别取值为0. 1,0.2,..., 0.9，并对每个a计算相应的平均负载距离，得到如图4所示的平均负载距离与波动因子的 关系图，图4中曲线在a =0.3和a = 0. 6附近各有一个极小值，即负载距离越小，整体的负载均衡效果最好，即表明a取值在0. 3或0. 6附近时，整体的负载均衡效果最好。</p>
    <p>[0121]	3、负载均衡方法对非均&#21243;用户访问的负载均衡效果</p>
    <p>[0122]	在实际中，用户对各服务器的访问请求往往不是均&#21243;的。如用户对Web页面的访 问服从Zipf-like分布，即大部分用户请求集中在小部分的“热点”数据上。因此，下面给 出用户请求符合Zipf-like分布时，使用CLBA方法的负载均衡效果。</p>
    <p>[0123]	为了产生符合Zipf-like分布的用户访问序列，本发明实施例假设y为用户请求 的对象总数，i表示第i个热门的对象的ID，Py⑴表示该对象被请求的概率；</p>
    <span class="patent-image-not-available"> </span>
    <p>[0125]	令ii = 100，产生10000个符合Zipf-like分布的用户访问序列。取a =0.3， 得到如图5所示的非均&#21243;用户访问的负载变化图。由图5可见，4条负载曲线比较接近，各 服务副本的负载在大部分时间相差不超过20。这说明，对于非均&#21243;的用户访问请求，虽然大 部分访问请求集中在小部分节点上，但是使用CLBA方法，通过对CL测度的自适应调整，仍 然可以使负载均衡地分布在服务的各副本上。</p>
    <p>[0126]	4、服务路径长度对负载均衡的影响</p>
    <p>[0127]	在实际中，根据CL测度选择出来的服务路径虽然可以保证各服务副本的负载相 对均&#21243;，但服务路径长度很长时，服务组合要经过服务覆盖网的多跳，造成客户访问的延时 较长，同时会浪费网络的带宽资源，使网络的整体服务质量下降。</p>
    <p>[0128]	本发明实施例分别使用CL测度和最短路径测度来进行服务路径选择。图6给出 了使用这两种测度选择出来的服务路径长度的CDF (cumulative distribution function, 累积分布）图。从图中两条曲线的比较可见，当使用最短路径测度时，80%的服务路径长度 在10跳之内；而当使用CL测度时，只有不到40%的服务路径在10跳之内。由于CL测度 没有考虑服务路径长度因素，故选择出来的服务路径长度并不理想。</p>
    <p>[0129]	实际中，通常希望在保证负载均衡的同时选择较短的服务路径，以减少用户访问 延迟。因此，在负载容率CL中加入路径长度的影响。假设用两个服务节点之间的跳数 (hops)来表示两节点之间的路径长度，此处改进的副本选择原则是，当两个服务副本的负 载比较接近时，选择服务路径较短的一个副本为用户提供服务。这样，CL的更新公式可以 改写如下：</p>
    <p>[0130]</p>
    <span class="patent-image-not-available"> </span>
    <p>[0131]	其中，0是路径因子，它表示路径长度因素对于服务路径选择的影响。0越大，表 明路径长度的影响越大，越趋近于最短路径。但3的值不能选得太大，3越大，负载波动 的相对影响越小，这样，CL测度也就越不能反映服务副本的负载状况，从而造成负载不均衡 的程度增大。</p>
    <p>[0132]	图7显示了平均负载距离与路径因子的关系图，图7中a取值为0.3，路径因子β越大，平均负载距离越大，造成各服务副本之间的负载越不均&#21243;。为了保证负载均衡，β 的取值不能过大。例如，希望服务的任意两个副本之间的负载距离不超过20，那么平均负 载距离LD应控制在小于120的范围内。由图7可见，β取值应在0&#12316;0.2之间。为了研 究β的取值对于所选择的服务路径长度的影响，将β分别取值0，0.05，0.1，0.15和0.2， 研究这几种情况下使用CLBA方法建立的服务路径长度，并与最短路径进行比较。图8显示 了路径因子取不同值时的服务路径长度图，可见，随着β的增大，CDF曲线越来越接近于最 短服务路径。但是，从负载均衡的角度，β尽可能小，负载会更均衡。两者要取得折衷。从 图8所示，当β &gt;0. 1时，β取值为0. 1,0. 15和0.2这3条⑶F曲线比较接近，表明当β &gt; 0. 1时，β的增大对于缩短服务路径长度的影响已经很小。因此，β的值取为0. 1时可 以获得较短的服务路径，同时保证负载比较均衡。</p>
    <p>[0133]	实施例4</p>
    <p>[0134]	本发明第4实施例提出了一种云计算负载均衡设备，其结构示意图如图9所示，包 括：</p>
    <p>[0135]	服务组合请求模块，用于向服务覆盖网图中节点提出服务组合请求，所述 服务组 合请求中的每个服务有多个服务副本，所述多个服务副本部署在不同的服务器上；</p>
    <p>[0136]	服务副本选择模块，用于对所述服务组合请求中每个服务选择负载容率最大的服 务副本，所述服务副本的负载容率为部署该服务副本的服务器的负载容率；</p>
    <p>[0137]	服务路径建立模块，用于对选择的部署服务副本的服务器应用分布式服务路由方 法建立服务路径；</p>
    <p>[0138]	传输服务组合请求模块，用于将服务组合请求沿着服务路径传输给用户。</p>
    <p>[0139]	本发明通过服务副本选择模块和服务路径建立模块，选择部署该服务组合请求中 的服务副本，同时用分布式服务路由方法对选择的服务副本建立服务路径，从而实现服务 器的分布式负载均衡。</p>
    <p>[0140]	如图10所示的云计算负载均衡设备二的结构示意图，本发明实施例还包括一用 于计算服务器负载容率的负载容率计算模块，服务副本选择模块根据该负载容率计算模块 计算出服务器的负载容率，选择负载容率最大的服务副本；该负载容率模块为第一负载容 率计算单元，或第二负载容率计算单元，或第三负载容率计算单元，或第四负载容率计算单兀。</p>
    <p>[0141]	第一负载容率计算单元，用于根据CL = f((l-a Δ ) CL)计算服务器的负载容率， 其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是 服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，服务器的负载差 值对两次接入服务请求时间差的比值；</p>
    <p>[0142]	第二负载容率计算单元，用于根据CL = f((l-a Δ ) CL)计算服务器的负载容率， 其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是 服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，1减去两次接入服 务请求之间的时间内服务器结束的服务数量与两次接入服务请求时间差的比值；</p>
    <p>[0143]	第三负载容率计算单元，用于根据Cfc/fa-a^Ci+^i^计算服务器的</p>
    <p>.\	haps /</p>
    <p>负载容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动因子，Δ是服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，服务器 的负载差值对两次接入服务请求时间差的比值，β是路径因子，用于表示路径长度因素对 于服务路径选择的影响，hops为两个服务节点之间的跳数，用于表示两个服务节点之间的 路径长度；</p>
    <p>[0144]	第四负载容率计算单元，用于根据</p>
    <span class="patent-image-not-available"> </span>
    <p>计算服务器的</p>
    <p>负载容率，其中f是用于将CL值限定在0-1之间的门限函数，α是取值在0-1之间的波动 因子，△是服务器u的负载波动率，所述负载波动率为服务器两次接入服务请求时，1减去 两次接入服务请求之间的时间内服务器结束的服务数量与两次接入服务请求时间差的比 值，β是路径因子，用于表示路径长度因素对于服务路径选择的影响，hops为两个服务节 点之间的跳数，用于表示两个服务节点之间的路径长度。</p>
    <p>[0145]	以上实施例提供的技术方案中的全部或部分内容可以通过软件编程实现， 其软件 程序存储在可读取的存储介质中，存储介质例如：计算机中的硬盘、光盘或软盘。 </p>
    <p>[0146]	以上所述仅为本发明的较佳实施例，并不用以限制本发明，凡在本发明的精神和 原则之内，所作的任何修改、等同替换、改进等，均应包含在本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101635635A?cl=zh">CN101635635A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年8月25日</td><td class="patent-data-table-td patent-date-value">2010年1月27日</td><td class="patent-data-table-td ">北京原力创新科技有限公司</td><td class="patent-data-table-td ">云模式流媒体服务平台</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101667187A?cl=zh">CN101667187A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年9月23日</td><td class="patent-data-table-td patent-date-value">2010年3月10日</td><td class="patent-data-table-td ">南京邮电大学</td><td class="patent-data-table-td ">一种基于对等计算技术的复合知识云方法</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">《软件学报》 20060531 李文中等 服务组合中一种自适应的负载均衡算法 第17卷, 第5期 2</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102012808A?cl=zh">CN102012808A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年11月10日</td><td class="patent-data-table-td patent-date-value">2011年4月13日</td><td class="patent-data-table-td ">上海光芒科技有限公司</td><td class="patent-data-table-td ">云计算环境下的基于soa的可扩展的分布式架构</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102012808B?cl=zh">CN102012808B</a></td><td class="patent-data-table-td patent-date-value">2010年11月10日</td><td class="patent-data-table-td patent-date-value">2013年6月19日</td><td class="patent-data-table-td ">上海光芒科技有限公司</td><td class="patent-data-table-td ">云计算环境下的基于soa的可扩展的分布式架构</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102055801A?cl=zh">CN102055801A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月13日</td><td class="patent-data-table-td patent-date-value">2011年5月11日</td><td class="patent-data-table-td ">彭浩明</td><td class="patent-data-table-td ">自适应增量传输的控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102055801B?cl=zh">CN102055801B</a></td><td class="patent-data-table-td patent-date-value">2010年12月13日</td><td class="patent-data-table-td patent-date-value">2013年8月7日</td><td class="patent-data-table-td ">彭浩明</td><td class="patent-data-table-td ">自适应增量传输的控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102063339A?cl=zh">CN102063339A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月21日</td><td class="patent-data-table-td patent-date-value">2011年5月18日</td><td class="patent-data-table-td ">北京高森明晨信息科技有限公司</td><td class="patent-data-table-td ">基于云计算系统的资源负载均衡的方法和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102063339B?cl=zh">CN102063339B</a></td><td class="patent-data-table-td patent-date-value">2010年12月21日</td><td class="patent-data-table-td patent-date-value">2013年3月27日</td><td class="patent-data-table-td ">北京高森明晨信息科技有限公司</td><td class="patent-data-table-td ">基于云计算系统的资源负载均衡的方法和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102111337A?cl=zh">CN102111337A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月14日</td><td class="patent-data-table-td patent-date-value">2011年6月29日</td><td class="patent-data-table-td ">浪潮(北京)电子信息产业有限公司</td><td class="patent-data-table-td ">任务调度方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102111337B?cl=zh">CN102111337B</a></td><td class="patent-data-table-td patent-date-value">2011年3月14日</td><td class="patent-data-table-td patent-date-value">2013年5月15日</td><td class="patent-data-table-td ">浪潮(北京)电子信息产业有限公司</td><td class="patent-data-table-td ">任务调度方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102255957A?cl=zh">CN102255957A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月24日</td><td class="patent-data-table-td patent-date-value">2011年11月23日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">一种云计算方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102369714A?cl=zh">CN102369714A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年8月31日</td><td class="patent-data-table-td patent-date-value">2012年3月7日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">云计算系统中云终端访问云服务器的方法及云计算系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102647468A?cl=zh">CN102647468A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月1日</td><td class="patent-data-table-td patent-date-value">2012年8月22日</td><td class="patent-data-table-td ">成都静水飞云科技有限责任公司</td><td class="patent-data-table-td ">云计算负载均衡评估系统及评估方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102801766A?cl=zh">CN102801766A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月18日</td><td class="patent-data-table-td patent-date-value">2012年11月28日</td><td class="patent-data-table-td ">北京安天电子设备有限公司</td><td class="patent-data-table-td ">一种云服务器负载均衡及数据冗余备份的方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102801766B?cl=zh">CN102801766B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月18日</td><td class="patent-data-table-td patent-date-value">2015年1月7日</td><td class="patent-data-table-td ">北京安天电子设备有限公司</td><td class="patent-data-table-td ">一种云服务器负载均衡及数据冗余备份的方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102882943A?cl=zh">CN102882943A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td patent-date-value">2013年1月16日</td><td class="patent-data-table-td ">北京航空航天大学</td><td class="patent-data-table-td ">服务副本读写方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102882943B?cl=zh">CN102882943B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td patent-date-value">2015年10月21日</td><td class="patent-data-table-td ">北京航空航天大学</td><td class="patent-data-table-td ">服务副本读写方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102981440A?cl=zh">CN102981440A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月2日</td><td class="patent-data-table-td patent-date-value">2013年3月20日</td><td class="patent-data-table-td ">武汉理工大学</td><td class="patent-data-table-td ">基于SaaS的智能设备监控管理系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102981440B?cl=zh">CN102981440B</a></td><td class="patent-data-table-td patent-date-value">2012年11月2日</td><td class="patent-data-table-td patent-date-value">2014年10月29日</td><td class="patent-data-table-td ">武汉理工大学</td><td class="patent-data-table-td ">基于SaaS的智能设备监控管理系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103475709A?cl=zh">CN103475709A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年9月9日</td><td class="patent-data-table-td patent-date-value">2013年12月25日</td><td class="patent-data-table-td ">国家电网公司</td><td class="patent-data-table-td ">一种面向云计算平台的副本动态控制方法及其系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103765408A?cl=zh">CN103765408A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年8月25日</td><td class="patent-data-table-td patent-date-value">2014年4月30日</td><td class="patent-data-table-td ">英派尔科技开发有限公司</td><td class="patent-data-table-td ">利用真实数据中心测试的服务质量感知捕获型聚集</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012149718A1?cl=zh">WO2012149718A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年8月31日</td><td class="patent-data-table-td patent-date-value">2012年11月8日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">云计算系统中云终端访问云服务器的方法及云计算系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=m_h7BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=m_h7BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012240000">H04L12/24</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2010年10月27日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年12月8日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年7月10日</td><td class="patent-data-table-td ">C12</td><td class="patent-data-table-td ">Rejection of an application for a patent</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/27a603d6ebce824d4f7c/CN101873224A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E4%BA%91%E8%AE%A1%E7%AE%97%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E6%96%B9%E6%B3%95%E5%92%8C%E8%AE%BE.pdf?id=m_h7BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2vNGC1S3xfs6pEtxVllaC-L-LFOQ"},"sample_url":"https://www.google.com/patents/reader?id=m_h7BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>