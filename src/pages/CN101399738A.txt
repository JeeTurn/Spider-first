<!DOCTYPE html><html><head><title>专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="提供下载推荐服务的方法、结构化对等网络和其中的节点"><meta name="DC.contributor" content="勇 俞" scheme="inventor"><meta name="DC.contributor" content="霆 沈" scheme="inventor"><meta name="DC.contributor" content="金洪波" scheme="inventor"><meta name="DC.contributor" content="韩定一" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司;上海交通大学" scheme="assignee"><meta name="DC.date" content="2007-9-28" scheme="dateSubmitted"><meta name="DC.description" content="本发明实施例公开了一种基于结构化对等网络的提供下载推荐服务方法和下载方法。利用位置敏感哈希函数，将对等网络中符合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上；对于当前节点，利用所述位置敏感哈希函数对该当前节点的下载记录进行哈希处理得到键值，根据负责索引所得键值中的至少一个键值的各个节点所保存的索引日志，获得当前节点的下载推荐列表；当前节点根据下载推荐列表进行下载。本发明实施例还公开了一种结构化的对等网络和三种结构化的对等网络中的节点。本发明实施例中的技术方案，能够在对等网络中根据用户的下载历史，向用户推荐其感兴趣的下载任务，从而为用户提供个性化的下载推荐服务。"><meta name="DC.date" content="2009-4-1"><meta name="citation_patent_publication_number" content="CN:101399738:A"><meta name="citation_patent_application_number" content="CN:200710151589"><link rel="canonical" href="https://www.google.com/patents/CN101399738A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101399738A?cl=zh"/><meta name="title" content="专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点"/><meta name="description" content="本发明实施例公开了一种基于结构化对等网络的提供下载推荐服务方法和下载方法。利用位置敏感哈希函数，将对等网络中符合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上；对于当前节点，利用所述位置敏感哈希函数对该当前节点的下载记录进行哈希处理得到键值，根据负责索引所得键值中的至少一个键值的各个节点所保存的索引日志，获得当前节点的下载推荐列表；当前节点根据下载推荐列表进行下载。本发明实施例还公开了一种结构化的对等网络和三种结构化的对等网络中的节点。本发明实施例中的技术方案，能够在对等网络中根据用户的下载历史，向用户推荐其感兴趣的下载任务，从而为用户提供个性化的下载推荐服务。"/><meta property="og:title" content="专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101399738A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101399738A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=QbloBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101399738A&amp;usg=AFQjCNEpwsKCXVv45Op8wYcEWfMEjxUQ_A" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/18405f8138d00db27ec9/CN101399738A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/18405f8138d00db27ec9/CN101399738A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101399738A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101399738A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101399738A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101399738B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101399738A?cl=zh" style="display:none"><span itemprop="description">本发明实施例公开了一种基于结构化对等网络的提供下载推荐服务方法和下载方法。利用位置敏感哈希函数，将对等网络中符合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上；对于当前节点，利用所述位...</span><span itemprop="url">https://www.google.com/patents/CN101399738A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点" title="专利 CN101399738A - 提供下载推荐服务的方法、结构化对等网络和其中的节点"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101399738 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200710151589</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年4月1日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2007年9月28日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2007年9月28日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101399738B?hl=zh-CN&amp;cl=zh">CN101399738B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200710151589.5, </span><span class="patent-bibdata-value">CN 101399738 A, </span><span class="patent-bibdata-value">CN 101399738A, </span><span class="patent-bibdata-value">CN 200710151589, </span><span class="patent-bibdata-value">CN-A-101399738, </span><span class="patent-bibdata-value">CN101399738 A, </span><span class="patent-bibdata-value">CN101399738A, </span><span class="patent-bibdata-value">CN200710151589, </span><span class="patent-bibdata-value">CN200710151589.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%8B%87+%E4%BF%9E%22">勇 俞</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%9C%86+%E6%B2%88%22">霆 沈</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%87%91%E6%B4%AA%E6%B3%A2%22">金洪波</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%9F%A9%E5%AE%9A%E4%B8%80%22">韩定一</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%3B%E4%B8%8A%E6%B5%B7%E4%BA%A4%E9%80%9A%E5%A4%A7%E5%AD%A6%22">华为技术有限公司;上海交通大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101399738A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101399738A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101399738A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=QbloBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200710151589&amp;usg=AFQjCNGxl9MXvWpDNY1JAVahUQFgoJyt_g"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=QbloBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101399738A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFXgmfscOZOTOqM1hIb5hgUbp1nrg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT75601842" lang="ZH" load-source="patent-office">提供下载推荐服务的方法、结构化对等网络和其中的节点</invention-title>
    </span><br><span class="patent-number">CN 101399738 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA53356843" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明实施例公开了一种基于结构化对等网络的提供下载推荐服务方法和下载方法。利用位置敏感哈希函数，将对等网络中符合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上；对于当前节点，利用所述位置敏感哈希函数对该当前节点的下载记录进行哈希处理得到键值，根据负责索引所得键值中的至少一个键值的各个节点所保存的索引日志，获得当前节点的下载推荐列表；当前节点根据下载推荐列表进行下载。本发明实施例还公开了一种结构化的对等网络和三种结构化的对等网络中的节点。本发明实施例中的技术方案，能够在对等网络中根据用户的下载历史，向用户推荐其感兴趣的下载任务，从而为用户提供个性化的下载推荐服务。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(15)</span></span></div><div class="patent-text"><div mxw-id="PCLM13385548" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种基于结构化对等网络的提供下载推荐服务的方法，其特征在于，该方法包括：对于对等网络中符合预定条件的每一个节点，利用位置敏感哈希函数对该节点的下载记录进行哈希处理，得到N个键值，N为自然数，将该节点的标识以及该节点的下载记录保存到对等网络中负责索引所述N个键值中的至少一个键值的各个节点上；对于对等网络中任一个节点，利用所述位置敏感哈希函数对该节点的下载记录进行哈希处理，得到N个键值，根据负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和节点下载记录，确定与当前节点的下载记录最为相似的K个节点，K为自然数，根据该K个节点的下载记录获得当前节点的下载推荐列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求1所述的方法，其特征在于，当所述符合预定条件的任 一个节点下载新的对象时或之后，该方法进一步包括：根据该节点当前的下 载记录更新对等网络中所保存的该节点的标识以及该节点标识的下载记录。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求l所述的方法，其特征在于，所述符合预定条件的节点 包括：所下载文件的数目超过预定阀值的节点，和/或，在线时间超过预定 阀值的节点，和/或，下载查询次数超过预定阀值的节点。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求l所述的方法，其特征在于，所述根据负责索引所述N 个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录，确 定与当前节点的下载行为最为相似的k个节点包括：将负责索引所述N个 键值中的至少一个键值的各个节点所保存的节点标识中，出现次数最多的k 个节点标识所对应的k个节点，确定为与当前用户的下载行为最为相似的k 个节点。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求1或4所述的方法，其特征在于，所述根据k个节点的 下载记录获得当前节点的下载推荐列表包括： 对于所述K个节点中的每一个节点，根据该节点的下载记录与当前节 点的下载记录的相似度为该节点打分；从所述K个节点的下载记录中去除当前节点已经下载的文件，并对K 个节点的下载记录中剩下的文件，根据K个节点的得分进行加权求和打分；对所述剩下的文件根据其得分进行排序，得到当前节点的下载推荐列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求5所述的方法，其特征在于，所述该节点的下载记录与 当前节点的下载记录的相似度是，这两个节点的下载记录的重合率。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求1-6中任一项所述的方法，其特征在于，所述位置敏感 哈希函数是最小独立洗牌函数。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8、 一种基于结构化对等网络的下载方法，其特征在于，该方法包括： 结构化对等网络中符合预定条件的每一个节点，利用位置敏感哈希函数对自身的下载记录进行哈希处理，得到N个键值，N为自然数，并将自身标 识和下载记录保存到对等网络中负责索引所述N个键值中的至少一个键值 的各个节点上；下载节点利用所述位置敏感哈希函数对自身的下载记录进行哈希处理， 得到N个键值，根据负责索引所述N个键值中的至少一个键值的各个节点 所保存的节点标识和节点下载记录，确定与自身的下载记录最为接近的K 个节点，K为自然数，根据该K个节点的下载记录获得下载推荐列表；下载节点根据所述下载推荐列表进行下载。</div>
    </div>
    </div> <div class="claim"> <div num="9" class="claim">
      <div class="claim-text">9、 一种结构化的对等网络，其特征在于，该对等网络中符合预定条件的每一个节点，用于利用位置敏感哈希函数 将自身的下载记录进行哈希处理，得到N个键值，N为自然数，将自身的标 识以及下载记录发送到该对等网络中负责索引所述N个键值中的至少一个 键值的各个节点上进行保存；该对等网络中的任一个节点，用于利用所述位置敏感哈希函数对自身的 下载记录进行哈希处理，得到N个键值，查询对等网络中负责索引所述N个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录，确定与自身下载记录最为相似的K个节点，K为自然数，根据该K个节点的 下载记录获得自身的下载推荐列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求9所述的对等网络，其特征在于，该对等网络中的符合预定条件的每一个节点，进一步用于在下载新的文 件时，根据自身当前的下载记录更新对等网络中所保存的其自身的节点标识 和下载记录。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11、 一种结构化对等网络中的节点，其特征在于，该节点包括：哈希模 块和索引建立模块，其中，哈希模块，用于利用位置敏感哈希函数将自身所在节点的下载记录进行 哈希处理，得到N个键值，N为自然数，将N个键值发送到索引建立模块；索引建立模块，用于接收哈希模块发送的N个键值，将自身所在节点 的标识以及下载记录发送到对等网络中负责索引所述N个键值中的至少一 个键值的各个节点上进行保存，以供对等网络中的其它节点查询。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求11所述的节点，其特征在于，该节点进一步包括下载 推荐模块，所述哈希模块，进一步用于将N个键值发送到下载推荐模块； 下载推荐模块，用于根据哈希模块发送的N个键值，查询对等网络中 负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和 节点下载记录，确定与自身所在节点的下载记录最为相似的K个节点，K为 自然数，根据该K个节点的下载记录获得自身所在节点的下载推荐列表。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、 一种结构化对等网络中的节点，其特征在于，该节点所在对等网络中符合预定条件的每一个节点，用于利用位置敏感 哈希函数将自身的下载记录进行哈希处理，得到N个键值，N为自然数，将 自身的标识以及下载记录发送到该对等网络中负责索引所述N个键值中的 至少 一 个键值的各个节点上进行保存；该节点包括：哈希模块和下载推荐模块，其中，权利要求书第4/5页哈希模块，用于利用位置敏感哈希函数将自身所在节点的下载记录进行哈希处理，得到N个键值，N为自然数，将N个键值发送到下载推荐模块； 下载推荐模块，用于根据哈希模块发送的N个键值，查询对等网络中 负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和 节点下载记录，确定与自身所在节点的下载记录最为相似的K个节点，K为 自然数，根据该K个节点的下载记录获得自身所在节点的下载推荐列表。</div>
    </div>
    </div> <div class="claim"> <div num="14" class="claim">
      <div class="claim-text">14、 一种结构化对等网络中的节点，其特征在于，该节点所在对等网络中符合预定条件的每一个节点，用于利用位置敏感 哈希函数将自身的下载记录进行哈希处理，得到N个键值，N为自然数，将 自身的标识以及下载记录发送到该对等网络中负责索引所述N个键值中的 至少 一 个键值的各个节点上进行保存；该节点包括：列表获取模块和下载模块，其中，列表获取模块，用于利用位置敏感哈希函数将自身所在节点的下载记录 进行哈希处理，得到N个键值，N为自然数，查询对等网络中负责索引所述 N个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录， 确定与自身所在节点的下载记录最为相似的K个节点，K为自然数，根据该 K个节点的下载记录获得自身所在节点的下载推荐列表，将所获取的下载推 荐列表发送给下载模块；下载模块，用于根据所接收的下载推荐列表进行下载。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15、 如权利要求14所述的节点，其特征在于，所述列表获取模块包括：哈希模块和下载推荐模块，其中，哈希模块，用于利用位置敏感哈希函数将自身所在节点的下载记录进行哈希处理，得到N个键值，N为自然数，将N个键值发送到下载推荐模块； 下载推荐模块，用于根据哈希模块发送的N个键值，查询对等网络中 负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和 节点下载记录，确定与自身所在节点的下载记录最为相似的K个节点，K为 自然数，根据该K个节点的下载记录获得自身所在节点的下载推荐列表，将所获取的下载推荐列表发送给下载模块。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES18772564" lang="ZH" load-source="patent-office" class="description">
    <p>提供下载推荐服务的方法、结构化对等网络和其中的节点技术领域本发明涉及结构化对等网络技术领域，尤指一种基于结构化对等网络的 提供下载推荐服务的方法、下载方法、 一种结构化对等网络以及三种结构化 对等网络中的节点。背景技术结构化的对等网络相比于非结构化的对等网络具有扩展性高和查询速 度快等优势。在结构化对等网络的应用中，存放和获取一个存储对象的基本操作是Put和Get。其中Put操作将一个拟存储的对象进行哈希处理，得到 一个键值，再将对象交由负责索引该键值的节点存储。Get操作则将请求节 点的请求对象哈希处理成键值，再由系统路由到负责索引该键值的节点上， 找到所请求的存储对象并返回给请求节点。下载推荐是下载网站常见的服务。目前，已经存在一些基于对等网络的 下载推荐系统。例如：在BitTorrent系统中有采用服务器发布方式的热门推 荐，通过用户下载it目的多少来统计最热门的资源；Vagaa程序2.6.4.0以后 的版本提供了一种叫"同趣用户"的下载推荐功能，其基本原理是，将每个 查询进行哈希处理，然后将提出这个查询的所有用户记录进行索引，这样， 用户就可以看到提出相同查询的其他用户都共享了哪些文件；Kugoo也采用 了类似的方法，对每首歌进行推荐，当用户下载一个文件的时候，给出对应 于该文件的推荐列表。在上述三种推进系统中，BitTorrent系统中的下载推荐方式是一种基于 服务器/客户端的服务架构，与对等网络构架的系统相比具有单点故障、低 扩展性等缺点。Vagaa和Kugoo中的下载推荐方式虽然是基于对等网络架构</p>
    <p>的，但是它们都是只针对一个查询做推荐，而不是综合考虑用户的下载历史 进行推荐的，因此，不能充分地考虑了用户的喜好特性，为用户提供个性化 的下载推荐。发明内容本发明实施例提供了一种基于结构化对等网络的提供下载推荐服务的 方法，该方法能够根据用户的下载历史，为用户提供其感兴趣的下载推荐服 务。本发明实施例提供了一种基于结构化对等网络的下载方法，该方法能够 使用户下载到其感兴趣的对象。本发明实施例提供了 一种结构化对等网络，该网络能够根据用户的下载 历史，为用户提供其感兴趣的下载推荐服务。本发明实施例提供了 一种结构化对等网络中的节点，该节点能够根据用 户的下载历史，为用户提供其感兴趣的下载推荐服务。本发明实施例提供了 一种结构化对等网络中的节点，该节点能够根据用 户的下载历史，为用户提供其感兴趣的下载推荐服务。本发明实施例还提供了 一种结构化对等网络中的节点，该节点能够下载 到用户感兴趣的对象。为达到上述目的，本发明的技术方案具体是这样实现的：本发明实施例公开了一种基于结构化对等网络的提供下载推荐服务的 方法，该方法包4舌：对于对等网络中符合预定条件的每一个节点，利用位置敏感哈希函数对 该节点的下载记录进行哈希处理，得到N个键值，N为自然数，将该节点的 标识以及该节点的下载记录保存到对等网络中负责索引所述N个键值中的 至少一个键值的各个节点上；对于对等网络中任一个当前节点，利用所述位置敏感哈希函数对该当前 节点的下载记录进行哈希处理，得到N个键值，根据负责索引所述N个键</p>
    <p>值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录，确定与当前节点的下载记录最为相似的K个节点，K为自然数，根据该K个节点 的下载记录获得当前节点的下载推荐列表。本发明实施例公开了一种基于结构化对等网络的下载方法，该方法包括：结构化对等网络中符合预定条件的每一个节点，利用位置敏感哈希函数 对自身的下载记录进行哈希处理，得到N个键值，N为自然数，并将自身标 识和下载记录保存到对等网络中负责索引所述N个键值中的至少一个键值 的各个节点上；下载节点利用所述位置敏感哈希函数对自身的下载记录进行哈希处理， 得到N个键值，根据负责索引所述N个键值中的至少一个键值的各个节点 所保存的节点标识和节点下载记录，确定与自身的下载记录最为接近的K 个节点，K为自然数，根据该K个节点的下载记录获得下载推荐列表；下载节点根据所述下载推荐列表进行下载。本发明实施例公开了 一种结构化的对等网络，该对等网络中符合预定条件的每一个节点，用于利用位置敏感哈希函数 将自身的下载记录进行哈希处理，得到N个键值，N为自然数，将自身的标 识以及下载记录发送到该对等网络中负责索引所述N个键值中的至少一个 键值的各个节点上进行保存；该对等网络中的任一个节点，用于利用所述位置敏感哈希函数对自身的 下载记录进行哈希处理，得到N个键值，查询对等网络中负责索引所述N 个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录，确 定与自身下载记录最为相似的K个节点，K为自然数，根据该K个节点的 下载记录获得自身的下载推荐列表。本发明实施例公开了一种结构化对等网络中的节点，该节点包括：哈希 模块和索引建立模块，其中，哈希模块，用于利用位置敏感哈希函数将自身所在节点的下载记录进行</p>
    <p>哈希处理，得到N个键值，N为自然数，将N个键值发送到索引建立模块;索引建立模块，用于接收哈希模块发送的N个键值，将自身所在节点 的标识以及下载记录发送到对等网络中负责索引所述N个键值中的至少一 个键值的各个节点上进行保存，以供对等网络中的其它节点查询。本发明实施例还公开了 一种结构化对等网络中的节点，该节点所在对等 网络中符合预定条件的每一个节点，用于利用位置敏感哈希函数将自身的下 载记录进行哈希处理，得到N个键值，N为自然数，将自身的标识以及下载 记录发送到该对等网络中负责索引所述N个键值中的至少一个键值的各个 节点上进行保存；该节点包括：哈希模块和下载推荐模块，其中，哈希模块，用于利用位置敏感哈希函数将自身所在节点的下载记录进行 哈希处理，得到N个键值，N为自然数，将N个键值发送到下载推荐模块；下载推荐模块，用于根据哈希模块发送的N个键值，查询对等网络中 负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和 节点下载记录，确定与自身所在节点的下载记录最为相似的K个节点，K为 自然数，根据该K个节点的下载记录获得自身所在节点的下载推荐列表。本发明实施例公开了 一种结构化对等网络中的节点，该节点所在对等网 络中符合预定条件的每一个节点，用于利用位置敏感哈希函数将自身的下载 记录进行哈希处理，得到N个键值，N为自然数，将自身的标识以及下载记 录发送到该对等网络中负责索引所述N个键值中的至少一个键值的各个节 点上进行保存；该节点包括：列表获取模块和下载模块，其中，列表获取模块，用于利用位置敏感哈希函数将自身所在节点的下载记录 进行哈希处理，得到N个键值，N为自然数，查询对等网络中负责索引所述 N个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录， 确定与自身所在节点的下载记录最为相似的K个节点，K为自然数，根据该 K个节点的下载记录获得自身所在节点的下载推荐列表，将所获取的下载推 荐列表发送给下载模块； 下载模块，用于根据所接收的下载推荐列表进行下载。由上述技术方案可见，本发明实施例通过利用位置敏感哈希函数，将对 等网络中符合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上，以完成整个网络中的索引日志的建立；并对于当前节点，利用 所述位置敏感哈希函数对该当前节点的下载记录进行哈希处理得到键值，根 据负责索引所得到的键值中的至少 一个键值的各个节点所保存的索引曰志， 获得当前节点的下载推荐列表的技术方案，能够在对等网络中根据用户的下 载历史，向用户推荐其感兴趣的下载任务，从而为用户提供个性化的下载推 荐服务。附图说明图1是现有的一个具体的最小独立洗牌函数的哈希过程示意图； 图2是本发明实施例一种基于结构化对等网络的提供下载推荐服务的 方法的流程图；图3是本发明 一种结构化对等网络中的节点的第 一实施例的结构框图； 图4是本发明一种结构化对等网络中的节点的第二实施例的结构框图； 图5是本发明 一种结构化对等网络中的节点的第三实施例的结构框图。具体实施方式由于本发明实施例中的技术方案是基于位置敏感哈希函数的，因此首先 介绍位置敏感哈希函数的相关概念。所谓位置敏感哈希函数是指能够保留对象距离特性的哈希函数，其具体 定义是： 一族（若干个）哈希函数H-(h:Sl&#8212;S2)被称为对相似度衡量N是 (rl，    r2,    pl， p2)-敏感的，如果它对于任何q, p，    p，e Sl满足：a. 如果peB(q， rl)，那么Pr H[h(q)=h(p)]^pl,b. 如果p，gB(q， r2)，那么Pr H[h(q)=h(p，)]^p2，其中，pl&gt;p2， rKr2。 B(p; r)={p: N(q， p)^r〉是以q为中心的球体。</p>
    <p>下面给出关于上述定义的解释：1. 上述定义中的对象距离，或者说对象的相似程度，是通过相似度衡 量N来测算的。例如：在三维空间中，可以&#37318;用两点之间的欧式距离作为 相似度衡量，距离远的两个点比距离近的两个点而言，具有较低的相似度。 也可以采用两个向量之间的夹角作为相似度衡量，三维空间内的两个点分别 和坐标原点相连，可以组成一个夹角，这个夹角越小，说明两个向量的相似 度越高。不同的相似度衡量之间不具有任何相关性。例如：三维空间中，两 个欧式距离相近的点可能对应向量之间的夹角却非常大。2. 位置敏感哈希可能是通过一个函数将一个对象映射到一个键值，也 可能通过多个具有类似性质的函数将一个对象映射到多个键值上。因此，所 谓位置敏感哈希函数是一族哈希函数。上述定义中，用h表示一个哈希函数， 用H表示一族哈希函数，Sl表示被哈希对象的定义域，S2表示哈希键值的 定义域，也就是h函数的值域。3. 在上述定义中，（rl， r2, pl， p2)-敏感的概念是说，位置敏感的 特性是在一定参数条件下得以满足的。例如（l, 2, 0.8, O.l)-敏感的位置敏 感哈希函数需要满足：对于任何属于Sl的三个点q，    p, p，，1 )如果p和q的距离小于1,那么这一族哈希函数H中的所有函数h， 将这两个点映射到相同的键值上的概率大于或等于0.8。2)如果p，和q的距离大于2，那么这一族哈希函数H中的所有函数h， 将这两个点映射到相同的键值上的概率小于或等于0.1 。根据类似的方法，可以定义类似（l, 2, 0.6, 0.5)-敏感的位置敏感哈希 函数等其它位置敏感哈希函数。不同参数的位置敏感哈希函数最终的具体形 式也略有差别，尤其是在哈希函数构造本身的一些参数和该族哈希函数的具 体数目上。从上述对哈希函数的定义说明可以看出，如果两个对象的相似度越高， 则经过位置敏感哈希函数哈希后所得到的键值相等的概率越高，反之，如果 两个对象的相似度越低，则经过位置敏感哈希函数哈希后所得到的键值相等 的概率越低，因此，位置敏感哈希函数能够保持对象的距离特性。在本发明实施例中，主要利用位置敏感哈希函数能够保持对象的距离特性的性质，在基于结构化的对等网络中实现个性化的下载推荐，具体为：对 于对等网络中符合预定条件的每一个节点，利用位置敏感哈希函数对该节点 的下载记录进行哈希处理，得到N个键值，N为自然数，将该节点的标识以 及该节点的下载记录保存到对等网络中负责索引所述N个键值中的至少一 个键值的各个节点上；对于对等网络中任一个当前节点，利用所述位置敏感 哈希函数对该当前节点的下载记录进行哈希处理，得到N个键值，根据负 责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识和节 点下载记录，确定与当前节点的下载记录最为相似的K个节点，K为自然数， 根据该K个节点的下载记录获得当前节点的下载推荐列表。通过上述方案可以根据当前用户的下载历史和与当前用户具有类似下 载行为的其它用户的下载历史，向当前用户推荐其可能感兴趣的下载任务， 从而为当前用户提供个性化的下载推荐服务。为使本发明的目的、技术方案及优点更加清楚明白，下面以最小独立洗 牌函数为例，对本发明进一步详细说明。最小独立洗牌函数是位置敏感哈希函数，在相似度衡量M为集合的重 合率的情况下，即相似度衡量M是两个集合的交集的元素个数与这两个集 合的并集的元素个数之比的情况下，最小独立洗牌函数可以保证这两个集合 的键值相等的概率为所述重合率。本发明实施例中采用一族最小独立洗牌函数，该一族最小独立洗牌函数 的输入参数为n位二进制整数的集合，每个最小独立洗牌函数都会将输入参 数进行哈希处理得到一个整型的键值，因此会得到一族键值。每一个最小独 立洗牌函数由m-log2n个种子整数构成，作用于0~ 2n-l范围内的整数，N个种子整数的位数依次为2"1、 2m"..... 2，例如，当m-5时，5个种子整数的位数依次为32位、16位、8位、4位、2位，并且每个种子整lt中的0</p>
    <p>和1的数目相等。下面先给出一个具体的最小独立洗牌函数的哈希过程。图1是现有的一个具体的最小独立洗牌函数的哈希过程示意图。在图1中，输入参数集合为{01111011, 11100010， 10000100}， 一族位置敏感哈希 函数包含两个最小独立洗牌函数，其种子整数分别为{10011100， 0110， 10} 和（10000U1， 1001， 10}。对于输入参数集合中的每一个整数，依次根据最小独立洗牌函数的种子整数进行重排，将与种子整数中的"r对应的那些 位提到高位，剩下的留在低位，得到新的整数，取所得整数中的最小数值作为键值。如图3所示，输入参数{01111011， 11100010， 10000100}经过两个 最小独立洗牌函数哈希后得到的键值分别为34和95。图2是本发明实施例一种基于结构化对等网络的提供下载推荐服务的 方法的流程图。如图2所示，包括以下步骤：步骤201,对于对等网络中符合预定条件的每一个节点，利用最小独立 洗牌函数对该节点的下载记录进行哈希处理，得到N个键值，N为自然数， 将该节点的标识以及该节点的下载记录保存到对等网络中负责索引所述N 个键值中的至少 一个键值的各个节点上。显然，在步骤201中所使用的最小独立洗牌函数族包含N个最小独立 洗牌函数。步骤201的目的是在对等网络系统中建立用户下载记录的索引日志，以 供后续的下载推荐时使用，因此需要进行特征选择，以过滤掉一些还不具有 统计意义的项目，例如，有些用户，即对等网络中的某些节点的下载文件总 数很少，还不足以反应出该用户的兴趣，因此这些用户的下载记录不应当被 加入到系统中的索引日志中。但系统还需要记录这些用户的下载记录，以便 将来这些用户的下载文件足够多时，将这些用户的下载记录加入到系统的索 引曰志中。在本实施例中，采用阀值过滤方法，当一个用户的下载文件数目超过预 定阀值时，即将该用户的下载记录采用步骤201中所述的哈希方法加入到系 统的索引日志中。此时，步骤201中所述的符合预定条件的节点，即为下载</p>
    <p>文件个数超过预定阀值的节点。此外，还可以根据节点的在线时间或下载查 询次数进行特征选择。也可以结合节点的下载文件数目、在线时间长度或下 栽查询次数中的任意两项或全部条件进行特征选择。在步骤201中，由于不同的键值可能由同一个节点进行负责索引，因此 负责索引所述N个键值中的至少一个键值的节点的个数可能是N个，也可 能小于N。在步骤201中，当一个符合预定条件的节点下载了新的对象，从而导致 该节点的下载记录发生变化时，需要进一步根据该节点发生变化后的下载记 录对系统中该用户的索引日志进行更新。以下载记录为（F^ ， Fa2 ， ...， FajJ的用户a为例对步骤201中索引曰 志建立过程进行说明：F为系统保存的与文件对应的整数标识，p表示该用 户已经下载的文件数目，经过使用最小独立洗牌函数族对该用户的下载记录 {Fal , Fa2 ,…，Fap)进行哈希处理后，得到N个键值（K^， Ka2,…，KaN}， 因此，将用户a的标识和下载记录在负责索引这些键值的节点（P^， Pa2,...，PaN)上各保存一份。由于不同的键值可能由同一个节点负责索引，因此，在 节点（Pa,，   Pa2，   ...，   PaN〉中可能会有重复的节点，此时，所重复的节点上保存一次用户a的标识和下载记录即可。当用户a又下载了一个新的文件Fa(p+,) 时，利用最小独立洗牌函数族对用户a的当前下载记录（F^ ， Fa2 , ...， Fap， Fa(p+D)进行哈希处理，得到新的N个键值，如果该新得到的N个键值与前 述得到的N个键值相同则无需对已经保存的用户a索引日志进行修改；如果 新得到的键值中有部分发生改变，比如，新得到的N个键值是(K幻，Ka2，...， KaN}，即第一个键值发生了改变，则删除负责索引键值K^的节点上的用户 a的标识和下载记录，并在负责索引键值Koo的节点上保存用户a的标识和 下载记录。上述过程中，系统保存的与文件对应的整数标识F是现有技术，网络系 统在保存文件时， 一般都会将一个文件哈希成唯一的整数标识，这里不再详 述。</p>
    <p>步骤202,对于对等网络中任一个当前节点，利用所述位置敏感哈希函 数对该当前节点的下载记录进行哈希处理，得到N个键值，根据负责索引 所述N个键值中的至少一个键值的各个节点所保存的节点标识和节点下载 记录，确定与当前节点的下载记录最为相似的K个节点，K为自然数，根据 该K个节点的下载记录获得当前节点的下载推荐列表。以下载记录为（F^ ， Fb2 ，…，Fbq)的用户b,即节点b为例对步骤202 下载推荐过程进行说明，q为该用户所下载的文件数目：首先，使用在步骤201中所使用的最小独立洗牌函数族对该用户的下载 记录（Fw ， Fb2 , ...， FbJ进行哈希处理，得到N个键值（Kw, Kb2, KbN },从负责索引键值（Kw， Kb2，…，KbN }的各个节点上获取其保存的 节点标识和对应的节点下载记录，取在所述各个节点所保存的节点标识中出 现次数最多的K个节点标识，则与这K个节点标识对应的K个节点即为与 用户b的下载行为最为相似的K个用户。例如，当N-3，负责索引Kw的 节点上保存的节点标识列表为：a、 b、 c、 d ,负责索引Kb2的节点上保存的 节点标识列表为：a、 b、 c、 e 、 g，负责索引Kb3的节点所保存的节点标识 列表为：a、 b、 f、 e 、 h时，由于在三节点标识列表中节点标识a出现的次 数最多，共3次，因此用户a的下载行为与用户b的下载行为最为相似，如 果K取3，则按照在各个节点标识列表中出现的次数依次取节点a、 c、 e即 可。其次，从负责索引键值（Kw, Kb2, ...， KbN)中的至少一个键值的各个 节点上获取与用户b的下载记录最为相似的K个节点的下载记录，根据与 用户b的下载记录的相似度为这K个节点打分，比如，可以采用重合率， 即两个集合的交集的元素个数与这两个集合的并集的元素个数之比进行打 分；从这K个下载记录中去除用户b已经下载的文件，对剩下的文件根据 各个节点的得分进行加权求和，以得分次序进行排序即得到下载推荐列表。 例如，与用户b的下载行为最为相似的3个节点分别为a、 c、 e,根据与用 户b的下载记录的相似度进行打分后，节点a得0.95分，节点c得0.9分，</p>
    <p>节点e得0.6分，从a、 c、 e的下载记录中去除用户b已经下载的文件后， 剩余的下载文件分别为（Fi ， F2 ， F3}、 {Ft ， F3 ， F^和（F3 , F5}，则经 过加权求和后文件F！得1.85分、文件F2得0.95分、文件F3的2.45分、 文件F4得0.9分、文件Fs得0.6分，得分越高的文件表明系统认为用户b 越有可能下载，因此经过排序后得到下载推荐列表：F3(2.45)， F!(1.85)， F2(0.95),   F4(0.9), F5(0.6)。在图2所示的提供下载推荐服务方法流程中，位置敏感哈希函数是最小 独立洗牌函数，当然也可以根据实际情况使用其它的位置敏感哈希函数，其 基本流程与图2所述的流程相同，这里不再复述。基于图2中的提供下载推荐服务方法获得下载推荐列表后，下载节点即 可根据该下载推荐列表进行下载。基于上述基于结构化对等网络的提供下载推荐服务的方法的技术方案， 接下来给出本发明实施例的结构化对等网络和结构化对等网络中的节点。本发明实施例中的一种结构化的对等网络，由多个对等节点组成，其中：该对等网络中符合预定条件的每一个节点，用于利用位置敏感哈希函数 将自身的下载记录进行哈希处理，得到N个键值，N为自然数，将自身的标 识以及下载记录发送到该对等网络中负责索引所述N个键值中的至少一个 键值的各个节点上进行保存；该对等网络中的任一个节点，用于利用所述位置敏感哈希函数对自身的 下载记录进行哈希处理，得到N个键值，查询对等网络中负责索引所述N 个键值中的至少 一个键值的各个节点所保存的节点标识和节点下载记录，确 定与自身下载记录最为相似的K个节点，K为自然数，根据该K个节点的 下载记录获得自身的下载推荐列表。并且，该对等网络中的符合预定条件的每一个节点，进一步用于在下载 新的文件时，根据自身当前的下载记录更新对等网络中所保存的其自身的节 点标识和下载记录。图3是本发明 一种结构化对等网络中的节点的第 一实施例的结构框图。</p>
    <p>该节点是结构化对等网络中的一个节点，如图3所示，该节点包括：哈希模 块301和索引建立模块302。在图3中，哈希模块301,用于利用位置敏感哈希函数将自身所在节点 的下载记录进行哈希处理，得到N个键值，N为自然数，将N个键值发送 到索引建立模块302。索引建立模块302,用于接收哈希模块301发送的N 个键值，将自身所在节点的标识以及下载记录发送到对等网络中负责索引所 述N个键值中的至少一个键值的各个节点上进行保存，以供对等网络中的 其它节点查询。图3所示的节点还可以进一步包括下栽推荐模块303，在图3中用虚线 框图表示。此时，哈希模块301,进一步用于将N个键值发送到下载推荐模 块303。下载推荐模块303用于根据哈希模块301发送的N个键值，查询对 等网络中负责索引所述N个键值中的至少一个键值的各个节点所保存的节 点标识和节点下载记录，确定与自身所在节点的下载记录最为相似的K个 节点，K为自然数，根据该K个节点的下载记录获得自身所在节点的下载推 荐列表。图4是本发明 一种结构化对等网络中的节点的第二实施例的结构框图。 该节点是结构化对等网络中的 一 个节点，且该节点所在对等网络中符合预定 条件的每一个节点，用于利用位置敏感哈希函数将自身的下载记录进行哈希 处理，得到N个键值，N为自然数，将自身的标识以及下载记录发送到该对 等网络中负责索引所述N个键值中的至少 一 个键值的各个节点上进行保存。 如图4所示，该节点包括：哈希模块401和下载推荐模块402。在图4中，哈希模块401，用于利用位置敏感哈希函数将自身所在节点 的下载记录进行哈希处理，得到N个键值，N为自然数，将N个键值发送 到下载推荐模块402。下载推荐模块402,用于根据哈希模块401发送的N 个键值，查询对等网络中负责索引所述N个键值中的至少一个键值的各个 节点所保存的节点标识和节点下载记录，确定与自身所在节点的下载记录最 为相似的K个节点，K为自然数，根据该K个节点的下载记录获得自身所</p>
    <p>在节点的下载推荐列表。图5是本发明 一种结构化对等网络中的节点的第三实施例的结构框图。 该节点是结构化对等网络中的一个节点，如图5所示，该节点包括：列表获 取模块501和下载模块502。图5所示的节点所在对等网络中符合预定条件的每一个节点，用于利用 位置敏感哈希函数将自身的下载记录进行哈希处理，得到N个键值，N为自 然数，将自身的标识以及下载记录发送到该对等网络中负责索引所述N个 键值中的至少 一 个键值的各个节点上进行保存。在图5中，列表获取模块501,用于利用位置敏感哈希函数将自身所在 节点的下载记录进行哈希处理，得到N个键值，N为自然数，查询对等网络 中负责索引所述N个键值中的至少一个键值的各个节点所保存的节点标识 和节点下载记录，确定与自身所在节点的下载记录最为相似的K个节点，K 为自然数，根据该K个节点的下载记录获得自身所在节点的下载推荐列表， 将所获取的下载推荐列表发送给下载模块502。下载模块502，用于根据所 接收的下载推荐列表进行下载。图5中的列表获取模块501包括：哈希模块503和下载推荐模块504, 其中，哈希模块503，用于利用位置敏感哈希函数将自身所在节点的下载记 录进行哈希处理，得到N个键值，N为自然数，将N个键值发送到下载推 荐模块504;下载推荐模块504,用于根据哈希模块503发送的N个键值， 查询对等网络中负责索引所述N个键值中的至少一个键值的各个节点所保 存的节点标识和节点下载记录，确定与自身所在节点的下载记录最为相似的 K个节点，K为自然数，根据该K个节点的下载记录获得自身所在节点的下 载推荐列表，将所获取的下载推荐列表发送给下载模块502。综上所述，本发明实施例通过利用位置敏感哈希函数，将对等网络中符 合预定条件的每一个节点的下载记录哈希保存到对等网络中相应的节点上， 以完成整个网络中的索引日志的建立；并对于当前节点，利用所述位置敏感 哈希函数对该当前节点的下载记录进行哈希处理得到键值，根据负责索引所得键值中的至少一个键值的各个节点所保存的索引日志，获得当前节点的下 载推荐列表的技术方案，能够在对等网络中根据用户的下载历史，向用户推 荐其感兴趣的下载任务，从而为用户提供个性化的下载推荐服务。以上所述，仅为本发明的较佳实施例而已，并非用于限定本发明的保护 范围，凡在本发明的精神和原则之内所做的任何修改、等同替换、改进等， 均应包含在本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102263777A?cl=zh">CN102263777A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年5月28日</td><td class="patent-data-table-td patent-date-value">2011年11月30日</td><td class="patent-data-table-td ">腾讯科技（深圳）有限公司</td><td class="patent-data-table-td ">一种关联下载提示方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102663073A?cl=zh">CN102663073A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年3月31日</td><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td ">奇智软件（北京）有限公司</td><td class="patent-data-table-td ">基于被下载文件进行推荐的方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102663073B?cl=zh">CN102663073B</a></td><td class="patent-data-table-td patent-date-value">2012年3月31日</td><td class="patent-data-table-td patent-date-value">2014年8月20日</td><td class="patent-data-table-td ">北京奇虎科技有限公司</td><td class="patent-data-table-td ">基于被下载文件进行推荐的方法及系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=QbloBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=QbloBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012460000">H04L12/46</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年4月1日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年5月27日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年4月20日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/18405f8138d00db27ec9/CN101399738A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E6%8F%90%E4%BE%9B%E4%B8%8B%E8%BD%BD%E6%8E%A8%E8%8D%90%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%96%B9%E6%B3%95_%E7%BB%93%E6%9E%84.pdf?id=QbloBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U31Na2ojhkrOhWX9VWcAXj6moClDw"},"sample_url":"https://www.google.com/patents/reader?id=QbloBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>