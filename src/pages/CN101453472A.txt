<!DOCTYPE html><html><head><title>专利 CN101453472A - 关系信息的公开、获取方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="关系信息的公开、获取方法及系统"><meta name="DC.contributor" content="谦 孙" scheme="inventor"><meta name="DC.contributor" content="扬 招" scheme="inventor"><meta name="DC.contributor" content="田林一" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2005-11-9" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供了一种提供关系信息的系统，包括：客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和输出关系视图；关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及其各级联系人的关系记录并返回给客户端，其中，所述关系记录至少包括用户标识、该用户的联系人标识、该用户与联系人的关系信息和关系记录是否公开的标记；关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系信息。使用本发明，用户可以在即时通信等系统中，共享自己的关系信息给其他用户，以及获取到间接的关系信息或关系路径。"><meta name="DC.date" content="2009-6-10"><meta name="citation_patent_publication_number" content="CN:101453472:A"><meta name="citation_patent_application_number" content="CN:200810190725"><link rel="canonical" href="https://www.google.com/patents/CN101453472A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101453472A?cl=zh"/><meta name="title" content="专利 CN101453472A - 关系信息的公开、获取方法及系统"/><meta name="description" content="本发明提供了一种提供关系信息的系统，包括：客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和输出关系视图；关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及其各级联系人的关系记录并返回给客户端，其中，所述关系记录至少包括用户标识、该用户的联系人标识、该用户与联系人的关系信息和关系记录是否公开的标记；关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系信息。使用本发明，用户可以在即时通信等系统中，共享自己的关系信息给其他用户，以及获取到间接的关系信息或关系路径。"/><meta property="og:title" content="专利 CN101453472A - 关系信息的公开、获取方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101453472A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101453472A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=F3ZqBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101453472A&amp;usg=AFQjCNGjFl051VbK2S3YRGoW-tu71sD_rA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/6d0a6a4eaeba80249eb2/CN101453472A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/6d0a6a4eaeba80249eb2/CN101453472A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101453472A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101453472A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101453472A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101453472B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101453472A?cl=zh" style="display:none"><span itemprop="description">本发明提供了一种提供关系信息的系统，包括：客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和输出关系视图；关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及其各级联系人的关系记...</span><span itemprop="url">https://www.google.com/patents/CN101453472A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101453472A - 关系信息的公开、获取方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101453472A - 关系信息的公开、获取方法及系统" title="专利 CN101453472A - 关系信息的公开、获取方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101453472 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810190725</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年6月10日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2005年11月9日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2005年11月9日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101453472B?hl=zh-CN&amp;cl=zh">CN101453472B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810190725.6, </span><span class="patent-bibdata-value">CN 101453472 A, </span><span class="patent-bibdata-value">CN 101453472A, </span><span class="patent-bibdata-value">CN 200810190725, </span><span class="patent-bibdata-value">CN-A-101453472, </span><span class="patent-bibdata-value">CN101453472 A, </span><span class="patent-bibdata-value">CN101453472A, </span><span class="patent-bibdata-value">CN200810190725, </span><span class="patent-bibdata-value">CN200810190725.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B0%A6+%E5%AD%99%22">谦 孙</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%89%AC+%E6%8B%9B%22">扬 招</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%94%B0%E6%9E%97%E4%B8%80%22">田林一</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101453472A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101453472A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101453472A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (10),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=F3ZqBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810190725&amp;usg=AFQjCNGmgGBXt1JPi_-MdS45WvIU41Soaw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=F3ZqBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101453472A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHvqVq20DRP1OxlTiUBVVM8i4Wrnw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT75762457" lang="ZH" load-source="patent-office">关系信息的公开、获取方法及系统</invention-title>
      </span><br><span class="patent-number">CN 101453472 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA53517458" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供了一种提供关系信息的系统，包括：客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和输出关系视图；关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及其各级联系人的关系记录并返回给客户端，其中，所述关系记录至少包括用户标识、该用户的联系人标识、该用户与联系人的关系信息和关系记录是否公开的标记；关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系信息。使用本发明，用户可以在即时通信等系统中，共享自己的关系信息给其他用户，以及获取到间接的关系信息或关系路径。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(8)</span></span></div><div class="patent-text"><div mxw-id="PCLM13506607" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种公开关系信息的系统，包括服务器，其中，所述服务器上存储用户的关系记录，所述关系记录至少包括用户标识、该用户的联系人标识以及该用户与联系人的关系信息，所述关系记录设置有是否公开的标记；所述服务器用于接收将关系记录设置为公开的请求消息，所述请求消息至少包括发送该请求消息用户的用户标识、联系人标识；并且，所述服务器根据接收到的请求消息中的用户标识和联系人标识检索到所述用户标识和联系人标识之间的关系记录，并将该关系记录标记为公开。</div>
    </div>
    </div> <div class="claim"> <div num="2" class="claim">
      <div class="claim-text">2、 一种关系信息的获取系统，包括服务器，其特征在于，服务器中存 储用户与联系人的关系记录，所述关系记录至少包括用户标识，该用户的联 系人标识以及该用户与联系人的关系信息，以及标识关系记录是否公开的标记；所述服务器接收客户端发送的获取关系信息的请求消息，所述请求消息包括客户端用户标识、要查询的目的用户标识；所述服务器根据接收到的所述请求消息中的要查询的目的用户标识，检 索存储的该目的用户标识对应的标记为公开的关系记录信息；所述服务器将检索到的关系记录信息返回给发起所述请求消息的客户端。</div>
    </div>
    </div> <div class="claim"> <div num="3" class="claim">
      <div class="claim-text">3、 一种关系路径信息的获取系统，包括服务器，其特征在于，所述服 务器中存储用户与联系人的关系记录，所述关系记录至少包括用户标识，该 用户的联系人标识以及该用户与联系人的关系信息，以及标识关系记录是否 7^开的标i己；所述服务器接收所述客户端发送的获取关系路径信息的请求消息，所述 请求消息包括客户端用户标识、要查询的目的用户标识；所述服务器接收所述请求消息，根据存储的标记为公开的各个用户的关系记录，检索客户端用户标识到要查询的目的用户标识的关系路径信息； 所述服务器将检索到的关系路径信息返回给发起所述请求消息的客户端。</div>
    </div>
    </div> <div class="claim"> <div num="4" class="claim">
      <div class="claim-text">4、 一种提供关系信息的系统，包括：客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和 输出关系视图；关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及 其各级联系人的关系记录并返回给客户端，其中，所述关系记录至少包括用 户标识、该用户的耳关系人标识、该用户与联系人的关系信息和关系记录是否 7^开的标i己；关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系 信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 根据权利要求4所述的系统，其特征在于，该系统进一步包括： 查询服务单元，用于接收客户端和/或关系服务单元的请求去检索用户属性数据库获得用户属性，或根据用户属性反查用户属性数据库获得对应的 用户标识；用户属性数据库，存储有各个用户的属性信息，向查询服务单元和/或 关系服务单元提供各级联系人的属性信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 根据权利要求4所述的系统，其特征在于，该系统进一步包括： &#32233;存服务单元，用于&#32233;存关系服务单元检索出的关系信息，并由关系服务单元提供给客户端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 根据权利要求4所述的系统，其特征在于，该系统进一步包括： 活动服务单元，用于存储客户端创建的活动记录，并在接收到查看活动信息或加入活动的请求时向关系服务单元请求验证发送请求的用户与创建 活动的用户之间的关系信息，验证符合预设的关系后才允许查看活动信息或 力口入活动。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8、 根据权利要求4所述的系统，其特征在于，该系统所述关系服务单元包括：第一单元，用于将发送请求的用户标识发送给第二单元，以及将第二单 元返回的基本关系信息进行&#32233;存，并根据所述基本关系信息中包含的各级联 系人的用户标识继续上述步骤，从第二单元获取各级联系人的基本关系信 息，最终组合各级联系人的基本关系信息后返回给客户端；第二单元，用于根据第一单元发送的用户标识检索关系记录并生成该用 户标识的基本关系信息，返回给第一单元。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES18893620" lang="ZH" load-source="patent-office" class="description">
    <p>关系信息的公开、获取方法及系统</p>
    <p>本专利申请是2005年11月09日向中国专利局提出申请，申请号为 200510115812.1，发明名称为"关系信息的公开、获取方法及系统"的国内 申请的分案申请。</p>
    <p>技术领域</p>
    <p>本发明涉及通信技术领域，特别是指关系信息的公开、获取方法及系统。 背景技术</p>
    <p>目前的各种即时通信系统（如MSNMessenger、 QQ、 ICQ)、邮件通信 系统或其他通信系统中，存在很多系统预设的、或用户创建的组（Group), 用于对与用户存在直接关系的联系人进行分类。如MSN Messenger中默认 有四个联系人分组：家人、朋友、同事、其他联系人。如下表1示出了 sunqian@mail.com的联系人列表，当然表1中的用户标识/联系人标识不仅 可以是电子邮箱地址，还可以是电话号码、唯一标识用户的号码（如QQ号 码）或统一资源定位符URI等。</p>
    <p>用户标识	联系人标识	组名称/标识</p>
    <p>sunqian@mail.com	wenx@mail.cn	家人</p>
    <p>sunqian@mail. com	maning@mail.com	同事</p>
    <p>sunqian@mail &#8226; com	yangzhao@mail &#8226; com	朋友</p>
    <p>表1</p>
    <p>通常，组的名称如"家人，，即可表示用户与联系人的关系。用户可以根 据需要增加新的组，如增加同学组。还可以将一个组进一步设置小组，以进 一步区别与联系人的关系，如朋友组分为好朋友，普通朋友两个组。在开放</p>
    <p>移动联盟（OMA)制定的标准中，单独设置了 一个共享XDM服务器（Shared XDMS)用于存放用户的组信息，以供各种业务如PoC， Presence等业务使用。</p>
    <p>目前一个用户的组，或称为与联系人的关系信息在现有各种存在组的业 务系统中都是除该用户之外的其他用户无法获得的，同时系统也没有提供公 开关系信息的机制。而用户可能希望获得其他用户的联系人信息和关系信 息，也可能会希望将自己的联系人及与联系人的关系信息进行适当公开，以 通过朋友的朋友（联系人的联系人）结识更多的朋友，拓展自己的关系网络。 而另一方面，公开关系信息涉及用户隐私，用户还可能会希望有条件的控制 关系信息的公开程度和公开范围等。但是，目前尚没有相关的技术来实现用 户联系人信息及关系信息的可控制的公开、获取的技术。</p>
    <p>发明内容</p>
    <p>有鉴于此，本发明的主要目的在于提供了关系信息的公开和获取方法及 系统，使用户可以在通信系统中，共享自己的关系信息提供给其他用户，以 及获取到间接的关系信息或关系路径。</p>
    <p>本发明提供公开关系信息的系统，包括服务器，其中，所述服务器上存 储用户的关系记录，所述关系记录至少包括用户标识、该用户的联系人标识</p>
    <p>以及该用户与联系人的关系信息，所述关系记录设置有是否公开的标记；</p>
    <p>所述服务器用于接收将关系记录设置为公开的请求消息，所述请求消息 至少包括发送该请求消息用户的用户标识、联系人标识；</p>
    <p>并且，所述服务器根据接收到的请求消息中的用户标识和联系人标识检 索到所述用户标识和联系人标识之间的关系记录，并将该关系记录标记为公 开。</p>
    <p>本发明提供的关系信息的获取系统，包括服务器，服务器中存储用户与 联系人的关系记录，所述关系记录至少包括用户标识，该用户的联系人标识 以及该用户与联系人的关系信息，以及标识关系记录是否公开的标记；</p>
    <p>所述服务器接收客户端发送的获取关系信息的请求消息，所述请求消息包括客户端用户标识、要查询的目的用户标识；</p>
    <p>所述服务器根据接收到的所述请求消息中的要查询的目的用户标识，检 索存储的该目的用户标识对应的标记为公开的关系记录信息；</p>
    <p>所述服务器将检索到的关系记录信息返回给发起所述请求消息的客户端。</p>
    <p>本发明提供的另一种关系路径信息的获取系统，包括服务器，所述服务 器中存储用户与联系人的关系记录，所述关系记录至少包括用户标识，该用 户的联系人标识以及该用户与联系人的关系信息，以及标识关系记录是否公 开的标记；</p>
    <p>所述服务器接收所述客户端发送的获取关系路径信息的请求消息，所述 请求消息包括客户端用户标识、要查询的目的用户标识；</p>
    <p>所述服务器接收所述请求消息，根据存储的标记为公开的各个用户的关 系记录，检索客户端用户标识到要查询的目的用户标识的关系路径信息；</p>
    <p>所述服务器将检索到的关系路径信息返回给发起所述请求消息的客户。</p>
    <p>本发明提供的提供关系信息的系统，包括：</p>
    <p>客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和 输出关系视图；</p>
    <p>关系服务单元，用于接收客户端请求，从关系记录数据库检索出用户及 其各级联系人的关系记录并返回给客户端，其中，所述关系记录至少包括用 户标识、该用户的联系人标识、该用户与联系人的关系信息和关系记录是否 公开的标记；</p>
    <p>关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系信息。</p>
    <p>由上述系统可以看出，本发明使用户可获得其他用户的联系人信息和关 系信息，以及将自己的联系人及与联系人的关系信息进行适当公开，实现通过朋友的朋友（联系人的联系人）结识更多的朋友，拓展自己的关系网络。 并且，实现用户可以有条件的控制关系信息的公开程度和公开范围等。</p>
    <p>附图说明</p>
    <p>图1为用户之间的关系示意图。</p>
    <p>图2为控制关系信息的公开流程图。</p>
    <p>图3为获得其他用户的联系人信息的流程图。</p>
    <p>图4为两层级的关系记录信息示意图。</p>
    <p>图5为用户获得某用户关系路径的流程图。</p>
    <p>图6为提供关系信息的系统示意图。</p>
    <p>图7为用户A的2级关系视图。</p>
    <p>图8为用户A与C3有直接关系的2级关系视图。</p>
    <p>图9为用户A的基本关系视图。</p>
    <p>图10为关系视图生成流程图。</p>
    <p>图11为树形图表示的关系视图。</p>
    <p>图12为包含孤岛节点的关系网络图。</p>
    <p>图13为两个线程搜索关系路径的示意图。</p>
    <p>图14为用户A到用户D的关系路径示意图。</p>
    <p>具体实施方式</p>
    <p>本发明，在服务器上存储用户的关系记录，每条关系记录至少包括用户 标识，联系人标识以及用户与联系人的关系信息。不难理解，用户之间可能 存在如图l所示的用户之间的关系，其中关系箭头的终点为起点的联系人。</p>
    <p>8图l表示了下面的关系：用户A的关系记录中的联系人标识包括用户B,用 户B关系记录中的联系人标识包括用户C等。下面以该图为例对本发明进 行说明。</p>
    <p>本发明首先提供了用户控制对自己关系记录进行公开的方法。预先，在 服务器上存储用户的关系记录，所述每条关系记录至少包括用户标识，联系 人标识以及用户与联系人的关系信息。参见图2示出的流程图，包括以下步 骤：</p>
    <p>步骤201:用户向服务器发送将关系记录设置为公开的请求消息，该请 求消息至少包括该用户的标识，联系人标识。本例中，设发起请求的用户是 用户B，联系人标识为用户C的标识。当然联系人标识可以为多个，这样可 以在一个请求消息中将用户与多个联系人的关系记录设置为公开。</p>
    <p>该请求消息中还可包括该用户B设定公开范围的参数，用来限定公开 信息提供给哪些用户；以及设定公开程度的参数，用来限定提供哪些相关的 关系信息（如关系信息、用户属性等）。公开范围参数还可以和公开程度参 数建立对应关系，这样，对于符合不同公开范围参数的用户，可以获得不同 的公开程度的信息。</p>
    <p>步骤202:服务器接收到所述请求消息后，根据该请求消息中的联系人 用户C的标识，向联系人的客户端发送关系记录公开请求确认消息。</p>
    <p>此步骤的目的是因为关系隐私涉及到用户B和联系人用户C，因此通过 该步骤去寻求联系人对公开关系记录的确认，可以加强对隐私信息的控制。 另外，在客户端返的回确认消息后中还可包括该用户设定的公开范围参数和 /或公开程度参数，由服务器保存，进一步对其隐私信息的公开进行控制。步骤203: 4关系人用户C同意公开，通过其客户端返回确认的响应消息， 否则返回拒绝公开的响应消息。</p>
    <p>步骤204:服务器收到确认的响应消息后，将用户B与返回确认消息的 联系人（用户C)标识对应的关系信息标记为公开；若收到拒绝公开的响应 消息，则不进行公开的操作，将原因返回给用户B。</p>
    <p>同时，当请求消息中包括设定公开范围的参数、设定公开程度的参数时， 服务器要保存这些参数作为公开的限定。</p>
    <p>不难理解的是，用户还可以向服务器发送将关系记录设置为不公开的请 求消息，该请求消息至少包括发送该请求消息用户的用户标识，联系人标识； 当服务器根据接收到的请求消息中的用户标识和联系人标识检索到所述用 户标识和联系人标识之间的关系记录，并将该关系记录标记为不公开。并且， 服务器向所述关系记录设置为不公开的请求消息中的联系人标识对应的客 户端发送关系记录已设置为不公开的通知消息。</p>
    <p>下面再来说明用户如何获得其他用户的联系人及关系信息的步骤。同样 的，服务器中存储有用户与联系人的关系记录，所述每条关系记录至少包括 用户标识、联系人标识、还存储有用户与联系人的关系信息和公开参数信息。 这里的公开参数信息即包括用户设置的与某联系人的关系记录是否公开的 标记、公开范围参数和公开程度参数。公开参数可以是在用户控制对自己关 系信息进行公开的步骤中设置的。网络中还保存有用户属性（如性别、年龄、 职业）。</p>
    <p>10以用户A获取用户B的联系人和关系信息为例，参见图3示出的流程 图，获得其他用户的联系人及关系信息的步骤包括：</p>
    <p>步骤301:用户A向服务器发送获取用户B关系信息的请求消息，该请 求消息包括要查询的目的用户标识（即用户B标识）。该请求还可包括获取 关系信息的限定参数，限定参数可以包括用户属性信息（如性别、年龄、职 业）、关系名称信息（如家人、朋友）、关系层级/数量、关系亲密级别、 用户标识（如统一资源定位符URI，直接给出到指定用户标识的关系路径） 等，多个限定参数可以同时存在。</p>
    <p>步骤302:服务器根据接收到的所述请求消息中的用户B的用户标识， 从其存储的关系记录中检索获得用户B的满足公开参数信息的关系记录信 息，获得用户B的标记为公开的联系人标识（如用户C标识）、及该联系 人与用户B的关系信息。</p>
    <p>若步骤301所述请求中包括设定的关系信息限定参数，则对获得的关系 记录信息进一 步进行过滤，仅得到满足所述关系记录信息限定参数的所述关 系记录信息。例如当关系信息限定参数包括用户属性"男"，则根据联系人 属性，过滤掉记录性别为"女"的联系人。</p>
    <p>又如，当关系信息限定参数包括关系的层级时，将检索到的各个联系人 分别作为要查询的目的用户标识，返回步骤302实现遍历以得到每个联系人 的关系记录信息，获得下一层次的关系信息；之后再返回步骤302,直到获 得限定的关系层级。如图4所示，当关系层级为2时，发起请求的用户A 可以得到用户B的第一层级的关系记录信息：用户Cl、 C2标识及与用户B 的关系信息，和第二层级的关系记录信息：用户Dl、 D2、 D3标识及与各自所属用户的关系信息。</p>
    <p>又如，当关系信息限定参数包括关系亲密级别时，会判断检索到的联系</p>
    <p>人与用户B的关系信息所对应的级别，将不符合关系亲密级别的联系人过滤</p>
    <p>掉。当然，关系信息对应的级别需要预先设定，例如，家人的亲密级别为1、</p>
    <p>朋友的亲密级别为2、同事的亲密级别为3。</p>
    <p>当同时存在几个限定参数时，则依照限定参数依次进行过滤，即取交集。 步骤303:服务器确定用户A标识在所请求的用户B的公开范围参数内，</p>
    <p>并获得该公开范围参数对应的公开程度参数，然后将步骤获得的检索结果以</p>
    <p>所述公开程度参数进行过滤，将符合公开程度参数的关系记录信息作为检索结果。</p>
    <p>当然，确定用户A在所述公开范围内的步骤也可在步骤302检索关系 记录信息之前进行，即对用户A进行鉴权。当用户A不在所请求的用户B 的公开范围参数内时，直接拒绝用户A的请求。</p>
    <p>步骤304:服务器将步骤303后的关系记录信息的检索结果（包括用户</p>
    <p>B的联系人信息、用户B联系人与用户B的关系信息等）返回给用户A的 客户端。</p>
    <p>步骤305:用户A的客户端保存获得的关系记录信息的检索结果，并根 据检索结果生成并输出关系视图给用户A。当然，关系视图也可以由服务器 生成后再输出给用户A客户端进行保存。</p>
    <p>由于用户的关系通常是比较稳定的，变化比较慢，如增加、删除联系人， 改变与联系人的关系名称等等，因此保存在客户端可以有较少的访问网络的 好处。</p>
    <p>另外，但在需要的情况下，客户端记录的关系记录/关系视图可以由客 户端发起请求进行主动更新，或由服务器在关系变化时通知用户。下面对更新客户端记录的信息的步骤进行简述：</p>
    <p>客户端主动更新关系视图（关系记录）的步骤：客户端在保存的关系记 录/关系视图中选择一个直接或间接的联系人，将联系人的用户标识发送给 服务器，服务器检索该用户标识的关系记录，并发送给客户端，客户端将收 到的关系记录与保存的关系记录进行对比，将变化的关系记录更新，重新生 成关系视图。</p>
    <p>服务器可以仅对第一关系层级的联系人的关系发生变化时进行通知，服 务器通知更新关系视图（关系记录）的步骤：服务器获知一用户的关系记录 发生变化后，获取该用户所属的用户标识，向所属用户标识发送关系记录变 化的通知，客户端收到后，向服务器请求最新的关系记录，并以此更新本地 保存的关系记录。</p>
    <p>另外，当&#37318;用了&#32233;存机制时，例如服务器预先检索并&#32233;存用户和各级联 系人的关系记录信息；那么，步骤304中的查询关系记录信息的步骤可以通 过查询&#32233;存的信息来实现，仅在&#32233;存中不存在要查询的信息时，再从服务器 中查询。</p>
    <p>下面再来说明用户如何获得到某用户关系路径的步骤。关系路径指由不 同联系人信息建立的从一用户到另 一用户经历的所有用户的信息。同样的， 服务器中存储有用户与联系人的关系记录，所述每条关系记录至少包括用户 标识、联系人标识、还存储有用户与联系人的关系信息和公开参数信息。这 里的公开参数信息即包括用户设置的与某联系人的关系记录是否公开的标 记、公开范围参数和公开程度参数。公开参数可以是在用户控制对自己关系 信息进行公开的步骤中设置的。网络中还保存有用户属性（如性别、年龄、 职业）。</p>
    <p>参见图5示出的流程图，以用户A获得到用户C关系路径为例，对用 户获得到某用户关系路径进行说明，包括以下步骤：</p>
    <p>步骤501:用户A通过客户端向服务器发送获取关系路径的请求消息，所述请求消息包括、用户A标识、要查询的用户C标识；</p>
    <p>步骤502:服务器根据接收到的所述要查询的用户C标识，根据存储的 标记为公开的各个用户的关系记录信息，以某种遍历的算法（如宽度优先搜 索或/和深度优先搜索）检索用户A标识到要查询的用户C的关系路径信息。 其中，可以仅在满足设定条件的关系记录的子集中查询关系路径。例如， 设定仅在一定的用户关系（如家人和朋友）的关系记录的集合中搜索，或者 满足一定亲密级别的关系记录的集合中查询关系路径，或在一定关系层级/ 数量内。这些预设条件可以是在步骤501中由用户A发送请求时一并发送 给服务器的。凡是在设定条件内无法查询到关系路径，则服务器认为不存在 这样的关系路径。</p>
    <p>另外，可以预先将具有直接或间接关系的用户设置一相同的关系网络标 识，表示具有直接或间接存在关系；当服务器检索查询用户A到用户C的 关系路径时，首先判断一下两个用户对应的关系网络标识是否相同，如果不 同直接返回提示难以到达的消息即可。</p>
    <p>步骤503:将获得的关系路径信息返回给用户A的客户端。 其中，对于步骤502也可以如下进行关系路径的获得： 在服务器上启动两个线程单元， 一个线程单元从起点（即用户A标识） 出发遍历起点的各级联系人，并保存关系信息，另一个线程单元从目标（即 用户C标识）出发，遍历目标的各级联系人，并保存关系信息；</p>
    <p>同时检测已经得到的起点和目标的各级联系人中是否有相同的，如果有 则可到达，并根据存储的关系信息得到关系路径信息；如果没有，当宽度到 达预先设定的层级时，停止搜索遍历，向客户端返回提示很难到达的消息。</p>
    <p>相应的，本发明还提供了一种提供关系信息的系统，参见图6示出的系 统结构图，包括：</p>
    <p>客户端，用于发送获取关系信息的请求，并根据获取的关系信息生成和</p>
    <p>14输出关系视图。</p>
    <p>关系服务单元，用于接收客户端请求，从关系记录数据库或&#32233;存服务单 元检索出用户及其各级联系人的关系记录信息或/和关系路径信息，从用户 属性数据库获取用户的属性信息，以及将获取到的关系记录和用户属性返回 给客户端。</p>
    <p>关系记录数据库，存储有各个用户的联系人、用户与联系人之间的关系 信息。</p>
    <p>查询服务单元，用于接收请求去检索用户属性数据库获得用户属性，或 根据用户属性(如年龄、性别等)反查用户属性数据库获得对应的用户标识（查 出的用户标识可能不唯一）。</p>
    <p>用户属性数据库，存储有各个用户的属性信息，包括用户标识、姓名、 电话、性别、职业等，用于向查询服务单元和/或关系服务单元提供各级联 系人的属性信息。</p>
    <p>&#32233;存服务单元，用于&#32233;存关系服务单元检索出的关系信息，由关系服务 单元提供给客户端。</p>
    <p>活动服务单元，用于存储客户端创建的活动记录，所述的活动记录包括 活动编号，活动名称，创建者，时间等字段。创建者可以设置活动记录的公 开范围，以及加入活动的权限。并在接收到查看活动信息或加入活动的请求 时向关系服务单元请求验证发送请求的用户与创建活动的用户之间的关系 信息，验证符合预设的关系后才允许查看活动信息或加入活动。</p>
    <p>其中，关系服务单元还包括：第一单元，用于接收用户请求后将用户标 识发送给第二单元；第二单元，用于检索关系记录并生成用户标识的基本关 系信息，然后返回给第一单元。具体的，第一单元首先根据发送请求的用户 (即根用户）的用户标识从第二单元获取用户的第l级联系人和关系信息， 然后对第l级联系人逐一根据第l级联系人的用户标识向第二单元获取用户 的第2级联系人和关系信息。如此逐级处理，直到满足预先设置的终止条件。最后由第 一单元将获取到的各级联系人和关系信息发送给客户端，客户端据 此生成关系视图。</p>
    <p>其中，所述关系记录数据库可以与关系服务单元设置在一个服务器上，</p>
    <p>如设置在关系服务器或共享XDM服务器上。在实际的实现时，为了便于不 同的业务共享关系记录信息，因此将关系记录数据库存放在与业务服务器独 立的服务器上较好，如开放移动联盟OMA给出的共享XDM服务器。</p>
    <p>下面对本发明涉及到的 一 些技术再进 一 步的进行描述。</p>
    <p>首先对本发明提到的关系记录进行详述。其中，所述关系记录可以记录 为以下的形式：如下表2示出了一个关系记录：</p>
    <p>&lt;table&gt;table see original document page 16&lt;/column&gt;&lt;/row&gt;
&lt;table&gt;</p>
    <p>表2</p>
    <p>关系记录还使用扩展标记语言XML文件存储。以上述表格中的第一条</p>
    <p>关系记录为例，下面示出了 XML存储的方式：</p>
    <p>&lt;list name:"家人"〉</p>
    <p>&lt;display-name&gt;家人〈/display-name〉 &lt;entry uri="wenx@mail.cn"&gt;</p>
    <p>〈display-name〉温馨〈/display-name〉 〈relationship-name〉妻子〈/relationship-name〉 〈visible〉否&lt;/visible&gt; &lt;/entry&gt; &lt;/list&gt;</p>
    <p>如上所述，本发明中，增加了 "关系名称，，项，这是因为，背景技术中 表1用组来表示用户与联系人的关系实现起来比较简单，不适合精确的表示 关系，因为用户与每个联系人的关系可能都不相同，即使与属于同一组的联 系人。如用户与同属家人组两个联系人，对用户的关系一个是父亲， 一个是 兄弟，如果都用组来区别这些精确的不同关系会导致很多组里只有一个联系人，因此，本发明增加"关系名称"项来表示用户与联系人的精确关系，而 "组，，可表示粗略的关系。关系名称可以由用户通过业务客户端界面如即时 消息客户端界面进行设置。而增加的"是否公开，，项用来表示该联系人与用 户标识的关系信息（联系人标识、组标识、关系名称）是否公开。</p>
    <p>另外，考虑到关系记录信息对用户来说是一种私人数据，涉及隐私，为 了更加灵活的实现用户对自己和每个联系人的关系进行是否公开、对谁公开 以及公开程度的控制，可以分别设定用户和联系人的关系记录、关系隐私公</p>
    <p>开设定文件。例如，关系记录可以为下述表3内容：</p>
    <p>用户标识	联系人标识	组标识	关系名称</p>
    <p>sunqian@mail. com	wenx@mail.cn	家人	妻子</p>
    <p>表3</p>
    <p>若以XML格式表示，可记录为：</p>
    <p>&lt;list name-"家人"〉</p>
    <p>&lt;display-name&gt;家人&lt;/ display画name〉 &lt;entry uri="wenx@mail.cn"&gt;</p>
    <p>〈display-name〉温馨々display-name〉 々elationship-name〉妻子々relationship-name〉 &lt;/entry&gt; &lt;/list&gt;</p>
    <p>而关系隐私公开设定文件用于设定用户的联系人及之间的关系是否进 行公开、公开范围参数（限定提供给哪些人）、公开程度参数（限定提供哪 些关系信息），可以采用下面XML格式：</p>
    <p>用户的关系隐私设定文件包括一个〈mlese^元素，〈ruleset〉元素又包括 多个〈rule〉元素，每个〈rule〉元素包括一个〈conditions〉元素，设定该规则 (rule)是对哪些人的，即限定了公开范围； 一个〈actions〉元素，设定处理 方式，通常可以表示是否允许公开等； 一个〈transformations〉元素，设定公 开程度。如下XML数据表示用户sunqian@mail.com对另 一 个用户 user@example.com i殳置公开自己与wenx@mail.cn的关系： &lt;ruleset entity="sunqian@mail.com"&gt; ;要查询的目的用户标识&lt;rule id=T&gt;</p>
    <p>&lt;conditions&gt;&lt;identity&gt;&lt;identity="user@example.com"/&gt;&lt;identity〉&lt;conditions&gt; &lt;actions&gt;&lt;sub-handling&gt;allow&lt;/sub-handling&gt;&lt;actions&gt; &lt;transformations&gt; &lt;provide-urilist&gt;</p>
    <p>&lt;entry uri="wenx@mail.cn"/&gt;   ; 联系人标识</p>
    <p>&lt;provide-listname&gt;true&lt;/provide-listname&gt;   ; 组名称公开 &lt;provide-relationshipname&gt;true&lt;/provide-relationshipname&gt;; 关系名称</p>
    <p>公开</p>
    <p>&lt;provide-uri&gt;true&lt;/provide-uri&gt;   ; URI公开 &lt;/entry&gt; &lt;/provide-urilist&gt; &lt;transformations&gt; &lt;rule&gt; &lt;ruleset&gt;</p>
    <p>其中统一资源定位符URI列表"provide-urilist"元素中可包含多个具体 的URI入口；并可进一步用子元素的值限定对每个URI入口的关系信息的 公开程度，即公开关系信息的哪些内容，如组名称公开"provide-listname"、 联系人用户属性公开等子元素。</p>
    <p>而对于所述的用户属性，指用户注册时的信息，可以包括姓名，电话， 性别，职业等信息，可单独存放在用户属性数据库上。下面示出了XML格</p>
    <p>式的用户属性文件：</p>
    <p>〈uprofile entity="sunqian@mail.com"&gt; &lt;first-name〉Qian&lt;/first-name&gt; &lt;last-name&gt;Sun&lt;/last-name&gt; &lt;tel type="e. 164"&gt;+13760463639&lt;/tel&gt; &lt;e-mail&gt;mailto:sunqian@mail.com&lt;/e-mail&gt; &lt;gendar&gt;male&lt;/gendar&gt; &lt;occupation&gt;engineer&lt;/occupation&gt; &lt;/uprofile&gt;</p>
    <p>下面，再对多级关系层级的生成和关系视图的生成技术进行详细介绍。 关系视图可以直观的表示用户与其他用户之间直接或间接的关系。</p>
    <p>由于对于 一 个用户的联系人sunqian@mail.com,还会有其联系人如</p>
    <p>18yangzhao@mail.com,而这个联系人也会有自己的联系人列表，如下表4所 示yangzhao@mail.com的关系i己录：&lt;table&gt;table see original document page 19&lt;/column&gt;&lt;/row&gt;
&lt;table&gt;表4</p>
    <p>同时参考表2和表4，可见存在这样的路径'.</p>
    <p>.             好朋友及同事 邻居 sunqian@mail.com-&#9658; yangzhao@mail.com-&#9658; mary@hotmail.com</p>
    <p>本发明中，将这样的路径定义为关系路径，可以看出， 一条关系路径至 少有两个节点，即有 一 个起点和 一 个终点，起点和终点之间有零或多个节点， 两个相邻的节点之间用关系连接，关系是有向，并且关系对起点应当是公开 可见的。如果一个用户A与一个用户B之间存在一条以用户A为起点的关 系路径，则称用户A可到达用户B,否则用户A不可到达用户B。并将关 系路径包含的除起点之外的节点数量（或关系的数量）称为关系路径的长度。 若用户A可到达用户B的关系路径有多条，将其中包含节点最少即关系路 径的长度最小的关系路径称为用户A到达用户B的最短关系路径。从表2、 4的关系记录中可见，用户sunqian@mail.com可到达mary@hotmial.com， 而用户 sunqian@mail.com 不可到达 tom@hotmial.com ( 因为 tom@hotmial.com 未公开，不可见)。并且,sunqian@mail.com S'J达 mary@hotmial.com的关系路径的长度为2。</p>
    <p>由于关系是有向的，两个互为联系人的用户所设置的关系名称可以不</p>
    <p>同，如用户yangzhao@mail.com对耳关系人sunqian@mail.com i殳置的关系名</p>
    <p>称为"好朋友"时，则由表2、 4可获得关系路径如下所示：</p>
    <p>好朋友及同事 邻居 sunqian@mail.com &lt; ;yangzhao站tnail.com &#8226;&lt;-&#9658; mary@hotmail.com</p>
    <p>好朋友</p>
    <p>所述的关系视图也可以看作是要检索用户在一定条件下的所有的关系路径的图形化表示。</p>
    <p>在前面用户A获取他的联系人即用户B所公开的关系信息的方法的步 骤302中提到，服务器根据要检索的用户B标识，检索获得该用户标识的关 系记录信息（联系人、所述联系人与所述用户的关系）后，还可以将检索到 的联系人依次分别作为要检索的用户，返回该步骤，实现遍历每个联系人的 关系记录，进一步的获得下一层次的关系信息。循环直到满足预先设置的终 止条件。不难理解，在这个步骤中，便可以根据一次次的循环生成关系视图。</p>
    <p>下面参见图7示出的用户A的2级关系视图来进一步说明。 一般的层 级为n的关系视图包含了用户的第1级至第n级联系人。如图7所示，用户 A有2个联系人B1， B2，这种直接的联系人可以称为A的第一级联系人， 用户A设置的关系名称分别为关系1和关系2; Bl又有2个联系人C1、C2， B2有1个联系人C3，关系名称分别为关系3、 4、 5,其中关系3、 4、 5对 用户A来说应当是公开的，即对用户A来说应当是可见的，对用户A不公 开可见的关系在生成用户A的关系视图时不予考虑，Cl、 C2、 C3这种间接 的联系人可以称为A的第二级联系人，以此类推C1、 C2、 C3的联系人，不 包括第一级联系人和第二级联系人，可以称为第三级联系人等等。又如当还 存在B1与其联系人C4的关系7,但关系7设置为不公开时，导致C4不是 到B1的关系路径，则所得到的关系视图仍为图7，即用户A的关系视图中 不会出现B1与C4的关系路径。另外，用户A和用户C3之间也可能存在如 图8示出的有直接关系6的关系视图。</p>
    <p>其中，将一个用户与自己的直接联系人形成的1级关系视图也称为基本 关系视图，如图9示出了用户A的基本关系视图。</p>
    <p>总结起来，可参见图10示出的生成关系视图的流程图，关系视图的生 成包括以下步骤：</p>
    <p>步骤1001:检索出所要检索的用户（即根用户A)的关系记录，从该 关系记录得到根用户的联系人称为第l级联系人（如B1、 B2)，生成用户的基本关系视图，并在内存中记录第l级联系人列表；此时关系视图的层级 为1。</p>
    <p>步骤1002:针对联系人列表中的用户A的联系人，检索各个联系人的 关系记录，并将这些关系记录中获得针对用户A的下一级的联系人列表（如 Cl、 C2、 C3),存储在内存中。如果联系人已经存在于前级联系人列表中， 则不对该联系人进行记录保存（这样可以避免重复循环）。并生成对根用户 A公开的当前的关系视图。</p>
    <p>步骤1003:返回步骤1002，直到满足预先设置的生成关系视图的终止 条件。生成关系视图的终止条件如预先设置的关系视图的层级，找到满足预 设条件的联系人等。</p>
    <p>其中，呈现给用户的可视化的关系视图，可以是用点或方块等图元表示 用户或联系人，用直线或带箭头的线表示用户以及联系人之间的关系，以及 文本框在相应位置进行注释说明，如在表示用户或联系人的点旁边标明用户 或联系人的姓名、性别等用户属性等，在表示关系的直线旁标明关系名称等。 或者关系视图也可以用图ll示出的树形图表示。</p>
    <p>以上可见，关系视图的节点数量是随视图的层数级数增长的，信息量太 大对用户来说反而用处不大，所以应该减少信息量，可以通过在生成关系视 图时如步骤302所述，输入限制参数条件，只处理满足条件的节点和关系。 如设置节点对应联系人用户的性别、年龄、职业等条件，设置关系为家人。 这样关系视图就不会随着层级的增加而迅速发散，如果平均每个用户有10 个联系人，则一个用户的第二层联系人的数量就有102即100个，第三层就 有103即1000个；如果限定一下性别， 一般就可以减少一半数量，再限定 一下职业就可以减少更多。</p>
    <p>关系视图可由服务器或客户端生成。较佳的，关系视图的生成由客户端 根据关系信息自行生成关系视图，这样网络传输信息量较小，而且客户端可 以更灵活的根据用户的需要和设置生成关系视图，也可以减轻服务器的负</p>
    <p>21担。根据用户和各级联系人的关系记录即可生成关系视图，因此客户端只要 从服务器获取用户和各级联系人的关系记录即可。另外还可以同时获取各级 联系人的用户属性等信息，当然各级联系人的用户属性要对根用户是公开 的。上述的关系视图、关系记录以及联系人的用户属性等都属于关系信息。</p>
    <p>下面，再对关系路径的获取技术进行详细介绍。</p>
    <p>实际上，服务器上存储的关系记录由于用户及其联系人的关联关系形成 了图的数据结构，即关系网络图，因此可以应用图的遍历算法获得关系路径 以及关系视图信息等，如宽度（广度）优先算法，深度优先算法等。而其中 宽度优先算法更适合，因为一般用户并不希望获得较长的关系路径，或层级</p>
    <p>较大的关系视图。当服务器发现目标用户不是起点用户的第n级联系人，就 可以停止遍历搜索了， n可由起点用户设定，如设为3。</p>
    <p>宽度（广度）优先算法（Breadth-First Search, BFS )是：先搜索完一个 起点所有的第1级联系人,然后再继续搜索下一级联系人，直到底层（或设 定的层次）为止。该算法保证了对浅层级的首先处理，当遇到一个无穷尽或 很深的深层分支时，不会导致陷进其中出现出不来的情况发生。宽度优先搜 索以一种系统的方式搜索，从而发现起点所能到达的所有节点，并计算起点 到所有这些节点的长度(最少边数)，该算法同时能生成一棵根为起点且包括 所有其可达节点的宽度优先树。对从起点可达的任意目标节点v，宽度优先 树中从起点到目标v的路径对应于图中从起点到目标v的最短路径，即包含 最小边数的路径。该算法对有向图和无向图都适用。</p>
    <p>深度优先搜索（Depth-First Search, DFS )是另一种搜索方法。从起点v 出发，DFS按如下过程进行：首先将v标记为已到达节点，然后选择一个与 v邻接的尚未到达的节点u,如果这样的u不存在，搜索中止。假设这样的 u存在，那么从u又开始一个新的DFS。当从u开始的搜索结束时，再选择 另外一个与v邻接的尚未到达的节点，如果这样的节点不存在，那么搜索终止。而如果存在这样的节点，又从这个节点开始DFS，如此循环下去。</p>
    <p>一组关系记录的集合对应的关系网络图中可能会存在孤岛节点，如图 12示出的关系路径图中的El，即是一个孤岛节点，与任何其他节点都没有 连接关系。例如， 一个新注册的用户，还没有增加任何联系人，即还没有关 系记录，但是存在用户属性数据时就是一个孤岛节点。这样，在查询关系路 径时，首先要检查一下发送请求的用户，以及指定要到达的用户是否为孤岛 节点，即是否存在关系记录，如果有任何一个不存在相应的关系记录则直接 向客户端返回提示不可到达的消息即可。</p>
    <p>如步骤502所述，用户在不希望系统在所保存的关系记录的全集中查询 关系路径，而是希望在满足预设条件的关系记录的子集中查询关系路径时， 可以设定查询的条件，如限定关系名称（如家人或/和朋友），用户属性（如 性别）等，这样得到的关系路径可以称为有条件的关系路径。另外一种有用 的限定是避免关系路径中关系的衰减，关系按用户之间的亲密程度笼统的可 以分为强连接和弱连接，可在关系记录中增加一个字段表示亲密级别，用量 化的值表示，如数值3表示高亲密度级别（如与家人之间的关系），2表示 较高（如与同学、同事之间的关系），l表示普通（如与网友之间的关系）， 3和2表示的关系可以属于强连接，l表示的关系属于弱连接，通常强连接 对用户更有用，而在一个关系路径中强连接的关系比较多说明关系衰减的比 较慢，起点和终点的用户更可能建立信任度较高的关系，因此用户可能会希 望建立一个具有较多强连接关系的路径，而不是简单的最短路径。（甚至还</p>
    <p>可用负值表示不受欢迎的负面关系，如黑名单，可用-l表示，当然本发明中 查询关系路径和关系视图信息都不必考虑负面关系记录）。这样可以在查询 关系路径的预设条件中限定亲密级别的下限，如指定为2,则服务器只在满 足亲密级别不低于2的关系记录的集合中查询关系路径。同样的可以在生成 关系视图时，通过指定亲密级别限定参数，生成满足亲密级别条件的关系视图。另外还可以在生成关系视图中，用不同的线型或颜色表示不同亲密程度 的关系。</p>
    <p>另外， 一组关系记录的集合对应的关系网络图中也可能会存在多个相互</p>
    <p>独立的关系子网，即两个子网之间没有任何连接关系，如图12中用户A与 用户Fl所在的两个子网，分别位于两个子网中的任何两个节点都互相不能 到达对方。特别的如果对关系记录用预设条件进行了限定，则满足预设条件 的关系记录集合对应的关系网络图中很可能会存在相互独立的子网和孤岛 节点。为了能尽早发现不能达到指定用户的情况，避免服务器做徒劳无益的 遍历搜索浪费系统资源，本发明在步骤502中还提出了可采用下述方法：</p>
    <p>在用户属性中增加一个关系网络标识字段，表示该用户所属的关系子 网；新增加注册的用户为其分配一个新的关系网络标识。</p>
    <p>当在服务器上为用户增加一条新的关系记录时，如果其中的联系人标识 对应的关系网络标识与用户对应的关系网络标识不同，则将用户对应的关系 网络标识修改为联系人标识对应的关系网络标识（或者反之亦可），然后将 用户其他各级联系人对应的关系网络标识全部修改为与上述同样的关系网 络标识。这个步骤实际上是在两个独立的关系子网中有两个节点建立关系时 进行合并，另外以上合并的处理可以在服务器空闲时进行，而不必在增加一 条新的关系记录时实时处理。如果其中的联系人标识对应的关系网络标识与 用户对应的关系网络标识相同则不用进行处理。</p>
    <p>这样，当服务器检索查询一个用户到达另一个用户的关系路径时，首先 判断一下两个用户对应的关系网络标识是否相同，如果不同直接返回提示不 可到达的消息即可。</p>
    <p>本发明还提出在服务器上启动两个线程单元加快关系路径搜索的方法， 一个线程单元从起点出发遍历起点的各级联系人，并保存关系信息，另一个 线程单元从目标（如果存在关系路径就是终点）出发，遍历目标的各级联系人，并保存关系信息，其中的遍历方法采用宽度（或广度）优先方法（BFS); 同时检测已经得到的起点和目标的各级联系人中是否有相同的，如果有则可 到达，并根据存储的关系信息得到关系路径信息。如果没有，当宽度到达预 先设定的层级时，停止搜索遍历，向客户端返回提示很难到达的消息。由于 路径跨过多个节点时，该关系路径对用户的意义也就不大了 ，可以将两个线 程单元停止搜索遍历的预先设定的层级条件设置为层级为2。</p>
    <p>以图13示出的关系网络图进行说明，该图中，两个线程单元分别得到 了用户A和用户D的第1级和第2级联系人，如果在用户A和用户D的各 级联系人中没有任何两个相同的，则用户A和用户D之间的关系路径至少 为5，这是因为用户A第2级联系人不可能与用户D的第l级联系人有关系， 反之用户D第2级联系人也不可能与用户A的第1级联系人有关系，否则 用户A和用户D的各级联系人中就存在两个相同的了 ，因此只可能用户A 第2级联系人与用户D的第2级联系人有关系，如假定F2与C4存在关系， 这时用户A到用户D的关系路径则为图14所示。</p>
    <p>实际上，关系路径的长度为5已经是比较长的关系路径了，该路径对用 户的实际意义不大了，因此，在实际设置时，可以认为用户A很难到达用 户D。</p>
    <p>上述设置双线程从起点和目标同时进行遍历的方法实际上假定了系统 中两个用户之间的关系是对称的，即存在互相对称的两条关系记录；或者将 两个用户之间只要存在一个方向的关系即认为是有关系的。而如表2和表4 所示，实际生活中互为联系人的两个用户，存储的关系记录可能是单向的， 即一个用户把另一个用户加为自己的联系人，但另一个用户并没有这样做， 这样两个用户之间的关系记录只有1条，而不是通常互相对称的2条。另外 即使两个用户有互相对称的2条关系记录，也可以分别设置不同的关系名称 (如一个为好友，另一个设置为同事），亲密程度以及不同的公开程度和公 开范围等。因此，关系路径对应的应该是有向关系网络图。这一点在此进行 一下说明。</p>
    <p>25上述的各种遍历方法中，多数都是单向进行搜索遍历，如从起点（或根 用户）出发，逐级遍历各级联系人，而没有反向进行搜索，即检索某用户是 哪些用户的联系人，这样可以获取更全面完整的关系，例如可以获得双向的</p>
    <p>关系信息，而不只是单向的关系信息，如表2和表4的例子， sunqian@mail.com可以4寻知yangzhao@mail.comi殳置的只于自己的关系名称是 "好朋友，，。但是如果同时进行反向搜索则处理效率太低，而且通常情况下 关系都是对称存在的，所以一般就不用进行反向搜索了。可以认为当两个节 点只要存在有一个方向的关系时，即认为两个节点之间是有关系的，其中任 一节点可以到达对方节点。</p>
    <p>下面再详细介绍一下活动服务单元，用于存储客户端创建的活动记录， 所述的活动记录包括活动编号，活动名称，创建者，时间等字段。创建者可 以设置活动记录的公开范围，以及加入活动的权限。如/&gt;开范围可以设定对 所有用户都公开，而其他用户加入活动需要经创建者的确认。其他用户客户 端向活动服务单元发送加入活动的请求消息，该消息包括活动编号，活动服 务单元向活动记录的创建者发送确认消息，在收到确认消息后，将其加入到 该活动的参与者列表记录中。</p>
    <p>进一步用户可以设置允许自己的第1级联系人和第2级联系人参与活 动，则活动服务单元在其他用户请求加入时，向关系服务单元请求验证是否 为第1级联系人或第2级联系人（也可以直接从关系记录数据服务器中检索 关系记录进行验证），如果是则允许加入，否则拒绝加入。</p>
    <p>另外一个用户还可以向活动服务单元发送请求，获取另 一个用户参与的 活动记录，请求中包括另一个用户的用户标识。活动服务单元检索活动的参 与人列表，将参与人列表中包括指定用户标识的活动记录返回。</p>
    <p>下面再对本发明的&#32233;存机制进行介绍。通过对要访问或常访问的数据进行&#32233;存，而不是在需要时才去检索获取数据信息，可以大大提高系统处理效 率。本发明设置了一个&#32233;存服务单元，来&#32233;存用户的关系信息，这里所说的 关系信息不是指可视化的关系视图，而是建立可视化的关系视图所需要的关 系信息。</p>
    <p>由上面的说明可知，关系视图实际上对应着以指定用户为起点的宽度优 先树，宽度优先树中存储着起点用户以及各级联系人之间的关系信息，另外 还可以包括节点的用户属性信息。因此只要在&#32233;存服务单元中&#32233;存用户的宽</p>
    <p>度优先树即可，宽度优先树对应关系视图的层级最好设置为2,因为层级为 l没有必要&#32233;存，而层级为3或更大会导致&#32233;存的信息数据量极大，而使用 这些数据的可能性又不是太大。除了&#32233;存关系信息外，还可以&#32233;存各级联系 人的用户属性信息。</p>
    <p>&#32233;存服务单元所缓存用户的关系信息来源可以由&#32233;存服务单元主动获 取，即向关系记录数据服务器获取用户的宽度优先树，将包含用户各级联系 人信息的宽度优先树信息存储。另外也可以在用户客户端获取关系视图或关 系路径时，关系服务单元在将检索到的关系信息返回给客户端的同时将其保 存到&#32233;存服务单元上。</p>
    <p>&#32233;存机制特别适用于设置了关系隐私设定文件、用户属性隐私设定文件 时的情况。若没有&#32233;存机制，每次获取一个用户的关系记录和用户属性时， 都要检查匹配上述的隐私设定文件，对于用户请求实时生成宽度优先树，处 理速度会很慢。</p>
    <p>而当 一个用户请求获取到其他用户的关系路径时，如果已经&#32233;存了该用 户的关系信息，则只需要检查指定的其他用户是否在已经&#32233;存的各级联系人 中，如第1级联系人和第2级联系人，如果没有则检查指定的其他用户已经 &#32233;存的各级联系人中是否有该用户，如果没有，则再检查该用户和指定用户 的各级联系人是否有相同的，如果没有，则返回用户很难到达指定用户的提 示。以上各检查步骤中，如果有，则已发现了该用户到指定的其他用户的关 系路径，将相应的关系信息返回给用户客户端即可。可见，通过&#32233;存关系信息，只要进行一些简单的检查判断即可获得关系路径信息，大大提高了系统 效率，以及缩短了系统的响应时间。</p>
    <p>其中，可以只对系统的部分用户（如比较活跃的用户，对使用共享关系 信息功能付费的用户）的关系信息进行&#32233;存处理，而不是对系统中的所有用 户。并且，对于&#32233;存信息的存储和更新，可以在系统比较空闲的时间，如凌 晨，进行存储处理或更新，并且，由于关系信息通常比较稳定，可以定期如 每天，或每周更新一下&#32233;存的关系信息。</p>
    <p>根据上述&#32233;存机制，用户客户端在向关系服务单元获取关系信息或关系 路径时，关系服务单元首先到&#32233;存服务单元检查是否存在该用户（获取关系 路径时还包括指定的目标用户）&#32233;存的关系信息，如果有则基于已经&#32233;存的 关系信息进行处理。</p>
    <p>如果已经缓存的关系信息不能满足用户的请求，如用户请求获取限定条</p>
    <p>件（如职业）的3级联系人的关系信息，而只&#32233;存有2级联系人的关系信息， 则关系服务单元可以在&#32233;存服务单元上存储的2级联系人的基础上进行遍 历搜索，获取3相应3级联系人的关系信息。同时关系服务单元将获取的进 一步的关系信息即3级联系人的关系信息也可以缓存到缓存服务单元上，以 备将来使用。</p>
    <p>&#32233;存的宽度优先树可以用XML格式表示，下面示出了一个&#32233;存的宽度 优先树：</p>
    <p>&lt;BFS-Tree entity="sunqian@mail.com"&gt; &lt;entry uri="wenx@mail.cn" level=l〉</p>
    <p>〈display-name〉温馨〈/display-name〉 〈relationship-name〉妻子〈/relationship-name〉 &lt;/entry&gt;</p>
    <p>&lt;entry uri="yangzhao@mail.com" level=l〉 〈display-name〉招扬&lt;/display-name&gt; 〈relationship-name〉好月月友及同事〈/relationship-name〉</p>
    <p>&lt;/entry&gt;</p>
    <p>&lt;entry uri="mary@hotmail.com" level=2&gt;</p>
    <p>&lt;parent&gt;yangzhao@mail.com&lt;/parent&gt; 〈display画name〉3马丽&lt;/display-name&gt;</p>
    <p>28〈relationship-name〉々卩居〈/relationship-name〉 &lt;/entry&gt; &lt;/BFS-Tree&gt;</p>
    <p>即在XML文件中先将第1级联系人的信息列出，再对第2级联系人的 信息逐一列出，并标记每个第2级联系人的父级联系人即对应的第1级联系 人，如此类推。</p>
    <p>以上对本发明进行了详细的描述,由上述方法可以看出，本发明使用户 可以共享关系信息，获取到间接的关系信息。另外也可以控制关系信息的公 开。</p>
    <p>以上所述仅为本发明的较佳实施例而已，并不用以限制本发明，凡在本 发明的精神和原则之内，所作的任何修改、等同替换、改进等，均应包含在 本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102156782A?cl=zh">CN102156782A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年4月14日</td><td class="patent-data-table-td patent-date-value">2011年8月17日</td><td class="patent-data-table-td ">国电南瑞科技股份有限公司</td><td class="patent-data-table-td ">基于图论的电力系统公式并行运算管理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102214214A?cl=zh">CN102214214A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月2日</td><td class="patent-data-table-td patent-date-value">2011年10月12日</td><td class="patent-data-table-td ">广州市动景计算机科技有限公司</td><td class="patent-data-table-td ">数据关系的处理方法、装置及移动通讯终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102214214B?cl=zh">CN102214214B</a></td><td class="patent-data-table-td patent-date-value">2011年6月2日</td><td class="patent-data-table-td patent-date-value">2013年9月4日</td><td class="patent-data-table-td ">广州市动景计算机科技有限公司</td><td class="patent-data-table-td ">数据关系的处理方法、装置及移动通讯终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102448048A?cl=zh">CN102448048A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年9月20日</td><td class="patent-data-table-td patent-date-value">2012年5月9日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">终端和数据管理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102567382A?cl=zh">CN102567382A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月17日</td><td class="patent-data-table-td patent-date-value">2012年7月11日</td><td class="patent-data-table-td ">联想(北京)有限公司</td><td class="patent-data-table-td ">一种搜索方法、搜索服务器及电子设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103297580A?cl=zh">CN103297580A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年5月30日</td><td class="patent-data-table-td patent-date-value">2013年9月11日</td><td class="patent-data-table-td ">北京盛世光明软件股份有限公司</td><td class="patent-data-table-td ">一种实现个人信息管理与共享的系统及其方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103729591A?cl=zh">CN103729591A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年11月18日</td><td class="patent-data-table-td patent-date-value">2014年4月16日</td><td class="patent-data-table-td ">广州多益网络科技有限公司</td><td class="patent-data-table-td ">一种判断亲缘关系来共享亲友通讯录的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103731536A?cl=zh">CN103731536A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年11月18日</td><td class="patent-data-table-td patent-date-value">2014年4月16日</td><td class="patent-data-table-td ">广州多益网络科技有限公司</td><td class="patent-data-table-td ">一种共享云端家族通讯录的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9215277">US9215277</a></td><td class="patent-data-table-td patent-date-value">2012年12月7日</td><td class="patent-data-table-td patent-date-value">2015年12月15日</td><td class="patent-data-table-td ">Tencent Technology (Shenzhen) Company Limited</td><td class="patent-data-table-td ">Resource sharing method and device, and storage medium</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013131387A1?cl=zh">WO2013131387A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月7日</td><td class="patent-data-table-td patent-date-value">2013年9月12日</td><td class="patent-data-table-td ">Tencent Technology (Shenzhen) Company Limited</td><td class="patent-data-table-td ">资源分享方法、装置及存储介质</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=F3ZqBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年6月10日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年8月5日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年4月27日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/6d0a6a4eaeba80249eb2/CN101453472A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%85%B3%E7%B3%BB%E4%BF%A1%E6%81%AF%E7%9A%84%E5%85%AC%E5%BC%80_%E8%8E%B7%E5%8F%96%E6%96%B9%E6%B3%95%E5%8F%8A%E7%B3%BB.pdf?id=F3ZqBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2u5Qh6_VNYBXUCrbd71Q5ts8Nr9Q"},"sample_url":"https://www.google.com/patents/reader?id=F3ZqBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>