<!DOCTYPE html><html><head><title>专利 CN101163279A - 实现好友电视业务的方法、系统和设备 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="实现好友电视业务的方法、系统和设备"><meta name="DC.contributor" content="冯国伟" scheme="inventor"><meta name="DC.contributor" content="刘军利" scheme="inventor"><meta name="DC.contributor" content="珂 孙" scheme="inventor"><meta name="DC.contributor" content="张中宝" scheme="inventor"><meta name="DC.contributor" content="张学辉" scheme="inventor"><meta name="DC.contributor" content="旭 杨" scheme="inventor"><meta name="DC.contributor" content="段莹涛" scheme="inventor"><meta name="DC.contributor" content="董争强" scheme="inventor"><meta name="DC.contributor" content="闫立俊" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2007-11-29" scheme="dateSubmitted"><meta name="DC.description" content="本发明实施例公开了一种实现好友电视业务的方法，包括：交互式网络电视应用服务器接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；在所述鉴权成功后，中心媒体服务器接收好友电视业务请求消息，为被邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边缘媒体服务器的地址，并根据该地址从边缘媒体服务器获取好友电视节目。本发明实施例还公开一种实现好友电视业务的系统、一种交互式网络电视应用服务器以及一种中心媒体服务器。本发明实施例的技术方案使得在被邀请终端没有交互式网络电视业务权限时，也能实现好友电视业务。"><meta name="DC.date" content="2008-4-16"><meta name="citation_patent_publication_number" content="CN:101163279:A"><meta name="citation_patent_application_number" content="CN:200710194730"><link rel="canonical" href="https://www.google.com/patents/CN101163279A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101163279A?cl=zh"/><meta name="title" content="专利 CN101163279A - 实现好友电视业务的方法、系统和设备"/><meta name="description" content="本发明实施例公开了一种实现好友电视业务的方法，包括：交互式网络电视应用服务器接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；在所述鉴权成功后，中心媒体服务器接收好友电视业务请求消息，为被邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边缘媒体服务器的地址，并根据该地址从边缘媒体服务器获取好友电视节目。本发明实施例还公开一种实现好友电视业务的系统、一种交互式网络电视应用服务器以及一种中心媒体服务器。本发明实施例的技术方案使得在被邀请终端没有交互式网络电视业务权限时，也能实现好友电视业务。"/><meta property="og:title" content="专利 CN101163279A - 实现好友电视业务的方法、系统和设备"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101163279A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101163279A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101163279A&amp;usg=AFQjCNH2spYL4olGEpbtceJ1F6lL6IDVgg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/65412d6a95627eb11b2f/CN101163279A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/65412d6a95627eb11b2f/CN101163279A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101163279A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101163279A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101163279A?cl=zh" style="display:none"><span itemprop="description">本发明实施例公开了一种实现好友电视业务的方法，包括：交互式网络电视应用服务器接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；在所述鉴权成功后，中心媒...</span><span itemprop="url">https://www.google.com/patents/CN101163279A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101163279A - 实现好友电视业务的方法、系统和设备</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101163279A - 实现好友电视业务的方法、系统和设备" title="专利 CN101163279A - 实现好友电视业务的方法、系统和设备"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101163279 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200710194730</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2008年4月16日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2007年11月29日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2007年11月29日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200710194730.X, </span><span class="patent-bibdata-value">CN 101163279 A, </span><span class="patent-bibdata-value">CN 101163279A, </span><span class="patent-bibdata-value">CN 200710194730, </span><span class="patent-bibdata-value">CN-A-101163279, </span><span class="patent-bibdata-value">CN101163279 A, </span><span class="patent-bibdata-value">CN101163279A, </span><span class="patent-bibdata-value">CN200710194730, </span><span class="patent-bibdata-value">CN200710194730.X</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%86%AF%E5%9B%BD%E4%BC%9F%22">冯国伟</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E5%86%9B%E5%88%A9%22">刘军利</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8F%82+%E5%AD%99%22">珂 孙</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E4%B8%AD%E5%AE%9D%22">张中宝</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E5%AD%A6%E8%BE%89%22">张学辉</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%97%AD+%E6%9D%A8%22">旭 杨</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%AE%B5%E8%8E%B9%E6%B6%9B%22">段莹涛</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%91%A3%E4%BA%89%E5%BC%BA%22">董争强</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%97%AB%E7%AB%8B%E4%BF%8A%22">闫立俊</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101163279A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101163279A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101163279A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (5),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200710194730&amp;usg=AFQjCNFLRvTNgBKcbUkC7EvTmGgUyfm9GA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101163279A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHIVEBoNI2FU4D24oImYdclOIGAvA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT70584538" lang="ZH" load-source="patent-office">实现好友电视业务的方法、系统和设备</invention-title>
      </span><br><span class="patent-number">CN 101163279 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA38354226" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明实施例公开了一种实现好友电视业务的方法，包括：交互式网络电视应用服务器接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；在所述鉴权成功后，中心媒体服务器接收好友电视业务请求消息，为被邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边缘媒体服务器的地址，并根据该地址从边缘媒体服务器获取好友电视节目。本发明实施例还公开一种实现好友电视业务的系统、一种交互式网络电视应用服务器以及一种中心媒体服务器。本发明实施例的技术方案使得在被邀请终端没有交互式网络电视业务权限时，也能实现好友电视业务。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(17)</span></span></div><div class="patent-text"><div mxw-id="PCLM5820560" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种实现好友电视业务的方法，其特征在于，该方法包括：    交互式网络电视应用服务器接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；    在所述鉴权成功后，中心媒体服务器接收好友电视业务请求消息，为被邀请终端指定边缘媒体服务器；    被邀请终端获取所指定的边缘媒体服务器的地址，并根据该地址从边缘媒体服务器获取好友电视节目。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求l所述的方法，其特征在于，所述交互式网络电视应用 服务器接收好友电视业务邀请消息包括：被邀请终端接收到邀请终端发送的 携带邀请终端鉴权信息的好友电视业务邀请消息后，向所述交互式网络电视 应用服务器发送携带邀请终端鉴权信息的好友电视业务邀请消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求2所述的方法，其特征在于，所述中心媒体服务器为被邀请终端指定边缘媒体服务器包括：交互式网 络电视应用服务器在鉴权成功后，向被邀请终端返回中心媒体服务器的地 址；所述被邀请终端根据所述中心媒体服务器的地址向中心媒体服务器发送 携带自身标识信息的好友电视业务请求消息；所述中心媒体服务器根据接收 到的被邀请终端的标识信息指定边缘媒体服务器；所述被邀请终端获取所指定的边缘媒体服务器的地址包括：在所述中心 媒体服务器在指定完边缘媒体服务器后，所述被邀请终端接收所述中心媒体 服务器发送的携带所指定边缘媒体服务器的地址的消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求2所述的方法，其特征在于所述交互式网络电视应用服务器接收的所述好友电视业务邀请消息中 进一 步携带被邀请终端的标识信息；所述中心媒体服务器为被邀请终端指定边缘媒体服务器包括：所述交互 式网络电视应用服务器在鉴权成功后，向中心媒体服务器发送携带所述被邀  请终端标识信息的好友电视业务请求消息；所述中心媒体服务器根据被邀请 终端的标识信息指定边缘媒体服务器；所述被邀请终端获取所指定的边缘媒体服务器的地址包括：所述中心媒 体服务器在指定完边缘媒体服务器后，向所述交互式网络电视应用服务器发 送携带所指定边缘媒体服务器的地址的消息；所述被邀请终端接收所述交互 式网络电视应用服务器发送的携带所指定边缘媒体服务器的地址的消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求1所述的方法，其特征在于，所述交互式网络电视应用 服务器接收好友电视业务邀请消息包括：被邀请终端所在区域的呼叫会话控 制单元在接收邀请终端发送的携带邀请终端鉴权信息的好友电视业务邀请 消息，所述交互式网络电视应用服务器接收所述呼叫会话控制单元发送的携 带邀请终端鉴权信息的好友电视业务邀请消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求5所示的方法，其特征在于，所述呼叫会话控制单元接收的邀请终端发送的好友电视业务邀请消息 中进一 步携带被邀请终端的标识信息；所述交互式网络电视应用服务器接收 的所述呼叫会话控制单元发送的好友电视业务邀请消息中进一步携带被邀 请终端的标识信息；所述中心媒体服务器为被邀请终端指定边缘媒体服务器包括：交互式网 络电视应用服务器在鉴权成功后向中心媒体服务器发送携带被邀请终端标 识信息的好友电视业务请求消息；中心媒体服务器根据被邀请终端的标识信 息指定边缘服务器；所述被邀请终端获取所指定的边缘媒体服务器的地址包括：中心媒体服 务器在指定完边缘媒体服务器后，向交互式网络电视应用服务器发送携带所 指定边缘媒体服务器的地址的响应消息；交互式网络电视应用服务器向被邀 请终端发送携带所指定边缘媒体服务器的地址的好友电视业务邀请消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求1至6中任一项所述的方法，其特征在于，所述邀请终 端的鉴权信息包括：邀请终端的用户名、时间戳以及利用所述时间戳对邀请 终端的密码进行加密算法处理后得到的字符串。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8、 一种实现好友电视业务的系统，其特征在于，该系统包括：邀请终端、被邀请终端、交互式网络电视应用服务器和中心媒体服务器，其中，邀请终端，用于发送携带自身鉴权信息的好友电视业务邀请消息；交互式网络电视应用服务器，用于接收携带邀请终端的鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；接收好友电视业务请求消息，为被邀请终端指定边缘媒体服务器；被邀请终端，用于获取中心媒体服务器所指定的边缘媒体服务器的地址 后，根据该地址从边缘媒体服务器获取好友电视节目。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 如权利要求8所述的系统，其特征在于，所述交互式网络电视应用 服务器包括：接收模块、鉴权模块和发送模块，所述接收模块，用于接收携带邀请终端的鉴权信息的好友电视业务邀请 消息，并转发给鉴权模块；所述鉴权模块，用于根据所述好友电视业务邀请消息中的邀请终端的鉴 权信息对好友电视业务进行鉴权，在鉴权成功后向所述发送模块发送鉴权成 功指示消息；所述发送模块，用于在接收到所述鉴权模块发送的鉴权成功指示消息 后，向所述被邀请终端发送中心媒体服务器的地址，或者向所述中心媒体服 务器发送好友电视业务请求消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求9所述的系统，其特征在于，所述接收模块接收的携带 邀请终端鉴权信息的好友电视业务邀请消息中进 一 步携带被邀请终端的标 识信息时，所述鉴权模块向发送模块发送的鉴权成功指示消息中进一步携带 被邀请终端的标识信息，所述发送模块向所述中心媒体服务器发送的好友电 视业务请求消息中进一步携带被邀请终端的标识信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11、 如权利要求8所述的系统，其特征在于，所述中心媒体服务器包括： 接收模块和分配模块，收好友电视业务请求消息，并转发给分配模块；所述分配模块，用于根据所接收的好友电视业务请求消息分配边缘媒体 服务器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求11所述的系统，其特征在于，所述接收模块接收的好 友电视业务请求消息中进一步携带被邀请终端的标识信息时，所述分配模块 用于根据所接收的好友电视业务请求消息中的被邀请终端的标识信息为被 邀请终端分配边缘媒体服务器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、 如权利要求8所述的系统，其特征在于，所述系统进一步包括：被 邀请终端所在区域的呼叫会话控制单元，所述呼叫会话控制单元，用于将来自邀请终端的好友电视业务邀请消息 转发至所述交互式网络电视应用服务器。</div>
    </div>
    </div> <div class="claim"> <div num="14" class="claim">
      <div class="claim-text">14、 一种交互式网络电视应用服务器，其特征在于，包括：接收模块、 鉴权模块和发送模块，其中，所述接收模块，用于接收携带邀请终端的鉴权信息的好友电视业务邀请 消息，并转发给鉴权模块；所述鉴权模块，用于根据所述好友电视业务邀请消息中的邀请终端的鉴 权信息对好友电视业务进行鉴权，在鉴权成功后向所述发送模块发送鉴权成 功指示消息；所述发送模块，用于在接收到所述鉴权模块发送的鉴权成功指示消息 后，向被邀请终端发送中心媒体服务器的地址，或者向中心媒体服务器发送 好友电视业务请求消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15、 如权利要求14所述的交互式网络电视应用服务器，其特征在于， 所述接收模块接收的携带邀请终端的鉴权信息的好友电视业务邀请消息中 进一步携带被邀请终端的标识信息时，所述鉴权模块向发送模块发送的鉴权 成功指示消息中进一步携带被邀请终端的标识信息，所述发送模块向所述中心媒体服务器发送的好友电视业务请求消息中进一步携带被邀请终端的标 识j言息。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">16、 一种中心媒体服务器，其特征在于，包括：接收模块和分配模块，其中，所述接收模块，用于接收好友电视业务请求消息，并转发给分配模块； 所述分配模块，用于根据所接收的好友电视业务请求消息分配边缘媒体 服务器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17、 如权利要求16所述的中心媒体服务器，其特征在于，所述接收模 块接收的好友电视业务请求消息中进一步携带被邀请终端的标识信息时，所 述分配模块用于根据所接收的好友电视业务请求消息中的被邀请终端的标 识信息为被邀请终端分配边缘媒体服务器。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES10528841" lang="ZH" load-source="patent-office" class="description">
    <p>实现好友电视业务的方法、系统和设备技术领域本发明涉及交互式网络电视（IPTV, Internet Protocol Television )技术 领域，尤指一种实现好友电视业务的方法、系统和设备。背景技术基于IP多媒体子系统(IMS， IP Multimedia Subsystem )的IPTV是指 在IMS网络架构基础上通过特定的应用服务器（AS， Application Server )来 实现IPTV业务。这是为了追求业务融合，将通信业务和IPTV业务进行结 合的产物。IPTV业务和通信业务融合后，产生了好友电视的概念，好友电 视是指正在观看IPTV电视节目的用户通过通信网来邀请其他用户一起观看 电视节目的一种增值业务。在好友电视业务中，通过IMS网络来完成发出 邀请的用户和被邀请用户的通信和媒体播放，大大方便了用户的使用，同时 也对运营商的统一计费和统一管理提供了便利。在传统的IPTV业务中，用户首先需要开户，获得IPTV业务的权限后， 再进行点播（VOD， Video On Demand)或直播节目的观看。图1是现有技 术中用户收看点播节目的流程图，如图1所示，包括以下步骤：步骤IOI,当用户点击机顶盒（STB， Set Top Box)中的节目列表以选 择想收看的节目后，STB发送节目点播请求到交互式网络电视应用服务器 (IPTV AS )&#8222;该节目点播请求中包含该用户的用户名和密码，以供交互式网 络电视应用服务器（IPTVAS)鉴权使用。IPTVAS主要负责业务控制、内容保护、业务部署、内容管理等功能。步骤102, IPTV AS根据节目点播请求对用户进行鉴权，查看该用户是 否有收看所请求节目的权限。</p>
    <p>步骤103， IPTVAS对用户的鉴权通过后，向STB返回中心媒体服务器 的地址。步骤104， STB向中心媒体服务器发送节目点播请求，该节目点播请求 中携带用户的地址信息。步骤105，中心媒体服务器根据用户的地址信息，为用户分配一个在物 理位置上距离该用户较近的一个边缘媒体服务器，并将所分配边缘媒体服务 器的地址返回给STB。步骤106, STB根据中心媒体服务器返回的地址连接到边缘媒体服务器， 获得流媒体，进行播放。在图1所示的流程中，中心媒体服务器为用户的STB分配的媒体服务 器是在物理位置上离该用户较近的边缘媒体服务器的地址，即谁去鉴权，所 分配的边缘服务器离谁近。图2是现有技术中实现好友电视业务的流程图。如图2所示，包括以下 步骤：步骤201,正在收看VOD节目的用户A通过自身^f吏用的IPTV终端 STB-A向用户B的IPTV终端STB-B发送好友电视邀请消息，以邀请用户B 同时观看当前的VOD节目。本步骤中，用户A向用户B发送的好友电视邀请消息中携带当前所收 看VOD节目的标识。步骤202,用户B收到好友电视邀请消息后通过STB-B向STB-A返回 同意邀请的信息，以通知用户A接受邀请。本步骤中，如果用户B不想接受邀请，或者用户B没有ITPV业务权限， 或者用户B没有用户A所邀请的VOD节目的权限时，用户B向用户A返 回拒绝邀请的消息。步骤203， STB-B发送节目点播请求到IPTV AS。本步骤中，STB-B发送的节目点播请求中包含STB-A发送的VOD节目 标识以及用户B的用户名和密码，以供IPTVAS鉴权使用。</p>
    <p>步骤204， IPTVAS根据节目点播请求对用户B进行鉴权，查看用户B 是否有收看所请求节目的权限。步骤205， IPTVAS对用户B的鉴权通过后，向STB-B返回中心媒体服 务器的地址。步骤206, STB-B向中心媒体服务器发送节目点播请求，该节目点播请 求中携带用户B的地址信息。步骤207，中心媒体服务器根据用户B的地址信息，为用户B分配一个 在物理位置上距离该用户较近的一个边缘媒体服务器，并将所分配边缘媒体 服务器的地址返回给STB-B。步骤208, STB-B根据中心媒体服务器返回的地址连接到边缘媒体服务 器，获得流媒体，进行播放。从图2所示的上述流程可以看出，现有的好友电视业务，其实是邀请用 户向被邀请用户发送一个携带点播节目标识的邀请消息后，被邀请用户以图 1所示的传统方式收看邀请用户指示的点播节目的过程。并且在被邀请用户 没有IPTV业务权限或者没有邀请用户所指示的点播节目的权限时，并不能 实现好友电视业务；此外，当被邀请用户有业务权限时，即使能够实现好友 业务，但费用也会记在被邀请用户的账户上，不能真正体现"邀请"的含义。发明内容本发明实施例提供了 一种实现好友电视业务的方法，该方法在被邀请终 端没有IPTV业务权限时，也能实现好友电视业务。本发明实施例提供了一种实现好友电视业务的系统，该系统在被邀请终 端没有IPTV业务权限时，也能实现好友电视业务。本发明实施例提供了一种IPTV AS,该IPTV AS在被邀请终端没有 IPTV业务权限时，也能实现好友电视业务。本发明实施例提供了一种中心媒体服务器，该中心媒体服务器在被邀请 终端没有IPTV业务权限时，也能实现好友电视业务。</p>
    <p>为达到上述目的，本发明的技术方案具体是这样实现的： 本发明实施例公开了一种实现好友电视业务的方法，该方法包括： 交互式网络电视应用服务器IPTV AS接收携带邀请终端的鉴权信息的 好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；在所述鉴权成功后，中心媒体服务器接收好友电视业务请求消息，为被 邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边缘媒体服务器的地址，并根据该地址从边缘 媒体服务器获取好友电视节目。本发明实施例公开了一种实现好友电视业务的系统，该系统包括：邀请 终端、被邀请终端、IPTVAS和中心媒体服务器，其中，邀请终端，用于发送携带自身鉴权信息的好友电视业务邀请消息；IPTV AS，用于接收携带邀请终端的鉴权信息的好友电视业务邀请消 息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权；中心媒体服务器，用于在所述IPTV AS鉴权成功后，接收好友电视业 务请求消息，为被邀请终端指定边缘媒体服务器；被邀请终端，用于获取中心媒体服务器所指定的边缘媒体服务器的地址 后，根据该地址从边缘媒体服务器获取好友电视节目。本发明实施例公开了一种IPTVAS,包括：接收模块、鉴权模块和发送 模块，其中，所述接收模块，用于接收携带邀请终端的鉴权信息的好友电视业务邀请 消息，并转发给鉴权模块；所述鉴权模块，用于根据所述好友电视业务邀请消息中的邀请终端的鉴 权信息对好友电视业务进行鉴权，在鉴权成功后向所述发送模块发送鉴权成 功指示消息；所述发送模块，用于在接收到所述鉴权模块发送的鉴权成功指示消息 后，向被邀请终端发送中心媒体服务器的地址，或者向中心媒体服务器发送</p>
    <p>好友电视业务请求消息。本发明实施例公开了一种中心媒体服务器，包括：接收模块和分配模块，其中，所述接收模块，用于接收好友电视业务请求消息，并转发给分配模块； 所述分配模块，用于根据所接收的好友电视业务请求消息分配边缘媒体 服务器。由上述技术方案可见，本发明实施例中，IPTVAS接收携带邀请终端的 鉴权信息的好友电视业务邀请消息，根据所述邀请终端的鉴权信息对好友电 视业务进行鉴权；在所述鉴权成功后，中心媒体服务器接收好友电视业务请 求消息，为被邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边缘 媒体服务器的地址，并根据该地址从边缘媒体服务器获取好友电视节目的技 术方案，使得在被邀请终端没有IPTV业务权限时，也能实现好友电视业务， 并且能够将费用记在邀请终端的账户上，真正体现了 "邀请，，的含义。附图说明图1是现有技术中用户收看点播节目的流程图； 图2是现有技术中实现好友电视业务的流程图； 图3是本发明实施例一种实现好友电视业务的方法的流程图； 图4是本发明实现IMS网络架构下好友电视业务的方法的第一实施例 流程图；图5是本发明实现IMS网络架构下好友电视业务的方法的第二实施例 流程图；图6是本发明实现IMS网络架构下好友电视业务的方法的第三实施例 流程图；图7是本发明实施例一种IPTV AS的结构框图；图8是本发明实施例 一种中心媒体服务器的结构框图。</p>
    <p>具体实施方式图3是本发明实施例 一种实现好友电视业务的方法的流程图。如图3所示，包括以下步骤：步骤301, IPTVAS接收携带邀请终端的鉴权信息的好友电视业务邀请 消息，根据所述邀请终端的鉴权信息对好友电视业务进行鉴权。步骤302,在所述鉴权成功后，中心媒体服务器接收好友电视业务请求 消息，为被邀请终端指定边缘媒体服务器。步骤303，被邀请终端获取所指定的边缘媒体服务器的地址，并根据该 地址从边缘媒体服务器获取好友电视节目。通过图3所示的方法，可以在被邀请用户没有IPTV业务权限时，也能实 现好友电视业务。为使本发明的目的、技术方案及优点更加清楚明白，下面以IMS网络 架构下的用户A和用户B为例，并以图4、 5、和6所示的实施例对本发明 进行进一步说明，其中，在接入IMS域时，网络侧已经对用户A和用户B 进行了认证，用户A具有IPTV的业务权限，用户B只有IMS域中的通信 的权限，即用户B无IPTV业务权限；用户A邀请用户B加入好友电视业 务，用户A和用户B所使用的终端分别是终端A和终端B,则终端A是邀 请终端，终端B是被邀请终端。图4是本发明实现IMS网络架构下好友电视业务的方法的第一实施例 流程图。如图4所示，包括以下步骤：步骤401,用户A正在收看点播节目，即终端A和距离较近的边缘服 务器A之间存在流媒体传输。边缘服务器在IMS网络中为々某体资源功能（MRF, Media Resource Function)网元。步骤402,用户A邀请用户B&#8212;起收看当前的点播节目，则终端A向 终端B发送好友电视业务邀请消息，其中携带终端A的鉴权信息。好友电 视业务邀请消息具体可以为"Invite"消息或"Message"消息。在本实施例 中以"Invite"消息为例进行说明，在"Invite"消息的Request URI、头域或 者Body里标识这是一个好友电视业务，并在"Invite"消息的Body中携带 用户A在IPTV业务中的鉴权信息，包括用户名和密码。在"Invite"消息 的头域中标识一个好友电视业务时，需要对SIP协议中描述头域的部分进行 扩展。在本步骤中，终端A把好友电一见业务邀请消息，即"Invite"消息推送 至终端B,终端B可以是手机或STB等具有流媒体播放功能的终端。终端 A向终端B发送的"Invite"消息通过呼叫会话控制单元（CSCF, Call Session Control Function )发送至终端B。这里的CSCF包括终端A所在区域的CSCF 和终端B所在区域的CSCF。在本步骤中，为了防止用户B获得用户A的密码，在"Invite"消息中 携带的密码是用户A的真实密码和时间戳经过MD5算法或其它不可逆的加 密算法处理后的字符串。同时，在"Invite"消息中还需要携带加密算法所 用的时间戳，以便用户B向IPTV AS请求鉴权时，IPTV AS能够根据该时 间戳和已知的用户A的密码对上述经过加密处理的字符串进行验证。即当 需要保护用户A的密码不被用户B所知时，用户A的鉴权信息包括：用户 A的用户名，时间戳以及用户A的密码和时间戳经过加密算法处理后得到 的字符串。在本步骤中，"Invite"消息中还可以携带用户A所收看节目的时间信 息，以使用户B能够同步收看。步骤403,用户B接收到用户A的"Invite"消息后，如果接受邀请， 则终端B向基于IMS网络的IPTV AS发送"Invite"消息，该"Invite"消 息中携带用户A的用户名和密码，并标识用户B为被邀请用户。本步骤中，终端B向IPTV AS发送的"Invite"消息通过终端B所在区 域的CSCF发送。步骤404, IPTVAS接收到"Invite"消息后对用户B进行鉴权，鉴权</p>
    <p>时采用的是"Invite"消息中携带的用户A的用户名和密码。步骤405，鉴权通过后，IPTVAS向终端B返回"200OK"消息，其中携带中心媒体服务器的地址。在本实施例中，中心媒体服务器是点播业务的中心媒体服务器（VODAS)。本步骤中，IPTV AS向终端B发送的"200 OK"消息通过终端B所在 区域的CSCF发送。步骤406，终端B向终端A发送的"200 OK"消息，以告知4妻受邀"^"。步骤407，终端B向中心媒体服务器发送请求节目的好友电视业务请求 消息，该消息也可以用"Invite"消息实现，在"Invite"消息的头域或Body 中携带终端B的标识信息等，如终端B的IP地址或者终端B的会话初始化 协议统一资源标识符（SIPURI)等。本步骤中，"Invite"消息可以是会话初始化协议（SIP, Session Initiation Protocol)消息或实时流协议(RTSP, Real Time Streaming Protocol)消息， 这取决于中心媒体服务器的类型。步骤408，中心媒体服务器根据终端B的标识信息，分配一个距离终端 B较近的边缘媒体服务器B，并将边缘服务器的地址通过"200OK"消息带 给终端B。步骤409，终端B根据所接收到的地址与边缘服务器B建立媒体连接。 本步骤中，终端B可以在与边缘媒体服务器B建立媒体连接的过程中，将在步骤402中获得的用户A所收看节目的时间信息发送给边缘媒体服务器B。步骤410，终端B从边缘服务器B获取好友电视节目，即边缘媒体服务 器B向终端B传输好友电视节目的流媒体。本步骤中，边缘媒体服务器B根据终端B发送的用户A所收看节目的 时间信息向终端B发送流媒体，用户B和用户A同步收看电视节目。到此，完成了实现IMS网络架构下好友电视业务的方法的第一实施例</p>
    <p>的流程。本实施例在被邀请用户没有IPTV业务权限时，也能实现好友电视业务。 此外，对邀请终端的鉴权信息进行鉴权后，好友电视业务的费用就记在发起 邀请用户的帐上，真正体现了 "邀请"的含义。另外，在现有技术中，中心 媒体服务器采用"谁鉴权，所分配边缘媒体服务器离谁较近"的原则分配边 缘媒体服务器。因此，利用图3所示的方法实现好友业务时，为被邀请终端 分配的是离邀请终端较近的边缘媒体服务器。此时，如果邀请终端和被邀请 终端的物理位置存在较大的差异，即被邀请终端距离邀请终端和所分配的边 缘媒体服务器都较远时，传输延时和传输损耗也大大增加。因此，在本发明 实施例中，还根据被邀请终端的标识信息为被邀请终端分配一个距离较近的 边缘服务器，进而使得被邀请终端能够在好友电视业务中获得较好的服务质 量。图4所示的上述过程，不仅使得无IPTV业务权限的用户B能够接受好 友电视业务邀请，并且保证了用户B收看节目的质量。图5是本发明实现IMS网络架构下好友电视业务的方法的第二实施例 流程图。如图5所示，包括以下步骤：步骤501 ~步骤502，同步骤401 ~步骤402。步骤503，用户B接收到用户A是"Invite"消息后，如果接受邀请， 则终端B向基于IMS网络的IPTV AS发送"Invite"消息，该"Invite"消 息中不仅携带用户A的用户名和密码，而且还携带终端B的标识信息，并 标识用户B为被邀请用户。步骤504, IPTVAS接收到"Invite"消息后对用户B进行鉴权，鉴权 时采用的是"Invite"消息中携带的用户A的用户名和密码。步骤505,鉴权通过后，IPTV AS向中心媒体服务器发送请求好友电视 业务的"Invite"消息，该消息中携带终端B的标识信息。步骤506，中心媒体服务器根据终端B的标识信息，分配一个距离终端 B较近的边缘媒体服务器B，并将边缘服务器B的地址通过"200 OK"消息</p>
    <p>带给IPTV AS。步骤507， IPTVAS将边缘服务器B的地址通过"200 OK"消息带给终 端B。步骤508，终端B向终端A发送的"200 OK"消息，以告知接受邀请。 步骤509,终端B根据所接收到的地址与边缘服务器B建立媒体连接。 步骤510，终端B从边缘服务器B获取好友电视节目，即边缘媒体服务器B向终端B传输好友电视节目的流媒体。到此，完成了实现IMS网络架构下好友电碎见业务的方法的第二实施例的流程。图6是本发明实现IMS网络架构下好友电视业务的方法的第三实施例 流程图。如图6所示，包括以下步骤：步骤601,用户A正在收看点播节目，即终端A和距离较近的边缘服 务器A之间存在流媒体传输。步骤602,终端A发送"Invite"消息邀请终端B进行好友VOD点播业 务，在该"Invite"消息的R叫uest URI、头域或Body处标识为好友电视业 务，并且该"Invite"消息中携带用户A的用户名和密码以及终端B的SIP URI。该"Invite"消息根据其携带的终端B的SIP URI被路由到终端B所 在区域的CSCF，该CSCF根据Tag或PSI处的标识识别出这是一个好友电 视业务后，将该"Invite"消息转发给IPTVAS。在本步骤中，终端B所在区域的CSCF也可以#4居终端B的SIP URI 查询出终端B的IP地址后，通过"Invite"消息发送给IPTV AS。总之终端 B所在区域的CSCF在向IPTV AS发送的"Invite"消息中携带终端B的标 识信息即可，该标识信息即可以是终端B的SIP URI,也可以是终端B的IP 地址。本实施例中，由于B也是IMS用户，即B已经在IMS网络注册，所 以终端B所在区域的CSCF是知道终端B的IP地址的。步骤603， IPTVAS接收到"Invite"消息后进行鉴权，鉴权时采用的是 "Invite"消息中携带的用户A的用户名和密码。 步骤604,鉴权通过后，IPTV AS向中心媒体服务器发送请求好友电视 业务的"Invite"消息，该消息中携带终端B的标识信息。步骤605，中心媒体服务器根据终端B的标识信息，分配一个距离终端 B较近的边缘媒体服务器B，并将边缘服务器B的地址通过"200 OK，，消息 带给IPTV AS。步骤606， IPTV AS向终端B发送"Invite"消息以邀请用户B,该"Invite" 消息中携带边缘媒体服务器B的地址，该"Invite"消息是一个好友电视业 务邀请消息。步骤607,终端B向IPTV AS返回"200 OK"消息，表示用户B接受邀请。步骤608, IPTV AS向终端A发送的"200 OK"消息，以告知用户B 接受邀请。步骤609,终端B根据所接收到的地址与边缘服务器B建立媒体连接。 步骤610,终端B从边缘服务器B获取好友电视节目，即边缘媒体服务 器B向终端B传输好友电视节目的流媒体。到此，完成了实现好友电视业务的方法的第三实施例的流程。 在图4、 5和6所示的实施例中，都设终端B没有IPTV业务权限，如 果终端B有IPTV业务权限，则毫无疑问上述实施例中的方案也是适用的。需要说明的是，在图4、 5和6所示的流程中，由于用户A邀请用户B 收看的好友电视节目是用户A正在收看的电视节目，因此在各个"Invite" 消息中还需要携带好友电视节目的标识，以使得接收"Invite"消息的实体 能够获知当前好友电视业务中电视节目，从而进行相应的处理。例如，中心 媒体服务器可以根据好友电视节目标识分配距离终端B较近的且保存有好 友电视节目的边缘服务器B。另外，终端B在与边缘媒体服务器建立媒体连 接时，也需要将好友电视业务标识发送给边缘媒体服务器B。这部分内容是 现有技术，因此，本实施例中没有详述。接下来基于上述实施例给出本发明一种IPTV AS和一种中心媒体服务 器的组成结构。图7是本发明实施例一种IPTVAS的结构框图。如图7所示，该IPTV AS主要包括：接收模块701和鉴权模块702和发送模块703。在图7中，接收模块701，用于接收携带邀请终端的鉴权信息的好友电 视业务邀请消息，并转发给鉴权模块702;鉴权模块702,用于根据好友电视业务邀请消息中的邀请终端的鉴权信 息对好友电视业务进行鉴权，并在鉴权成功后向发送模块703发送鉴权成功 指示消息。发送模块703,用于在接收到鉴权模块702发送的鉴权成功指示消息后， 向被邀请终端发送中心媒体服务器的地址，或者向中心媒体服务器发送好友 电视业务请求消息。在图7中，当接收模块701接收的携带邀请终端的鉴权信息的好友电视 业务邀请消息中进一步携带被邀请终端的标识信息时，鉴权模块702向发送 模块703发送的鉴权成功指示消息中进一步携带被邀请终端的标识信息，发 送模块703向中心媒体服务器发送的好友电视业务请求消息中进一步携带 寻皮邀i青终端的标识信息。图8是本发明实施例一种中心媒体服务器的结构框图，如图8所示，该 中心媒体服务器主要包括'.接收模块801和分配模块802。在图8中，接收模块801,用于接收好友电视业务请求消息，并转发给 给分配^t块802。分配模块802,用于根据所接收的好友电视业务请求消息分配边缘媒体 服务器。在图8中，接收模块801接收的好友电视业务请求消息中进一步携带被 邀请终端的标识信息时，分配模块802用于根据所接收的好友电视业务请求 消息中的被邀请终端的标识信息为被邀请终端分配边缘媒体服务器。如图8所示的中心媒体服务器还可以进一步包括发送模块803，在图8 中用虚线方框表示。此时，分配模块802,进一步用于将所分配边缘媒体服 务器的地址发送给发送模块803;发送模块803，用于将所接收的边缘媒体 服务器的地址发送给IPTV AS或被邀请终端。综上所述，在本发明实施例中，接收携带邀请终端的鉴权信息的好友电权成功后，为被邀请终端指定边缘媒体服务器；被邀请终端获取所指定的边 缘媒体服务器的地址，根据该地址从边缘媒体服务器获取好友电视节目进行 播放的技术方案，使得没有IPTV业务权限，或没有所邀请节目的权限的被 邀请用户能够收看到好友电视节目，并且能够将费用记在邀请终端的账户 上，真正体现了 "邀请"的含义。另外，在本发明实施例中，还采用根据被 邀请终端的标识信息为被邀请终端分配边缘媒体服务器的技术方案，使得被 邀请终端能够在好友电视业务中获得较好的服务质量。以上所述，仅为本发明的较佳实施例而已，并非用于限定本发明的保护 范围，凡在本发明的精神和原则之内所做的任何修改、等同替换、改进等， 均应包含在本发明的保护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101867576A?cl=zh">CN101867576A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月1日</td><td class="patent-data-table-td patent-date-value">2010年10月20日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种基于ims实现iptv业务用户推荐节目的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102611914A?cl=zh">CN102611914A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年3月2日</td><td class="patent-data-table-td patent-date-value">2012年7月25日</td><td class="patent-data-table-td ">广州市睿福信息科技有限公司</td><td class="patent-data-table-td ">一种云电视应用服务系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102685606A?cl=zh">CN102685606A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月18日</td><td class="patent-data-table-td patent-date-value">2012年9月19日</td><td class="patent-data-table-td ">华为终端有限公司</td><td class="patent-data-table-td ">互联网协议电视中业务收看的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103326928A?cl=zh">CN103326928A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月4日</td><td class="patent-data-table-td patent-date-value">2013年9月25日</td><td class="patent-data-table-td ">四川长虹电器股份有限公司</td><td class="patent-data-table-td ">实现电视节目内容实时共享的平台及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103391457A?cl=zh">CN103391457A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月7日</td><td class="patent-data-table-td patent-date-value">2013年11月13日</td><td class="patent-data-table-td ">山东沃飞电子科技有限公司</td><td class="patent-data-table-td ">推荐节目的播放方法、终端设备及网络系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2009076825A1?cl=zh">WO2009076825A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年11月24日</td><td class="patent-data-table-td patent-date-value">2009年6月25日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">设置临时权限、实现好友电视业务的方法、系统和设备</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04N0021633400">H04N21/6334</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04N0021254000">H04N21/254</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04N0007173000">H04N7/173</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=S2JcBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04Q0007380000">H04Q7/38</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2008年4月16日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2008年6月11日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年12月29日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/65412d6a95627eb11b2f/CN101163279A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%AE%9E%E7%8E%B0%E5%A5%BD%E5%8F%8B%E7%94%B5%E8%A7%86%E4%B8%9A%E5%8A%A1%E7%9A%84%E6%96%B9%E6%B3%95_%E7%B3%BB%E7%BB%9F.pdf?id=S2JcBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2Orm0Na1d80-JvYQU26twI-9aHbg"},"sample_url":"https://www.google.com/patents/reader?id=S2JcBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>