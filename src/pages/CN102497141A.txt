<!DOCTYPE html><html><head><title>专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_5115ea495017d9115e613207d3810e5a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_5115ea495017d9115e613207d3810e5a__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="大功率交流伺服驱动器大扭矩启动方法"><meta name="DC.contributor" content="刘汉武" scheme="inventor"><meta name="DC.contributor" content="唐文武" scheme="inventor"><meta name="DC.contributor" content="姜国兴" scheme="inventor"><meta name="DC.contributor" content="姜如意" scheme="inventor"><meta name="DC.contributor" content="张慧勇" scheme="inventor"><meta name="DC.contributor" content="张艳清" scheme="inventor"><meta name="DC.contributor" content="朱政" scheme="inventor"><meta name="DC.contributor" content="解洪林" scheme="inventor"><meta name="DC.contributor" content="北京特种机械研究所" scheme="assignee"><meta name="DC.date" content="2011-12-6" scheme="dateSubmitted"><meta name="DC.description" content="本发明属于伺服驱动器技术领域，具体是一种伺服驱动器大扭矩启动方法。本发明目的是为了解决交流永磁同步伺服电机在启动过程中，因干扰转矩引起执行机构振动，严重影响伺服系统控制精度的问题。本发明的技术方案：首先，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；然后，根据基于模式识别的多模态控制方法获取PID值；最后，根据获取的PID值，通过SVPWM方法获取控制信号，对伺服电机进行驱动，实现伺服驱动器的启动。本发明采用对伺服驱动器启动时电流和位置偏差的校正和控制技术，是一种有效、快速、能削弱电机反电动势和定子电流谐波产生的纹波转矩、提高低速稳定性、控制精度的控制方法。"><meta name="DC.date" content="2012-6-13"><meta name="DC.relation" content="CN:101656502:A" scheme="references"><meta name="DC.relation" content="CN:102033548:A" scheme="references"><meta name="DC.relation" content="CN:102053628:A" scheme="references"><meta name="DC.relation" content="JP:2005102377" scheme="references"><meta name="citation_reference" content="于群: &quot;异步电机矢量控制系统的参数辨识研究&quot;, 《CNKI优秀硕士学位论文全文库》, 15 April 2011 (2011-04-15), pages 46 - 65"><meta name="citation_patent_publication_number" content="CN:102497141:A"><meta name="citation_patent_application_number" content="CN:201110400050"><link rel="canonical" href="https://www.google.com/patents/CN102497141A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102497141A?cl=zh"/><meta name="title" content="专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法"/><meta name="description" content="本发明属于伺服驱动器技术领域，具体是一种伺服驱动器大扭矩启动方法。本发明目的是为了解决交流永磁同步伺服电机在启动过程中，因干扰转矩引起执行机构振动，严重影响伺服系统控制精度的问题。本发明的技术方案：首先，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；然后，根据基于模式识别的多模态控制方法获取PID值；最后，根据获取的PID值，通过SVPWM方法获取控制信号，对伺服电机进行驱动，实现伺服驱动器的启动。本发明采用对伺服驱动器启动时电流和位置偏差的校正和控制技术，是一种有效、快速、能削弱电机反电动势和定子电流谐波产生的纹波转矩、提高低速稳定性、控制精度的控制方法。"/><meta property="og:title" content="专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102497141A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102497141A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=8zBxBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102497141A&amp;usg=AFQjCNGjY1l596C5p0NWdw1A3TiQSb5hjQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/8d0e8acdf08d82252ab0/CN102497141A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/8d0e8acdf08d82252ab0/CN102497141A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102497141A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102497141A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102497141A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102497141B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102497141A?cl=zh" style="display:none"><span itemprop="description">本发明属于伺服驱动器技术领域，具体是一种伺服驱动器大扭矩启动方法。本发明目的是为了解决交流永磁同步伺服电机在启动过程中，因干扰转矩引起执行机构振动，严重影响伺服系统控制精度的问题。本发明的技术方案：首...</span><span itemprop="url">https://www.google.com/patents/CN102497141A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法" title="专利 CN102497141A - 大功率交流伺服驱动器大扭矩启动方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102497141 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110400050</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年6月13日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年12月6日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年12月6日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102497141B?hl=zh-CN&amp;cl=zh">CN102497141B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110400050.5, </span><span class="patent-bibdata-value">CN 102497141 A, </span><span class="patent-bibdata-value">CN 102497141A, </span><span class="patent-bibdata-value">CN 201110400050, </span><span class="patent-bibdata-value">CN-A-102497141, </span><span class="patent-bibdata-value">CN102497141 A, </span><span class="patent-bibdata-value">CN102497141A, </span><span class="patent-bibdata-value">CN201110400050, </span><span class="patent-bibdata-value">CN201110400050.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E6%B1%89%E6%AD%A6%22">刘汉武</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%94%90%E6%96%87%E6%AD%A6%22">唐文武</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A7%9C%E5%9B%BD%E5%85%B4%22">姜国兴</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A7%9C%E5%A6%82%E6%84%8F%22">姜如意</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E6%85%A7%E5%8B%87%22">张慧勇</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E8%89%B3%E6%B8%85%22">张艳清</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9C%B1%E6%94%BF%22">朱政</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%A7%A3%E6%B4%AA%E6%9E%97%22">解洪林</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E7%89%B9%E7%A7%8D%E6%9C%BA%E6%A2%B0%E7%A0%94%E7%A9%B6%E6%89%80%22">北京特种机械研究所</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102497141A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102497141A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102497141A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=8zBxBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110400050&amp;usg=AFQjCNFbv3LeQ27ox4YxqsCzDBnbGeQHog"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=8zBxBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102497141A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGbVk4pR0tSBSoTfbo12_5dyOgWWQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT113353067" lang="ZH" load-source="patent-office">大功率交流伺服驱动器大扭矩启动方法</invention-title>
      </span><br><span class="patent-number">CN 102497141 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA97200661" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明属于伺服驱动器技术领域，具体是一种伺服驱动器大扭矩启动方法。本发明目的是为了解决交流永磁同步伺服电机在启动过程中，因干扰转矩引起执行机构振动，严重影响伺服系统控制精度的问题。本发明的技术方案：首先，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；然后，根据基于模式识别的多模态控制方法获取PID值；最后，根据获取的PID值，通过SVPWM方法获取控制信号，对伺服电机进行驱动，实现伺服驱动器的启动。本发明采用对伺服驱动器启动时电流和位置偏差的校正和控制技术，是一种有效、快速、能削弱电机反电动势和定子电流谐波产生的纹波转矩、提高低速稳定性、控制精度的控制方法。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(3)</span></span></div><div class="patent-text"><div mxw-id="PCLM42969414" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.大功率交流伺服驱动器大扭矩启动方法，其特征在于：包括以下步骤，步骤1，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；根据选用的电机参数及硬件模块参数，从内到外对电流环、速度环、位置环进行Matlab 仿真；所述的电流环中加入电流控制器，所述的电流控制器是基于模式识别多模态智能控制方法的智能控制器，d轴电流给定和q轴电流给定是电流控制器的给定输入，输出为伺服电机的三相电流；步骤2，根据基于模式识别的多模态控制方法获取PID值；基于模式识别的多模态控制工作过程如下：首先，电流控制器采集输入、输出量，然后根据采集的输入、输出量及其组合在模式集中搜索与之相匹配的控制模式，然后根据匹配的模式找出事先给出的与该模式相对应的控制模式，将该控制模式施加给被控制对象；通过Matlab获取伺服驱动器的仿真模型，根据伺服驱动器中的电流偏差的范围，选用相应的控制模式进行多模态控制，获取PID值；步骤3，根据获取的PID值，通过SVPWM方法获取控制信号，对伺服电机进行驱动，实现伺服驱动器的启动；伺服控制器控制部分采用三环控制，所述的位置环：上位机发出的指令脉冲分两路，一路经一次滤波、电子齿轮转换、与偏差计数器的反馈进行偏差计算后得到位置偏差，该偏差经过位置偏差校正后送给位置控制器kp ；另一路经前馈控制、电子齿轮转换、前馈滤波后与位置控制器kp的输出值相加得到速度给定；同时，设定脉冲偏差与上位机发出的指令脉冲偏差的进行比较，根据比较值，给上位机发出是否到位信号；所述的速度环：速度给定减去速度反馈的差送给速度控制器、经过积分限幅和转矩限幅得到电流给定，根据码盘反馈值计算电机位置的正、余弦值；所述的电流环：电流给定减去电流传感器检测到的电流值得到电流偏差，进行CLARKE变换、PARK变换、过流检测后进行模式识别的控制方法，进行积分限幅、PARK逆变换、SVPWM算法，输出IGBT管，控制伺服电机的旋转。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的大功率交流伺服驱动器大扭矩启动方法，其特征在于：所述的基于模式识别的多模态控制方法为，(1)在多模态控制过程中，由专家监控系统并检测系统的偏差情况，如果受控系统阶跃响应过渡过程的偏差e过大，即e &gt; eB,则施加强控制作用（开关控制），将e迅速调整到小偏差范围，此时控制器的输出为执行机构工作的极限值其中，eB为设定的偏差的阀值，一般根据实际受控系统进行确定；(2)在偏差趋于％和eB之间时，误差的趋势向着减小的方向，此时若再加积分控制会出现系统反方向的大超调，因此采用PD控制，去掉积分项，这样可以避免过大的超调，使受控系统有较快的响应，其中，％为设定的偏差的阀值，一般根据实际受控系统进行确定，该值小于eB ；(3)当受控系统响应趋于设定值时，此时受控系统偏差很小e	^ %，这时采用传统的 PID控制来改善系统的稳定性，使受控系统具有良好的稳态性能；(4)当e	= 0，表明受控系统已处于平衡状态，这时候只要输出U(n) =U(n-l)维持这种平衡就可以了，即：Hold控制，而不必再修改控制器的输出量，等待并观察已的变化情况， 若e有变化，再做出新的判断决策。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1或2所述的大功率交流伺服驱动器大扭矩启动方法，其特征在于：所述的电流环中对电流零漂进行补偿。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES47530811" lang="ZH" load-source="patent-office" class="description">
    <p>大功率交流伺服驱动器大扭矩启动方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明属于伺服驱动器技术领域，具体涉及一种伺服驱动器大扭矩启动方法。 背景技术</p>
    <p>[0002]	目前伺服电机调速功能主要是通过变频与变压控制技术实现的，正弦脉宽调制技术（SPWM)是实现变频与变压调速控制的有效方法【1】。电压空间矢量（SVPWM)控制的目的是在伺服电机内部产生圆形磁场，从而产生恒定的电磁转矩。电动机的变量，如：电压、电流、电动势、磁通等，均由空间矢量来描述，通过建立电机的动态数学模型，得到各物理量之间的实时关系，通过坐标变换，在定向坐标系上实现各物理量的控制和调节【2】。控制算法目前均采用位置环、速度环、电流环三环控制算法，现有的伺服驱动器进行位置控制和电流控制时均采用普通的PID算法，该控制方法简单易于实现，相对较成熟【3】。但交流永磁同步伺服电机在启动过程中，因永磁体和定子齿槽之间的相互作用而产生齿槽转矩，或者因电机反电动势和定子电流谐波产生的纹波转矩，上述干扰转矩引起执行机构振动，严重影响伺服系统控制精度。尤其是对低速稳定性、控制精度要求高或采用低速直接转矩伺服控制方式的伺服控制系统，这种缺陷影响了永磁同步电机的应用【4】。</p>
    <p>[0003]【1】李叶松，宋宝.全数字永磁同步电机伺服系统设计[J].电力电子，2002，(3)： 66-69 ；</p>
    <p>[0004]	【2】李雷军.基于TMS320LF2407A型DSP硬件实现SVP丽脉宽调制[J].煤，2004， 13(2) ：11-12.；</p>
    <p>[0005]【3】张兴，张崇巍.PWM可逆变流器空间电压矢量控制技术的研究[J].中国电机工程学报，2001，21 (10) ：102-105 ；</p>
    <p>[0006]【4】一种抑制永磁同步电机转速脉动的方法[J]，2009，(12)	:43_46 ；</p>
    <p>[0007]【5】孙增沂.智能控制理论与技术.北京：清华大学出版社，1992.	29-47 ；</p>
    <p>[0008]	【6】Yefa H, Shunsheng G, Gangyan L, Mingzhong YActive Magnetic Bearing Using Digital Fuzzy PID Controller. In-Proceedings of 1999 International Conference on Advanced Manufacturing Technology,1999. 12&#8212;17。</p>
    <p>发明内容</p>
    <p>[0009]	本发明目的是为了解决交流永磁同步伺服电机在启动过程中，因干扰转矩引起执行机构振动，严重影响伺服系统控制精度的问题，提供一种交流伺服驱动器大扭矩启动的控制方法，该方法削弱电机反电动势和定子电流谐波产生的纹波转矩，提高了低速稳定性和控制精度。</p>
    <p>[0010]	为了解决上述技术问题，本发明采用的技术方案是：</p>
    <p>[0011]	大功率交流伺服驱动器大扭矩启动方法，包括如下步骤：</p>
    <p>[0012]	步骤1，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；</p>
    <p>[0013]	根据选用的电机参数及硬件模块参数，从内到外对电流环、速度环、位置环进行Matlab仿真；所述的电流环中加入电流控制器，所述的电流控制器是基于模式识别多模态智能控制方法的智能控制器，d轴电流给定和q轴电流给定是电流控制器的给定输入，输出为伺服电机的三相定子电流；</p>
    <p>[0014]	步骤2，根据基于模式识别的多模态控制方法获取PID值；</p>
    <p>[0015]	基于模式识别的多模态控制工作过程如下：首先，速度控制器采集输入、输出量， 然后根据采集的输入、输出量及其组合在模式集中搜索与之相匹配的控制模式，然后根据匹配的模式找出事先给出的与该模式相对应的控制模式，将该控制模式施加给被控制对象；</p>
    <p>[0016]	通过Matlab获取的伺服驱动器的仿真模型，根据伺服驱动器中的电流偏差的范围，选用相应的控制模式进行多模态控制，获取PID值；</p>
    <p>[0017]	步骤3，根据获取的PID值，通过SVPWM控制方法获取控制信号，对伺服电机进行驱动，实现伺服驱动器的启动；</p>
    <p>[0018]	伺服控制器控制部分采用三环控制，所述的位置环：上位机发出的指令脉冲分两路，一路经一次滤波、电子齿轮转换、与偏差计数器的反馈进行偏差计算后得到位置偏差， 该偏差经过位置偏差校正后送给位置控制器kp ；另一路经前馈控制、电子齿轮转换、前馈滤波后与位置控制器kp的输出值相加得到速度给定；同时，设定脉冲偏差与上位机发出的指令脉冲偏差的进行比较，根据比较值，给上位机发出是否到位信号；所述的速度环：速度给定减去速度反馈的差送给速度控制器、经过积分限幅和转矩限幅得到电流给定，根据码盘反馈值计算电机位置的正、余弦值；所述的电流环：电流给定减去电流传感器检测到的电流值，进行CLARKE变换、PARK变换、过流检测后进行模式识别的方法控制，进行积分限幅、 PARK逆变换、SVPWM算法，输出IGBT管，控制伺服电机的旋转。</p>
    <p>[0019]	所述的基于模式识别的多模态控制方法为，</p>
    <p>[0020]	(1)在多模态控制过程中，由专家监控系统并检测系统的偏差情况，如果受控系统阶跃响应过渡过程的偏差e过大，即e &gt; eB,则施加强控制作用（开关控制），将e迅速调整到小偏差范围，此时控制器的输出为执行机构工作的极限值其中，eB为设定的偏差的阀值， 一般根据实际受控系统进行确定；</p>
    <p>[0021 ] (2)在偏差趋于％和eB之间时，误差的趋势向着减小的方向，此时若再加积分控制会出现系统反方向的大超调，因此采用PD控制，去掉积分项，这样可以避免过大的超调，使受控系统有较快的响应，其中，％为设定的偏差的阀值，一般根据实际受控系统进行确定， 该值小于eB ；</p>
    <p>[0022]	(3)当受控系统响应趋于设定值时，此时受控系统偏差很小e ^ %，这时采用传统的PID控制来改善系统的稳定性，使受控系统具有良好的稳态性能；</p>
    <p>[0023]	(4)当e = 0，表明受控系统已处于平衡状态，这时候只要输出U (n) = U(n_l)维持这种平衡就可以了，即：Hold控制，而不必再修改控制器的输出量，等待并观察已的变化情况，若e有变化，再做出新的判断决策。</p>
    <p>[0024]	所述的电流环中对电流零漂进行补偿。</p>
    <p>[0025]	与现有技术相比，本发明的有益效果是：</p>
    <p>[0026]	本发明提供的方法引入位置偏差和速度补偿，与现有的PID控制算法和智能控制算法相结合，解决了伺服电机在启动时速度不稳、振动等问题。[0027] 本发明提供的方法采用电流零漂补偿技术；在电流环中加入模式识别智能控制算法；采用速度补偿技术；采用位置偏差校正技术。本发明是一种有效、快速、能削弱电机反电动势和定子电流谐波产生的纹波转矩、提高低速稳定性、控制精度的控制方法。</p>
    <p>附图说明		[0028]	图	1是本发明的硬件结构框图；[0029]	图	2是本发明FPGA内部逻辑设计图；[0030]	图	3是本发明XC167主电路设计原理图；[0031]	图	4是本发明母线电压检测电路原理图；[0032]	图	5是基于模式识别控制算法控制框图；[0033]	图	6是电机电流零漂补偿原理图；[0034]	图	7是本发明电流环仿真模型图；[0035]	图	8是本发明速度环仿真模型图；[0036]	图	9是本发明位置环仿真图；[0037]	图	10本发明电流环输出波形图；[0038]	图	11本发明速度环输出波形图；[0039]	图	12本发明位置环输出波形图；[0040]	图	13传统永磁同步伺服电机磁场定向矢量控制系统结构图；[0041]	图	14是本发明三环控制框图；[0042]	图	15是本发明永磁同步伺服电机磁场定向矢量控制系统结构图[0043]	图	16为零漂补偿原理图。</p>
    <p>具体实施方式</p>
    <p>[0044]	下面结合附图对本发明做进一步的说明：</p>
    <p>[0045]	伺服驱动器控制目标为永磁同步伺服电机（以下简称伺服电机）。伺服电机调速功能主要是通过变频与变压控制技术实现的，正弦脉宽调制技术（SPWM)是实现变频与变压调速控制的有效方法。SPWM技术分为从电源角度出发的电压（或电流）SPWM和从电机角度出发的磁通SP丽，后者也称电压空间矢量P丽（即：SVPWM)。电压</p>
    <p>[0046](或电流）SPWM技术追求输出一个频率和电压可调的三相对称正弦波，具有模型简单、控制线性度好和容易实现的优点，但是电压利用率低是其最大缺点。SVPWM控制的目的是在伺服电机内部产生圆形磁场，从而产生恒定的电磁转矩。电动机的变量，如：电压、电流、电动势、磁通等，均由空间矢量来描述，通过建立电机的动态数学模型，得到各物理量之间的实时关系，通过坐标变换，在定向坐标系上实现各物理量的控制和调节。SVPWM技术与传统的电压（或电流）SPWM技术相比，具有工作特性好、电压利用率高等优点。下面对SVPWM 控制技术的工作原理进行简单说明。</p>
    <p>[0047]	伺服电机定子三相对称绕组中分别通过如下三相对称电流：</p>
    <p>[0048]	iA = V2Icosiyt</p>
    <p>[0049]</p>
    <p>iB =V^Icos (&#973;Λ-120°)[0050]</p>
    <p>ic =V2Icos (&#973;Λ-240°)	⑴</p>
    <p>[0051]	式中：I为三相对称电流有效值；ω为通电角频率，ω = 2 π f，f为定子绕组通电频率。</p>
    <p>[0052]	为了使伺服电机按照规定速度旋转，需要在其定子上产生圆形旋转电磁场，通过控制电磁场通电频率ω就可以控制伺服电机转速，通过控制三相对称电流值I就可以控制伺服电机输出功率。伺服电机转子为永磁体，在圆形旋转磁场的带动下与磁场进行同步运动，转速为；</p>
    <p>60/</p>
    <p>&#21083;⑵</p>
    <p>[0054]	式中：ρ为伺服电机的极对数。</p>
    <p>[0055]	图13中给出了传统三相永磁同步伺服电机磁场定向矢量控制系统结构图，伺服电机要按照规定的转速输出规定转矩，带动负载运动规定行程，驱动器就需要对电机转速、 转矩（电流）及电机运动位置进行精确采样。驱动器通过安装在伺服电机上的转子位置传感器（即：编码器）采样伺服电机位置及旋转角度数据，并计算得到伺服电机转速。通过电流传感器对电机工作电流进行实时采样。控制芯片对采样数据进行滤波、转换处理后，利用 SVPWM技术产生六路PWM控制波形，智能功率模块（IPM)为伺服电机提供公式（1)中所示的三相对称工作电流，在此电流控制下，伺服电机定子三相对称绕组中会产生近似圆形旋转磁场，带动伺服电机转子按照式公式（2)中所示速度旋转，从而实现对伺服电机的控制。</p>
    <p>[0056]	根据待启动的伺服电机参数，进行伺服驱动器硬件设计和调试；</p>
    <p>[0057]	本发明伺服驱动器硬件结构框图如图1所示，包括：单片机、FPGA、功率驱动模块、 AD转换器、电流检测电路、编码器检测电路、按键显示电路、保护电路及CAN总线接口几大部分。</p>
    <p>[0058]	其中，单片机使用英飞凌公司单片机芯片XC167，FPGA使用Altera公司的EP1K50， XC167和FPGA是整个伺服控制器的控制核心，单片机和FPGA产生各种控制信号，处理检测到的各种数字模拟信号。</p>
    <p>[0059]	如图4所示，保护电路包括短路、过流、缺相、过载故障检测和主电路、控制电路过压、欠压检测，保护电路检测到的故障信号被送到FPGA的故障处理机进行实时处理。</p>
    <p>[0060]	本发明的伺服驱动器为全数字交流伺服驱动器，该驱动器采用位置、速度、电流闭环三环控制结构。电流环是内环，速度环和位置环是外环。在一种工作模式下，速度环和位置环只选择一种。电流环、速度环和位置环都是由交流伺服控制器实现。电流反馈信号从霍尔电流传感器（图1中为电流互感器）得到，位置及速度信号通过同轴安装在电机上的旋转变压器获得。其中位置环和速度环采用优化的PID控制，电流环采用基于模式识别的多模态智能控制算法。</p>
    <p>[0061]	单片机和FPGA功能模块的划分的原则是：高速、周期性强的信号由FPGA实现，如： 旋变、键盘的定时扫描、显示器的动态刷新、AD采集、保护电路的快速锁存，这些信号如果由单片机完成势必占用CPU的大量时间和资源。模拟信号和串行总线的处理由单片机完成， 包括如下步骤：[0062]	如图3所示，单片机XC167外接晶振、复位电路、JTAG(即：仿真器）接口电路等基本电路之外，为满足驱动器功能要求，单片机内部还配置了 64KX16BU的高速静态存储器，外部配置了 128KX8BU的非易失性存储器（EEPROM)。非易失性存储器作为XC167的片外数据存储器，通过并行地址/数据总线与XC167进行通讯，充分利用了 XC167的接口资源，15ns的读取时间大大节省了 CPU运行时间。由于EEPROM具有非易失性的特点，即使掉电也不会丢失数据，因此用其保存程序运行过程中的重要参数。需要说明的是，除片外数据存储器外，输入输出单片机的I/O 口的信号都要经过一级驱动，用以提高信号传输的可靠性。</p>
    <p>[0063]	FPGA电路包括：FPGA及外围配置电路、电机旋转变压器信号接口电路、模/数转换芯片接口电路等。</p>
    <p>[0064]	FPGA作为单片机的一个外设，单片机为FPGA提供基准时钟，两者的信息交换通过外部并行总线实现，单片机使用OUT/IN指令通过地址/数据总线对FPGA进行读写，完成与 FPGA的数据通讯。FPGA内部逻辑按功能模块划分附图2所示。功能模块包括：键盘扫描和显示器动态刷新控制、故障处理、判相控制、电机位置检测的旋变信号控制、加减速处理、IO 控制、复位控制、中断控制、定时器、计数器、指令脉冲处理。FPGA通过内部数据总线和地址总线与单片机进行通讯，实现以上功能的。</p>
    <p>[0065]	驱动器中的数据采集电路（即：AD转换器）负责对电流模拟量进行采样，电流模拟量通过流/压转换电路、电平转换电路、滤波电路后送至模/数转换芯片ADS8364。由于 FPGA在时序设计方面具有直观便捷的优点，而模/数转换芯片ADS8364的通讯时序较为复杂，使用XC167单片机编写通讯程序会增加主控程序负担，因此设计使用FPGA的I/O 口模拟ADS8364的串行通讯时序，待FPGA将ADS8364采集到的数据读入之后再传递至单片机中进行处理。</p>
    <p>[0066]	旋转变压器（即：编码器检测电路)信号是交流伺服驱动器中反馈伺服电机位置信息的快速接口信号，频率经4倍频以后可达500kHz甚至更高，是驱动器控制算法计算的基础。为保证驱动器快速、准确地响应该信号，在硬件设计中直接由FPGA中对该信号进行处理。</p>
    <p>[0067]	功率驱动模块为伺服电机提供驱动电流，功率驱动单元选用高度集成化的IGBT 模块作为功率输出器件。本发明设计选用英飞凌公司生产的IGBT模块FF300R12ME4，该模块采用绝缘基板工艺，内置优化后的栅级驱动和保护电路，适合用于频率高达20kHz的功率变换场合，具有集成化的功率输出电路，可直接连接负载；集成内置栅极驱动电路和保护电路（短路保护、过温保护、驱动电压欠压保护）；采用第五代低功耗IGBT管芯。</p>
    <p>[0068]	保护电路设计至关重要，它关系到驱动器能否正常、可靠、安全地工作。IGBT管内置保护电路，可以对自身进行短路保护、过温保护、驱动电压欠压保护。但是仅仅依靠其内部保护是不够的，因此设计了硬件保护电路，确保驱动器在短路、过载、模块过温、驱动电压过压、欠压、电源故障等问题出现时，及时做出反应避免对设备乃至人身造成伤害。</p>
    <p>[0069]	母线电压检测电路如附图4所示。由于电机制动时会将母线电压拉高，因此除过压和欠压检测之外，还设计了制动电压检测电路，当母线电压升高至上限值642V时，br信号将控制IGBT管内部连接制动电阻导通，通过大功率制动电阻将此时产生的能量消耗掉， 保护元件不会受到损坏。[0070]	电流互感器检测到的模拟信号通过AD转换器转换成数字信号后送到单片机进行处理；按键显示电路通过改变伺服驱动器内部参数，实现人机交互；CAN总线接口用于单片机与上位机进行通讯。</p>
    <p>[0071]	本发明提供的大功率交流伺服驱动器大扭矩启动方法是基于模式识别的多模态智能控制方法。</p>
    <p>[0072]	基于模式识别的多模态控制器的结构框图如附图5所示。它类似一个专家控制</p>
    <p>器，其工作过程如下：首先，控制器采集输入、输出量，以求取特征量e、〗、y等，然后根据</p>
    <p>特征量及其组合在模式集中搜索与之相匹配的模式，即：进行模式识别，然后根据匹配的模式找出事先给出的与该模式相对应的控制策略，施加给被控制对象。</p>
    <p>[0073]	基于模式识别多模态智能控制的实质是模仿控制专家系统对启动、偏差的大小等过渡过程进行分段控制。</p>
    <p>[0074]	(1)在多模态控制过程中，由专家监控系统并检测系统的偏差情况，如果受控系统阶跃响应过渡过程的偏差e过大，即e &gt; eB,则施加强控制作用（开关控制），将e迅速调整到小偏差范围，此时控制器的输出为执行机构工作的极限值。其中，eB为设定的偏差的阀值，一般根据实际受控系统进行确定。</p>
    <p>[0075]	(2)在偏差趋于％和eB之间时，误差的趋势向着减小的方向，此时若再加积分控制会出现系统反方向的大超调，因此采用PD控制，去掉积分项，这样可以避免过大的超调，使受控系统有较快的响应。其中，％为设定的偏差的阀值，一般根据实际受控系统进行确定， 该值小于eB。</p>
    <p>[0076]	(3)当受控系统响应趋于设定值时，此时受控系统偏差很小e ( %，这时采用传统的PID控制来改善系统的稳定性，使受控系统具有良好的稳态性能。</p>
    <p>[0077]	(4)当e = 0，表明受控系统已处于平衡状态，这时候只要输出U (n) = U(n-l)维持这种平衡就可以了，即：Hold控制，而不必再修改控制器的输出量，等待并观察已的变化情况。若e有变化，再做出新的判断决策。</p>
    <p>[0078]	多模态控制方法的特征状态一般采用“IF条件THEN策略”的语法形式，对于一定特征的控制模式一般用U表示，如果用产生式规则表示，即可表示为如下式：</p>
    <p>[0079]	IF e THFN U</p>
    <p>[0080]式中一	=	U=IUliUfUj</p>
    <p>[0081]	设多模态控制器的输入为：e = Ie1, e2, e3, L L，ej</p>
    <p>[0082]	对应的控制集为：U = IU1, U2-UJ</p>
    <p>[0083]	控制规则集必须满足以下原则：设f是e到U的一个映射，即f :e &#8212; U。建立的控制规则集必须满足f是e到U的满射（对e中每个元素，在U都能有一元素与之对应），即 f(e) =U0否则将可能由于推理机构搜索不到目标而无法给相应的控制模式，造成系统失控。</p>
    <p>[0084]	具体分为以下四条规则集：</p>
    <p>[0085]	MCl IF e 彡 eB	THEN U(K) = -Umax</p>
    <p>[0086]	IF e 彡 _eB	THEN U (K) = +Umax</p>
    <p>[0087]	MC2 IF e0 &lt; | e | &lt; eB THEN U (K) = Upd[0088]	MC3 IF | e | 彡 e。THEN U (K) = Upid</p>
    <p>[0089]	MC4 IFe = O THEN U (K) = Uhold</p>
    <p>[0090]	基于模式识别的多模态控制算法的思想是开环控制与闭环控制相结合，开关控制 (Bang-Bang)与常规控制相结合，基本控制单元仍然是比例环节，微分环节，积分环节等。当系统误差较大，对于伺服电机来说，即电机刚启动的阶段，这时处于较强的非线性区，为了尽快脱离该区域，受控系统应采用开环控制，即输出正最大控制量，或输出负最大控制量， 加快启动速度；当电机启动一段时间后（进入弱非线性区，局部可以认为是线性的），为了防止超调，应增加一些阻尼，减少比例控制量，因此采用PD控制；当电机进入线性区后，应加大阻尼，并加入积分项，采用传统的PID控制，以减小静态偏差，又可以保证受控系统稳定性和良好的动态性能。</p>
    <p>[0091]	根据上述设计思想和控制算法不能太复杂的要求，我们首先将e ；相平面按照特征变量划分为以下特征模式：</p>
    <p>[0092]	θι = {e I I e | 彡 eB} ;e2 = {e | |e | ( e0}；</p>
    <p>[0093]	e3 = {e I e0 &lt; e &lt; eB} ;e4 = {e | e = 0}。</p>
    <p>[0094]	控制规则集U = IU1, U2, U3, U4}，考虑到所得到的包含盘片动态特性信息的信号和控制算法要简单的要求，基本控制规则依然采用比例项、微分项和积分项，并加入开环控制，其中：</p>
    <p>[0095]	U1 = {U(k) = 士 UmaJ</p>
    <p> [0096]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102497141A/CN102497141AD00101.png"> <img id="idf0001" file="CN102497141AD00101.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102497141A/CN102497141AD00101.png" class="patent-full-image" alt="Figure CN102497141AD00101"> </a> </div>
    <p>[0097]	U3 = {U (k) = Kple (k) +Km [e (k) _e (k_l) ]}</p>
    <p>[0098]	U4 = {U(K) = U (K-I)}</p>
    <p>[0099]	其中KP1、KP2为比例系数，Kdi, KD2为微分系数，K1为积分系数，以上系数根据受控系统及实际情况确定。根据特征模式集和控制规则集，我们取下述推理规则，采用“IF条件 THEN策略”的语法形式。</p>
    <p>[0100]	IF θι THEN U1</p>
    <p>[0101]	IF e2 THEN U2</p>
    <p>[0102]	IF e3 THEN U3</p>
    <p>[0103]	IF e4 THEN U4</p>
    <p>[0104]	显然，上述控制器的每一种控制规则是一个线性控制器，但作为一个整体，它却是一个非线性控制器。</p>
    <p>[0105]	本发明提供的大功率交流伺服驱动器大扭矩启动方法，包括以下步骤，</p>
    <p>[0106]	步骤1，根据伺服驱动器硬件电路，在Matlab中建立伺服驱动器的仿真模型；</p>
    <p>[0107]	对于永磁同步电机这样一个多变量、非线性、强耦合的对象，根据转子磁场定向矢量控制方式，可以将永磁同步电机等效为一台包含坐标变换的直流电机，这时整个电机调速系统与三环形式的直流调速系统有着很大的相似性，也是一个三闭环控制结构，包括电流环、速度环、位置环这三个控制回路，三环控制框图如附图14所示。</p>
    <p>[0108]	本发明根据选用的电机参数及硬件模块参数，从内到外对电流环、速度环、位置环进行Matlab仿真，得到相应的参数。具体包括如下步骤：</p>
    <p>[0109]	1)电流环仿真模型及仿真波形；</p>
    <p>[0110]	伺服系统内环是电流控制环，包括电流控制器、矢量控制（图中为SVPWM控制）以及电流反馈等部分构成。其中，本发明电流控制器是基于模式识别多模态智能控制器，IDref 和IqMf是电流控制器的给定输入，输出为电机的三相定子电流。电流反馈是通过电流采样电路获得电流信后进行坐标变换得到电流环的电流反馈量Id和Iq，它们与给定输入电流的偏差经过电流控制器进行调节，最终使输入的电流等于反馈的电流，本发明的电流环周期是0. Ims,电流采样周期也是0. Ims0根据选定电机及各硬件模块，建立如附图7所示的电流环Matlab仿真的模型，参数经过调整电流环最终输出波形如附图10所示，电流控制器的积分时间常数由电气时间常数决定，是固定的。由于逆变器和电流反馈环节的传递函数存在一定的假设，理论计算得到的比例系数值不一定是最佳值，可以在这一计算值附近通过多次实验取得最佳值。</p>
    <p>[0111]	2)速度环仿真模型及仿真波形；</p>
    <p>[0112]	电流环的外面是速度环，它是由速度控制器、速度计算、速度反馈、以及参数限幅环节构成。速度环的输入量为速度给定nMf，其为位置环的输出，速度环输出量为电流环的q 轴电流给定IqMf。反馈量为当前电机位置信息，在反馈环节中，旋变位置信号要经过速度计算环节来得到电机的当前转速。本发明设计的速度环周期是lms。根据选定电机及各硬件模块，建立如附图8所示的速度环Matlab仿真的模型，参数经过调整速度环最终输出波形如附图11所示，不考虑阻尼影响时，速度控制器的比例系数与转动惯量成线性关系，可以按照这个线性关系来调整速度控制器参数，如果按照原有的转动惯量设定的PI参数能够达到比较满意的性能，那么在调速系统其他参数保持不变，只有转动惯量发生变化的时候， 只需要对新的转动惯量进行辨识再对控制器参数进行相应的改变，就能达到较好的控制效</p>
    <p>：^ ο</p>
    <p>[0113]	3)位置环仿真模型及仿真波形；</p>
    <p>[0114]	速度环的外面是位置环，它是由位置控制器、位置计算、电子齿轮比换算、位置反馈、以及参数限幅环节构成。位置环的输入量为上位机给定的脉冲量Sin，其频率对应电机速度，其总脉冲量对应电机的行程。位置环输出量为速度环给定nMf。反馈量为电机运行的旋变量，上位机给定为脉冲量，经过电子齿轮比换算，把上位机给定的脉冲量转换为旋变值参与运算。本发明设计的位置环周期是lms，旋变采样周期也是lms。根据选定电机及各硬件模块，建立如附图9所示的位置环Matlab仿真的模型，参数经过调整位置环最终输出波形如附图12所示。</p>
    <p>[0115]	步骤2，根据基于模式识别的多模态控制方法获取PID值；</p>
    <p>[0116]	基于模式识别的多模态控制工作过程如下：首先，电流控制器采集输入、输出量， 然后根据采集的输入、输出量及其组合在模式集中搜索与之相匹配的控制模式，然后根据匹配的模式找出事先给出的与该模式相对应的控制模式，将该控制模式施加给被控制对象。</p>
    <p>[0117]	通过Matlab获取的伺服驱动器的仿真模型，根据伺服驱动器中的电流偏差的范围，选用相应的控制模式进行多模态控制，获取PID值。本发明中选取PD控制和PID控制模式相结合的方法。[0118]	步骤3，根据获取的PID值，通过SVPWM方法获取控制信号，对伺服电机进行驱动， 实现伺服驱动器的启动；</p>
    <p>[0119]	为实现伺服电机控制的实时性和通用性，本发明的电机伺服控制器控制部分全部采用基于XC167的C语言体系，其三环控制框图如附图15所示。其中，位置环：上位机发出的指令脉冲分两路，一路经一次滤波、电子齿轮转换、与偏差计数器的反馈进行偏差计算后得到位置偏差，该偏差经过位置偏差校正后送给位置控制器kp ；另一路经前馈控制、电子齿轮转换、前馈滤波后与位置控制器kp的输出值相加得到速度给定；同时，设定脉冲偏差与上位机发出的指令脉冲偏差的进行比较，根据比较值，给上位机发出是否到位信号。速度环：速度给定减去速度反馈的差送给速度控制器、经过积分限幅和转矩限幅得到电流给定， 根据码盘反馈值计算电机位置的正、余弦值。电流环：电流给定减去电流传感器检测到的电流值，进行CLARKE变换、PARK变换、过流检测后进行模式识别的控制方法，进行积分限幅、 PARK逆变换、SVPWM算法，输出IGBT管，控制伺服电机的旋转。</p>
    <p>[0120]	三环控制部分包括主程序、中断服务程序、数据交换程序等。</p>
    <p>[0121]	主程序完成伺服驱动器控制部分的初始化及I/O接口控制信号、XC167内各个控制模块寄存器的设置等。初始化工作主要包括：单片机内核的初始化；电流环、速度环的周期设定；PWM初始化，包括PWM的周期设定，死区设定，以及PWM的启动；ADC初始化及启动； 矢量和永磁同步电机转子的初始位置初始化；进行多次伺服电机相电流采样，求出相电流的零偏移量；电流和速度PI调节、位置环P调节初始化等。所有的初始化工作完成后，主程序进入等待状态，以等待中断的发生，进行电流环、速度环和位置环的调节。</p>
    <p>[0122]	中断服务程序包括：PWM定时中断程序、功率驱动保护中断程序和通讯中断程序。 其中PWM定时中程序是用来对电流传感器采样U、ν两相电流iu和iv，进行采样，并定标。 根据磁场定向控制原理，计算转子的磁场定向角，然后来生成PWM信号，对位置环和速度环进行控制。功率驱动保护中断程序则用于检测IPM的故障输出，当出现故障时，单片机的 PWM通道将被封锁，从而使输出变成高阻态；通讯中断程序主要用来接受并刷新控制参数， 同时设置运行模式。</p>
    <p>[0123]	数据交换程序主要包括与上位机的通讯程序、EEPROM参数的存储、控制器键盘值的读取和数码管显示。其中通讯采用RS232接口和CAN通讯接口，根据特定的通讯协议接受上位机的指令，并根据要求传送参数和下载参数。</p>
    <p>[0124]	本步骤是整个控制算法的核心，通过加入智能控制算法并对位置、速度进行相应补偿，可以削弱电机反电动势和定子电流谐波产生的纹波转矩，使电机平稳运行。包括如下步骤：</p>
    <p>[0125]	1)电流环：根据电流传感器测得电流值，对电流零漂进行补偿，并在电流环中加入基于模式识别的多模态控制方法，削弱电机反电动势和定子电流谐波产生的纹波转矩；</p>
    <p>[0126]	本发明对电机电流的零漂进行补偿，有效降低了转矩脉动。电机电流的零漂补偿如附图6所示，当电机没有启动时，AD采集到电流值（非零）送到单片机，此时电流值实际是AD采集器的零漂，如果把此电流值参与电流环的计算，将会增大纹波转矩，因此本发明设计中增加了零漂补偿设计。</p>
    <p>[0127]	根据基于模式识别的多模态控制方法及仿真得到的电流环控制器参数，编写 SVPWM控制算法，使电机在电流环控制下，能比较稳定运行。[0128]	2)速度环：根据位置传感器测出的位置信息计算速度，在驱动器启动时，对速度进行补偿，提高电机转动的稳定性和平滑性；</p>
    <p>[0129]	电流环设计完毕，电机已经能比较稳定运行，为了能更好控制电机速度及稳定性， 在电流环外面设计速度环。根据位置传感器（旋转变压器）反馈的位置信息，计算得出电机实际速度，此速度作为速度环的反馈。</p>
    <p>[0130]	在模拟速度指令时，作为模拟指令电压，即使指令为0V，也会出现电机以微小速度旋转的情况。通常在上位控制装置或外部电路的指令电压里有微小（mV单位）的偏移量时会发生这种情况。模拟速度指令偏移的自动调整测量偏移量，自动对电压进行调整的功能， 可有效调整电机启动或低速运行速度不稳定现象。</p>
    <p>[0131]	当上位控制装置及外部电路的模拟电压指令出现偏移（偏移量）时，伺服驱动器会自动对偏移量作调整（如图16所示）：电压给定为OV时，速度本应该为0，但实际测量值不为0，此时，获得测量的速度值实际应该对应的电压值，该电压值作为零漂电压值，控制时，实际测得电压值减去此零漂电压值得到真实的电压。</p>
    <p>[0132]	一旦进行指令偏移的自动调整，该零漂电压值将被保存在伺服驱动器内部。该零漂电压值可通过速度指令偏移手动模式来进行确认。在上位装置位置闭环时，若上位装置偏差计数器不为0(或者不能到位），可以调整模拟量零点（手动），使其到位。</p>
    <p>[0133]	根据基于模式识别控制算法及仿真得到的速度环控制器参数，编写控制算法，使伺服电机在速度环和电流环控制下，能稳定运行。</p>
    <p>[0134]	3)位置环：根据位置传感器测出的位置信息进行PID控制，并对偏差进行相应校正补偿，提高位置反馈的准确性。</p>
    <p>[0135]	本发明速度环外面设计了位置环，可以准确控制电机运行的总行程。位置环是由位置控制器、位置计算、电子齿轮比换算、位置反馈、以及控制器参数整定环节构成。位置环的输入量为上位机给定的脉冲量，其频率对应电机速度，其总脉冲量对应电机的行程。位置环输出量为速度环给定。反馈量为电机运行的旋变量，上位机给定为脉冲量，经过电子齿轮比换算，把上位机给定的脉冲量转换为旋变值参与运算。</p>
    <p>[0136]	位置偏差在某值附近周期上下变化时，本发明对偏差进行了补偿，使偏差等于该值，提高低速稳定性、控制精度。根据基于模式识别控制算法及仿真得到的位置环控制器参数，使电机在位置环、速度环合电流环三环控制下，能平稳启动。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101656502A?cl=zh">CN101656502A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年9月15日</td><td class="patent-data-table-td patent-date-value">2010年2月24日</td><td class="patent-data-table-td ">深圳市汉武科技有限公司</td><td class="patent-data-table-td ">半高安全门</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102033548A?cl=zh">CN102033548A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年9月29日</td><td class="patent-data-table-td patent-date-value">2011年4月27日</td><td class="patent-data-table-td ">北京航空航天大学</td><td class="patent-data-table-td ">基于rbf神经网络的伺服控制系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102053628A?cl=zh">CN102053628A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年10月27日</td><td class="patent-data-table-td patent-date-value">2011年5月11日</td><td class="patent-data-table-td ">北京航空航天大学</td><td class="patent-data-table-td ">基于神经网络的伺服控制系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="https://www.google.com/url?id=8zBxBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DJP%26NR%3D2005102377A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFm9MnO-lehMS5giQEboK2BZgDcyg">JP2005102377A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td "> </td><td class="patent-data-table-td citation-no-title">没有名称</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">于群: "<a href='http://scholar.google.com/scholar?q="%E5%BC%82%E6%AD%A5%E7%94%B5%E6%9C%BA%E7%9F%A2%E9%87%8F%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%82%E6%95%B0%E8%BE%A8%E8%AF%86%E7%A0%94%E7%A9%B6"'>异步电机矢量控制系统的参数辨识研究</a>", 《CNKI优秀硕士学位论文全文库》, 15 April 2011 (2011-04-15), pages 46 - 65</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103501142A?cl=zh">CN103501142A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年10月11日</td><td class="patent-data-table-td patent-date-value">2014年1月8日</td><td class="patent-data-table-td ">昆山市润苏物资有限公司</td><td class="patent-data-table-td ">一种基于pid控制的电动机控制系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=8zBxBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H02P0006200000">H02P6/20</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年6月13日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年7月18日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年7月2日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/8d0e8acdf08d82252ab0/CN102497141A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_5115ea495017d9115e613207d3810e5a.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%A4%A7%E5%8A%9F%E7%8E%87%E4%BA%A4%E6%B5%81%E4%BC%BA%E6%9C%8D%E9%A9%B1%E5%8A%A8%E5%99%A8%E5%A4%A7%E6%89%AD%E7%9F%A9.pdf?id=8zBxBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U1yUuCpx5WtsaOXpndmrcHh9uuuFA"},"sample_url":"https://www.google.com/patents/reader?id=8zBxBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>