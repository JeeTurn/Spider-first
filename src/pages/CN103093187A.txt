<!DOCTYPE html><html><head><title>专利 CN103093187A - 认证系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="认证系统"><meta name="DC.contributor" content="小松佑人" scheme="inventor"><meta name="DC.contributor" content="吉永智明" scheme="inventor"><meta name="DC.contributor" content="染谷哲" scheme="inventor"><meta name="DC.contributor" content="永吉洋登" scheme="inventor"><meta name="DC.contributor" content="松原大辅" scheme="inventor"><meta name="DC.contributor" content="日立信息通讯工程有限公司" scheme="assignee"><meta name="DC.date" content="2012-9-13" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供一种认证系统以及可靠度判定方法。在使用卡进行认证时，高速并且高精度地向管理者发送警报。所述认证系统具备：读取被赋予被验证者持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信息的认证装置，所述认证系统具备：拍摄所述被验证者的面部图像的照相机；以及与发出警报的终端连接并具有存储由所述照相机拍摄到的面部图像的图像数据库的管理装置，其中，所述管理装置使用所述读取装置或所述照相机在所述认证时取得的信息，检索所述图像数据库，基于对检索到的所述面部图像进行分析的结果，判定所述认证的可靠度，在判定为所述可靠度低的情况下，向所述终端发送用于发出警报的数据。"><meta name="DC.date" content="2013-5-8"><meta name="DC.relation" content="CN:101465736:A" scheme="references"><meta name="DC.relation" content="CN:101826151:A" scheme="references"><meta name="DC.relation" content="US:20070241861:A1" scheme="references"><meta name="DC.relation" content="US:20080238670:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:103093187:A"><meta name="citation_patent_application_number" content="CN:201210339487"><link rel="canonical" href="https://www.google.com/patents/CN103093187A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN103093187A?cl=zh"/><meta name="title" content="专利 CN103093187A - 认证系统"/><meta name="description" content="本发明提供一种认证系统以及可靠度判定方法。在使用卡进行认证时，高速并且高精度地向管理者发送警报。所述认证系统具备：读取被赋予被验证者持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信息的认证装置，所述认证系统具备：拍摄所述被验证者的面部图像的照相机；以及与发出警报的终端连接并具有存储由所述照相机拍摄到的面部图像的图像数据库的管理装置，其中，所述管理装置使用所述读取装置或所述照相机在所述认证时取得的信息，检索所述图像数据库，基于对检索到的所述面部图像进行分析的结果，判定所述认证的可靠度，在判定为所述可靠度低的情况下，向所述终端发送用于发出警报的数据。"/><meta property="og:title" content="专利 CN103093187A - 认证系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN103093187A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN103093187A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN103093187A&amp;usg=AFQjCNEQCOjiXrwCyhgli9T4LLAwETWcsA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/8cf2180075334771a84f/CN103093187A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/8cf2180075334771a84f/CN103093187A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN103093187A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN103093187A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN103093187A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN103093187B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN103093187A?cl=zh" style="display:none"><span itemprop="description">本发明提供一种认证系统以及可靠度判定方法。在使用卡进行认证时，高速并且高精度地向管理者发送警报。所述认证系统具备：读取被赋予被验证者持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信...</span><span itemprop="url">https://www.google.com/patents/CN103093187A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN103093187A - 认证系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN103093187A - 认证系统" title="专利 CN103093187A - 认证系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN103093187 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201210339487</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2013年5月8日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年9月13日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年9月14日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN103093187B?hl=zh-CN&amp;cl=zh">CN103093187B</a>, </span><span class="patent-bibdata-value"><a href="/patents/DE102012216191A1?hl=zh-CN&amp;cl=zh">DE102012216191A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/US9189680?hl=zh-CN&amp;cl=zh">US9189680</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20130063581?hl=zh-CN&amp;cl=zh">US20130063581</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201210339487.7, </span><span class="patent-bibdata-value">CN 103093187 A, </span><span class="patent-bibdata-value">CN 103093187A, </span><span class="patent-bibdata-value">CN 201210339487, </span><span class="patent-bibdata-value">CN-A-103093187, </span><span class="patent-bibdata-value">CN103093187 A, </span><span class="patent-bibdata-value">CN103093187A, </span><span class="patent-bibdata-value">CN201210339487, </span><span class="patent-bibdata-value">CN201210339487.7</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%B0%8F%E6%9D%BE%E4%BD%91%E4%BA%BA%22">小松佑人</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%90%89%E6%B0%B8%E6%99%BA%E6%98%8E%22">吉永智明</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9F%93%E8%B0%B7%E5%93%B2%22">染谷哲</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%B0%B8%E5%90%89%E6%B4%8B%E7%99%BB%22">永吉洋登</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%BE%E5%8E%9F%E5%A4%A7%E8%BE%85%22">松原大辅</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%97%A5%E7%AB%8B%E4%BF%A1%E6%81%AF%E9%80%9A%E8%AE%AF%E5%B7%A5%E7%A8%8B%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">日立信息通讯工程有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN103093187A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103093187A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103093187A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201210339487&amp;usg=AFQjCNEOJL8yVu-8fGyGp-Ug1xufiUHxLA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D103093187A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNF7VcZUktv0ioyScBsxaHkb6L_3Tg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT124092908" lang="ZH" load-source="patent-office">认证系统</invention-title>
      </span><br><span class="patent-number">CN 103093187 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA111058113" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供一种认证系统以及可靠度判定方法。在使用卡进行认证时，高速并且高精度地向管理者发送警报。所述认证系统具备：读取被赋予被验证者持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信息的认证装置，所述认证系统具备：拍摄所述被验证者的面部图像的照相机；以及与发出警报的终端连接并具有存储由所述照相机拍摄到的面部图像的图像数据库的管理装置，其中，所述管理装置使用所述读取装置或所述照相机在所述认证时取得的信息，检索所述图像数据库，基于对检索到的所述面部图像进行分析的结果，判定所述认证的可靠度，在判定为所述可靠度低的情况下，向所述终端发送用于发出警报的数据。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(9)</span></span></div><div class="patent-text"><div mxw-id="PCLM52934258" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.一种认证系统，具备读取被赋予被验证者所持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信息的认证装置，所述认证系统的特征在于，具备:  拍摄所述被验证者的面部图像的照相机；以及  与发出警报的终端连接并具有存储由所述照相机拍摄到的面部图像的图像数据库的管理装置，  所述管理装置使用所述读取装置或所述照相机在所述认证时取得的信息，检索所述图像数据库，  根据对检索到的所述面部图像进行分析的结果，判定所述认证的可靠度，  在判定所述可靠度低的情况下，向所述终端发送用于发出警报的数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的认证系统，其特征在于，  在所述管理装置中，  以所述照相机拍摄到所述面部图像为契机，进行第一判定处理，即判定拍摄到的所述面部图像与存储在所述图像数据库中的图像的第一类似度，  以所述读取装置取得信息为契机，使用所述读取装置取得的所述信息检索所述图像数据库，进行第二判定处理，即判定所述照相机拍摄到的所述面部图像与所述检索到的图像的第二类似度，   根据所述第一判定处理的结果以及所述第二判定处理的结果，判定所述可靠度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求2所述的认证系统，其特征在于，  所述第一判定处理在所述照相机拍摄所述面部图像后开始，在所述读取装置取得所述信息后停止，  所述第二判定处理在所述读取装置取得所述信息后开始，针对所述图像数据库中未通过所述第一判定处理进行处理的部分进行处理。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求2所述的认证系统，其特征在于，  所述第二判定处理仅针对通过所述第一判定处理判定为类似的图像进行处理。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求2所述的认证系统，其特征在于，  在通过所述第一判定处理判定为所述第一类似度高的情况下，不执行所述第二判定处理，判定为所述可靠度高。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求1所述的认证系统，其特征在于，  在所述认证装置中，  在对所述照相机拍摄到的所述面部图像赋予每个所述被验证者的识别符后，将所述面部图像存储在所述图像数据库中，  存储在所述图像数据库中的每个所述识别符的所述面部图像的合计容量超过与所述识别符对应地决定的预定的阈值的情况下，从所述图像数据库中删除超过所述预定的阈值的识别符的多个所述面部图像的一部分。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的认证系统，其特征在于，  在所述认证装置中，计算所述图像数据库所存储的面部图像中、拍摄日期时间相对于当前日期时间处于预定范围内的面部图像与处于所述预定范围外的面部图像之间的类似度，作为第三类似度，将处于所述预定范围外的面部图像中所述第三类似度比预定的阈值大的面部图像的一部分删除。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求7所述的认证系统，其特征在于，  所述认证装置将所述第三类似度比所述阈值大的处于所述范围外的面部图像中、拍摄日期时间比预定的第一基准日期时间早的面部图像删除。</div>
    </div>
    </div> <div class="claim"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要 求7所述的认证系统，其特征在于， 所述认证装置不删除而保持所述第三类似度比所述阈值大的处于所述范围外的面部图像中、拍摄日期时间处于比所述第一基准日期时间晚且比当前日期时间早的第二基准日期时间与所述第一基准日期时间之间的面部图像。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES59986099" lang="ZH" load-source="patent-office" class="description">
    <p>认证系统</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及认证系统，尤其涉及检测进出房间时的冒充的系统。</p>
    <p>背景技术</p>
    <p>[0002]	近年，由于针对犯罪率的增加等安全问题的关心提高，向安全区域的进出时的安全管理的必要性提高。因此，希望安全产品的高可靠化。在进出房间管理系统中，主要使用了通过读卡器读取被验证者持有的非接触型或接触型卡的方法。另外，也存在通过被验证者的面部图像来进行认证的进出房间管理系统。</p>
    <p>[0003]	另一方面，为了高可靠地检索图像，提出了使用图像的拍摄时间来检索的面部图像检索系统。例如在专利文献I中公开了以下方式:存储与从登录面部到拍摄面部为止的时间相对应的预测系数，运算用于预测从登录面部的时刻到拍摄面部的时刻为止的时间的特征量，并对面部进行认证。</p>
    <p>[0004]	另外，在专利文献2中，以“提高面部的认证精度”为课题，公开了以下技术:“具备:将作为登录者的面部的部分的图像数据的多个登录者图像数据，针对登录者图像数据内的各个登录者的面部的方向以及面部的大小来存储的面部数据库存储部5 ;从取得的图像数据中检测在图像数据中包含的人的面部的部分的面部检测部I ;从作为检测出的人的面部的部分的图像数据的取得面部图像数据中提取出人的面部的特征点的面部特征点提取部2;推定取得面部图像数据内的人的面部的方向以及面部的大小的面部方向、大小推定部3 ;根据登录者图像数据和取得面部图像数据，对人的面部是否是登录者的面部进行认证的面部认证部4 ;在通过面部认证部4认证人的面部是登录者的面部的情况下，将取得面部图像数据作为登录者图像数据存储在面部数据库存储部5中的认证图像更新部6。”(参照摘要)。</p>
    <p>[0005]	现有技术文献</p>
    <p>[0006]	专利文献</p>
    <p>[0007]	专利文献1:日本特开2007-102517号公报</p>
    <p>[0008]	专利文献2:日本特开2010-238181号公报</p>
    <p>发明内容</p>
    <p>[0009]	但是，在所述专利文献I所公开的方式中，与预先登录的面部图像数据核对，因此不与最近的面部图像核对，存在无法提高核对精度的问题，以及当面部图像数据增加时核对的处理时间增加的问题。</p>
    <p>[0010]	另外，在上述专利文献2中记载的技术中，除了在存储区域中没有空闲的情况，原则上持续存储面部图像。因此，有可能用户的当前的面部图像和数据库中存储的面部图像之间产生偏差，或者数据库中存储的面部图像的倾向不平衡，认证精度降低。当认证精度降低时冒充的危险升高，从安全的观点出发不理想。</p>
    <p>[0011]	本发明的目的在于，在用户使用卡进出房间时，根据检索面部图像数据库的结果，高速并且高精度地向管理者发出警报。</p>
    <p>[0012]	以下说明本申请中公开的发明的一个代表性的例子。即，一种认证系统，具备:读取被赋予被验证者持有的识别单元的识别信息的读取装置、认证通过所述读取装置取得的识别信息的认证装置，所述认证系统中，具备:拍摄所述被验证者的面部图像的照相机；以及与发出警报的终端连接，具有存储由所述照相机拍摄到的面部图像的图像数据库的管理装置，所述管理装置使用所述读取装置或所述照相机在所述认证时取得的信息，检索所述图像数据库，基于对检索到的所述面部图像进行分析的结果，判定所述认证的可靠度，在判定所述可靠度低的情况下，向所述终端发送用于发出警报的数据。</p>
    <p>[0013]	根据本发明的代表性的实施方式，可以高速并且高精度地判定被验证者的冒充。通过以下的实施方式的说明可以明了上述以外的课题、结构以及效果。</p>
    <p>附图说明</p>
    <p>[0014]	图1是表示本发明的第一实施方式的认证系统的结构的框图。</p>
    <p>[0015]	图2是说明本发明的第一实施方式的判定结果显示画面的一例的图。</p>
    <p>[0016]	图3是说明本发明的第一实施方式的判定结果显示画面的一例的图。</p>
    <p>[0017]	图4是说明本发明的第一实施方式的冒充判定结果的警报的发布的一例的图。</p>
    <p>[0018]	图5是说明本发明的第一实施方式的管理服务器中存储的认证结果数据库的图。</p>
    <p>[0019]	图6是说明本发明的第一实施方式的面部图像检索系统中存储的面部图像数据库的图。</p>
    <p>[0020]	图7是表示本发明的第一实施方式的冒充检测处理的全体的流程图。</p>
    <p>[0021]	图8是说明本发明的第一实施方式的第2例中显示警报的画面的一例的图。</p>
    <p>[0022]	图9是本发明的第一实施方式的可靠度判定处理I的第I例的流程图。</p>
    <p>[0023]	图10是本发明的第一实施方式的可靠度判定处理I的第2例的流程图。</p>
    <p>[0024]	图11是本发明的第一实施方式的可靠度判定处理I的第3例的流程图。</p>
    <p>[0025]	图12是本发明的第一实施方式的可靠度判定处理2的第2例的流程图。</p>
    <p>[0026]	图13是本发明的第一实施方式的可靠度判定处理2的第3例的流程图。</p>
    <p>[0027]	图14是本发明的第一实施方式的可靠度判定处理2的第4例的流程图。</p>
    <p>[0028]	图15是表示本发明的第二实施方式的认证系统的结构的框图。</p>
    <p>[0029]	图16是表示本发明的第四实施方式的认证系统的结构的框图。</p>
    <p>[0030]	图17是说明本发明的第四实施方式的面部认证装置实施的冒充检测处理的流程图。</p>
    <p>[0031]	图18是说明在本发明的第四实施方式中删除在面部图像数据库中存储的面部图像的方法的图。</p>
    <p>[0032]	图19是说明在本发明的第四实施方式中删除面部图像数据库所存储的面部图像中的哪个面部图像的图。</p>
    <p>具体实施方式</p>
    <p>[0033]	&lt;实施方式1&gt;</p>
    <p>[0034]	图1是表示本发明的第一实施方式的认证系统的结构的框图。[0035]	第一实施方式的认证系统具备:照相机102、读取装置103、控制器104、管理服务器105以及面部图像检索系统106。在图1中具备多个读取装置103、多个控制器104以及多个管理服务器105，但是也可以各具备一个。</p>
    <p>[0036]	照相机102是拍摄被验证者的面部图像的摄像装置，在其摄像范围中包含操作读取装置103的人的面部位置。读取装置103是读出对被验证者持有的存储介质(例如磁卡、IC卡、无线标签等)赋予并被存储的识别信息(卡ID)的装置，例如是读卡器。</p>
    <p>[0037]	控制器104控制读取装置103，在读取装置103所取得的信息的认证成功的情况下，进行基于认证的处理(例如门的开锁、计算机的锁定的解锁等)。在图1中表示了在I台控制器104上连接多个读取装置103的例子，但是，控制器104和读取装置103也可以一对一连接。</p>
    <p>[0038]	管理服务器105是具有执行程序的处理器、存储通过处理器执行的程序的存储器、控制与其它装置的通信的通信接口、以及存储认证结果数据库300的非易失性存储装置的计算机。认证结果数据库300是图5所示的存储了被验证者的过去的认证结果的数据库。</p>
    <p>[0039]	管理服务器105控制控制器104，对读取装置103取得的信息进行认证，并将认证的成功与否发送给控制器104。图1中表示了在I台管理服务器105上连接多个控制器104的例子，但是，管理服务器105和控制器104也可以一对一连接。</p>
    <p>[0040]	面部图像检索系统106是具有执行程序的处理器、存储通过处理器执行的程序的存储器、控制与其它装置的通信的接口、以及存储面部图像数据库310的非易失性存储装置的计算机。面部图像数据库310是图6所示的存储被验证者的面部图像的数据库。另外，面部图像检索系统106判定照相机102拍摄到的面部图像与所存储的面部图像是否类似，向终端107通知被验证者的冒充的有无。图1中表示在I台面部图像检索系统106上连接多个管理服务器105的例子，但是管理服务器105也可以为I台。</p>
    <p>[0041]	终端107是具有执行程序的处理器、存储通过处理器执行的程序的存储器、控制与其它装置的通信的通信接口以及键盘、显示装置等的输入输出接口的计算机。</p>
    <p>[0042]	在图1中表示了各装置以及计算机一对一连接，但是这些装置以及计算机也可以经由网络连接。</p>
    <p>[0043]	此外，通过各计算机的处理器执行的程序经由非易失性存储介质或网络被提供给各计算机。因此，各计算机具备读入存储介质(CD-ROM、闪速存储器等)的接口即可。</p>
    <p>[0044]	读取装置103取得在被验证者持有的卡中存储的卡ID，并将取得的卡ID发送到控制器104。控制器104将由读取装置103取得的卡ID发送到管理服务器105，管理服务器105将由读取装置103取得的卡ID发送到面部图像检索系统106。</p>
    <p>[0045]	此外，也可以将读取装置103和照相机102构成为一个装置。在这种情况下，照相机102和面部图像检索系统106可以不直接连接，而经由控制器104以及管理服务器105连接。</p>
    <p>[0046]	另外，管理服务器105将读取装置103取得的卡ID与认证数据库中存储的信息进行比较来认证卡ID。管理服务器105在认证成功的情况下向控制器104通知认证成功。控制器104当接收到认证成功的通知时，将设置了读取装置103的门开锁，许可被验证者进出房间。此外，在该认证时也可以要求输入密码，一起使用被验证者输入到读取装置103的密码和卡ID来进行认证。</p>
    <p>[0047]	照相机102与面部图像检索系统106连接，将拍摄到的被验证者的面部图像发送到面部图像检索系统106。</p>
    <p>[0048]	面部图像检索系统106取得照相机102拍摄到的面部图像以及从管理服务器105输出的卡ID，基于面部图像的拍摄时刻以及卡ID的取得时刻将面部图像和卡ID对应起来。而且，面部图像检索系统106计算拍摄到的面部图像和存储的面部图像的类似度，判定两图像是否类似。图像的类似度可以使用公知的图像匹配技术来计算。此外，在本发明的实施方式中使用图像越近似越成为大的值的类似度。</p>
    <p>[0049]	如后所述，该判定可以并用基于读取装置103取得的卡ID的范围缩小，也可以不并用基于卡ID的范围缩小。而且，面部图像检索系统106基于该判定结果判定被验证者的冒充的有无，将冒充的判定结果通知给终端107。</p>
    <p>[0050]	在终端107中执行显示程序(例如Web浏览器)，在显示画面中显示从面部图像检索系统106输出的冒充的判定结果。此外，面部图像检索系统106输出面部图像的类似与否判定的结果，终端107可以基于该类似与否判定结果判定有无冒充。</p>
    <p>[0051]	图2以及图3是说明第一实施方式的为了通知冒充判定结果而在终端107中显示的判定结果显不画面的一例的图，图2表不未检测出冒充的情况下显不的画面200,图3表示检测出冒充的情况下显示的画面230。</p>
    <p>[0052]	在判定结果显示画面200、230中，如图2、图3所示，包含入室者栏202、姓名栏201以及面部检索结果栏203，针对每个被验证者显示这些信息。在入室者栏202中显示与读取装置103从被验证者的卡取得卡ID的时刻对应的面部图像、以及拍摄该面部图像的时刻。在姓名栏201中显示与从被验证者持有的卡读取的卡ID对应的姓名。此外，通过将卡ID作为键来检索在面部图像检索系统106中存储的被验证者数据库(省略图示)可以取得姓名。在面部检索结果栏203中显示在面部图像数据库301中登录的面部图像中与读取装置103取得的卡ID对应的面部图像以及拍摄该面部图像的时刻。</p>
    <p>[0053]	在面部图像检索系统106未检测出冒充的情况下，如图2所示，在判定结果显示画面200的针对每个入室者设置的显示区域210、220中显示入室者的面部图像、姓名以及检索出的面部图像检索结果。</p>
    <p>[0054]	另一方面，在面部图像检索系统106检测出冒充的情况下，如图3所示，判定结果显示画面230的被检测出冒充的入室者的显示区域250，以与未被检测出冒充的入室者的显示区域240不同的形态来显示。例如，检测出该冒充的情况下的显示形态如图3所示，可以用与通常不同的颜色来显示显示区域的背景，或者用与通常不同的框来显示显示区域，或者进一步发出声音的警报。</p>
    <p>[0055]	检测出该冒充的警报可以连续的发布，持续到管理者确认为止，也可以如图4所示那样断续地发布。在断续地发布的情况下，以所述的背景、框闪烁的方式来显示。另外，警报音也断续地发出。</p>
    <p>[0056]	图5是说明第一实施方式的管理服务器105中存储的认证结果数据库300的图。</p>
    <p>[0057]	认证结果数据库300存储与过去尝试的认证相关的信息，包含时刻301、读卡器ID302、卡ID303、判定结果304以及类似度305。</p>
    <p>[0058]	时刻301是取得成为该认证的源的卡ID的时刻。此外，可以是管理服务器105判定该认证的时刻。读卡器ID302是用于唯一地识别取得成为该认证的源的卡ID的读取装置103的识别信息。卡ID303是存储了成为该认证的源的卡ID的存储介质的识别信息，用于唯一地确定持有该存储介质的被验证者。</p>
    <p>[0059]	在判定结果304中存储表示该认证是成功还是失败的标志。类似度305是该认证时拍摄到的面部图像和伴随该认证而检索出的面部图像的类似度。</p>
    <p>[0060]	管理服务器105每当尝试被验证者的认证时，在认证结果数据库300中追加数据。而且，管理服务器105将追加到认证结果数据库300中的数据发送到面部图像检索系统106。面部图像检索系统106将接收到的数据追加到面部图像数据库310中。</p>
    <p>[0061]	图6是说明第一实施方式的面部图像检索系统106中存储的面部图像数据库310的图。</p>
    <p>[0062]	面部图像数据库310存储被验证者的面部图像以及与该图像相关的信息(例如进出房间履历)，包含时刻311、读卡器ID312、卡ID313、服务器ID314、判定结果315、类似度316以及面部图像317。</p>
    <p>[0063]	在时刻311、读卡器ID312、卡ID313、判定结果315以及类似度316中分别存储与在认证结果数据库300中包含的时刻301、读卡器ID302、卡ID303、判定结果304以及类似度305相同的信息。即，面部图像检索系统106使从各管理服务器105发送的上述数据与认证时拍摄的图像链接，登录在面部图像数据库310中。</p>
    <p>[0064]	服务器ID314是用于唯一地识别将上述数据发送到面部图像检索系统106的(SP处理了该认证的)管理服务器105的识别信息。面部图像317是在该认证时拍摄到的被验证者的面部图像的数据。此外，面部图像317中可以不存储面部图像的二进制数据，而存储对图像文件的链接。</p>
    <p>[0065]	此外，在面部图像数据库310中，除了照相机102拍摄到的面部图像以外，还可以登录预先登录的被验证者的面部图像。另外，可以从面部图像数据库310中删除从拍摄(卡ID的取得时刻)起经过预定期间的数据。</p>
    <p>[0066]	图7是表示第一实施方式的冒充检测处理的全体的流程图。通过由面部图像检索系统106的处理器执行在存储器中存储的程序，执行图7所示的冒充检测处理。</p>
    <p>[0067]	在第一实施方式中，在被验证者进入照相机102的摄像范围的时刻，照相机102拍摄被验证者的面部图像。即，照相机102始终拍摄运动图像，若帧中存在变化则捕捉该帧来取得静止图像。照相机102当拍摄进入到摄像范围的被验证者的面部时，将拍摄到的面部图像发送到面部图像检索系统106。面部图像检索系统106通过接收由照相机102拍摄到的面部图像，开始冒充检测处理(S101)。</p>
    <p>[0068]	然后，面部图像检索系统106判定认证的可靠度(S102)。在后面使用图9至图11说明该可靠度判定处理I的具体内容。当判定为认证的可靠度低的情况下，在从读取装置103取得卡ID之前的期间，使用由照相机102取得的其它面部图像重复判定认证的可靠度的处理(S102)。另一方面，当读取装置103读取由被验证者保持的卡时，读取装置103读取在该卡中存储的卡ID，将读取到的卡ID经由管理服务器105发送到面部图像检索系统106(S105)。</p>
    <p>[0069]	当取得由读取装置103读取的卡ID时(S103)，面部图像检索系统106停止可靠度判定处理1，输出可靠度的判定结果(S104)。[0070]	另外，面部图像检索系统106在停止可靠度判定处理I后，使用读取装置103读取的卡ID进一步判定认证的可靠度(S106)。在后面使用图12至图14说明该可靠度判定处理2的具体内容。</p>
    <p>[0071]	在可靠度判定处理2中，使用读取装置103读取的卡ID以及照相机102取得的面部图像来判定认证的可靠度并输出可靠度(S107)。</p>
    <p>[0072]	然后，使用可靠度判定处理I以及2的判定结果来判定冒充(S108)。在判定的结果为判定认证的可靠度高的情况下，该被验证者冒充他人的可能性低，因此，向终端107输出“没有”检测出冒充的显示画面(图2) (Siog)0另一方面，在判定认证的可靠度低的情况下，该被验证者冒充他人的可能性高，因此，将“有”检测出冒充的显示画面(图3)输出到终端 107 (SllO)0</p>
    <p>[0073]	图8表示该步骤SllO中的警报的发布的例子。判定结果显示画面260中包含入室者栏202、姓名栏201以及面部检索结果栏203，针对每个被验证者显示这些信息。在判定结果显示画面260中，认证的可靠度低的入室者的显示区域270，以与认证的可靠度高的入室者的显示区域280不同的形态来显示。该认证的可靠度低的情况下的显示形态，用与通常不同的颜色显示显示区域的背景，或者用与通常不同的框显示显示区域。而且，可以发出声音的警报，可以连续或断续的发布警报。</p>
    <p>[0074]	此后，等待结束命令来结束处理，但是若没有结束命令则返回步骤S101，从照相机102取得被验证者的面部图像。</p>
    <p>[0075]	接着，关于可靠度判定处理I (S102)的细节，说明三个例子。</p>
    <p>[0076]	图9是可靠度判定处理I (S102)的第I例的流程图。在第I例中，通过面部图像的类似度判定认证的可靠性。</p>
    <p>[0077]	首先，面部图像检索系统106以在步骤SlOl中取得的一张以上的被验证者的面部图像作为键来检索面部图像数据库310，提取出预定的类似度以上的面部图像(S112)。</p>
    <p>[0078]	然后，计算从面部图像数据库310中提取出的面部图像与步骤SlOl中取得的面部图像的类似度的平均值(S113)。</p>
    <p>[0079]	然后，通过将计算出的类似度的平均值与预定的阈值进行比较，判定可靠度(SlH)0具体来说，当类似度的平均值比预定的阈值高时，判定为认证的可靠度高(S115)。另一方面，当类似度的平均值比预定的阈值低时，判定为认证的可靠度低(S116)。在该判定中使用的阈值的数量可以是一个，也可以是多个。在使用多个阈值的情况下，可以将可靠度划分为高、中、低的多个级别，在S108至SllO中可以发布“平常”、“注意”、“警戒”等多个级另Ij的警报。</p>
    <p>[0080]	此外，也可以使用计算出的类似度的合计值来判定可靠度。该合计值可以是命中图像的类似度的合计值，也可以是按照类似度从高到低的顺序的预定数量的命中图像的类似度的合计值。另外，也可以使用计算出的类似度的最小值或最大值来判定可靠度。通过使用全部命中图像的类似度的合计值判定可靠度，可以考虑到过去的认证实绩地判定认证的可靠度。</p>
    <p>[0081]	图10是可靠度判定处理I (S102)的第2例的流程图。在第2例中，通过该照相机进行的过去的认证实绩来判定认证的可靠度。</p>
    <p>[0082]	首先，比较在步骤SlOl中取得的一张以上的被验证者的面部图像、与面部图像数据库310中存储的面部图像，计算在面部图像数据库310中存储的面部图像的类似度(S129)。</p>
    <p>[0083]	然后，通过将计算出的类似度与预定的阈值进行比较，选择类似度高的面部图像(S123)。</p>
    <p>[0084]	此后，针对拍摄该面部图像的每个照相机，将选择的面部图像分类(S124)。此外，也可以不针对每个照相机来将面部图像分类，而选择通过与拍摄在步骤SlOl中取得的面部图像的照相机相同的照相机拍摄到的图像，由此对通过该照相机拍摄的面部图像和通过其它照相机拍摄的面部图像进行分类。</p>
    <p>[0085]	此后，计算分类后的图像的可靠度(S125)，通过将计算出的可靠度与预定的阈值进行比较，判定认证的可靠度(S126)。该可靠度的判定，例如通过计算分类后的图像的认证成功时的类似度的和，并将计算出的类似度与预定的阈值进行比较来判定认证的可靠度。</p>
    <p>[0086]	另外，可以对分类后的图像的数量进行计数，将计数所得的图像数与预定的阈值进行比较，当图像数大时判定为认证的可靠度高。也可以对分类后的图像中的认证成功的图像的数量进行计数，并将计数所得的图像数与预定的阈值进行比较，当图像数大时判定为认证的可靠度高。</p>
    <p>[0087]	另外，可以求出将拍摄到被分类的图像时计算出的类似度与此次认证时计算出的类似度相乘所得的值的合计，将该合计值与预定的阈值进行比较，当合计值大时判定为认证的可靠度高。</p>
    <p>[0088]	而且，可以不将类似度或图像数与预定的阈值比较，而针对拍摄到图像的每个照相机比较这些值(类似度、图像数)，在该照相机在全部照相机中所占的比例大时判定为认证的可靠度高。另外，可以针对拍摄到图像的每个照相机比较这些值(类似度、图像数)，当成为第I位的该照相机所占的比例、和成为第2位的照相机所占的比例的比大时，判定为认证的可靠度高。 </p>
    <p>[0089]	然后，若可靠度比预定的阈值大，则判断为可靠度高(S127)，若可靠度比预定的阈值小，则判断为可靠度低(S128)。</p>
    <p>[0090]	如上所述，在第2例中，根据从面部图像数据库310取得的面部图像的数量判定认证的可靠度，由此可以发布考虑了过去的认证实绩的警报。另外，由于不计算面部图像的类似度，因此可以通过较少的计算量判定认证的可靠度。</p>
    <p>[0091]	图11是可靠度判定处理I (S102)的第3例的流程图。</p>
    <p>[0092]	首先，面部图像检索系统106以步骤SlOl中取得的一张以上的被验证者的面部图像作为键，检索面部图像数据库310，计算在步骤SlOl中取得的面部图像与面部图像数据库310中存储的面部图像的类似度，提取出预定的类似度以上的面部图像(S137)。</p>
    <p>[0093]	此后，根据从面部图像数据库310中提取出的面部图像的摄像日期时间，对计算出的类似度进行加权(S133)。具体来说，比较从面部图像数据库310取得的面部图像的摄像日期时间与当前日期时间，以预定的基准来划分从当前日期时间减去摄像日期时间所得的值(经过时间)，决定各面部图像的权重，将决定的系数与计算出的类似度相乘。例如可以如下决定系数。</p>
    <p>[0094]	从当前日期时间起30日以内1.5</p>
    <p>[0095]	30 日至 60 日	1.0[0096]	60 日以上	0.5</p>
    <p>[0097]	另外，也可以如上所述不使用表而通过预定的计算式决定权重(系数)。例如，可以通过使用了经过时间的对数值的公式来计算权重，使得最近的图像的权重和旧的图像的权重的差增大。</p>
    <p>[0098]	此后，比较被加权后的类似度的平均值与预定的阈值(S134)。若其结果为类似度的平均值比预定的阈值小，则判定为认证的可靠度高(S135)。另一方面，若可靠度的平均值比预定的阈值大，则判定为认证的可靠度低(S136)。</p>
    <p>[0099]	在第3例中，也与所述的第I例同样，可以不使用类似度的平均值，而使用各种统计值来判定可靠度。</p>
    <p>[0100]	至此，说明了对所述的第I例应用了加权的处理，但是，也可以对所述的第2例应用第3例的加权。在这种情况下，加权的系数的合计值成为图像数，可以在认证的可靠度的判定中使用加权的系数的合计值。</p>
    <p>[0101]	如上所述，在第3例中，新的图像对可靠度的贡献高，旧的图像对可靠度的贡献低，因此可以使可靠度的判定精度提高。</p>
    <p>[0102]	如上所述，根据第一实施方式，基于用户的面部图像以及卡信息来检测冒充，由此可以高精度地发布被验证者的冒充。另外，可以不仅使用预先登录的面部图像，还使用认证时拍摄到的面部图像来判定冒充。</p>
    <p>[0103]	然后，关于可靠度判定处理2 (S106)的细节，说明四个例子。</p>
    <p>[0104]	在第I例中，不使用 取得的卡ID而通过面部图像的类似度判定认证的可靠性。</p>
    <p>[0105]	可靠度判定处理2 (S106)的第I例与所述的可靠度判定处理I的第I例相同，因此省略详细的说明。</p>
    <p>[0106]	图12是可靠度判定处理2 (S106)的第2例的流程图。在第2例中，通过该照相机的过去的认证实绩来判定认证的可靠度。</p>
    <p>[0107]	首先，面部图像检索系统106将步骤SlOl中取得的卡ID作为键，检索面部图像数据库310，取得与该卡ID关联的面部图像(S121)。</p>
    <p>[0108]	然后，计算从面部图像数据库310提取出的面部图像与步骤SlOl中取得的面部图像的类似度(S122)。</p>
    <p>[0109]	然后，执行步骤S123&#12316;S128的处理。该步骤S123&#12316;S128的处理与前面所述的可靠度判定处理I的第2例的处理相同。</p>
    <p>[0110]	图13是可靠度判定处理2 (S106)的第3例的流程图。第3例是对所述第I以及第2例附加的变形例，按照拍摄从面部图像数据库310取得的面部图像的日期时间对每个图像进行加权。</p>
    <p>[0111]	首先，面部图像检索系统106将步骤S103中取得的卡ID作为键，检索面部图像数据库310，取得与该卡ID关联的面部图像(S131)。</p>
    <p>[0112]	然后，计算从面部图像数据库310提取出的面部图像与步骤SlOl中取得的(即在该认证中拍摄的)面部图像的类似度(S132)。</p>
    <p>[0113]	然后，执行步骤S133&#12316;S136的处理。该步骤S133&#12316;S136的处理与所述可靠度判定处理I的第3例的处理相同。</p>
    <p>[0114]	图14是可靠度判定处理2 (S106)的第4例的流程图。在第4例中，根据面部图像的命中数来判定认证的可靠性。</p>
    <p>[0115]	首先，面部图像检索系统106以在步骤S103中取得的卡ID作为键，检索面部图像数据库310，提取出与该卡ID关联的面部图像(S141)。</p>
    <p>[0116]	然后，对从面部图像数据库310中提取的面部图像的数量进行计数(S142)，将计数而得的面部图像数与预定的阈值进行比较(S143)。其结果，若面部图像数大，则判定为认证的可靠度高(S144)。另一方面，若面部图像数小，则判定为认证的可靠度低(S145)。在该判定中使用的阈值的数量可以是一个也可以是多个。在使用多个阈值的情况下，可以将可靠度划分为高、中、低的多个级别，可以发布“平常”、“注意”、“警戒”等多个级别的警告。</p>
    <p>[0117]	这样，在提取出的面部图像的数量多的情况下，由于该被验证者频繁地尝试认证，因此该认证适当的可能性高，可以判定可靠度高。另一方面，在提取出的面部图像的数量少的情况下，由于该被验证者只是偶尔尝试认证，因此该认证有可能不适当，可以判定为认证的可靠度低。</p>
    <p>[0118]	此外，也可以不使用提取出的全部图像的数量，而使用提取出的图像中认证成功的情况下的图像数。通过仅使用认证成功时拍摄的面部图像(将认证失败时拍摄的面部图像除外)，可以使可靠度的判定精度提高。</p>
    <p>[0119]	另外，也可以基于使用特定的管理服务器105或特定的读取装置103的认证的结果(认证尝试次数、认证成功次数)来判定可靠度。通过使用特定的场所中的认证次数，可以检测出与通常不同的行动，可以使可靠度的判定精度提高。</p>
    <p>[0120]	而且，可以将过去的认证结果中的认证失败次数与预定的阈值比较，在认证失败次数多的情况下发布警报。</p>
    <p>[0121]	在可靠度判定处理2中可以并用所述第I至第4例。即，在某个判定中判定为可靠度低时可以判定“有”冒充。另外，也可以仅在多个判定中判定为可靠度低时判定“有”冒充。</p>
    <p>[0122]	接着，说明可靠度判定处理I与可靠度判定处理2的关系。</p>
    <p>[0123]	(I)在第一模式中，可靠度判定处理I与可靠度判定处理2为相同处理，在可靠度判定处理2中，针对面部图像数据库310中可靠度判定处理I的处理未完成的部分，使用卡ID缩小范围后，计算图像间的类似度。</p>
    <p>[0124]	例如，在可靠度判定处理I (S102)以及可靠度判定处理2 (S106)的双方为第2例的情况下，在被验证者进入照相机102的摄像范围的时刻，照相机102拍摄被验证者的面部图像(S101)，比较所取得的被验证者的面部图像与面部图像数据库310中存储的面部图像，计算面部图像数据库310中存储的面部图像的类似度(S129)，针对每个照相机对所选择的面部图像进行分类(S124)，计算分类后的图像的可靠度(S125)。在可靠度判定处理I的执行过程中，当读取装置103读取卡ID时(S105)，可靠度判定处理I结束(S104)，可靠度判定处理2开始(S106)。在可靠度判定处理2中，针对面部图像数据库310中包含的面部图像中的、在可靠度判定处理I中未完成处理的部分的图像执行处理。</p>
    <p>[0125]	然后，基于通过可靠度判定处理I输出的中间的可靠度(S104)以及通过可靠度判定处理2输出的可靠度(S107)来判定冒充(S108)。</p>
    <p>[0126]	根据第一模式，从读取装置103读取卡ID前起，使用所取得的被验证者的面部图像开始与面部图像数据库310进行核对或检索，因此，可以缩短读取装置103取得卡ID后直到得到冒充的判定结果为止的时间。</p>
    <p>[0127]	此外，在读取装置103读取卡ID之前，针对面部图像数据库310中存储的全部面部图像完成了可靠度判定处理I的情况下，也可以不执行可靠度判定处理2。另外，也可以执行可靠度判定处理2，基于通过可靠度判定处理I判定的可靠度以及通过可靠度判定处理2判定的可靠度来判定冒充，使判定的可靠度的准确度提高。</p>
    <p>[0128]	(2)在第二模式中，可靠度判定处理I (S102)与可靠度判定处理2 (S106)是不同的处理，可靠度判定处理2比可靠度判定处理I更严格地进行判定。</p>
    <p>[0129]	例如，在对相同图像的集合进行了处理的情况下，在可靠度判定处理I中判定为类似的图像的数量变得比在可靠度判定处理2中判定为类似的图像的数量多，或者可靠度判定处理I的类似度的判定阈值变得比可靠度判定处理2的类似度的判定阈值低，或者可靠度判定处理I的类似度变得比可靠度判定处理2的类似度高。</p>
    <p>[0130]	更具体来说，在可靠度判定处理I (S102)以及可靠度判定处理2 (S106)的双方为第3例，但是判定阈值不同的情况下，在步骤S132中对于从面部图像数据库310提取面部图像时的阈值，在可靠度判定处理I中宽松地设定，在可靠度判定处理2中严格地设定。并且，针对通过可靠度判定处理I从数据库310取得出的面部图像，通过可靠度判定处理2来进行处理。即，针对通过可靠度判定处理I从面部图像数据库310提取出的面部图像，在可靠度判定处理2的步骤S131中以卡ID作为键来检索。</p>
    <p>[0131]	(3)在第三模式中，可靠度判定处理I (S102)和可靠度判定处理2 (S106)为不同的处理，可靠度判定处理I比可靠度判定处理2高速地进行处理，可靠度判定处理2比可靠度判定处理I更高精度地进行处理。</p>
    <p>[0132]	例如，在面部图像数据库310中包含像素数少的粗糙面部图像和像素数多的详细面部图像的情况下，在可靠度判定处理I (S102)中使用粗糙面部图像高速并且低精度地判定图像是否类似，在可靠度判定处理2 (S106)中，针对通过可靠度判定处理I缩小范围后的图像，使用详细面部图像高精度并且低速地判定图像是否类似。</p>
    <p>[0133]	根据第二以及第三模式，使用取得的被验证者的面部图像，从读取装置103取得卡ID前起进行与面部图像数据库310的概略的核对或检索，在读取装置103取得卡ID后，与进行了概略的核对或检索的面部图像进行详细的核对或检索，因此可以缩短读取装置103取得卡ID后直到获得冒充的判定结果为止的时间。</p>
    <p>[0134]	(4)在第四模式中，在所述第一至第三模式中控制可靠度判定处理2 (S106)的执行。</p>
    <p>[0135]	例如在读取装置103取得卡ID之前针对面部图像数据库310中存储的全部面部图像完成了可靠度判定处理I的情况下，使用通过可靠度判定处理I判定出的可靠度，不执行可靠度判定处理2。</p>
    <p>[0136]	另外，在读取装置103读取卡ID之前针对面部图像数据库310中存储的一部分面部图像未完成可靠度判定处理1，然而通过可靠度判定处理I判定可靠度高的情况下，不执行可靠度判定处理2。即，在通过可靠度判定处理I未判定可靠度高的情况下，执行可靠度判定处理2。</p>
    <p>[0137]	根据第四模式，使用取得的被验证者的面部图像，从读取装置103读取卡ID之前起进行与面部图像数据库310的概略的核对或检索，在读取装置103读取到卡ID时判定为认证的可靠度高的情况下，不进行读取装置103取得卡ID后的核对或检索，因此可以缩短从读取装置103取得卡ID起到获得冒充的判定结果为止的时间。</p>
    <p>[0138]	如以上说明的那样，根据本发明的第一实施方式，从读取装置103读取卡ID前起使用取得的被验证者的面部图像开始与面部图像数据库310的核对或检索，因此可以缩短从读取装置103取得卡ID起到获得冒充的判定结果为止的时间。</p>
    <p>[0139]〈实施方式2&gt;</p>
    <p>[0140]	在所述第一实施方式中，若照相机102的摄像范围内的状态、即照相机102连续拍摄的运动图像的帧中有变化，则捕获该帧来拍摄静止图像，将拍摄到的图像中包含的被验证者的面部图像存储在面部图像数据库310中。但是，在面部图像数据库310中保存从各个方向看到的各种大小的面部图像，因此在所存储的面部图像中即使是同一人也是类似度高的图像和类似度低的图像共存。这样，由于与正对照相机的情况下的面部图像的类似度高的面部图像和类似度低的面部图像共存，因此，可靠度的判定精度降低。</p>
    <p>[0141]	因此，在本发明的第二实施方式中，在被验证者进入照相机102的摄像范围，能拍摄适当的面部图像的时刻，照相机102拍摄被验证者的面部图像。即，在读取装置103中设置人感传感器108，在通过人感传感器108检测出被验证者站立在读取装置103的前方(SP，被验证者进入照相机102的摄像范围并正对照相机)时，照相机102拍摄被验证者的面部图像。对人感传感器108例如可以使用红外线传感器、超声波传感器。</p>
    <p>[0142]	也可以将人感传感器108设置在照相机102中而不设置在读取装置103中，当人感传感器108检测出被验证者进入照相机102的摄像范围时，由照相机102拍摄被验证者的面部图像。</p>
    <p>[0143]	照相机102当拍摄进入摄像范围的被验证者的面部时，将拍摄到的面部图像发送到面部图像检索系统106。面部图像检索系统106通过接收由照相机102拍摄的面部图像，开始冒充检测处理(SlOI)。以后的处理与所述第一实施方式相同。</p>
    <p>[0144]	此外，第二实施方式不仅可以应用于所述第一实施方式，也可以应用于后述的第</p>
    <p>三实施方式。</p>
    <p>[0145]	如以上说明的那样，在第二实施方式中，在被验证者的面部进入照相机102的摄像范围的时刻拍摄面部图像，因此可以抑制不适合于核对的面部图像的存储，即使长期使用该系统也可以抑制面部图像数据库310的容量的增加。因此，即使在存储装置(磁盘等)的存储容量小的情况下，也可以将面部图像数据库310存储在存储装置中。另外，不需要执行用于删除面部图像数据的批处理。</p>
    <p>[0146]〈实施方式3&gt;</p>
    <p>[0147]	在所述第一实施方式中，例如当读取装置103读取被验证者持有的卡时，读取装置103读取在该卡中存储的卡ID并经由管理服务器105将读取到的卡ID发送到面部图像检索系统106 (S103)。读取装置103读出卡ID (即被验证者持有的)的存储介质不限于第一实施方式中举例表示的磁卡、IC卡、无线标签，可以利用被赋予车辆锁、门锁等并被存储在其中的识别信息。另外，不仅可以利用存储介质中存储的卡ID，也可以使用指纹、指静脉图案、掌静脉图案、虹膜等被验证者固有的生物体信息。</p>
    <p>[0148]〈实施方式4:系统结构〉</p>
    <p>[0149]	图16是表示本发明的第四实施方式的认证系统1100的结构的框图。认证系统1100是通过面部认证来认证通过出入口的用户的系统。认证系统1100原则上使用用户持有的存储介质来实施认证，但是为了排除非法获得其他用户的存储介质，想要非法通过出入口的冒充用户，与存储介质并行地使用面部认证。在面部认证失败的情况下，在终端1107上发出该情况的警报。</p>
    <p>[0150]	认证系统1100具备:照相机1102、读取装置1103、控制器1104、管理服务器1105、面部认证装置1106。</p>
    <p>[0151]	照相机1102是拍摄通过出入口的用户的面部图像的摄像装置，与读取装置103联动。当用户使用读取装置1103时或者在其前后的例如数秒间左右，照相机1102拍摄用户的面部并将其图像发送到面部认证装置1106。</p>
    <p>[0152]	读取装置1103是读出在用户持有的存储介质(例如磁卡、IC卡、无线标签等)内存储的识别信息(卡ID)的装置，例如可以使用读卡器来构成。</p>
    <p>[0153]	控制器1104控制读取装置1103，将读取装置1103取得的识别信息发送到管理服务器1105。管理服务器1105使用该识别信息来认证用户，将其结果通知给控制器1104。控制器1104执行与认证结果对应的处理(例如门的开锁、计算机的锁定的解锁等)。图16表示了在I台控制器1104上连接多个读取装置1103的例子，但是，控制器1104和读取装置1103可以一对一连接。</p>
    <p>[0154]	管理服务器1105是具备执行程序的处理器、存储通过处理器执行的程序的存储器、控制与其他装置之间的通信的通信接口、以及认证结果数据库300的计算机。</p>
    <p>[0155]	管理服务器1105控制控制器1104，使用读取装置1103取得的识别信息来认证用户，将认证成功与否发送到控制器1104。图16表示了在I台管理服务器1105上连接多个控制器1104的例子，但是，管理服务器1105和控制器1104也可以一对一连接。</p>
    <p>[0156]	面部认证装置1106是具备执行程序的处理器、存储通过处理器执行的程序的存储器、控制与其他装置之间的通信的通信接口、以及面部图像数据库310的计算机。面部认证装置1106判定照相机1102拍摄的面部图像与面部图像数据库310所存储的面部图像之间是否类似，基于其结果判定有无冒充并通知给终端1107。图16中表示了在I台面部认证装置1106上连接多个管理服务器1105的例子，但是，管理服务器115也可以是I台。</p>
    <p>[0157]	终端1107是具备执行程序的处理器、存储由处理器执行的程序的存储器、控制与其它装置之间的通信的通信接口、键盘、显示装置等的输入输出接口的计算机。</p>
    <p>[0158]	此外，可以将读取装置1103和照相机1102构成为一体。在这种情况下，也可以不将照相机1102与面部认证装置1106直接连接，而经由控制器1104以及管理服务器1105连接。</p>
    <p>[0159]〈实施方式4:概略动作〉</p>
    <p>[0160]	读取装置1103取得在用户持有的卡中存储的识别信息(卡ID)，并将取得的卡ID发送到控制器1104。控制器1104将读取装置1103取得的卡ID发送到管理服务器1105。管理服务器1105将读取装置1103取得的卡ID发送到面部认证装置1106。</p>
    <p>[0161]	管理服务器1105将读取装置1103取得的卡ID与认证数据库中存储的识别信息进行比较，对卡ID进行认证。管理服务器1105在认证成功的情况下向控制器1104通知认证成功。控制器1104当接受认证成功的通知时，将设置了读取装置1103的门开锁，许可用户的进出房间。在该认证时可以要求密码的输入，一起使用用户输入读取装置1103的密码和卡ID来实施认证。</p>
    <p>[0162]	另一方面，照相机1102与管理服务器1105使用卡ID认证用户并行地拍摄用户的面部图像，将拍摄到的用户的面部图像发送到面部认证装置1106。</p>
    <p>[0163]	面部认证装置1106取得由照相机1102拍摄到的面部图像以及管理服务器1105发送的卡ID，基于面部图像的拍摄时刻以及卡ID的取得时刻，将照相机1102拍摄的面部图像与卡ID对应起来。面部认证装置1106计算照相机1102拍摄到的面部图像与面部图像数据库310内的面部图像之间的类似度，判定两图像是否类似。图像的类似度可以使用公知的图像匹配技术来计算。例如，图像的特征量矢量间的距离越小，可以判定两图像越相似。在实施图像的类似与否判定时，可以使用读取装置1103取得的卡ID来缩小作为类似与否判定的对象的图像的范围。</p>
    <p>[0164]	面部认证装置1106基于照相机1102拍摄的面部图像与面部图像数据库310存储的面部图像之间的类似与否判定的结果，判定用户是否冒充了其它用户，将其判定结果通知给终端1107。</p>
    <p>[0165]	终端1107执行显示程序(例如Web浏览器)，在显示画面中显示从面部认证装置1106输出的冒充的判定结果。此外，面部认证装置1106输出面部图像的类似与否判定的结果，终端1107基于该类似与否判定结果可以判定有无冒充。</p>
    <p>[0166]	&lt;实施方式4:数据库结构&gt;</p>
    <p>[0167]	在实施方式4中，管理服务器1105具备的认证结果数据库、面部认证装置1106具备的面部图像数据库分别与实施方式I中使用图5、图6说明的认证结果数据库300、面部图像数据库310相同，因此在此省略详细的说明。</p>
    <p>[0168]	此外，在认证结果数据库300中，在时刻301中，除了取得作为认证对象的卡ID的时刻(或者管理服务器1105实施认证的时刻)以外，还可以一起保存年月日。另外，在类似度305中，在面部图像数据库310存储了多个面部图像的情况下，保存与各面部图像之间的类似度的平均值等即可。</p>
    <p>[0169]	而且，在面部图像数据库310中可以保存每个被验证者的进出房间履历等。</p>
    <p>[0170]〈实施方式4:详细动作〉</p>
    <p>[0171]	图17是说明面部认证装置1106实施的冒充检测处理的流程图。通过由认证装置1106的处理器执行存储器中存储的程序来执行图17所示的冒充检测处理。在面部图像数据库310内存储了某种程度的件数的面部图像以后实施本流程。以下说明图17的各步骤。</p>
    <p>[0172](图	17:步骤 S1101)</p>
    <p>[0173]	当读取装置1103取得用户持有的卡时，读取装置1103读取在该卡中存储的卡ID，经由管理服务器1105将读取的卡ID发送到面部认证装置1106。面部认证装置1106当接收读取装置1103读取的卡ID时开始冒充检测处理。</p>
    <p>[0174](图	17:步骤 S1102)</p>
    <p>[0175]	面部认证装置1106确定读取了卡ID的读取装置1103，确定与该读取装置1103对应的照相机1102，向所确定的照相机1102发送摄像指示。照相机1102当从面部认证装置1106接收摄像指示时，拍摄使读取装置1103读取了卡的用户的面部，将拍摄到的面部图像发送到面部认证装置1106。通过以上的处理，面部认证装置1106取得由照相机1102拍摄的面部图像。[0176]	面部认证装置1106预先保存定义了两者的对应的数据库，通过以读取装置1103的识别信息(或者网络地址)作为键检索该数据库，可以取得照相机1102的识别信息(或者网络地址)。</p>
    <p>[0177]	读取装置1103也可以考虑照相机1102的拍摄所需的时间，使向用户通知读取完成的时刻延迟，由此，在拍摄完成之前使用户在读取装置1103前站住。</p>
    <p>[0178]	面部认证装置1106可以在本步骤的时刻将从照相机1102取得的面部图像存储在面部图像数据库310中，也可以根据步骤S1103的判定结果判断是否存储。例如也可以仅将判定为认证的可靠度高的面部图像存储在面部图像数据库310中。</p>
    <p>[0179](图	17:步骤 S1103)</p>
    <p>[0180]	面部认证装置1106以照相机1102拍摄的图像作为查询(query)，检索面部图像数据库310。面部认证装置1106使用作为检索结果而得到的面部图像，判定面部认证的可靠度。判定的结果，若可靠度在预定阈值以上则前进到步骤S1104，否则前进到步骤S1105。</p>
    <p>[0181](图17:步骤SI 103:可靠度判定的例子)</p>
    <p>[0182]	在照相机1102拍摄的面部图像与面部图像数据库310存储的面部图像中与之类似的面部图像之间的类似度高的情况下，该用户与面部图像数据库310存储的面部图像为同一人物的可能性高。在这种情况下可以判定该面部认证的可靠度高。因此，面部认证装置1106可以将上述类似度或者由此派生出的数值用作面部认证的可靠度。</p>
    <p>[0183]	本步骤中，当检索面部图像数据库310内的类似图像时，未必需要将全部面部图像作为检索对象。例如可以将卡ID作为键来缩小检索对象的范围。</p>
    <p>[0184](图	17:步骤 S1104 &#12316;S1105)</p>
    <p>[0185]	在步骤S1103中判定认证的可靠度高时，该用户冒充他人的可能性低，因此，面部认证装置1106指示终端1107显示“没有”检测出冒充(S1104)。在步骤S1103中判定认证的可靠度低时，该用户冒充他人的可能性高，因此，面部认证装置1106指示终端1107显示“有”检测出冒充(S1105)。此后，等待结束命令然后结束处理，但是，若没有结束命令则返回步骤SI 101，等待下一卡ID的接收。</p>
    <p>[0186]	图18是说明删除面部图像数据库310中存储的面部图像的方法的图。面部图像数据310原则上每当照相机1102拍摄用户的面部图像时存储该面部图像，因此面部图像数据库310的空闲容量逐渐减少。另外，还有可能存储未必适合用于面部认证的面部图像。因此，面部认证装置1106通过以下那样的方法删除面部图像数据库310内的面部图像。实施删除的时刻，例如适当设定为例如处理负荷低时等不对系统动作造成影响的时刻即可。</p>
    <p>[0187]	(I)针对每个卡ID设定阈值</p>
    <p>[0188]	可以认为存储面部图像的适当的量针对每个用户而不同。因此，面部认证装置1106针对每个用户持有的卡ID而预先决定阈值，在与各卡ID对应的面部图像的存储容量超过该卡ID的阈值的时刻，删除与该卡ID对应的面部图像的至少一部分。卡ID与面部图像之间的对应关系可以从面部图像数据库310的各字段获得。作为针对每个卡ID决定阈值的基准，考虑以下这样的例子。</p>
    <p>[0189]	(1.1)与进出房间的频度对应地设定阈值</p>
    <p>[0190]	对于通过出入口的频度多的用户，认为面部图像数据库310中存储的面部图像的量也增多，因此希望该用户的阈值设定得比其他用户大。另一方面，例如关于定期访问的来客那样通过出入口的频度少的用户，认为将阈值设定得小也没影响。因此，例如考虑根据认证结果数据库300中存储的每个卡ID的记录件数来设定上述阈值。这是因为该记录件数表示用户通过出入口的次数。或者也可以根据面部图像数据库310中存储的每个卡ID的预定期间内的记录件数来设定。</p>
    <p>[0191]	(1.2)针对每个用户分类来设定阈值</p>
    <p>[0192]	认为通过出入口的频度取决于用户的属性。例如，认为公司内用户和公司外用户(例如来客)通过出入口的频度不同。这样，当用户的属性不同时，有时根据其属性来发行不同种类的卡ID。例如考虑向来客发行来客用卡等例子。因此，面部认证装置1106可以预先根据用户属性将卡ID分类，针对每个该分类来决定上述阈值。卡ID与属性的对应关系例如保存在认证结果数据库300上即可。</p>
    <p>[0193]	(2)决定要删除的面部图像的基准</p>
    <p>[0194]	关于删除面部图像的契机，可以使用上述阈值来决定，但是关于删除哪个面部图像需要另外研究。例如考虑基于以下基准来删除。</p>
    <p>[0195]	(2.1)删除旧的面部图像</p>
    <p>[0196]	为了提高面部认证的精度，可以认为不应该使用与用户的当前面容相差较远的面部图像。由于用户的面容随时间变化(例如:头发变长，胡子变长、表情变化、衰老)，可以认为某种程度以上的旧的面部图像不适合于面部认证。因此，面部认证装置1106可以删除拍摄日期时间在预定阈值前的面部图像。</p>
    <p>[0197]	(2.2)删除类似度极低的面部图像</p>
    <p>[0198]	当用户想要冒充其他用户(使用其他用户的卡ID)通过出入口时，有可能在面部图像数据库310中登录了与本来的用户的面部图像差得远的面部图像。这种面部图像在提高面部认证的精度的观点看来不理想。因此，面部认证装置1106可以将该面部图像从面部图像数据库310删除。考虑到该面部图像的类似度316的值极低，因此以此为基准决定应该删除的面部图像即可。</p>
    <p>[0199]	(2.3)不删除类似度稍低的面部图像</p>
    <p>[0200]	在步骤S1103中判定面部认证的可靠度时，当过度提高允许的类似度的值时，即使用户的面部与面部图像数据库310中登录的面部图像只是稍有不同，也可能变得不可认证。为了避免该情况，认为较理想的是在面部图像数据库310中登录的图像有某种程度的变更。因此，面部认证装置1106可以不删除而保留类似度稍低的面部图像。关于删除或不删除什么程度的类似度的面部图像，根据运用要件等分别不同，因此由设计者适当决定即可。</p>
    <p>[0201]〈实施方式4:总结〉</p>
    <p>[0202]	如上所述，本实施方式4的认证系统1100，当面部图像数据库310中存储的每个卡ID的面部图像容量超过针对每个卡ID决定的阈值时，从面部图像数据库310中删除与该卡ID对应的面部图像。由此可以抑制面部图像数据库310的使用容量增加。</p>
    <p>[0203]	另外，本实施方式4的认证系统1100按照上述(2.1)、(2.2)中说明的基准，针对每个卡ID删除不需要的面部图像，因此可以在抑制面部图像数据库310的使用容量增加的同时提高面部认证的精度。</p>
    <p>[0204]	&lt;实施方式5&gt;[0205]	在实施方式4中说明了每当尝试认证时拍摄用户的面部图像，将拍摄到的面部图像存储在面部图像数据库310的动作例。但是，在面部图像数据库310中存储的面部图像中，类似度高的面部图像和类似度低的面部图像、拍摄日期时间(时间戳)新的面部图像和旧的面部图像共存。由于如此共存，面部图像数据库310的数据量增大，步骤S1103中的处理时间增大，冒充检测处理的精度降低。</p>
    <p>[0206]	在本发明的实施方式5中，说明根据时间戳与类似度将面部图像数据库310中存储的面部图像分类，按照该分类删除面部图像的方法。认证系统1100的结构与实施方式4相同，因此以下以面部图像的分类所涉及的差异点为中心来说明。</p>
    <p>[0207]	图19是说明删除面部图像数据库310存储的面部图像中的哪个面部图像的图。在实施方式4中说明了根据面部图像的拍摄日期时间或类似度删除不需要的面部图像的例子，但是图19更详细地划分面部图像，针对每个划分决定是否需要删除。以下说明决定图19的各区域的方法。</p>
    <p>[0208]	面部认证装置1106以面部图像数据库310存储的面部图像中比较新的面部图像(例如拍摄日期时间离当前日期时间预定日期时间范围内的面部图像、最新的面部图像等)为基准，计算与其它面部图像之间的类似度。类似度例如基于图像的特征矢量间距离计算即可。</p>
    <p>[0209]	接着，面部认证装置1106在以计算出的类似度和拍摄日期时间作为坐标轴的坐标平面上标绘面部图像数据库310内的各面部图像，以以下说明的阈值线和拍摄日期时间为基准，将各面部图像分类到图19所示的区域A&#12316;C。此外，请注意在图19中纵轴为特征</p>
    <p>矢量间距离。</p>
    <p>[0210](图19:计算阈值线的步骤)</p>
    <p>[0211]	面部认证装置1106决定将坐标平面上的各面部图像分为类似度高的面部图像和类似度低的面部图像两部分的线。将该线称为阈值线。阈值线最简单地可以决定为具有斜率a和截矩b的I次函数(y=ax+b)，但是不限与此，也可以使用高次函数、指数函数、三角函数等。</p>
    <p>[0212](图19:决定阈值线的系数的方法)</p>
    <p>[0213]	阈值线的函数的各系数例如可以以各面部图像尽可能均匀地配置在阈值线的上下的方式来决定。例如在将阈值线设为I次函数的情况下，可以决定斜率a和截矩b，使得各面部图像的坐标间距离的平方和达到最小。</p>
    <p>[0214](图19:不删除的区域)</p>
    <p>[0215]	拍摄日期时间新的面部图像被认为与用户的当前的面容接近，因此，与在阈值线的上下的哪一方无关，不从面部图像数据库310删除而保留。图19中的日期时间阈值Th2(第二基准日期时间)以后的区域与之相当。</p>
    <p>[0216](图19:针对区域A的处理)</p>
    <p>[0217]	针对拍摄日期时间比日期时间阈值Th2早，与作为基准的面部图像之间的类似度不到阈值线的面部图像(图19的区域A)，不删除而保留。这是由于如实施方式4的(2.3)中所述，认为保存类似度稍低的面部图像较为理想。但是，如实施方式4的(2.2)所述，可以删除类似度极低的面部图像。</p>
    <p>[0218](图19:针对区域B的处理)[0219]	与作为基准的面部图像之间的类似度在阈值线以上的面部图像，如实施方式4中所述，从面部认证精度的观点出发，原则上认为保留为好。但是，若该面部图像存在某种程度的件数则能够充分确保认证精度，因此，即使进一步存储也是重复保存。因此，面部认证装置1106从面部图像数据库310中删除拍摄日期时间早于比Th2更早的日期时间阈值Thl(基准日期时间)的面部图像(图19的区域B)。</p>
    <p>[0220](图19:针对区域C的处理)</p>
    <p>[0221]	认为与作为基准的面部图像C之间的类似度在阈值线以上、并且拍摄日期时间在日期时间阈值Thl与Th2之间的面部图像包含了表示用户的面容的随时间变化(头发变长、胡子变长、表情的变化，衰老引起的变化等)的面部图像。这些面部图像从确保面部图像数据库310内的变更的观点出发是必要的，因此假定不删除而保留。</p>
    <p>[0222]〈实施方式5:总结〉</p>
    <p>[0223]	如上所述，对于本实施方式5的认证系统1100，除了实施例4的效果以外，将与基准图像的类似度在阈值以上、拍摄日期时间比Thl早的面部图像从面部图像数据库310删除。由此可以抑制面部图像数据库310的使用容量增加。另外，通过删除重复的面部图像，可以避免面部图像数据库310内的面部图像的倾向不平衡，确保变更。</p>
    <p>[0224]	另外，对于本实施方式5的认证系统1100，除了实施例4的效果以外，不删除而保留拍摄日期时间在阈值Th2以后的面部图像。由此，可以在确保面部认证的精度的同时抑制面部图像数据库310的使用容量增加。</p>
    <p>[0225]	另外，在本实施方式5的认证系统1100中，通过调整阈值线的函数的系数可以使区域B的面积增减，即可以使从面部图像数据库310删除的面部图像的件数增减。同样，通过调整阈值Thl的值也可以使区域B的面积增减。若区域B的面积增大，则具有确保面部图像数据库310的空闲容量的效果，相反，由于面部图像的变更减少，因此即使是同一用户也判定为冒充的情况有可能增加。特别是当图19的阈值线上方(类似度小)的区域减少时，面部图像的变更显著减小。</p>
    <p>[0226]	&lt;实施方式6&gt;</p>
    <p>[0227]	在实施方式5中，说明以比较新的面部图像作为基准，计算与其它面部图像之间的类似度，在图19那样的坐标平面上标绘各面部图像。也可以取而代之，使用面部图像数据库310保存的类似度316在与图19同样的坐标平面上标绘各面部图像。在这种情况下，不需要如实施方式5那样重新计算与基准面部图像之间的类似度，因此作为简单的处理有用。</p>
    <p>[0228]	但是，在这种情况下，在图19的阈值线上方的区域(类似度316小的区域)中有可能包含与基准面部图像之间的类似度高的面部图像。这是由于照相机1102拍摄面部图像的时刻的类似度316的值有时不同于与基准面部图像之间的类似度。</p>
    <p>[0229]	因此，在本实施方式6中，面部认证装置1106可以删除区域A中与基准面部图像之间的类似度高的面部图像。这是由于这些图像与区域B同样地重复保存。此时，用于判断是否设为删除对象的阈值可以与阈值线相同，也可以另外决定。由此，可以省略计算基准面部图像与区域B&#12316;C内的面部图像之间的类似度的处理来抑制运算负荷，同时发挥与实施方式5同样的效果。</p>
    <p>[0230]	&lt;实施方式7&gt;[0231]	在实施方式4&#12316;6中说明了照相机1102在读取装置1103读取卡ID的前后的适当的范围内拍摄用户的面部图像。取而代之，也可以以来自其它传感器的信息为契机拍摄用户的面部图像。例如在照相机1102或读取装置1103的附近设置人感传感器(例如红外线传感器、超声波传感器等)，在该人感传感器检测出用户站立在读取装置1103的前方(或者用户进入照相机1102的摄像范围)的时刻，由照相机1102拍摄用户的面部图像。</p>
    <p>[0232]	或者，照相机1102可以始终拍摄图像，在图像变化时捕捉运动图像来取得静止图像。通过这样使用运动检测技术取得用户的面部图像，不需要人感传感器或读取装置1103等其它触发器，可以由照相机1102自发地拍摄用户的面部图像。</p>
    <p>[0233]	如上所述，以读取装置1103读取卡ID以外的事件作为契机来取得用户的面部图像的技术，在不使用读取装置1103而认证用户的认证系统中可以采用。例如，在仅使用用户的面部图像来认证用户的系统中读取装置1103不存在，因此，可以认为上述那样的方法有用。</p>
    <p>[0234]	本发明不限于上述实施方式，包含各种变形例。上述实施方式为了容易理解本发明而详细进行了说明，未必限于具备所说明的全部结构。另外，也可以将某个实施方式的结构的一部分替换为其它实施方式的结构。另外，也可以在某个实施方式的结构上添加其它实施方式的结构。另外，关于各实施方式的结构的一部分，也可以追加其它结构或删除、替换。</p>
    <p>[0235]	上述各结构、功能、处理部、处理单元等例如可以通过用集成电路设计其中的一部分或全部等，来用硬件实现。另外，上述各结构、功能等可以通过由处理器解释并执行实现各功能的程序，来用软件实现。实现各功能的程序、表、文件等信息可以存储在存储器、硬盘、SSD (Solid State Drive)等记录装置、IC卡、SD卡、DVD等记录介质中。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101465736A?cl=zh">CN101465736A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年12月31日</td><td class="patent-data-table-td patent-date-value">2009年6月24日</td><td class="patent-data-table-td ">北京中星微电子有限公司</td><td class="patent-data-table-td ">一种身份认证方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101826151A?cl=zh">CN101826151A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年3月3日</td><td class="patent-data-table-td patent-date-value">2010年9月8日</td><td class="patent-data-table-td ">赵毅</td><td class="patent-data-table-td ">一种人脸比对验证身份的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20070241861">US20070241861</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2006年4月18日</td><td class="patent-data-table-td patent-date-value">2007年10月18日</td><td class="patent-data-table-td ">Venkatanna Kumar B</td><td class="patent-data-table-td ">Methods and systems for secured access to devices and systems</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20080238670">US20080238670</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年3月30日</td><td class="patent-data-table-td patent-date-value">2008年10月2日</td><td class="patent-data-table-td ">Verizon Business Network Services, Inc.</td><td class="patent-data-table-td ">Security device with display</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06K0009000000">G06K9/00</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06K9/00926">G06K9/00926</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=9vf3BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06K9/00288">G06K9/00288</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2013年5月8日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年6月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年12月4日</td><td class="patent-data-table-td ">C53</td><td class="patent-data-table-td ">Correction of patent for invention or patent application</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2016年1月20日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/8cf2180075334771a84f/CN103093187A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E8%AE%A4%E8%AF%81%E7%B3%BB%E7%BB%9F.pdf?id=9vf3BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2WBPGG2M-plnZoTEYqEQRDZ4WphQ"},"sample_url":"https://www.google.com/patents/reader?id=9vf3BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>