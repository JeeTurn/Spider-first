<!DOCTYPE html><html><head><title>专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="分布式业务系统中应用终端设备软件更新的方法和装置"><meta name="DC.contributor" content="唐志强" scheme="inventor"><meta name="DC.contributor" content="卿 张" scheme="inventor"><meta name="DC.contributor" content="杨海红" scheme="inventor"><meta name="DC.contributor" content="健 梁" scheme="inventor"><meta name="DC.contributor" content="王运诚" scheme="inventor"><meta name="DC.contributor" content="黄守政" scheme="inventor"><meta name="DC.contributor" content="上海卡友信息服务有限公司" scheme="assignee"><meta name="DC.date" content="2006-7-19" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种分布式业务系统中应用终端设备软件更新的方法，包括：在应用终端设备中预置多个指令单元；服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设备，所述指令序列包括所需的指令单元的标识信息；所述应用终端设备根据所述指令序列完成软件更新。本发明中每个指令单元用于完成较为单一的功能，各种数据处理流程可以由从所述多个指令单元中选取、排序即可完成。因此，应用终端设备下载指令序列即可增加新的功能，不需要下载更新整个功能模块，更新所需下载的数据量大大减少，方便了应用终端设备加载更新功能，减少了维护工作量，能够适应终端设备软件的频繁更新，缩短了新功能开发和应用的周期。"><meta name="DC.date" content="2008-1-23"><meta name="citation_patent_publication_number" content="CN:101110694:A"><meta name="citation_patent_application_number" content="CN:200610029289"><link rel="canonical" href="https://www.google.com/patents/CN101110694A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101110694A?cl=zh"/><meta name="title" content="专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置"/><meta name="description" content="本发明公开了一种分布式业务系统中应用终端设备软件更新的方法，包括：在应用终端设备中预置多个指令单元；服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设备，所述指令序列包括所需的指令单元的标识信息；所述应用终端设备根据所述指令序列完成软件更新。本发明中每个指令单元用于完成较为单一的功能，各种数据处理流程可以由从所述多个指令单元中选取、排序即可完成。因此，应用终端设备下载指令序列即可增加新的功能，不需要下载更新整个功能模块，更新所需下载的数据量大大减少，方便了应用终端设备加载更新功能，减少了维护工作量，能够适应终端设备软件的频繁更新，缩短了新功能开发和应用的周期。"/><meta property="og:title" content="专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101110694A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101110694A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=rQBaBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101110694A&amp;usg=AFQjCNFh2layBQuK7ICzy35ItntjhUR90g" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/4cceb32707771f95d357/CN101110694A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/4cceb32707771f95d357/CN101110694A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101110694A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101110694A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101110694A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种分布式业务系统中应用终端设备软件更新的方法，包括：在应用终端设备中预置多个指令单元；服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设备，所述指令序列包括所需的指令单元的...</span><span itemprop="url">https://www.google.com/patents/CN101110694A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置" title="专利 CN101110694A - 分布式业务系统中应用终端设备软件更新的方法和装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101110694 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200610029289</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2008年1月23日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2006年7月19日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2006年7月19日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200610029289.5, </span><span class="patent-bibdata-value">CN 101110694 A, </span><span class="patent-bibdata-value">CN 101110694A, </span><span class="patent-bibdata-value">CN 200610029289, </span><span class="patent-bibdata-value">CN-A-101110694, </span><span class="patent-bibdata-value">CN101110694 A, </span><span class="patent-bibdata-value">CN101110694A, </span><span class="patent-bibdata-value">CN200610029289, </span><span class="patent-bibdata-value">CN200610029289.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%94%90%E5%BF%97%E5%BC%BA%22">唐志强</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%8D%BF+%E5%BC%A0%22">卿 张</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%A8%E6%B5%B7%E7%BA%A2%22">杨海红</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%81%A5+%E6%A2%81%22">健 梁</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E8%BF%90%E8%AF%9A%22">王运诚</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%BB%84%E5%AE%88%E6%94%BF%22">黄守政</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E4%B8%8A%E6%B5%B7%E5%8D%A1%E5%8F%8B%E4%BF%A1%E6%81%AF%E6%9C%8D%E5%8A%A1%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">上海卡友信息服务有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101110694A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101110694A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101110694A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (9),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=rQBaBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200610029289&amp;usg=AFQjCNFGjYmYXW3spG4ZV7pfIFoSCgqkSA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=rQBaBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101110694A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEQVnhSxI8HwdZBzTs83H34NSXh6g"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT70443964" lang="ZH" load-source="patent-office">分布式业务系统中应用终端设备软件更新的方法和装置</invention-title>
      </span><br><span class="patent-number">CN 101110694 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA38213651" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种分布式业务系统中应用终端设备软件更新的方法，包括：在应用终端设备中预置多个指令单元；服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设备，所述指令序列包括所需的指令单元的标识信息；所述应用终端设备根据所述指令序列完成软件更新。本发明中每个指令单元用于完成较为单一的功能，各种数据处理流程可以由从所述多个指令单元中选取、排序即可完成。因此，应用终端设备下载指令序列即可增加新的功能，不需要下载更新整个功能模块，更新所需下载的数据量大大减少，方便了应用终端设备加载更新功能，减少了维护工作量，能够适应终端设备软件的频繁更新，缩短了新功能开发和应用的周期。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(16)</span></span></div><div class="patent-text"><div mxw-id="PCLM5711137" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种分布式业务系统中应用终端设备软件更新的方法，其特征在于，包括：    在应用终端设备中预置多个指令单元；    服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设备，所述指令序列包括所需的指令单元的标识信息；    所述应用终端设备根据所述指令序列完成软件更新。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求l所述的方法，其特征在于，还包括： 如果在数据处理低峰期，贝'J:服务管理系统呼叫应用终端设备，通知其需要更新； 应用终端设备收到通知后，发起下载请求； 服务管理系统返回相应数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求l所述的方法，其特征在于，还包括： 如果不在数据处理低峰期，贝'h服务管理系统在返回给应用终端设备的正常业务报文中，增加应用终端设 备需要更新的通知信息；应用终端设备收到通知后，发起下载请求； 服务管理系统返回相应数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求l所述的方法，其特征在于，还包括： 服务管理系统设置指令参数信息，并发送至应用终端设备； 所述应用终端设备根据所述指令参数信息完成软件更新。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求1所述的方法，其特征在于，所述指令单元包括操作提示 信息显示规则、操作规则和安全控制规则。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求l所述的方法，其特征在于，所述指令序列为新业务流程， 所述软件更新为应用终端设备用新菜单项更新原菜单项。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求6所述的方法，其特征在于，所述指令参数信息为安全认 证卡参数、待机提示信息或者打印模版。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8、 一种分布式业务系统中的服务管理子系统，其特征在于，包括： 存储单元，用于存储多个指令单元； 服务管理单元，用于设置生成指令参数信息，或者根据所述多个指令单元设置生成指令序列；所述指令序列包括所需的指令单元的标识信息；通讯单元，用于发送所述指令参数信息或者所述指令序列，完成服务管理子系统于应用终端设备之间的通讯；终端管理单元，用于记录和管理应用终端设备的相关信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 如权利要求8所述的服务管理子系统，其特征在于，还包括，日志记 录单元，用于向系统数据库中记录操作曰志。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求8所述的服务管理子系统，其特征在于，还包括加解密单 元，用于加密发送给应用终端设备的信息和解密从应用终端设备收到的信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11、 如权利要求8所述的服务管理子系统，其特征在于，所述指令序列为 新业务流程，所述应用终端设备依次调用所述指令序列包括的标识信息指向的 指令单元完成所述新业务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求8所述的服务管理子系统，其特征在于，所述指令参数信 息为安全认证卡参数、待机提示信息或者打印模版。</div>
    </div>
    </div> <div class="claim"> <div num="13" class="claim">
      <div class="claim-text">13、 一种分布式业务系统中的应用终端设备，其特征在于，包括： 通信单元，用于完成应用终端设备与服务管理子系统之间的通讯； 指令序列执行单元，用于根据所述指令序列调用所述指令单元和指令参数信息完成相应lt据处理流程；所述指令序列包括所需的指令单元的标识信息； 更新单元，用于根据从所述服务管理系统收到的指令序列和指令参数信息更新应用终端设备中的软件；存储单元，用于存储多个指令单元、指令序列和指令参数信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14、 如权利要求13所述的应用终端设备，其特征在于，还包括加解密单元，用于加密发送给服务管理系统的信息和解密从服务管理系统收到的信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15、 如权利要求13所述的应用终端设备，其特征在于，所述指令序列为 新业务流程，所述软件更新为应用终端设备用新菜单项更新原菜单项。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16、 如权利要求13所述的应用终端设备，其特征在于，所述指令参数信 息为安全认证卡参数、待机提示信息或者打印模版。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES10419419" lang="ZH" load-source="patent-office" class="description">
    <p>分布式业务系统中应用终端设备软件更新的方法和装置</p>
    <p>技术领域</p>
    <p>本发明涉及网络终端的信息更新领域，特别是涉及一种分布式业务系统中 应用终端设备软件更新的方法和装置。 背景技术</p>
    <p>在诸如金融机构之类的很多分布式业务系统中，很多子系统通过网络连接 到中央主系统。系统中的应用终端设备分散部署在众多分支机构上，通过诸如 局域网或者广域网之类不同的网络经子系统连接到中央主系统，受中央主系统 和所连接的子系统的管理和监控。在这些业务系统中，各终端设备中运行的应 用软件由主系统提供。由于业务发展或者管理程度、安全要求等方面的变化， 将会导致上述分布式业务系统的应用终端设备中的软件更新。</p>
    <p>中国专利第CN200510080083. 0号专利申请文件就公开了一种P0S终端设 备的升级方法，该方法利用U盘作为中间存储介质，包括以下步骤：（l)在POS 终端设备的系统升级界面，提示用户插入包含升级文件的U盘；（2)用户插入 U盘后，执行POS终端设备上升级功能，用U盘上的新操作系统文件和数据文 件替换掉P0S终端设备的旧文件；（3)重新启动P0S终端设备，使所有更新生 效。上述方法固然可以解决软件更新的问题，但是上述维护方式费时费力，非 常容易出错。再者，对于传统的金融POS终端而言，大部分都是放置在有人值 守的收银台并由专职收银员进行操作，终端更新时可以由维护人员 一 台 一 台逐 一进行操作而实现更新。但是，随着网络技术的发展，众多的分布式业务系统 的应用终端设备已经进入家庭、企事业单位等场所（例如，采用电话、电视、 水箱等作为应用终端设备），这些地域分散，数量众多的应用终端设备的软件 更新采用上述方法几乎是无法实现的。</p>
    <p>实际中，也存在下述的软件更新方法：为了从主系统得到新应用软件或对 已经运行的应用软件进行升级， 一般是由主系统向终端设备自动下发新版本的 应用软件，或由终端设备向主系统请求下载新版本的应用软件。例如，中国专 利第CN03146735. 0号申请文件就公开了 一种终端设备的软件自动升级方法， 通过版本比较可以实现软件的自动升级。但是上述方法对于应用终端设备较少 的系统或者软件更新频率较低的系统而言才是可行的，因为对地域分散，数量众多的应用终端设备，如果采用上述方法更新将占用相当大的网络流量，以及 需要相当多的更新时间，从而导致正常业务处理过程堵塞等异常情况的出现， 这是系统所无法接受的。</p>
    <p>并且，对于大多数的分布式业务系统而言，由于社会的快速发展，导致业 务更新、管理更新等越来越频繁，上述两种方式都是无法满足需求的。</p>
    <p>例如，随着社会经济和科学技术的发展，银行卡的使用越来越普及；人们 对其所提供交易功能和信息服务等业务内容的要求也越来越高。银行、商户为 吸引持卡人使用银行卡，增强自身竟争力，不断推出各种各样的新交易功能和 更多的信息服务业务。为保障安全， 一般选择金融专用设备（应用终端设备） 承载这些业务功能。目前主要采用的金融信息终端包括：金融消费终端（如商 场的P0S机）、自动取款机、银行自助终端、银行柜台和个人自助终端等。这 些终端中的软件按照特定的业务要求进行开发，以实现相应的功能；各种业务 流程以软件的形式存储在终端上，无法进行动态调整。终端加栽新业务时，需 要每台终端逐一进行软件更新；修改现有业务时，需要修改终端内部的程序； 开发并应用新业务时，需要开发相关部分的程序并更新终端。可见，这种方式 不便于终端加载新业务，维护工作量大，并且新业务的开发应用周期长，不能 满足不断变化的金融市场需求。</p>
    <p>总之，随着经济和技术的发展，现有的应用终端设备软件更新的方法已经 远远不能满足需要了。本专利的发明人正是针对上述问题，经过仔细研究和探 索，提出了下面的解决方案。 发明内容</p>
    <p>本发明所要解决的技术问题是提供一种分布式业务系统中应用终端设备 软件更新的方法，以解决所应用终端设备不便于更新软件、维护工作量大、新 业务的开发应用周期长的问题，本发明还解决了采用下载方式更新软件时传输 数据量大、占用过多带宽影响正常业务的问题，从而满足不断变化的市场需求。</p>
    <p>本发明的另 一 个目的在于，提供一种分布式业务系统中的应用终端设备和 服务管理子系统，以解决所应用终端设备不便于更新软件、维护工作量大、新 业务的开发应用周期长的问题。</p>
    <p>为解决上述技术问题，本发明提供了 一种分布式业务系统中应用终端设备</p>
    <p>软件更新的方法，包括：</p>
    <p>在应用终端设备中预置多个指令单元；</p>
    <p>服务管理系统根据所述多个指令单元设置指令序列，并发送至应用终端设 备，所述指令序列包括所需的指令单元的标识信息；</p>
    <p>所述应用终端设备根据所述指令序列完成软件更新。 优选的，上述方法还包括： 如果在数据处理低峰期，贝'J:</p>
    <p>服务管理系统呼叫应用终端设备，通知其需要更新； 应用终端设备收到通知后，发起下载请求； 服务管理系统返回相应数据。 优选的，上述方法还包括： 如果不在数据处理低峰期，贝'J:</p>
    <p>服务管理系统在返回给应用终端设备的正常业务报文中，增加应用终端设 备需要更新的通知信息；</p>
    <p>应用终端设备收到通知后，发起下载请求； 服务管理系统返回相应数据。 优选的，上述方法还包括：</p>
    <p>服务管理系统设置指令参数信息，并发送至应用终端设备；</p>
    <p>所述应用终端设备根据所述指令参数信息完成软件更新。</p>
    <p>优选的，所述指令单元包括操作提示信息显示规则、操作规则和安全控制规则。</p>
    <p>优选的，所述指令序列为新业务流程，所述软件更新为应用终端设备用新 菜单项更新原菜单项。</p>
    <p>优选的，所述指令参数信息为安全认证卡参数、待机提示信息或者打印模版。</p>
    <p>本发明还提供了 一种分布式业务系统中的服务管理子系统，包括： 存储单元，用于存储多个指令单元；</p>
    <p>服务管理单元，用于设置生成指令参数信息，或者根据所述多个指令单元 设置生成指令序列；所述指令序列包括所需的指令单元的标识信息；</p>
    <p>通讯单元，用于发送所述指令参数信息或者所述指令序列，完成服务管理</p>
    <p>子系统于应用终端设备之间的通讯；</p>
    <p>终端管理单元，用于记录和管理应用终端设备的相关信息。</p>
    <p>优选的，上述系统还包括：日志记录单元，用于向系统翁:据库中记录操作曰志。</p>
    <p>优选的，上述系统还包括加解密单元，用于加密发送给应用终端设备的信 息和解密从应用终端设备收到的信息。</p>
    <p>优选的，所述指令序列为新业务流程，所述应用终端设备农次调用所述指 令序列包括的标识信息指向的指令单元完成所述新业务。</p>
    <p>优选的，所述指令参数信息为安全认证卡参数、待机提示信息或者打印模版。</p>
    <p>本发明还提供了 一种分布式业务系统中的应用终端设备，包括： 通信单元，用于完成应用终端设备与服务管理子系统之间的通讯； 指令序列执行单元，用于根据所述指令序列调用所述指令单元和指令参数</p>
    <p>信息完成相应数据处理流程；所述指令序列包括所需的指令单元的标识信息； 更新单元，用于根据从所述服务管理系统收到的指令序列和指令参数信息</p>
    <p>更新应用终端设备中的软件；</p>
    <p>存储单元，用于存储多个指令单元、指令序列和指令参数信息。 优选的，上述应用终端设备还包括加解密单元，用于加密发送给服务管理</p>
    <p>系统的信息和解密从服务管理系统收到的信息。</p>
    <p>优选的，所述指令序列为新业务流程，所述软件更新为应用终端设备用新</p>
    <p>菜单项更新原菜单项。</p>
    <p>优选的，所述指令参数信息为安全认证卡参数、待机提示信息或者打印模版。</p>
    <p>与现有技术相比，本发明具有以下优点：</p>
    <p>1、由于本发明在应用终端设备预置了多个指令单元，每个指令单元用于 完成较为单一的功能，各种数据处理流程可以由从所述多个指令单元中选取、 排序即可完成。因此，应用终端设备可以通过从服务管理系统下载指令序列即 可增加新的功能，不需要下载更新整个功能模块，更新所需下载的数据量大大</p>
    <p>减少，方便了应用终端设备加载更新功能，减少了维护工作量，能够适应终端 设备软件的频繁更新，缩短了新功能开发和应用的周期。</p>
    <p>2、 应用终端设备在数据处理低峰期通过服务管理系统主动通知的方式下 载更新数据，由于数据为指令序列，数据量较小，故可以降低网络带宽占用， 避免影响正常的业务，并加快更新速度。</p>
    <p>3、 应用终端设备在数据处理高峰期下载更新数据，通过应用终端设备上 报交易数据时，随着交易数据的处理报文进行软件更新，避免了大量应用终端 设备同时更新而导致的网络拥堵，造成对正常交易数据处理的不良影响；并且 由于并不下载指令单元或者功能模块本身，可以降低网络带宽占用，并保证新 业务的及时更新。</p>
    <p>4、 当指令单元的参数需要更新时，本发明也可以下载指令参数信息，而 不是下载整个指令单元，进一步减少了下栽的数据量，避免了网络阻塞的发生。 针对应用终端设备不具有一般个人计算机的计算处理能力，所以本发明划分了 特定的几种需要经常更新的指令参数类型，应用终端设备可以根据下载的指令 参数类型标识进行相应更新即可。</p>
    <p>附图说明</p>
    <p>图1是本发明的系统框图；</p>
    <p>图2是本发明的方法实施例1的流程图；</p>
    <p>图3是本发明的方法实施例2的流程图；</p>
    <p>图4是本发明的服务管理子系统的实施例结构示意图；</p>
    <p>图5是本发明的应用终端设备的实施例结构示意图。 具体实施方式</p>
    <p>为使本发明的上述目的、特征和优点能够更加明显易懂，下面结合附图和 具体实施方式对本发明作进一步详细的说明。</p>
    <p>参照图1，为本发明的实施例1的系统框图，分布式业务系统中包括服务 管理系统101和多个应用终端设备102,所述服务管理系统101和所述多个应 用终端设备102通过通讯网络连接。</p>
    <p>参照图2，为本发明的实施例1的流程图，具体包括以下步骤：</p>
    <p>步骤201:在应用终端设备中预置多个指令单元。</p>
    <p>本发明定义了多个标准化指令单元，每一指令单元可定义其搡作提示信息</p>
    <p>显示规则、操作规则和安全控制规则；所述指令单元是应用终端设备的一个动 作或者是一个基本搡作；各指令单元处理的数据符合中国银联相关的数据格式 和标准，存放在应用终端设备的内存中，内存是各指令单元之间数据交换的场所。</p>
    <p>优选的，应用终端设备中可以包含有下面的指令单元：读取磁道明文数据、 显示功能提示信息、读取商务应用号、读取交易金额、显示操作提示信息、交 易确认、读取磁道明文数据、读取密码密文数据、加密报文数据、连接交易中 心、发送数据、接收数据、解密报文数据、显示结果信息、挂机等。当然，指 令单元的选择和设定，都是可以改变的，由本领域技术人员根据经验和需要自 行设置即可，本发明并不对此加以限定。所述指令单元之间具有相同的接口， 以保证参数或者数据的在各个指令单元之间的正确传递。</p>
    <p>所述指令单元由一些基本步骤的组合起来实现，每个基本步骤不能单独完 成一个功能，只有作为一个整体来使用，才能完成特定的功能。以读取》兹道明 文数据为例，如果指令单元"读取磁道明文数据"的指令号为"03H",当终端 收到指令03H，则调用该指令单元开始执行以下步骤：启动读卡设备、在规定 的时间内读取磁卡的二和三石兹道、将读取的结果写入指定内存单元、结束，各 步骤按次序执行完成读取^f兹道明文信息的功能。再以读取^P兹道密文数据为例， 如果指令单元"读:^U兹道密文数据"的指令号为04H，当终端收到指令04H, 即开始调用指令单元"读取磁道密文数据"：启动读卡设备，在规定的时间内 读取二、三磁道，将读到的^f兹道数据进行加密，然后将结果写入指定内存单元， 最后结束。</p>
    <p>步骤202:服务管理系统根据所述多个指令单元设置指令序列，并发送至 应用终端设备，所述指令序列包括所需的指令单元的标识信息。</p>
    <p>所述服务管理系统可以内置所述多个指令单元，也可以不内置，只要能够 根据每个指令单元的功能和标识信息生成相应的指令处理序列即可。</p>
    <p>服务管理系统通过对指令单元的组合，形成由多个指令单元构成的特定指</p>
    <p>令处理序列，所述指令处理序列可以完成特定业务处理。以自助银行中的信用 卡还款为例，该功能包含以下指令单元系列：显示功能提示信息、读取交易金</p>
    <p>额、读取金融帐号、显示功能确认信息、读取磁道密文数据、读取密码密文数 据、读取&#27798;正信息、加密报文信息、连接交易中心（建链）、发送数据、接收 数据、挂机、解密报文数据、验证信息鉴别码、显示交易结杲。</p>
    <p>同时，指令单元的执行需要一定的指令参数信息来辅助完成指令单元功</p>
    <p>能。这些指令参数信息可以是安全认证卡（SAM卡）参数信息、待机提示信息、 菜单提示信息或者打印模板信息等，所述指令参数信息是指令单元的一部分， 更新这些指令参数信息时，需要更新整个指令单元本身，更新数据量达大，占 用了额外的网络带宽，而指令单元中的大部分代码是不用更新的；为了达到更 新时尽量少占用带宽的目的，把一些经常需要更新的指令参数信息从指令单元 中分离出来，单独更新，分离出的每个指令参数信息用一个唯一的索引号进行 标识。这些可单独更新的指令参数信息由服务管理系统根据所述的索引号生 成，发送给应用终端设备。应用终端设备只能根据预先设定的索引号更新相应 的指令参数信息；对于其它的未把指令参数信息分离出来的指令单元，如果需 要更新指令参数信息，仍旧需要更新整个指令单元本身。</p>
    <p>参数可以-波指令单元调用并可以在各个指令单元之间传输，例如，属于多 个指令单元的参数可以存储在共同的&#32233;存中，如果某个参数专属于一个指令单 元，则可以作为该指令单元的一部分进行存储和调用。例如，提示信息所提示 的具体内容，比如金额、卡号等等，以参数的形式传递给指令单元。打印模块 本身也可以由几个指令单元构成，比如：获取打印机状态、打印机复位、设置 字符大小、设置行间距、设置边距、打印、走纸等等。打印的具体内容也可以 做为参数传递到"打印"指令单元。</p>
    <p>应用设备终端上的菜单功能也是一种指令处理序列，用于显示菜单项、功 能提示信息、操作提示信息并根据用户选择触发特定的指令处理序列，完成特 定功能。例如，应用终端设备的菜单分为两级。可有10个一级菜单， 一级菜 单下又分别可有10个二级菜单。其中一级菜单包括：自助4艮行、缴费通、商 旅及订购服务、订单支付、客户服务、帐单信箱等；其中"自助银行，，的二级 菜单包括：信用卡还款、银行卡余额查询、银行卡转帐、查询末笔交易、积分 查询等；"缴费通"的二级菜单包括：手机充值、手机查询后付费、手机帐单 条码付费、固话帐单条码付费、水费帐单条码付费、电费帐单条码付费、燃气</p>
    <p>帐单条码付费等，当用户选择某手机充值时，触发手机充值的业务，开始执行 手机充值的指令处理序列。</p>
    <p>菜单、指令序列、指令单元、指令参数信息之间的关系如下：终端使用菜</p>
    <p>单功能显示菜单项和提示信息，用户通过选择菜单的某一个菜单项触发一个指 令处理序列的执行，这个指令处理序列中包含了指令单元的标识信息和所需要 的指令参数信息的索引号，指令处理序列执行时才艮据所述索引号，找到相应的 指令参数信息，完成相应的功能。</p>
    <p>举例i口下：</p>
    <p>如用户在菜单项中选择"手机充值，，功能，在触发的指令处理序列中，依 次执行下面的指令单元并根据指令参数信息和用户输入数据进行业务处理。各 种提示信息用一个唯一的索引号进行区别。菜单功能触发一个指令序列，包括 了其对应的功能提示信息的索引号和操作提示信息的索引号。"手机充值"和 水电气等公用事业费缴纳的流程基本一致，唯一不同的是他们的指令序列对应 的提示信息的索引号都不相同。下面仔细描述依次调用的指令单元：</p>
    <p>1、 显示功能提示信息：根据指令处理序列里包含的指令参数信息索引号 到内存中提取相应的提示信息并显示；</p>
    <p>2、 读取商务应用号：读取用户输入的缴费号码（手机号码、水费帐单号 码等);</p>
    <p>3、 读取交易金额：在规定时间内从键盘&#32233;冲区读取用户输入的交易金额；</p>
    <p>4、 显示操作提示信息：根据指令参数信息的索引号到内存中提取相应的 提示信息并显示；</p>
    <p>5、 交易确认：由用户确认交易是否继续进行；</p>
    <p>6、 读取磁道密文数据：启动读卡设备，在规定控制超时时限内读取二、 三磁道数据并进行加密；</p>
    <p>7、 读取密码密文数据：在规定控制超时时限内从键盘或密码键盘读取数 据并进行加密；</p>
    <p>8、 加密报文数据：将待发送到交易中心的报文使用专用算法进行加密。</p>
    <p>9、 连接交易中心：取出存放于安全认证卡中的交易中心号码进行拨号连</p>
    <p>接；</p>
    <p>10、 发送数据：将相关数据发送到交易中心；</p>
    <p>11、 接收数据：从交易中心接收数据；</p>
    <p>12、 解密报文数据：将从交易中心接收到的报文使用专用算法解密；</p>
    <p>13、 显示结果信息：按指定格式显示交易结果信息；</p>
    <p>14、 挂机：挂断通讯线路。</p>
    <p>上述涉及读取外部输入的指令单元将读取的"号码"、"金额"、"磁道信息" 和"密码"等信息存放于内存中，"加密报文数据"从内存中读取这些信息后 形成加密数据包并将结果也存放到内存中。内存是各指令单元数据交换的场所。</p>
    <p>由于各指令单元之间需要频繁的进行数据交换，所以其中涉及的参数、数 据等需要符合一定的预置规则，例如：符合中国银联相关的数据格式和标准； 按照统一的标准，各指令单元间的数据自然就是贯通的了。比如，上述的"商 务应用号"，即手机号、水电费的帐单号等等，应该都是字母+数字的格式； "密码"不是4位数字就是6位数字等等。</p>
    <p>优选的，服务管理系统可以采用两种方式将指令序列或指令参数信息发送 给应用终端设备。</p>
    <p>如果在数据处理低峰期，例如午夜，贝'J:</p>
    <p>由服务管理系统呼叫应用终端设备，通知其需要更新；由服务管理系统向 在线的应用终端设备发送询问，通知其上送消息，应用终端设备上送的消息中 包含应用终端设备的版本信息。服务管理设备通过判断版本号来确定是否需要 更新应用终端设备中的软件，如果需要更新，则发起需要更新的通知给应用终 端设备。</p>
    <p>应用终端设备收到通知后，发起下载请求； 服务管理系统返回相应数据。</p>
    <p>在这种情况下，也可以由服务管理系统把版本号下发给应用终端设备，由 应用终端设备判断是否需要更新，需要的话，主动发起下载请求。</p>
    <p>采用在数据处理低峰期更新的优点是，可以避开网络繁忙期，避免影响正 常的数据业务的进行，并可充分利用闲置的网络流量资源。这种方式带来的另 外一个好处是，即使应用终端设备没有正常的交易报文上送，仍旧可以通过服</p>
    <p>务管理系统主动的询问，使终端中的软件得到及时的更新，保证了新业务的及 时应用推广。</p>
    <p>如果不在数据处理低峰期，而是处于日常业务处理的时间段，贝寸：</p>
    <p>服务管理系统在返回给应用终端设备的正常业务报文中，添加通知应用终 端设备需要更新的信息；所述的正常业务报文中包含有应用终端设备的版本号 信息，服务管理系统通过对比生成的版本号和应用终端设备的版本号，判断是 否需要更新，如果需要，在返回给应用终端设备的报文中添加返回码。</p>
    <p>应用终端设备收到通知后，发起下载请求；</p>
    <p>服务管理系统返回相应数据。</p>
    <p>在这种情况下，也可以由服务管理系统把版本号下发给应用终端设备，由 应用终端设备判断是否需要更新，如果需要更新，主动发起下载请求。</p>
    <p>在这种方式中，服务管理系统在正常的业务报文中取得应用终端的版本号 信息，并通过返回给所述终端的报文中添加返回码的方式通知应用终端设备进 行更新，避免了发起专用的更新通知报文，减少了发送报文的数量，进而减少 了网络带宽的占用，不影响正常的业务的使用；这种方式带来的另外一个好处 是，只要有正常的业务进行，就能保证终端得到及时的更新，使新业务功能及 时应用到应用终端设备中去，保证了新业务的及时推广应用。并且可以避免在 正常交易的时间段那，同时出现多个应用终端进行软件更新，占用过多带宽， 影响正常交易数据处理的情况。</p>
    <p>这里并不局限于这两种方法，也可以采用其他方法，如在任何时间段，由 服务管理系统向应用终端设备发送更新的通知，通知所述应用服务进行更新。 上述两种方法仅仅是本发明提出的优选方案而已，本领域技术人员可以采用其 他任何可行的方案实现指令序列或者指令参数的下载即可。</p>
    <p>本步骤中发送给应用终端设备的指令序列 一般是新的业务功能，所述的新 业务功能在终端设备中通过新菜单功能而显现。</p>
    <p>本步骤中，发送给应用服务终端的数据还可以是服务管理系统根据指令单 元生成的指令参数信息，例如：安全认证卡（SAM卡）参数信息、待机提示信 息、菜单提示信息和打印模板信息等，用于应用服务终端执行指令序列时调用。</p>
    <p>步骤203:所述应用终端设备根据所述指令序列完成软件更新。</p>
    <p>应用终端设备接受服务管理系统发送的数据，在接收过程中，判断是否还</p>
    <p>有待接收的数据包，若有，等待接收，直到接收完全部的数据包；如果接收到</p>
    <p>的数据报多于一个，需要先合并数据包；应用终端设备根据收到的数据中的指</p>
    <p>令序列，更新应用终端设备中的软件。</p>
    <p>收到的数据包中，包含指令处理序列或指令参数信息。</p>
    <p>完成更新后，服务管理平台和应用终端设备记录更新日志，并断开连接。</p>
    <p>参照图3,为本发明所述方法的实施例2的更新金融信息终端菜单项步骤</p>
    <p>流程图。对于金融信息终端的每个一级或者二级菜单项，服务管理系统都可以</p>
    <p>定义一套指令单元序列和提示信息格式。如果该序列或信息格式有所调整，可 以通知终端下载新序列和格式，从而达到更新的目的。所述指令序列在金融信 息终端可以通过菜单项表现。</p>
    <p>本发明的实施例2中包含多个金融信息终端，所述金融信息终端通过客户 端方式与服务管理系统进行通讯，可实时更新相应功能项，摆脱了传统金融信 息终端的维护方式，极大减少了维护工作量。</p>
    <p>请参看图3，具体步骤包括：</p>
    <p>步骤301:根据所述定义的多个指令单元，服务管理系统配置生成菜单项， 并记录版本号。</p>
    <p>在所述服务管理系统可以内置所述的多个指令单元，也可以不内置，只要 根据每个指令单元的功能和标识信息生成相应的指令处理序列和指令参数信</p>
    <p>息即可。</p>
    <p>步骤302:所述服务管理系统判断当前是否交易低峰期，若是，执行步骤 303，若否，执行步骤304。</p>
    <p>优选的，交易低峰期是午夜。</p>
    <p>步骤303:通知金融信息终端上送更新交易，然后执行步骤305。 优选的，服务管理系统向在线的金融信息终端发送通知，通知其上送更新 交易，服务管理系统根据版本号信息，判断是否需要更新。 步骤304:金融信息终端上送金融交易信息。 在所述更新交易的数据报中，包含金融信息终端的版本号信息。 步骤305:判断金融信息终端是否需要更新，若否，结束流程，若是。执</p>
    <p>行步骤306。</p>
    <p>优选的，服务管理系统根据版本号信息，判断是否需要更新。这里也可以是 由金融信息终端来判断是否需要更新。</p>
    <p>步骤306:金融信息终端下载数据包，如果有多个数据包，需要合并数据</p>
    <p>包，使用数据包中的菜单项更新并替换原有菜单项。</p>
    <p>完成更新后，服务管理平台和金融信息终端记录更新日志，并断开连接。 上述更新步骤也可以用于更新安全认证卡（SAM卡）参数、金融信息终端</p>
    <p>的待机提示信息或金融信息终端的菜单功能提示信息。</p>
    <p>在上述流程中，菜单和待机提示信息也可以合并在一个通讯过程中，更新</p>
    <p>的数据是菜单还是待机提示信息则完全根据服务管理平台发出的指令来判断。</p>
    <p>通过运用服务管理平台的终端管理配置功能可对终端功能进行改动，便可以实</p>
    <p>现其他新的业务功能，如根据业务发展情况开通某项公用事业费用的缴纳、购</p>
    <p>物的支付、信息查询等等。</p>
    <p>参照图4，示出了本发明的服务管理子系统的实施例的结构示意图。 所述服务管理子系统与多个应用终端设备通过通讯网络相连，用于生成指</p>
    <p>令参数信息和指令处理序列，发送给终端进行更新，包括以下部件：</p>
    <p>服务管理单元401，用于设置生成指令参数信息，或者根据所述多个指令</p>
    <p>单元设置生成指令序列；所述指令序列包括所需的指令单元的标识信息； 指令参数信息为安全认证卡（SAM卡）参数、待机提示信息或者打印模版。 所述指令序列为新业务流程，所述软件更新为应用终端设备用新菜单项更</p>
    <p>新原菜单项。</p>
    <p>终端管理单元402,用于记录和管理应用终端设备的相关信息。 通讯单元403，用于发送所述指令参数信息或者所述指令序列，完成服务 管理子系统于应用终端设备之间的通讯； 存储单元404，用于存储多个指令单元。</p>
    <p>优选的，为记录应用终端设备的更新日志，图3所述的服务管理子系统还 可以包括日志记录单元405，用于向系统数据库中记录操作日志。</p>
    <p>优选的，为解决数据传输过程中的安全性，图3所述的服务管理子系统还 可以包括加解密单元406，用于加密发送给应用终端设备的信息和解密从应用</p>
    <p>终端设备收到的信息。</p>
    <p>图4所示的服务管理子系统用于完成分布式业务系统的应用终端设备的</p>
    <p>软件更新，其中相关内容已经在图2和图3的描述中已经提及，因此，本部分</p>
    <p>未详尽之处，可以参见前述相关部分。</p>
    <p>参照图5,示出了本发明的应用终端设备的实施例的结构示意图。 所述应用终端设备与服务管理系统通过通讯网络相连，接收所述服务管理</p>
    <p>系统发送的指令参数信息和指令处理序列，并进行更新，包括以下部件： 通信单元501，用于完成应用终端设备与服务管理子系统之间的通讯； 指令序列执行单元502，用于根据所述指令序列调用所述指令单元和指令</p>
    <p>参数信息完成相应数据处理流程；所述指令序列包括所需的指令单元的标识信</p>
    <p>自&#8226;</p>
    <p>*&amp;，</p>
    <p>更新单元503,用于根据从所述服务管理子系统收到的指令序列和指令参 数信息更新应用终端设备中的软件；</p>
    <p>存储单元504,用于存储多个指令单元、指令序列和指令参数信息。</p>
    <p>优选的，为解决数据传输过程中的安全性，图4所述的应用终端设备还可 以包括加解密单元505，用于加密发送给服务管理子系统的信息和解密从服务 管理系统收到的信息；例如，本实施例可以实现基于银行卡的还款业务，通过 应用终端设备可以直接将银行卡信息以及密码进行加密，提高了安全性。</p>
    <p>优选的，应用终端设备和服务管理子系统的通讯方式可以是公用电话网、 GPRS或者CDMA等有线、无线网络。</p>
    <p>优选的，所述的指令序列为新业务流程，所述软件更新为应用终端设备用 新菜单项更新原菜单项。</p>
    <p>优选的，所述的所述指令参数信息为安全认证卡参数、待机提示信息或者 打印模版。</p>
    <p>优选的，所述应用终端设备还可以包括数据输入设备（例如，键盘）和读 卡器等外围设备。</p>
    <p>本发明所述的分布式业务系统不仅可以面向特约商户，也可以面向个人用 户，还可以提供给个体工商户这样的中小商户使用。例如，所述应用终端设备 为POS终端；或者所述应用终端设备与电话集成，置于家庭或者中小商户场所</p>
    <p>中使用。</p>
    <p>以上对本发明所提供的 一种分布式业务系统中应用终端设备软件更新的 方法、服务管理子系统以及分布式业务系统中应用终端设备，进行了详细介绍，</p>
    <p>说明只是用于帮助理解本发明的方法及其核心思想；同时，对于本领域的一般</p>
    <p>技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处， 综上所述，本说明书内容不应理解为对本发明的限制。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102223448A?cl=zh">CN102223448A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月22日</td><td class="patent-data-table-td patent-date-value">2011年10月19日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">一种信息提示方法、装置及终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102223448B?cl=zh">CN102223448B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月22日</td><td class="patent-data-table-td patent-date-value">2014年12月10日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">一种信息提示方法、装置及终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102707972A?cl=zh">CN102707972A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月2日</td><td class="patent-data-table-td patent-date-value">2012年10月3日</td><td class="patent-data-table-td ">银联商务有限公司</td><td class="patent-data-table-td ">一种pos终端程序更新方法与系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102707972B?cl=zh">CN102707972B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月2日</td><td class="patent-data-table-td patent-date-value">2016年3月9日</td><td class="patent-data-table-td ">银联商务有限公司</td><td class="patent-data-table-td ">一种pos终端程序更新方法与系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102708490A?cl=zh">CN102708490A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月17日</td><td class="patent-data-table-td patent-date-value">2012年10月3日</td><td class="patent-data-table-td ">福建三元达软件有限公司</td><td class="patent-data-table-td ">通过无线通信方式实现订单处理的系统及订单处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102708490B?cl=zh">CN102708490B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月17日</td><td class="patent-data-table-td patent-date-value">2015年9月30日</td><td class="patent-data-table-td ">福建三元达软件有限公司</td><td class="patent-data-table-td ">通过无线通信方式实现订单处理的系统及订单处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102999355A?cl=zh">CN102999355A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月16日</td><td class="patent-data-table-td patent-date-value">2013年3月27日</td><td class="patent-data-table-td ">福建联迪商用设备有限公司</td><td class="patent-data-table-td ">一种由终端管理系统管理的客户端应用软件系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102999355B?cl=zh">CN102999355B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月16日</td><td class="patent-data-table-td patent-date-value">2016年4月20日</td><td class="patent-data-table-td ">福建联迪商用设备有限公司</td><td class="patent-data-table-td ">一种由终端管理系统管理的客户端应用软件系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015070387A1?cl=zh">WO2015070387A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年11月13日</td><td class="patent-data-table-td patent-date-value">2015年5月21日</td><td class="patent-data-table-td ">Telefonaktiebolaget L M Ericsson (Publ)</td><td class="patent-data-table-td ">Method and provisioning node for updating a multi-value parameter</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=rQBaBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009445000">G06F9/445</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=rQBaBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012240000">H04L12/24</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2008年1月23日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年2月11日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">C12</td><td class="patent-data-table-td ">Rejection of an application for a patent</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/4cceb32707771f95d357/CN101110694A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%9A%E5%8A%A1%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%BA%94%E7%94%A8%E7%BB%88%E7%AB%AF%E8%AE%BE.pdf?id=rQBaBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2UUPN7dtbDNnqtlo_QWOE03ZXlng"},"sample_url":"https://www.google.com/patents/reader?id=rQBaBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>