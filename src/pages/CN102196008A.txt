<!DOCTYPE html><html><head><title>专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_5115ea495017d9115e613207d3810e5a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_5115ea495017d9115e613207d3810e5a__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="点对点下载方法、视频设备和内容发送方法"><meta name="DC.contributor" content="东&#23947;重树" scheme="inventor"><meta name="DC.contributor" content="刘立品" scheme="inventor"><meta name="DC.contributor" content="张志刚" scheme="inventor"><meta name="DC.contributor" content="王鸿鸣" scheme="inventor"><meta name="DC.contributor" content="藤井由纪夫" scheme="inventor"><meta name="DC.contributor" content="株式会社日立制作所" scheme="assignee"><meta name="DC.date" content="2010-3-8" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供一种下载方法，涉及互联网技术，P2P传输技术和内容划分等相关技术领域。用户从互联网上下载数据文件或者多媒体节目内容时，内容提供者或内容分享者根据节目的具体内容的属性不同，将同一个文件中的不同片段定义为不同的属性，并将这些片段进行归类，将归类信息提供分享给其他用户。当用户从互联网上下载该内容时，下载用户可以根据已知的归类信息，优先选择符合其属性要求的片段列表，优先下载和使用这些片段，并根据其需要扩充片段归类信息的下载，并提供片段级别的权利控制和管理策略。"><meta name="DC.date" content="2011-9-21"><meta name="DC.relation" content="CN:101217638:A" scheme="references"><meta name="DC.relation" content="CN:101459619:A" scheme="references"><meta name="DC.relation" content="CN:1968390:A" scheme="references"><meta name="DC.relation" content="JP:2001344242" scheme="references"><meta name="DC.relation" content="US:20090083812:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102196008:A"><meta name="citation_patent_application_number" content="CN:201010128804"><link rel="canonical" href="https://www.google.com/patents/CN102196008A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102196008A?cl=zh"/><meta name="title" content="专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法"/><meta name="description" content="本发明提供一种下载方法，涉及互联网技术，P2P传输技术和内容划分等相关技术领域。用户从互联网上下载数据文件或者多媒体节目内容时，内容提供者或内容分享者根据节目的具体内容的属性不同，将同一个文件中的不同片段定义为不同的属性，并将这些片段进行归类，将归类信息提供分享给其他用户。当用户从互联网上下载该内容时，下载用户可以根据已知的归类信息，优先选择符合其属性要求的片段列表，优先下载和使用这些片段，并根据其需要扩充片段归类信息的下载，并提供片段级别的权利控制和管理策略。"/><meta property="og:title" content="专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102196008A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102196008A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102196008A&amp;usg=AFQjCNEzmRKVoZIDr5608zm4mRzg0PEYgQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/8aeccc958ad530438354/CN102196008A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/8aeccc958ad530438354/CN102196008A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102196008A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102196008A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102196008A?cl=zh" style="display:none"><span itemprop="description">本发明提供一种下载方法，涉及互联网技术，P2P传输技术和内容划分等相关技术领域。用户从互联网上下载数据文件或者多媒体节目内容时，内容提供者或内容分享者根据节目的具体内容的属性不同，将同一个文件中的不同片段...</span><span itemprop="url">https://www.google.com/patents/CN102196008A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法" title="专利 CN102196008A - 点对点下载方法、视频设备和内容发送方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102196008 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010128804</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年9月21日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年3月8日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年3月8日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010128804.1, </span><span class="patent-bibdata-value">CN 102196008 A, </span><span class="patent-bibdata-value">CN 102196008A, </span><span class="patent-bibdata-value">CN 201010128804, </span><span class="patent-bibdata-value">CN-A-102196008, </span><span class="patent-bibdata-value">CN102196008 A, </span><span class="patent-bibdata-value">CN102196008A, </span><span class="patent-bibdata-value">CN201010128804, </span><span class="patent-bibdata-value">CN201010128804.1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%B8%9C%E5%B6%8B%E9%87%8D%E6%A0%91%22">东&#23947;重树</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E7%AB%8B%E5%93%81%22">刘立品</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E5%BF%97%E5%88%9A%22">张志刚</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E9%B8%BF%E9%B8%A3%22">王鸿鸣</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%97%A4%E4%BA%95%E7%94%B1%E7%BA%AA%E5%A4%AB%22">藤井由纪夫</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE%E6%97%A5%E7%AB%8B%E5%88%B6%E4%BD%9C%E6%89%80%22">株式会社日立制作所</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102196008A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102196008A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102196008A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (5),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (5),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010128804&amp;usg=AFQjCNFaOakacfJqxQ0M4q-d9P8x4Lu7sQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102196008A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEBXedLZjm_X24kl-bfKjipFoYQtg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT104525072" lang="ZH" load-source="patent-office">点对点下载方法、视频设备和内容发送方法</invention-title>
      </span><br><span class="patent-number">CN 102196008 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA86430364" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供一种下载方法，涉及互联网技术，P2P传输技术和内容划分等相关技术领域。用户从互联网上下载数据文件或者多媒体节目内容时，内容提供者或内容分享者根据节目的具体内容的属性不同，将同一个文件中的不同片段定义为不同的属性，并将这些片段进行归类，将归类信息提供分享给其他用户。当用户从互联网上下载该内容时，下载用户可以根据已知的归类信息，优先选择符合其属性要求的片段列表，优先下载和使用这些片段，并根据其需要扩充片段归类信息的下载，并提供片段级别的权利控制和管理策略。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(20)</span></span></div><div class="patent-text"><div mxw-id="PCLM36945275" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种下载方法，其特征在于：基于对内容进行个性化划分的个性化内容定义，对被划分为多个片段的目标文件进行个性化下载，所述方法包括以下步骤：A)下载客户端向内容提供者发出下载请求，下载目标文件中属于指定的个性化级别的片段；B)下载客户端对所下载的片段进行组合，组成符合所述个性化级别的要求的个性化内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的下载方法，其特征在于：所述个性化内容定义包括片段列表定义，根据每个所述片段的片段序号定义与个性化级别对应的片段列表，下载客户端按照所指定的个性化级别，只下载具有属于相应的片段列表的片段序号的片段。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求1所述的下载方法，其特征在于：所述个性化内容定义包括片段属性定义，对每个所述片段定义与个性化级别对应的片段属性，下载客户端按照个性化级别，只下载具有相应的片段属性的片段。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求1&#12316;3的任一项所述的下载方法，其特征在于：下载客户端向用户提供与多个个性化级别分别对应的选项，根据用户指定的选项确定需要下载的片段，向内容提供者发出所述下载请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求3所述的下载方法，其特征在于：内容提供者根据下载客户端发出的带有片段属性定义的下载请求确定需要下载的片段，供下载客户端进行下载。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求3或5所述的下载方法，其特征在于：根据目标文件的每一个片段的片段描述符获取所述每一个片段的属性，将所获取的属性与对应于所指定的个性化级别的片段属性进行匹配，确定需要下载的片段。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求1所述的下载方法，其特征在于：所述个性化内容定义包括对所述片段定义的播放偏移量，在对所述个性化内容进行播放时，根据所述播放偏移量跳过所述片段中的一部分数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求1所述的下载方法，其特征在于：下载客户端根据组合控制信息对所下载的部分内容进行组合，所述组合控制信息包括片段的标识、以及片段内用于组合的内容的位置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求7所述的下载方法，其特征在于：所述的组合控制信息包括片段内的起始地址和长度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求1所述的下载方法，其特征在于：所述个性化内容定义存储在用于P2P下载的种子文件内或种子文件外的其他文件，或者，所述个性化内容定义由用户临时指定，或者被嵌入在下载目标文件的内部。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11.	一种视频设备，其特征在于：基于对内容进行个性化划分的个性化内容定义，对被划分为多个片段的目标文件进行个性化下载和播放，包括：下载装置，向内容提供者发出下载请求，下载目标文件中属于指定的个性化级别的片段；组合装置，对所下载的片段进行组合，组成符合所述个性化级别的要求的个性化内容；和播放装置，对所述组合装置所组合的个性化内容进行播放。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.如权利要求11所述的视频设备，其特征在于：还包括选择装置，向用户提供与多个个性化级别分别对应的选项，供用户选择， 所述下载装置根据用户指定的选项向内容提供者发出所述下载请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求11所述的视频设备，其特征在于：所述下载装置，按照所指定的个性化级别，只下载具有属于相应的片段列表的片段序号、或相应的片段属性的片段。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.如权利要求13所述的视频设备，其特征在于：所述下载装置，根据目标文件的每一个片段的片段描述符获取所述每一个片段的属性，将所获取的属性与属于所指定的个性化级别的片段属性进行匹配，确定需要下载的片段。</div>
    </div>
    </div> <div class="claim"> <div num="15" class="claim">
      <div class="claim-text">15.	一种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：所述目标文件的内容的一部分是所述目标文件的内容所包含的内容片段中的多个内容片段，所述另一部分是除所述目标文件的内容的一部分以外的所述目标文件的一部分或全部的内容片段。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">16.	一种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：所述内容包括多个内容片段，在该内容片段的头部附加有片段头数据，所述片段头数据包括表示所述内容片段的属性的属性信息，在所述视频设备所要接收的所述片段头数据包含规定的所述属性信息的情况下，接收附加有所述片段头数据的内容片段，将这些所接收的内容片段再现后，接收所述片段头数据不包含所述规定的属性信息的内容片段，对包含所述规定的属性信息的内容片段和不包含所述规定的属性信息的内容片段进行再现。</div>
    </div>
    </div> <div class="claim"> <div num="17" class="claim">
      <div class="claim-text">17.	&#8212;种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：该视频设备能够与不特定的多个终端连接进行所述内容的发送接收，所述内容包括多个内容片段，这些内容片段存储在不特定的多个终端，所述视频设备从存储有表示所述内容的属性的多个属性信息和各属性信息所包含的内容片段序号的网络服务器接收规定的属性信息所包含的内容片段序号，从对所述不特定的多个终端所具有的内容片段进行管理的管理服务器接收具有所述内容片段序号的终端地址，从该地址的终端接收内容片段进行再现后，接收除所述所接收的内容片段序号以外的内容片段的一部分或全部的内容片段进行再现。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.如权利要求15&#12316;17的任一项所述的视频设备，其特征在于： 所述目标文件的内容的一部分的信息量比另一部分的信息量小。</div>
    </div>
    </div> <div class="claim"> <div num="19" class="claim">
      <div class="claim-text">19.	一种内容发送方法，对接收目标文件的内容的一部分进行再现后对另一部分进行再现的视频设备，经由网络发送所述内容，其特征在于：在所述目标文件的内容所包含的内容片段的头部，附加片段头数据，所述片段头数据包括表示所述内容片段的属性的属性信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.如权利要求19所述的内容发送方法，其特征在于：所述目标文件的内容的一部分的信息量比另一部分的信息量小。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES42614828" lang="ZH" load-source="patent-office" class="description">
    <p>点对点下载方法、视频设备和内容发送方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及互联网应用，数字广播，网络传输，P2P下载技术，音视频技术等领域。 主要应用了 P2P网络传输技术，多媒体压缩与传输技术等。</p>
    <p>背景技术</p>
    <p>[0002]	随着互联网的普及，互联网用户可以分享互联网上丰富的数据以及多媒体资源。 互联网上一种常用的数据共享方式是，内容提供者将内容放置在服务器上，用户从客户端连接到内容所在服务器，从服务器端下载位于该服务器上的共享文件。由于越来越多的多媒体内容在互联网上的共享，大数据量的传输造成了大量的网络传输资源占用，不仅影响到其他用户享用互联网传输的流畅性，同时对下载者本地资源和服务器资源都有很大的消耗。比如：大量的音视频资源占用了大量的服务器和客户端的存储空间，而且下载整个内容文件需要花费很长时间。网络共享内容良莠不齐，很多时候由于预先对文件内容的不了解， 下载的文件可能是错误或者不能满足要求的。有时下载过程中由于服务器的中断导致下载不能完成影响用户的使用。因此针对大数据量的文件共享需求一种点对点（P2P =Peer to Peer)的下载技术提供了一对多的下载方式，以解决服务器的负荷，并优化传输资源的合理利用。</p>
    <p>[0003]	P2P的下载原理是：内容提供者将内容按照一定的规则进行片段划分处理，将内容分割成大小一定的多个片段，然后将片段的划分规则和片段的大小信息生成一个索引文件，通过该索引文件，下载客户端就可以以片段为单位进行下载，并将这些片段按照索引文件信息进行重新组合，生成与原始文件一致的文件。以BT(BitTorrent)为例，其索引文件就是BT的种子文件，该种子文件大小相对于需要下载的目标文件来说占用空间非常小，用户可以很方便通过传统方式从互联网上下载得到。BT种子文件中除了包含片段划分规则信息外，还包含跟踪服务器（Tracker服务器）地址信息等。内容提供者将种子文件上传至互联网上供其他用户下载。当普通用户从网上下载了种子文件后，根据种子文件内容访问 Tracker服务器，然后Tracker服务器提供拥有该种子文件所对应的目标文件的客户端列表。下载客户端根据该列表访问各个拥有该内容的客户端，并向他们请求下载目标文件中的某一个片段内容，最后当所有的片段都下载完毕后，下载客户端根据种子文件将这些片段组装成与原始下载目标文件一致的文件，完成整个目标文件的下载过程。</p>
    <p>[0004]	P2P下载中，下载客户端可以同时和多个内容拥有客户端之间进行连接，实现一对多的下载，并根据网络传输优化算法，优先从与下载请求者之间传输速度比较快的客户端那里进行数据请求，实现最大效率的网络利用和最短的下载时间。P2P下载由于采用一对多的方式，下载速度快，可靠性高，现在已经成为互联网上主要的下载方式之一。</p>
    <p>[0005]	但是在P2P下载中，要求下载请求者必须下载完整个文件后才能够正常使用该文件。而实际情况中经常出现由于部分片段的拥有者数量非常少或者处于离线状态，导致整个文件中部分片段无法成功下载而影像到整个文件无法使用。同时，由于P2P下载中需要完整下载一个文件，因此下载量是固定的，每个用户为此付出的网络流量也是固定的，导致用户即便是只需要其中的部分内容，也要付出整个文件的网络费用及下载等待时间。</p>
    <p>[0006]	同时，随着版权意识的深入，网络上共享的文件的权利定义越来越细致，内容提供者希望通过详细的版权保护定义，更加细致地规定使用者的权利范围。具体来说，对于一个影片文件，虽然其整部影片由于商业原因限制了其不能完全免费公开给所有用户，但是其中的一些部分，如片花、内容预告以及广告片段等，内容提供者希望无偿提供给所有用户， 以吸引更多的人认识该影片的内容并进行合理的商业下载。当前的解决办法是将这部分内容独立抽取出来作为一个额外的文件，伴随着影片或者独立于影片文件进行发布，免费用户可以下载这部分花或者预告片等内容，而不能下载或播放完整的影片。这无形中增加了下载文件的数量以及下载传输数据量。同样，对于影片内部的不同内容，可能适合不同的用户收看，比如有些内容涉及恐怖、暴力等内容并不适合未成年人收看，此时如果对电影根据内容进行不同的分级，按照不同的文件进行发行，必然造成管理的复杂化和更大的下载流量，不方便节目的制作和用户的下载。</p>
    <p>[0007]	总之，当前的P2P下载中优先考虑下载速度以优化网络传输性能，并没有充分考虑下载请求者对内容的需要程度以及下载请求者的网络使用状况，所有的用户都是需要对目标文件进行完整下载。同时对于如何使用所下载的目标文件，也不能提供任何的个性化建议。当前P2P下载方式是以速度优先，而没有充分考虑每个片段对使用者的需求程度。</p>
    <p>[0008]	为了弥补当前P2P下载的一些局限性，很多新的实现方法对其进行了扩充，以支持特殊的应用。如对实时收看的流媒体情况，需要对片段的优先顺序按照在流媒体中出现的先后顺序进行调度，使需求更为急迫的片段优先拥有下载权利即使其下载速度较慢，而急迫性较低的片段虽然拥有更高的下载速度也被设置为较低的下载优先权。这类解决方法如公知例：基于P2P协议的媒体文件播放控制方法及装置[CN101227590A]。</p>
    <p>[0009]	该公知例公开了一种面向媒体文件点播的P2P下载控制方法和装置，其核心在于，对流式媒体文件点播，优先地下载文件控制信息所在的控制信息部分分片，对非流式媒体文件点播，优先地下载文件控制信息所在的控制信息分片以及索引信息所在的索引信息分片，从而实现媒体文件在P2P协议下的边下载边播放。其关键点是根据流媒体当前的播放位置，优先下载距离当前播放位置最近的片段，即根据当前播放位置的时间距离决定片段的优先下载顺序。</p>
    <p>[0010]	另外，作为另一公知例[日本特开2001-344242]，公开了先从服务器接收内容的一部分进行再现后根据需要接收全部内容的视频设备。例如，在该专利文献中，记载了一种便携终端装置，从服务器接收了电影的预告片之后，如果用户表示想观看完整的影片，则开始接收独立于上述预告片的完整影片。</p>
    <p>发明内容：</p>
    <p>[0011]	公知例[CN101227590A]中提供了一种针对音视频点播的媒体文件应用，按照其应用的特点对P2P下载中片段下载的优先顺序进行动态调整和下载优化，解决了普通P2P 不能满足实际点播业务需求的一些不足，有效的确保了点播业务中媒体文件的实时性和播放的流畅性。但是该公知例不能面向不同用户提供个性化的下载和收看方式。</p>
    <p>[0012]	在某些流媒体应用场合，比如下载客户端的速度有限制，即使是优化后的片段下载顺序或者连续下载都不能保证流媒体正常播放的需求，此时的实时播放就会出现内容欠</p>
    <p>6载而导致视频的暂停。同时对非流媒体文件，同样需要下载完全部的文件片段后，下载用户才可以将所有片段根据种子文件的顺序进行重新组合，形成一个完整的文件后，才能开始使用此文件。而在所有的片段下载完毕之前，该文件仍然不能使用，或者使用有一定的问题。而针对音视频媒体文件的特性，用户更加关注的内容往往是其中的部分内容。比如，很多情况下，针对一个影片，用户可能更加希望观看其中的精彩部分，或者希望优先下载其精彩片段用于收看，缩短全部内容下载所需要的等待时间，然后在空闲的时间根据需要再选择其他部分进行收看。或者希望下载其中的内容预告部分来大致了解此影片的故事梗概， 或者确认影片内容以及画面质量等等。这些对下载目标文件的部分内容感兴趣的需求是实际存在的，而现在的P2P技术并不能给出很好的解决办法。因此本发明提出了一种P2P的下载方法，支持部分片段的下载并使用，同时也支持用户在收看后对影片精华部分进行自定义，用于反复收看或推荐其他人收看等等。并为不同的用户提供不同的下载播放等级，有利于进行家长控制或版权保护等。</p>
    <p>[0013]	因此，本发明的一个目的在于，提供一种P2P下载方法，使得下载用户可以根据自己的具体需求，有选择的下载并播放所需要的内容。</p>
    <p>[0014]	另外，公知例[日本特开2001-344242]公开的视频设备，在接收完整的影片之前， 先了解此影片的故事梗概，再判断是否接收完整的影片，因此不必先接收完整的影片。但是，该视频设备存在以下课题：在接收了预告片等部分内容进行再现之后，如果再重新接收完整的影片，由于部分影片内容既属于预告片中的部分，也属于完整影片的部分，再次下载这部分重叠的内容，则会浪费通信资源和通信时间。因此，本发明的另一目的在于，提供能够节约接收影片等内容时的通信资源和通信时间的视频设备和内容发送方法。</p>
    <p>[0015]	本发明提供的一种P2P下载方法，其特征在于：基于对内容进行个性化划分的个性化内容定义，对被划分为多个片段的目标文件进行个性化下载，所述方法包括以下步骤： A)下载客户端向内容提供者发出下载请求，下载目标文件中属于指定的个性化级别的片段；B)下载客户端对所下载的片段进行组合，组成符合所述个性化级别的要求的个性化内容</p>
    <p>[0016]	本发明提供的一种视频设备，其特征在于：基于对内容进行个性化划分的个性化内容定义，对被划分为多个片段的目标文件进行个性化下载和播放，包括：下载装置，向内容提供者发出下载请求，下载目标文件中属于指定的个性化级别的片段；组合装置，对所下载的片段进行组合，组成符合所述个性化级别的要求的个性化内容；和播放装置，对所述组合装置所组合的个性化内容进行播放。</p>
    <p>[0017]	本发明提供的另一种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：所述目标文件的内容的一部分是所述目标文件的内容所包含的内容片段中的多个内容片段，所述另一部分是除所述目标文件的内容的一部分以外的所述目标文件的一部分或全部的内容片段。</p>
    <p>[0018]	本发明提供的另一种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：所述内容包括多个内容片段，在该内容片段的头部附加有片段头数据，所述片段头数据包括表示所述内容片段的属性的属性信息，在所述视频设备所接收的所述片段头数据包含规定的所述属性信息的情况下，接收附加有所述片段头数据的内容片段，将这些所接收的内容片段再现后，接收所述片段头数据不包含所述规定的属性信息的内容片段，对包含所述规定的属性信息的内容片段和不包含所述规定的属性信息的内容片段进行再现。</p>
    <p>[0019]	本发明提供的另一种视频设备，经由网络接收目标文件的内容的一部分进行再现后，接收另一部分进行再现，其特征在于：该视频设备能够与不特定的多个终端连接进行所述内容的发送接收，所述内容包括多个内容片段，这些内容片段存储在不特定的多个终端， 所述视频设备从存储有表示所述内容的属性的多个属性信息和各属性信息所包含的内容片段序号的网络服务器接收规定的属性信息所包含的内容片段序号，从对所述不特定的多个终端所具有的内容片段进行管理的管理服务器接收具有所述内容片段序号的终端地址， 从该地址的终端接收内容片段进行再现后，接收除所述所接收的内容片段序号以外的内容片段的一部分或全部的内容片段进行再现。</p>
    <p>[0020]	本发明提供的一种内容发送方法，对接收目标文件的内容的一部分进行再现后对另一部分进行再现的视频设备，经由网络发送所述内容，其特征在于：在所述目标文件的内容所包含的内容片段的头部，附加片段头数据，所述片段头数据包括表示所述内容片段的属性的属性信息。</p>
    <p>[0021]	本文所述的发明，在基于P2P基本原理的基础上，通过对具体的文件，根据片段本身所含内容以片段为单位进行片段属性定义，生成不同的片段组合，并将这些组合通过种子文件、Tracker服务器、片段属性定义或者其他方式，将片段组合的定义分发推荐给下载用户。下载用户可以根据自己的具体需求，参考个性化片段组合，有选择的下载所需要的片段。该方法提供了一种人性化和个性化的下载方式，优化了下载片段的下载优先顺序，减少了网络传输数据量，减少了本地存储所需空间，加快了下载的速度，同时能提供一种下载、 播放和管理的方法。</p>
    <p>[0022]	而且，利用本发明的视频设备，能够节约接收影片等内容时的通信资源和通信时间，提高通信速度。</p>
    <p>附图说明：		[0023]	图1 ：	：本发明的基本原理[0024]	图2:	：标准BT种子文件的主要构成[0025]	图3:	：该方法所示的P2P下载方式[0026]	图4 ：	：本发明所示BT种子文件的主要构成[0027]	图5:	：MPEG帧结构简介[0028]	图6 ：	:MPEG帧的数据量大小与P2P下载中片段划分[0029]	图7:	：下载片段序列及播放时内容[0030]	图8 ：	：下载客户端工作流程1[0031]	图9 ：	：种子文件的定义[0032]	图10	：包含片段控制头的片段[0033]	图11	：片段结构定义[0034]	图12	：下载客户端工作流程2[0035]	图13	：下载客户端以属性方式进行内容定制请求[0036]	图14	：片段描述符中可包含的信息[0037]	图15 ：应用本发明的一种视频装置的示意图。 具体实施方式</p>
    <p>[0038]	本发明是基于现有的P2P的基本原理，即对目标文件进行片段划分，将下载单位从以文件为单位，缩减到以片段为单位进行下载。这种方法可以实现对一个文件同时从多个内容拥有者处下载不同的片段，实现了一对多的下载方式，从而提高了下载速度。</p>
    <p>[0039]	BT下载作为本发明的一个基础之一，首先我们对其原理进行简单介绍。在BT下载中，作为文件分片的关键索引信息，种子（seed)文件的作用至关重要，其中规定了所要下载的目标文件的文件信息，文件名，目录名，长度等，然后规定了目标文件的分片状态（如片段划分大小PieceJength)和每一个片段的校验码（hash值），用以对下载片段数据完整性和正确性进行校验。同时种子文件中还定义了下载客户端获取拥有该目标文件内容的客户端列表的Tracker服务器（announce tracker)。通过该服务器，下载客户端可以获取其他拥有该内容用户的列表，以及需要下载的目标文件中每一个片段的拥有者。通过这些信息，下载客户端可以直接请求其他客户端以获取指定的目标文件片段，实现不同片段的并行下载。</p>
    <p>[0040]	在BT下载中，数据的请求端和数据的提供者之间通过BT协议来进行信息交互。BT 的基本原理可以参考BT官方协议定义书。这里将列举其中几个重要交互信息协议内容。</p>
    <p>[0041]	Have信息，用于表示当前本地所已经下载的且经过校验的数据片段ID</p>
    <p>[0042]	Bitfield信息，用于标示当前本地所拥有的全部片段集合的位置位图表，用以标示本地所拥有的片段状态。</p>
    <p>[0043]	Request信息，用以下载请求端向内容提供者的请求下载信息，包括请求的片段 ID，请求数据片段内的起始位置（相对片段头的偏移量）和请求下载的数据长度。</p>
    <p>[0044]	Piece信息，用以内容提供者向下载请求端提供其所需要的数据。</p>
    <p>[0045]	通过以上几个主要信息，下载请求端和内容提供者之间可以互相知道对方拥有的片段的情况，并且可以进行片段实际数据的传递。</p>
    <p>[0046]	基于以上BT下载原理和协议简介，本发明将提供一种P2P下载方式，支持文件分片下载机制，同时支持不同片段组合下载与播放，通过对不同片段根据其具体内容属性进行定义，极大的方便了基于文件片段的各种应用。</p>
    <p>[0047]	在本发明中，通过在种子文件中对片段按照不同内容级别划分和播放是通过多种方式进行实现的，可以通过种子文件中直接定义各个个性化播放级别所对应的片段列表， 或者是从文件头的偏移量，或者定义个性化播放使用的片段属性，通过配合片段内的片段属性，有效选择符合其属性的片段序列进行下载和播放。所以在本发明中，具体的实施方法有多种，可以通过定义个性化种子文件，可以是种子文件的附加个性化内容，也可以是用户自定义的片段序列，或者是来自其他用户或者内容提供者或者是网络上的推荐信息包含对该目标文件中片段归类信息的内容。</p>
    <p>[0048]	在得到了片段列表后，下载客户端根据其对个性化级别（Profile)的选择，得到需要下载的该目标文件中的片段列表，然后只下载属于用户选中的个性化profile中定义的片段，而不用全部下载属于该目标文件中的所有片段。在播放过程中，将这些下载的片段（或者是该目标文件中的全部的片段）根据profile中片段序列的定义，对其进行重新排列，组成一个符合profile中定义的目标文件中的部分内容，然后以文件的形式呈现给用户（而在普通的BT下载中，只有所有的片段都下载完毕后才以目标文件的形式呈现给用户）。用户就可以播放属于该profile定义的目标文件中的内容。</p>
    <p>[0049]	比如图1中，profile-Ι定义的是“预告片”，下载过程中下载客户端根据“预告片profile”中定义出的片段列表，向内容提供者请求下载属于“预告片profile”片段列表中的片段，然后组合成目标文件的预告片内容。而内容提供端依旧以一个完整的目标文件形式存在，不需要提供独立的预告片文件而占用额外的空间，在下载客户端则可以依赖 profile的定义，将目标文件生成多种形式的内容级别文件，而同时并不会占用额外的磁盘空间，只是将目标文件以一种片段库的形式存在，在下载和播放过程中根据profile的定义取出其中的部分片段用于播放。</p>
    <p>[0050]	如果用户选择完整下载（同样为个性化profile的一个划分级别：完整下载），则属于目标文件的所有片段都会被下载、存储，这种情况类似于现存的普通的P2P下载方式。 所以该发明完全兼容现有的下载方式，而同时提供更加多样的个性化下载和播放控制。</p>
    <p>[0051]	需要说明的是，本发明中虽然基于BT的下载原理，但是其应用场景并不局限于BT 的下载过程中，本文所述的方法完全可以被利用在整个P2P下载方式中（包括BT下载， emule下载以及迅雷、快车等等的点对点下载方式中），以及类似网络传输中，还可以利用在音视频的广播和下载中以及其他以包或者片段为单位的下载方式中，还可以被利用在以片段或者包为单位进行数据交换的网络传输或者广播信号的传输中，如IP网络或者数字广播信号的传送。该方法通过用户的选择或者视当时的传输情况，手动或者自动选择其中的部分包或者片段进行下载，综合考虑各种因素，提供给用户多种个性化选择方式。需要指出的是，内容包或者片段的选择可以是用户指定的，也可以是来自于服务器推荐的，也可以是内容提供者或内容拥有者推荐的，或者可以是系统自动根据当时状况推荐的等等，可以是预先定义的，也可以是实时变化的。</p>
    <p>[0052]	图1显示了本发明的基本原理。在图1中，内容提供者发布了希望共享的原始文件，对下载请求者来说是希望下载的目标文件，其中包括所述目标文件中的所有内容，按照 P2P的下载方法，首先对目标文件进行片段划分处理，将内容提供者提供的原始文件分割成大小相等的若干片段（对不同的网络应用，包或者片段的划分规则不同，也可能出现划分的片段大小不一样的情况）。标准的BT下载方式中，这些片段将通过种子文件进行连接，下载客户端将从不同的内容提供者那里同时下载不同片段的内容，然后按照种子文件中的定义进行校验和组合，最终形成与内容提供者提供的文件一致的目标文件，实现完整的下载过程。</p>
    <p>[0053]	而在本发明所述的方法中，内容提供者或者Tracker服务器向下载客户端提供了多种下载或者包括播放的个性化选择方式，如图1所示的proile-l，profile-2等等。不同的profile定义了不同的内容片段组合，这些片段同样属于内容提供者提供的原始文件中的一部分。如profile-Ι的属性为完整目标文件的预告片，其中包括了第一，第二片段等， 而其他片段并没有包含在profile-Ι定义中。同样对于profile-4所示，其中大部分片段属于prof i le-4中的定义，而有些片段由于内容可能不适合未成年人观看，因此在prof i le_4 中并没有包含这些片段。对于这些profile对应的内容，并没有包含所有的目标文件中的片段，因此下载请求客户端如果选择这些下载方式，则只需要下载属于其选定的profile中定义的片段内容，即可享受到所选定的profile的内容，并且进行播放欣赏。按照这种方法，用户只需要下载部分内容，即可欣赏到其所选定等级的播放方式，极大的减少了下载的网络带宽、下载所需要的等待时间以及为之所付出的下载费用等。根据所选等级的下载/ 播放方式，用户可以根据这些部分内容主观地评判该目标文件是否值得进行完整下载。如果用户根据初始等级选择部分下载，而播放后希望完整的欣赏这些影片，则只需要重新选择内容更加丰富的Profile进行下载，而此时，由于部分片段已经为之前选定的profile定义并且已经进行了下载，此时只需要将现在需求的prifile和之前的profile进行简单差分比较，确定出需要追加下载的内容片段，将这些追加的片段进行下载。在下载完毕后根据新选定的profile进行重新组合，提供用户全新的欣赏内容。</p>
    <p>[0054]	而在如profile-3的定义中，包含了所有属于原始文件中的内容片段，而同时将一些片段在文件的末尾进行了重新追加，因此profile-3需要下载所有的原始文件中的片段，同时在播放的时候提供了额外的精彩回忆部分，而这些片段属于原始文件中，因此无需要追加下载内容的大小而在播放时候提供了更加自由的欣赏方式。</p>
    <p>[0055]	使用本发明所描述的下载方法，不增加额外的下载内容大小而提供了多种自由选择的下载和欣赏等级，减少了网络占用和下载时间以及本地磁盘空间占用，为用户的下载和欣赏提供了更加自由的方式。而在普通的P2P下载方式中，不同等级的欣赏内容则需要分别下载不同的文件，而这些文件中的大部分内容可能是重复的，使用该发明所述方法，则尽可能避免数据的重复下载而提供多种个性化的下载/播放选择。</p>
    <p>[0056]	在本发明中，提供了一种个性化选择下载/播放片段的P2P下载方式。原始的P2P 下载方式虽然对目标文件进行了片段划分，但在下载和播放时并没有基于片段的划分方式，而仍旧需要下载和播放整个文件的方式，即以文件为单位的下载/播放方式。而在本发明中，下载和播放的方式则以P2P下载的片段为单位，进行片段个性化选择的下载和播放， 而这些个性化定制信息则直接定义了以片段为单位的属性信息，即Profile的定义。而在本发明中，并没有限制这些个性化片段属性信息的定义方式，可以是直接定义在BT种子文件中，可以是作为每个片段额外的信息插入在片段内容之前或之后或之中，也可以是直接嵌入在每个片段的内容之中，或者是作为一个独立存在的文件形式而存在。而这些对每个片段属性定义的信息，既可以是种子文件中的一部分随着种子文件分发给各个下载用户， 也可以是独立于种子文件而存在的，通过内容提供者、Tracker服务器或者是提供下载的其他客户端提供，或者是下载者自己定义的方式，也可以是用户根据其他信息（如互联网上的评论或者其他用户的口头推荐等）等等方式实现的。</p>
    <p>[0057]	图2显示了以BT为例子的BT种子文件的标准形式，其中定义了 Tracker服务器地址，下载的目录及文件名称列表，每个片段划分的片段长度，以及每个片段的校验码（Hash</p>
    <p>值）等等。</p>
    <p>[0058]	通过此BT种子文件，用户可以得到Tracker服务器的地址，通过此地址访问 Tracker服务器（可以有多个Tracker服务器)。然后Tracker服务器向下载客户端提供拥有该目标文件的其他客户端的地址列表以及其有用的属于该目标文件的片段状态，下载客户端可以通过该列表访问其他的客户端进行连接，然后进行实际的片段数据交换。</p>
    <p>[0059]	图3显示一般的BT下载方式的连接状况，也是本发明所示的连接方法之一。下载客户端通过其他网络方式（HTTP，FTP等）从互联网上得到需要下载的目标文件（或者文件夹）的种子文件，种子文件的结构方式定义在图2中。在图3中，下载客户端 (Downloaderclient)首先通过图2所示的已经下载到本地的BT种子文件，连接到种子文件中所示的Tracker服务器，通过此服务器得到其他拥有该内容的内容提供客户端列表 (Content Provider-I, ..., η)，然后下载客户端分别连接其他的内容提供者客户端，然后根据BT协议分别向内容提供者客户端请求下载片段的数据。每个片段的长度和校验用的 hash值存储在BT种子文件中。每从其他客户端那里下载到一个完整的片段内容，通过此片段所对应的校验hash值进行校验，以确定该片段的正确性，如果正确则下载到本地的片段文件标记为成功下载，如果校验错误则需要重新下载该片段。</p>
    <p>[0060]	通过之前所述的BT协议方式，下载客户端与其他内容提供者客户端之间的信息交换可以有多种信息内容，包括下载客户端/内容提供者客户端所拥有的片段列表状态， 以及请求的片段ID，以及所请求的片段内的具体数据（即BT协议中Piece协议，包括片段内的起始位置，请求的数据长度等等）。同样，内容提供者客户端则向下载客户端发送其所申请的片段信息具体内容。然后下载客户端将这些同属于一个片段的内容组合起来，然后进行hash校验，校验成功后将整个片段内容存储于本地的存储器中并更新自己的实际片段拥有状态。下载客户端可以同时向多个内容提供者客户端申请属于不同片段的内容，也可以同时申请属于相同片段的不同位置的内容，从而实现多段内容的同时下载。</p>
    <p>[0061]	需要指出的是，下载客户端以及其他内容提供者客户端都可能随时根据需要成为内容下载客户端或者内容提供者客户端，并且根据需要随时/定期向Tracker服务器更新自己的状态信息，以便Tracker服务器能够掌握当前整个网络中拥有该内容的客户端列表以及其状态。</p>
    <p>[0062]	图4给出了本发明所述方法的一种实施办法，即目标文件内容分类信息嵌入在BT 种子文件内部的一种实现方式。如图4所示，本发明所示的种子文件包含了标准BT种子文件（图2)中的所有内容，同时在种子文件中定义了 Profile的信息。在图4中定义了两个 Profile (Profile-Ι和Profile-2)，其分别代表了是“预告片”和“精彩章节”两种不同的个性化选择。之后定义了整个个性化片段的一些具体属性，如该个性化片的时间长度（也可是是以字节为单位的长度等），适合的人群（Audience)。最重要的是该个性化内容（即所述的profile)所对应的片段列表，该处所述的片段于图1中所示的片段和标准BT中对片段的划分是一致的。但是与标准的BT种子文件所不同的是，在标准的BT种子文件中包含整个目标文件的所有片段，即从1到η(最后一个片段）的一共η个片段。而在本发明所示的方法中，其片段并不是所有的η个片段，而是多个片段的组合，其中很多片段之间可能是不连续的，如在profile-Ι中并不包含第3片段。同样在其他的profile定义中也可能只包含η个片段中的一部分片段。</p>
    <p>[0063]	同时在图4本发明中所示的BT种子文件中，还可能包括用于该profile播放时状态的一个定义（piece_playback_offset)，如图4中定义了对于每一个片段在该profile状态下用于播放时候的片内数据。如对于第1片段，其段内偏移量为100，即片内的0-100字节的内容并不用于播放，而对第4片段，其偏移量为-100，即片段后部的100个字节并不用于播放。同样还可以是有些片段前后部分都有些需要跳过而只播放片段中部的一些数据。 如第χ片段，只播放从200字节到-300字节之间的数据。</p>
    <p>[0064]	之所以这样做是因为：首先为了保持与P2P下载协议的一致性，片段作为P2P下载的最小单位，进行下载和用于Hash值的校验以确定整个片段是否完整下载，而并不能实现片段中随机的部分的内容下载的校验。其次考虑到BT对文件的片段划分并不是基于内容的，而只是按照文件长度进行等大小的划分，而包含该需要数据的片段可能是位于某一个片段的内部，而这个片段之前的部分内容并没有实际的播放用途，而BT下载又要求下载整个片段，因此需要定义下载片段和下载片段中由于播放的内容在片段内的偏移量，方便在播放过程中的存取。同时，很多的音视频文件中，其编解码的要求，很多视频帧之间有一定的关联性，比如在MPEG视频编码中，P帧的播放依赖于之前的I帧，因此必须将包含I帧的片段进行下载，而在具体播放中，可能并非从I帧开始播放，而是直接从某一个P帧或者B 帧进行播放，但是这些I帧的数据还是需要的，只是在播放过程中直接跨越了 I帧进行播放而已。因此个性化的下载和个性化的播放存在有一定的关系而并不一定完全一致。</p>
    <p>[0065]	举例说明piece_playback_0ffset的功能。图5所示的为当前视频中常用的MPEG 编码方式的帧结构简介。在MPEG系统中，视频帧数据基本包含三类，即I帧，B帧和P帧，其中I帧为独立编码帧，B帧和P帧分别为后向预测帧和前向预测帧，B帧和P帧为非独立编码帧，即B帧和P帧的完整数据需要依赖I帧的数据进行还原。如图5中，在视频播放时，I 帧，B帧和P帧是相互交叉形成等时间间隔视频帧输出到显示屏幕上。然而，在每一帧的数据量上则大有不同。如图6所示，由于I帧为独立编码帧，不依赖于其他帧的数据即可完整显示，所以I帧的数据量比B帧或P帧都要大。而B帧和P帧如果需要还原成完整的用于显示的帧数据，则依赖于其相关的完整的I帧数据，因此如果没有对应的I帧数据，B帧和 P帧则不能被解码，也不能被完整显示。通常在这种情况下根据不同设备的策略，会出现屏幕上出现大面积马赛克或者根本没有显示。</p>
    <p>[0066]	而在网络传输中，尤其是基于等大小分片机制的P2P传输中，网络传输数据并不关心编码过程中的内部帧结构，在这种情况下，如果有一个I帧数据没有完整下载，则会导致与其关联的其他帧也不能解码和显示，即一段时间内无法解码和显示。如果按照现有的 P2P下载方式，如果其中的一些片段没有下载，则会导致与其关联的许多片段视频无法播放，很多情况下会致使整个视频无法播放，这就是当前现有P2P传输中由于没有完整下载而导致整个视频无法播放的原因之一。如图6中，Piece-I和piece-2的分界被划分在第 7帧的内部，如果piece-1没有被成功下载而piece-2被成功下载，则会导致标号为1的I 帧没有被下载到本地，受其影响，依赖标号为1的I帧数据才能解码的2，3，4，5，6，7，8，9，10 都无法解码和播放。由于piece-2的成功下载，致使标号为13的I帧可以被解码，则依赖与标号为13的I帧存在的11，12，14等帧都可以被正常解码和显示。</p>
    <p>[0067]	当然导致无法播放的原因有很多，如校验数据没有下载导致相关数据错误导致， 或者是其他编码方式的视频由于数据不完整导致部分或者整个视频文件无法播放等等。</p>
    <p>[0068]	图6所示的片段划分和实际视频帧结构的关系中可以看到，在piece-2中，由于前面的7，8，9，10等帧数据虽然随着piece-2被下载下来，但是不能够解码和显示，因此如果通过指定Piece内的播放偏移量playback_0ffset，则可以让播放器自动跳过无法正常解码和显示的数据，从第11帧进行解码和显示，则不会对播放器造成错误影响。因此通过定义片内播放偏移量，可以将下载的个性化内容定义中定义的片段中用于播放的数据进行重新连接，组成可以播放的个性化内容文件。即并不是将这些片段进行简单叠加，而是将其中可以正常解码和显示的数据有机连接起来，形成一个可播放的个性化内容。[0069]	如图7所示，个性化内容定制要求X，Z，M，N片段都要下载，而同时片段播放偏移量使得这些片段中只有部分内容用于播放，如图7所示组装后的可播放的内容部分。但是这些片断中“下载不用于播放的数据”也会被保存在本地，以供以片为单位的数据校验，以及将来的文件扩充。</p>
    <p>[0070]	图8显示了下载客户端的个性化下载和播放的基本流程。首先用户从互联网上或者其他方式得到了个性化BT种子文件，然后下载客户端软件打开并读取该个性化BT种子文件（SOl)；并按照种子文件中定义的一些方式进行识别（S02)；能够识别出图4中所定义的一些个性化信息，然后将这些个性化选项提供给用户选择（S03)，如用户可以选择 Profile-l(预告片）也可以选择Profile-2(精彩章节）等等；之后下载客户端按照用户选择的Profile中所定义的片段列表进行下载（S04)；同样下载完毕每一个片段后，按照BT 种子文件中包含的对应片段的Hash值进行校验，如果校验正确则表示该片段下载成功，在所有的profile对应的片段下载成功后，将这些片段按照Profile所规定的次序和方式进行组合（S05)；然后根据个性化种子文件中对应于该Profile所定义的播放方式进行播放 (S06)，实现了个性化下载和个性化播放。由于对片段的个性化定义对应于片段本身数据来说其数据量是非常小的，因此该个性化定义方式对BT种子文件的影响非常小，并且完全兼容现有的BT下载方式，同时并不对下载目标文件本身有任何的影响。</p>
    <p>[0071]	作为本发明的第二种实现方式，如图9中所示，在种子文件中属于每个Profile 的具体片段内容分级以片段属性的形式进行了定义，如Profile-I的片段属性为A，而对 Profile-2的片段属性为B。在实际的目标文件划分过程中，通过在片段内容的内部嵌入片段属性控制信息，如图10中所示的在每一个片段具体数据之前加入片段描述符（Piece_ descriptor)从而增加了对该片段的更多描述，使得每一个片段都可以根据内容进行个性化描述，如片段1属于A属性，片段2属于B属性，而片段η可能既属于A属性也属于B属性。这样，每个片段的结构定义就类似于图11所示的结构定义方式。既每个片段具体数据之前加入了片段描述符。</p>
    <p>[0072]	在具体的下载过程中，如图12所示。下载客户端首先读取个性化BT种子文件 (Sll)；并识别个性化BT种子文件（S12)；通过识别BT种子文件中对内容的分级，提供给用户一个对内容的选择策略（S13)；在用户选择后，确定需要下载的片段的具体属性。然后下载客户端需要下载每一个目标文件片段的片段描述符（S14)，获取每一个片段的具体属性， 以确定实际的目标文件中哪些是用户希望下载的片段（S15)；然后根据（S13)中用户的选择和实际的每个片段的属性定义（S15)进行匹配，确定哪些片段是用户希望下载的，哪些是不希望下载的（S16)；然后对希望下载的片段进行下载和组合（S17)，而对于不属于用户选择的Profile级别的内容，放弃对剩余具体片段数据的下载（S19)。最后根据Profile定义的方法进行播放（S18)，从而实现了个性化下载和个性化播放。</p>
    <p>[0073]	需要指出的是，由于片段描述符（Pieddescriptor)相对于片段的具体内容 (Data)来说，其数据量是非常小的。如pieddescriptor可能只有几个位（bit)或者几个字节（Byte)长度，而具体片段内容data，可能是几兆字节长度，片段描述符相对于具体数据几乎可以忽略，因此这种方法对片段的划分几乎不产生影响，对下载数据量的增加时微乎其微的。或者，这样的片段属性控制信息可以直接嵌入到片段原始内容（data)内部，即占用Data中的几个bit位置，用于描述该片段的属性，这样完全不增加原始目标文件的划分方法和内容大小，而嵌入了控制信息用于用户的个性化下载和个性化播放，虽然这种嵌入在data内部的方法对原始文件有一点点的修改。而在音视频文件中，由于其具体的现实和播放效果并不会由于几个bit的变化而在画面和音质上有明显的变化，因此该方法在音视频文件下载和播放中是完全可以允许使用的。</p>
    <p>[0074]	在本发明所述方法中，在实际的传送过程中使用的传送协议同样可以采用BT传输中使用的传送协议。举例来说同样进行：</p>
    <p>[0075]	1)状态交换协议：当前本地已经成功下载并校验正确的块列表；</p>
    <p>[0076]	2)数据请求协议：下载请求端将希望下载的目标文件中的块的ID，所请求块的内部数据开始位置以及请求数据的长度；</p>
    <p>[0077]	3)数据传送协议：内容提供者传送给下载请求端目标文件中的具体数据，包括目标文件中的块的ID，所传递的块的内部数据开始位置以及请求的数据长度，然后是具体的块内数据内容。</p>
    <p>[0078]	以上所述3个协议是BT传送协议中的标准协议，同样适用于该方法的使用。</p>
    <p>[0079]	在本发明所述的第一种实现方法中，由于对BT种子文件进行了扩充，使得种子文件中能够提供更多的信息。该处所说的种子文件可以是如图4所示的种子文件的扩充，即在传统种子文件中追加对个性化Profile信息的定义，也或者可以是传统的种子文件，通过外部定义的一些Profile信息（可以是文件形式，也可以是一些设置）而并非在种子文件内部，也可以是种子文件内部定义一部分，而其他一部分定义在种子文件外部等等多种方式。通过这些额外的信息定义了一些个性化Profile内容，并且这些个性化内容可以为下载客户端所使用的下载工具识别，转换为多种块的组合，从而根据不同的需要，向内容拥有者进行不同的数据请求以满足不同客户或者不同级别的需求。这就要求下载客户端能够根据个性化信息或者个性化用户配置，支持有选择的进行块数据的请求，并将接收到的数据按照个性化需求进行重新组装，并且支持不同个性化配置之间的切换。</p>
    <p>[0080]	作为第二种方法的另外一种实现形式。对于图10中，除了内容下载请求客户端首先下载每个片段的片段描述符进行自己判断外，还可以将请求属性通过请求协议传输给内容提供客户端，内容提供客户端在收到带有内容属性的内容请求时，首先将请求的内容属性与所有片段中的片段描述符中所记载的属性进行匹配，然后整理出符合内容请求者要求的片段序列，再将这些片段内容传送给内容请求者。这种方式对片段内容的判断是在内容拥有者方面完成的。</p>
    <p>[0081]	如图13所示，由于在个性化内容定义中已经标记了不同的内容属性代号对应不同的内容分类，如“A”代表“内容简介”。如果用户希望下载属于“内容简介”的内容，只需要将属性“A”通过网络通知一个或者多个内容提供者（S21)，内容提供者得到来自下载客户端的请求信息后，即可以了解到内容下载请求者的需求，而在内容提供者端，已经拥有了一些片段的具体内容，因此内容提供者端即可将下载请求者的需求与自己拥有的数据进行检查和匹配，得到其所拥有的可以提供给下载请求者，且满足下载请求者要求的片段列表 (S22)，然后将这个列表传递给下载请求者（S23)。这样下载请求者即可通过这个列表中所描述的片段序号列表，向该内容提供者或者其他内容提供者请求这些列表中的片段（S24)。 然后一个或者多个内容提供者将下载请求者请求的数据发送给下载请求者（S25)。下载请求者将属于“A”属性的片段进行重新组装，生成所需要的属于属性“A”的内容（S26)。</p>
    <p>15[0082]	对于图10中所述的片段描述方法，即在片段数据（Data部分)基础上，添加对片段的描述信息（pieddescriptor)。对于添加的位置，可以是如图14所示的添加在原始片段信息之前，也可以是其他位置，如片段尾部等。由于片段描述信息内容相对片段数据来说占用空间非常小，也可以嵌入在原始片段数据Data中。对于片段的长度，既可以是添加了片段描述符之后的新的片段的总长度，也可以是原始的长度，这种策略可以根据种子文件中的校验值所对应的数据部分定义进行定义，方便对下载数据进行校验。比如种子文件中所描述的只是原始数据Data的校验，虽然完整的片段包括片段描述符和原始片段数据，而校验只针对原始数据进行校验。同理如果校验对应的是片段描述信息与原始数据的组合， 则将二者组合之后进行统一校验。</p>
    <p>[0083]	上面所述方法中，对原始P2P分片机制进行了扩展，即按照片段为单位进行内容控制，这种控制信息既可以被内容提供者嵌入到原始发行文件中，也可以是作为额外的文件进行下载，即内容提供者提供1)只包含所有片段数据Data的原始文件，可以通过P2P方式下载，也包括2)每一片段的片段描述信息集合的辅助文件，或者这种片段描述信息集合的辅助文件，由于其文件体积较小，可以通过P2P方式也可以通过其他方式下载，或者通过种子文件的方式传递给用户，即种子文件中不仅描述了每个片段的校验值，也包含每个片段的片段描述信息。</p>
    <p>[0084]	图14所示的为片段描述信息（PieC_deSCript0r)的具体使用方法。图中片段描述信息位于片段具体数据Data的前端（如前所述，其位置可以是其他位置或者嵌入在Data 之中）。其内容可以包括多种信息，如图中所示的1)内容分类信息，2)版权控制信息，3)其他信息等等。内容分类信息即本发明中所示的内容划分方法，如属性A代表预告片，属性B 代表精彩章节等。属性标识是通过一个或多个文字、字母或者数字形式描述并进行记录的。 版权控制信息可以实现以片段为单位的版权控制，如拷贝次数、播放次数等，还可以包括家长控制信息等等。其他部分可以根据内容提供者的需求描述很多其他相关信息。在本发明中，片段描述信息中可以包括一种或者多种以上所述的描述信息。在本发明中所述的按照内容分类进行下载的方法中，需要使用的是其中的内容分类信息，以确定该片段内容是否包含用户需求的内容。针对一个片段，其可以同时属于多个内容划分级别，如既可以属于属性A “预告片”的内容，也可以属于属性B “精彩章节”的内容，这些信息都可以被记录在内容分类信息中，具体的记录方式可以按照位记录的方式实现，也可以通过其他方式实现。</p>
    <p>[0085]	按照以位为单位的记录方式，就是在内容描述信息中的内容分类信息中，不同的内容划分级别记录在不同的位置上。举例来说：如(0000,0001)代表的是该片段属于属性 A“预告片”内容，而（0000,0010)代表的是该片段属于属性B“精彩章节“内容，那么（0000， 0011)代表该片段既属于属性A，也属于属性B的内容。同理可以对一个片段进行多种内容划分的定义。</p>
    <p>[0086]	该发明所述方法不仅支持用户对下载文件中根据自己的需要进行内容选择（基于一个profile)，还支持多个不同内容级别之间的切换，即从profile-Ι到profile-2或者其他profile之间进行任意切换。举例来说，对Profile-I来说，第3个块并不包含在 profile-Ι中，而对于peofile-2来说，第3块包含在profile-2的定义中。当用户开始下载了 profile-Ι的所有片段进行了播放后，还希望以profile-2的方式进行下载和播放，这样下载客户端对profile-Ι和profile-2进行比较，发现第3块数据内容由于profile-1级别时并没有下载，而prof ile-2中需要，这时候下载客户端只需要追加下载第3块内容即可。其基本方法是对profile-Ι和profile-2进行差分，然后追加下载需要的内容，而无需对profile-2中的所有内容都进行下载。节省了下载空间和时间。等这些希望得到而本地没有的片段被成功下载到本地以后，再将之前拥有的和本次下载的所有片段，按照新的 profile的要求的播放规则进行重新组合，得到属于完整下载部分的内容。</p>
    <p>[0087]	同理，从prof ile-2到profile-3级别的切换也一样，如果已经下载过的片段则不进行再次下载，如果是希望拥有而对之前没有下载过的片段进行重新下载，然后按照新的内容要求进行重新组合。如果是之前的内容级别所包含的内容已经完全包含新的期望内容级别的所有片段的话，则期望内容级别的片段都已经曾经被下载到本地过，则无需进行新的片段的下载，只需要将已有片段按照新的内容划分级别进行重新组合即可。</p>
    <p>[0088]	对于如图1所示的profile-3既是将部分属于精彩章节中的内容追加在整个文件的末端。这样虽然整个profile-3的内容长度比原始文件还要长，而在profile-3中，追加部分的内容都是属于原始文件中，只是进行了重复和重新组合，因此所需要的下载量还是和原始文件一致。这样即使增加了用户收看的时间长度，而没有增加任何的额外下载量。</p>
    <p>[0089]	除了之前所述的两种实现方法以外，还可以有其他多种的获得个性化profile定义的方法，同时也可以是用户自己进行定义的。</p>
    <p>[0090]	以下说明应用本发明的视频设备的例子。</p>
    <p>[0091]	图15示出了进行个性化下载和播放的一种视频设备1的框图。视频设备1包括： 下载装置11、组合装置12、显示装置13和对这些装置进行控制的控制装置（CPU)，根据需要，也可以包括选择装置14，还可以包括存储装置15。本发明的下载和播放方法所涉及的接收、下载、组合、选择等各种动作的执行并不限于这些接收装置、下载装置、组合装置、选择装置等功能模块，也可以通过CPU进行控制来执行。</p>
    <p>[0092]	以下，简单说明使用这些功能模块实现本发明的视频设备1。以BT下载为例，选择装置14打开并读取所得到的个性化BT种子文件，并按照种子文件中定义的一些方式进行识别，能够识别出图4中所定义的一些个性化信息，然后将这些个性化选项提供给用户选择，如用户可以选择Profile-K预告片）也可以选择Profile-2(精彩章节）等等；之后下载装置11按照用户选择的Profile中所定义的片段列表进行下载，同样下载完毕每一个片段后，按照BT种子文件中包含的对应片段的Hash值进行校验，如果校验正确则表示该片段下载成功，在所有的profile对应的片段下载成功后，组合装置12将这些片段按照Profile 所规定的次序和方式进行组合，播放装置13根据个性化种子文件中对应于该Prof ile所定义的播放方式进行播放。另外，下载装置11也可以像图12所示那样，根据片段的片段描述符获取片段的属性，将所获取的属性与属于所指定的个性化级别的片段属性进行匹配，确定需要下载的片段。</p>
    <p>[0093]	如果用户根据初始等级选择部分下载，而播放后希望完整的欣赏这些影片，则只需要重新选择内容更加丰富的Profile进行下载，而此时，由于部分片段已经为之前选定的profile定义并且已经进行了下载，此时，下载装置11只需要通过将现在需求的prifile 和之前的profile进行简单差分比较，确定出需要追加下载的内容片段，将这些追加的片段进行下载。</p>
    <p>[0094]	另外，当需要下载的内容片段如图10所示，其头部附加有包含片段属性的片段头数据时，下载装置11接收附加有包含规定的属性信息的片段头数据的内容片段，如属于预告片的内容片段，显示装置13将所接收的这些内容片段再现后，当用户还希望观看完整的影片或精彩章节时，下载装置11接收片段头数据不包含规定的属性信息的内容片段，经过组合装置12的组合，显示装置13对两次接收到的内容片段进行再现。</p>
    <p>[0095]	另外，下载装置11也可以从存储有表示属性的多个属性信息和各属性信息所包含的内容片段序号的网络服务器接收规定的属性信息所包含的内容片段序号，从管理服务器接收具有该内容片段序号的终端地址，从该终端地址的各个内容提供者处接收内容片段，显示装置13对这些内容片段进行再现后，根据需要，下载装置11接收除再现过的序号以外的内容片段的一部分或全部的内容片段，由显示装置13进行再现。</p>
    <p>[0096]	以上说明的方法和视频设备仅是例示，在不脱离本发明主旨的范围内，可进行各种变更。</p>
    <p>[0097]	本发明提供了一种以片段为单位的个性化内容提供和下载以及播放方法，提高了内容提供者和用户对内容的控制方式。</p>
    <p>[0098]	该方法可以被用于内容的发行阶段，比如发行商希望通过免费提供给用户一些片花（profile-片花）或者内容简介（profile-简介）以提高用户对该内容的兴趣度，吸引用户通过使用完全（profile-完全）的下载方式进行下载和收看，同时对用户收取一定的费用，也可以是通过不同的profile提供用户不同的收视清晰度等等方式，实现对内容的分级发行。而对用户端来说，希望通过这种方式，个性化自己的下载方式，根据自己的实际需要的现实条件，如家长控制、网络下载速度和网络下载等待时间等等的要求，方便自己分级下载和欣赏内容，实现各取所需的下载方式。</p>
    <p>[0099]	通过这种方式，用户还可以在播放阶段对播放方式进行定义。比如用户下载了所有的片段内容，即完整的目标文件。而其中的一些片段内容可能并不适合儿童观看，这时候，父母只需要定义一个适合儿童观看的片段列表，在儿童观看时，只允许其选择适合儿童观看的profile进行播放，而不让其选择完整文件的播放方式，这样虽然用户下载了所有的片段内容，但对不同的用户可以实现不同的播放内容，实现了家长控制等个性化方式，极大方便了家庭对内容的管理。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1968390A?cl=zh">CN1968390A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2006年10月19日</td><td class="patent-data-table-td patent-date-value">2007年5月23日</td><td class="patent-data-table-td ">李卫红</td><td class="patent-data-table-td ">一种数字视频的分级编码及播放系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101217638A?cl=zh">CN101217638A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年12月28日</td><td class="patent-data-table-td patent-date-value">2008年7月9日</td><td class="patent-data-table-td ">深圳市迅雷网络技术有限公司</td><td class="patent-data-table-td ">视频文件分段下载的方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101459619A?cl=zh">CN101459619A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年1月5日</td><td class="patent-data-table-td patent-date-value">2009年6月17日</td><td class="patent-data-table-td ">杭州华三通信技术有限公司</td><td class="patent-data-table-td ">一种在网络中对报文传输的处理方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DJP%26NR%3D2001344242A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEZyEvOpdVsL2sI8PZ6E4hiev3L0w">JP2001344242A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td "> </td><td class="patent-data-table-td citation-no-title">没有名称</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20090083812">US20090083812</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年1月18日</td><td class="patent-data-table-td patent-date-value">2009年3月26日</td><td class="patent-data-table-td ">Beijing Funshion Online Technologies Ltd.</td><td class="patent-data-table-td ">Method and apparatus for controlling on-demand play of media files based on P2P protocols</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102413361A?cl=zh">CN102413361A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月25日</td><td class="patent-data-table-td patent-date-value">2012年4月11日</td><td class="patent-data-table-td ">青岛海信传媒网络技术有限公司</td><td class="patent-data-table-td ">基于智能电视的好友信息分享方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102546768A?cl=zh">CN102546768A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月23日</td><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">深圳市同洲电子股份有限公司</td><td class="patent-data-table-td ">一种内容分享的方法、装置和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103281395A?cl=zh">CN103281395A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月8日</td><td class="patent-data-table-td patent-date-value">2013年9月4日</td><td class="patent-data-table-td ">河海大学</td><td class="patent-data-table-td ">一种基于客户端数量的数据片均分选择系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103281395B?cl=zh">CN103281395B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月8日</td><td class="patent-data-table-td patent-date-value">2016年4月6日</td><td class="patent-data-table-td ">河海大学</td><td class="patent-data-table-td ">一种基于客户端数量的数据片均分选择系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015043403A1?cl=zh">WO2015043403A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年9月17日</td><td class="patent-data-table-td patent-date-value">2015年4月2日</td><td class="patent-data-table-td ">Tencent Technology (Shenzhen) Company Limited</td><td class="patent-data-table-td ">Method, apparatus, and terminal for obtaining video data</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04N0021235000">H04N21/235</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=_6qFBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年9月21日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年11月23日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年5月7日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/8aeccc958ad530438354/CN102196008A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_5115ea495017d9115e613207d3810e5a.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E7%82%B9%E5%AF%B9%E7%82%B9%E4%B8%8B%E8%BD%BD%E6%96%B9%E6%B3%95_%E8%A7%86%E9%A2%91%E8%AE%BE%E5%A4%87%E5%92%8C%E5%86%85.pdf?id=_6qFBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U15-at5xc18-Wrm5xdieR15yiuXgA"},"sample_url":"https://www.google.com/patents/reader?id=_6qFBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>