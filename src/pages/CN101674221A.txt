<!DOCTYPE html><html><head><title>专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_5115ea495017d9115e613207d3810e5a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_5115ea495017d9115e613207d3810e5a__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="静态路由生成方法、终端路由实现方法及装置"><meta name="DC.contributor" content="刘大鹏" scheme="inventor"><meta name="DC.contributor" content="敏 惠" scheme="inventor"><meta name="DC.contributor" content="胡雪南" scheme="inventor"><meta name="DC.contributor" content="辉 邓" scheme="inventor"><meta name="DC.contributor" content="刚 陈" scheme="inventor"><meta name="DC.contributor" content="中国移动通信集团公司" scheme="assignee"><meta name="DC.date" content="2008-9-9" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了静态路由生成方法、终端路由实现方法及装置，通过由网络侧网元装置或DHCP服务器下发路由策略给终端，终端根据网元装置或DHCP服务器下发的路由策略生成对应的静态路由并存储；终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，使用确定出的匹配路由发送数据包。采用本发明方案，不需要由用户获取各种路由配置参数来手动配置静态路由，可以保证多个网络连接同时有数据包通过，实现终端多连接。"><meta name="DC.date" content="2010-3-17"><meta name="citation_patent_publication_number" content="CN:101674221:A"><meta name="citation_patent_application_number" content="CN:200810119780"><link rel="canonical" href="https://www.google.com/patents/CN101674221A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101674221A?cl=zh"/><meta name="title" content="专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置"/><meta name="description" content="本发明公开了静态路由生成方法、终端路由实现方法及装置，通过由网络侧网元装置或DHCP服务器下发路由策略给终端，终端根据网元装置或DHCP服务器下发的路由策略生成对应的静态路由并存储；终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，使用确定出的匹配路由发送数据包。采用本发明方案，不需要由用户获取各种路由配置参数来手动配置静态路由，可以保证多个网络连接同时有数据包通过，实现终端多连接。"/><meta property="og:title" content="专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101674221A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101674221A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101674221A&amp;usg=AFQjCNGrmw7QhCTyVLvoVtdRNdZ4xYSlDg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/680e78655439ff185b22/CN101674221A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/680e78655439ff185b22/CN101674221A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101674221A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101674221A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101674221A?cl=zh" style="display:none"><span itemprop="description">本发明公开了静态路由生成方法、终端路由实现方法及装置，通过由网络侧网元装置或DHCP服务器下发路由策略给终端，终端根据网元装置或DHCP服务器下发的路由策略生成对应的静态路由并存储；终端根据待发送的数据包的属性 ...</span><span itemprop="url">https://www.google.com/patents/CN101674221A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置" title="专利 CN101674221A - 静态路由生成方法、终端路由实现方法及装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101674221 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810119780</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2010年3月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年9月9日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年9月9日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/WO2010028545A1?hl=zh-CN&amp;cl=zh">WO2010028545A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810119780.6, </span><span class="patent-bibdata-value">CN 101674221 A, </span><span class="patent-bibdata-value">CN 101674221A, </span><span class="patent-bibdata-value">CN 200810119780, </span><span class="patent-bibdata-value">CN-A-101674221, </span><span class="patent-bibdata-value">CN101674221 A, </span><span class="patent-bibdata-value">CN101674221A, </span><span class="patent-bibdata-value">CN200810119780, </span><span class="patent-bibdata-value">CN200810119780.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E5%A4%A7%E9%B9%8F%22">刘大鹏</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%95%8F+%E6%83%A0%22">敏 惠</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%83%A1%E9%9B%AA%E5%8D%97%22">胡雪南</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%BE%89+%E9%82%93%22">辉 邓</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%9A+%E9%99%88%22">刚 陈</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E9%9B%86%E5%9B%A2%E5%85%AC%E5%8F%B8%22">中国移动通信集团公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101674221A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101674221A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101674221A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (12),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (5),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810119780&amp;usg=AFQjCNEND6hyPD_TTeA_U0Kj8tho3sfMSA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101674221A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNH4sjGZsZRsXJ7UYnhv_4Ioezko-g"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT94155811" lang="ZH" load-source="patent-office">静态路由生成方法、终端路由实现方法及装置</invention-title>
    </span><br><span class="patent-number">CN 101674221 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA75232132" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了静态路由生成方法、终端路由实现方法及装置，通过由网络侧网元装置或DHCP服务器下发路由策略给终端，终端根据网元装置或DHCP服务器下发的路由策略生成对应的静态路由并存储；终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，使用确定出的匹配路由发送数据包。采用本发明方案，不需要由用户获取各种路由配置参数来手动配置静态路由，可以保证多个网络连接同时有数据包通过，实现终端多连接。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(21)</span></span></div><div class="patent-text"><div mxw-id="PCLM30362606" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种静态路由生成方法，其特征在于，包括：    终端接入网络后向网络侧发起路由策略获取请求；    接收网络侧发送的路由策略；    根据接收的路由策略，生成对应的静态路由并存储。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求l所述的方法，其特征在于，所述路由策略包括： 目的地址/子网掩石马和网关地址； 或者业务类型标识和网关地址； 或者目的地址/子网掩码、业务类型标识和网关地址； 所述根据接收的路由策略，生成对应的静态路由并存储，具体包括： 根据接收的目的地址/子网掩码和网关地址，生成包含所述目的地址/子网掩码和网关地址的一条静态路由，并加入到终端路由表中；或者根据接收的业务类型标识和网关地址，生成包含所述业务类型标识和网关地址的一条静态路由，并加入到终端路由表中；或者根据接收的目的地址/子网掩码、业务类型标识和网关地址，生成包含所述目的地址/子网掩码、业务类型标识和网关地址的一条静态路由，并加入到终端路由表中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求1或2所述的方法，其特征在于，还包括：终端离开网络后，删除本地存储的根据对应网络侧发送的路由策略生成的 静态路由。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 一种终端路由实现方法，其特征在于，包括：终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条 匹配路由；使用确定出的匹配路由发送所述数据包；其中，所述静态路由采用权利要求1-3所述任一方法生成。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求4所述的方法，其特征在于，若所述静态路由包含目的地址/子网掩码和网关地址，所述终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，具体包括：判断待发送的数据包的目标地 址是否属于静态路由包含的目的地址/子网掩码中，若是，将对应静态路由确定 为所述匹配路由；若所述静态路由包含业务类型标识和网关地址，所述终端根据待发送的数 据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，具体包括：判 断待发送的数据包的业务类型标识是否与所述静态路由包含的业务类型标识 相同，若是，将对应静态路由确定为所述匹配路由；若所述静态路由包含目的地址/子网掩码、业务类型标识和网关地址，所述 终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配 路由，具体包括：判断待发送的数据包的目标地址是否属于静态路由包含的目 的地址/子网掩码中，若是，将对应静态路由确定为第一匹配路由；以及判断待 发送的数据包的业务类型标识是否与所述静态路由包含的业务类型标识相同， 若是，将对应静态路由确定为第二匹配路由；当所述第一匹配路由与第二匹配 路由为同一静态路由时，将该静态路由确定为所述匹配路由；否则，将所述第 一匹配路由确定为所述匹配路由。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6、 一种终端，其特征在于，包括：路由策略获取单元，用于向网络侧发起路由策略获取请求，接收网络侧发 送的路由策略；静态路由生成存储单元，用于根据接收的路由策略，生成对应的静态路由 并存储。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求6所述的终端，其特征在于，还包括： 路由确定单元，用于根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由；数据发送单元，用于使用确定出的匹配路由发送所述数据包。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8、 如权利要求6或7所述的终端，其特征在于，还包括：静态路由删除单元，用于终端离开网络后删除所述静态路由生成存储单元 中存储的根据对应网络侧发送的路由策略生成的静态路由。</div>
    </div>
    </div> <div class="claim"> <div num="9" class="claim">
      <div class="claim-text">9、 一种网元装置，其特征在于，包括： 存储单元，用于存储路由策略；接收单元，用于接收终端发起的路由策略获取请求； 发送单元，用于向终端发送所述存储单元中存储的路由策略。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求9所述的网元装置，其特征在于，还包括： 配置单元，用于配置或修改所述存储单元中存储的i?各由策略。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11、 一种静态路由生成方法，其特征在于，包括： 终端接入网络后向网络侧动态主机配置协议DHCP服务器请求IP配置； 接收所述DHCP服务器发送的DHCP报文，所述DHCP报文中包含路由策略；获取所述DHCP报文中包含的路由策略，生成对应的静态路由并存储。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求11所述的方法，其特征在于，所述路由策略通过DHCP 报文中的可选Options字段携带。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、 如权利要求11或12所述的方法，其特征在于，所述路由策略包括： 目的地址/子网掩码和网关地址；或者业务类型标识和网关地址；或者目的地址/子网掩码、业务类型标识和网关地址；所述获取所述DHCP报文中包含的路由策略，生成对应的静态路由并存 储，具体包括：获取目的地址/子网掩码和网关地址，生成包含所述目的地址/子网掩码和 网关地址的一条静态路由，并加入到终端路由表中；或者获取业务类型标识和网关地址，生成包含所述业务类型标识和网关地址的 一条静态路由，并加入到终端路由表中；或者获取目的地址/子网掩码、业务类型标识和网关地址，生成包含所述目的地 址/子网掩码、业务类型标识和网关地址的一条静态路由，并加入到终端路由表中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14、 如权利要求11或12所述的方法，其特征在于，还包括： 终端离开网络后，删除本地存储的根据对应网络中DHCP服务器发送的路由策略生成的静态路由。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15、 一种终端^^由实现方法，其特征在于，包括：终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条 匹配3各由；使用确定出的匹配路由发送所述数据包；其中，所述静态路由采用权利要求11-14所述任一方法生成。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16、 如权利要求15所述的方法，其特征在于，若所述静态路由包含目的 地址/子网掩码和网关地址，所述终端根据待发送的数据包的属性信息，匹配存 储的静态路由，确定出一条匹配路由，具体包括：判断待发送的数据包的目标 地址是否属于静态路由包含的目的地址/子网掩码中，若是，将对应静态路由确 定为所述匹配路由；若所述静态路由包含业务类型标识和网关地址，所述终端根据待发送的数 据包的属性信息，匹配存储的静态路由，确定出一条匹配路由，具体包括：判 断待发送的数据包的业务类型标识是否与所述静态路由包含的业务类型标识 相同，若是，将对应静态路由确定为所述匹配路由；若所述静态路由包含目的地址/子网掩码、业务类型标识和网关地址，所述 终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配 路由，具体包括：判断待发送的数据包的目标地址是否属于静态路由包含的目 的地址/子网掩码中，若是，将对应静态路由确定为第一匹配路由；以及判断待 发送的数据包的业务类型标识是否与所述静态路由包含的业务类型标识相同， 若是，将对应静态路由确定为第二匹配路由；当所述第一匹配路由与第二匹配 路由为同一静态路由时，将该静态路由确定为所述匹配路由；否则，将所述第 一匹配i?各由确定为所述匹配if各由。</div>
    </div>
    </div> <div class="claim"> <div num="17" class="claim">
      <div class="claim-text">17、 一种终端，其特征在于，包括：IP配置请求单元，用于向网络侧DHCP服务器请求获取IP配置，接收所 述DHCP服务器发送的DHCP报文，所述DHCP报文中包含路由策略；静态路由生成存储单元，用于获取所述DHCP报文中包含的路由策略，生 成对应的静态路由并存储。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18、 如权利要求17所述的终端，其特征在于，还包括： 路由确定单元，用于根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配路由；数据发送单元，用于使用确定出的匹配路由发送所述数据包。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19、 如权利要求17或18所述的终端，其特征在于，还包括： 静态路由删除单元，用于终端离开网络后删除所述静态路由生成存储单元中存储的根据对应网络中DHCP服务器发送的路由策略生成的静态路由。</div>
    </div>
    </div> <div class="claim"> <div num="20" class="claim">
      <div class="claim-text">20、 一种DHCP服务器，其特征在于，包括： 存储单元，用于存储路由策略；接收单元，用于接收终端发送的获取IP配置请求；生成单元，用于生成DHCP报文，在所述DHCP报文中包含所述存储单 元中存储的路由策略；发送单元，用于向终端发送所述生成单元生成的所述DHCP报文。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="21" class="claim">
      <div class="claim-text">21、 如权利要求20所述的DHCP服务器，其特征在于，还包括： 配置单元，用于配置或修改所述存储单元中存储的路由策略。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES36822267" lang="ZH" load-source="patent-office" class="description">
    <p>静态路由生成方法、终端路由实现方法及装置</p>
    <p>技术领域</p>
    <p>本发明涉及通信领域，尤其涉及终端连接到多个网络时的一种静态路由生 成方法，相应的终端路由实现方法，以及终端与网络侧装置。</p>
    <p>背景技术</p>
    <p>随着互联网的飞速发展，网络的种类不断丰富，包括以太网、GPRS网络、 LTE网络、VPN、 WiFi等。每种网络有自己的特性，如以太网具有高速的特点， 而GPRS网络则覆盖面积广泛，VPN具有高安全性等。用户为了获得某种网络 特性而接入相应的网络，当用户需要同时获得几种网络特性，或是单一网络不 能够满足用户的多样需求时，就催生了终端多连接的需求。即将一个终端同时 接入多个网络，可以为不同的应用数据包寻找最合适的网络，保持终端同时工 作在多个网络中。</p>
    <p>终端的迅速发展使多连接的需求有了物理硬件保证。目前市场上的笔记本 电脑基本同时内置有无线网卡和以太网卡，同时留有3G数据卡槽，并且这些 网络接口都可以同时工作。智能手机能够连接多种制式的移动网络，并且支持 WiFi连接。</p>
    <p>但是在具备了用户需求与终端硬件保证的情况下，现有技术中的终端路由 机制最终限制了终端多连接。由于终端路由使用默认网关（default gateway) 机制，在多连接的情况下，操作系统会根据一定的规则选择出一个默认的网络 接口，使所有网络流量都通过这个默认接口进出，在事实上造成了终端多连接 的失败，从而不能达到终端多连接的目的，不能实现终端对多个网络连接的同 时使用。</p>
    <p>现有技术中， 一种用来保证终端多个网络接口同时拥有流量的方法是在主</p>
    <p>7机路由表中配置静态路由。具体实现方式是用户通过命令行的方式手动配置静</p>
    <p>态路由表项，包括输入目的IP、网关、测量（metric)值等，这样可以保证对 特定目的IP地址指定网络接口进行路由，其他路由则仍通过默认网络接口完 成，保证了多个接口同时有流量存在。但该方法对用户基本不具有可操作性， 因为用户获取各种路由配置参数很困难。</p>
    <p>Windows Vista操作系统可以在特定的情形下保持主机多连接，即在应用 进行网络通信时，如果默认接口更换，那么已经启动的应用将继续使用旧接口 进行通信，新启动的应用使用最新更换的默认接口。这种情况下，旧接口和新 的默认接口同时拥有流量，达到了终端多连接。但是，这是一个被动情况下的 多连接，当用户主动需要为不同应用指定不同网络时，这种方式不能发挥作用。 综上所述，现有技术中，由于终端路由遵从默认网关机制，即无论物理上 终端有几个网络接口接入多少个不同的网络，终端的数据包路由只从一个默认 的接口收发。这样就造成了即使终端接入多个网络，事实上的所有网络流量都 是从一个接口中发送或接收，达不到终端多连接的效果。</p>
    <p>发明内容</p>
    <p>本发明实施例提供一种静态路由生成方法、相应的终端和网元装置，实现 终端根据网络侧网元装置下发的路由策略，生成对应的静态路由，解决了由用 户手动配置静态路由不具有可操作性的问题。</p>
    <p>本发明实施例还提供一种静态路由生成方法、相应的终端和DHCP服务 器，实现终端通过DHCP服务器使用扩展DHCP报文下发路由策略，生成对 应的静态路由，解决了用户手动配置静态路由不具有可操作性的问题。</p>
    <p>本发明实施例还提供终端路由实现方法，通过终端匹配静态路由发送数据 包，实现终端多连接。</p>
    <p>本发明实施例提供的一种静态路由生成方法，包括：</p>
    <p>终端接入网络后向网络侧发起路由策略获取请求接收网络侧发送的^各由策略； 根据接收的路由策略，生成对应的静态路由并存储。 本发明实施例提供一种终端路由实现方法，包括：</p>
    <p>终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条 匹配3各由；</p>
    <p>使用确定出的匹配路由发送所述数据包；</p>
    <p>其中，所述静态路由采用上述静态路由生成方法生成。</p>
    <p>本发明实施例还提供一种终端，包括：</p>
    <p>路由策略获取单元，用于向网络侧发起路由策略获取请求，接收网络侧发 送的路由策略；</p>
    <p>静态路由生成存储单元，用于根据接收的路由策略，生成对应的静态路由 并存储。</p>
    <p>本发明实施例还提供一种网元装置，包括： 存储单元，用于存储路由策略； 接收单元，用于接收终端发起的路由策略获取请求； 发送单元，用于向终端发送所述存储单元中存储的路由策略。 本发明实施例再提供一种静态路由生成方法，包括： 终端接入网络后向网络侧动态主机配置协议DHCP服务器请求IP配置； 接收所述DHCP服务器发送的DHCP报文，所述DHCP报文中包含路由 策略；</p>
    <p>获取所述DHCP报文中包含的路由策略，生成对应的静态路由并存储。 根据上述使用DHCP报文的静态路由生成方法，本发明实施例提供一种相</p>
    <p>应的终端路由实现方法，包括：</p>
    <p>终端根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条</p>
    <p>匹配3各由；</p>
    <p>使用确定出的匹配路由发送所述数据包。根据上述使用DHCP报文的静态路由生成方法，本发明实施例提供一种终 端，包4舌：</p>
    <p>IP配置请求单元，用于向网络侧DHCP服务器请求获耳又IP配置，接收所 述DHCP服务器发送的DHCP报文，所述DHCP报文中包含路由策略；</p>
    <p>静态路由生成存储单元，用于获取所述DHCP报文中包含的路由策略，生 成对应的静态路由并存储。</p>
    <p>根据上述使用DHCP报文的静态路由生成方法，本发明实施例提供DHCP 服务器，包括：</p>
    <p>存储单元，用于存储路由策略；</p>
    <p>接收单元，用于接收终端发送的获取IP配置请求；</p>
    <p>生成单元，用于生成DHCP报文，在所述DHCP报文中包含所述存储单 元中存储的路由策略；</p>
    <p>本发明通过由网络侧网元装置或DHCP服务器下发路由策略给终端，终端 只需根据网元装置或DHCP服务器下发的路由策略生成对应的静态路由，不需 要由用户获取各种路由配置参数来手动配置静态路由。对于终端来说，不需要 在终端维护路由算法，节省了计算资源；对于用户来说，整个路由策略不需要 人为参与，简单易行。</p>
    <p>终端生成静态路由后，能够根据待发送数据包的属性信息（如数据包的目 标地址、业务类型标识等）匹配静态路由，可以保证多个网络连接同时有数据 包通过，达到多连接的目的。</p>
    <p>附图说明</p>
    <p>图1为本发明实施例一提供的一种静态路由生成方法流程图； 图2为本发明实施例二提供的一种终端路由实现方法流程图； 图3为本发明实施例三提供的一种终端结构示意图；图4为本发明实施例四提供的网元装置结构示意图； 图5为本发明实施例五提供的静态路由生成方法流程图； 图6为本发明实施例五中终端与DHCP服务器之间的具体信令交互过程示 意图；</p>
    <p>图7为本发明实施例七提供的一种终端结构示意图；</p>
    <p>图8为本发明实施例八-提供的DHCP服务器结构示意图。</p>
    <p>具体实施方式</p>
    <p>本发明实施例提供静态路由生成方法、相应的终端和网元装置或DHCP服 务器，实现终端根据网络侧下发的路由策略，生成对应的静态路由，解决了由 用户手动配置静态路由不具有可操作性的问题。且当终端需要发送数据包时， 能够根据待发送数据包的属性信息匹配生成的静态路由，通过匹配出的静态路 由发送数据包，实现终端多连接。</p>
    <p>下面结合附图，用具体实施例对本发明提供的方法及装置进行详细描述。</p>
    <p>实施例一：</p>
    <p>实施例一提供一种静态路由生成方法，由网络侧下发路由策略给终端，终 端根据网络侧下发的路由策略生成静态路由并存储。</p>
    <p>参见图1,为本发明实施例一提供的一种静态路由生成方法流程图，具体 包括：</p>
    <p>步骤S101、终端接入网络后向网络侧发起路由策略获取请求； 步骤S102、终端接收网络侧发送的路由策略；</p>
    <p>步骤S103、终端根据接收的路由策略，生成对应的静态路由并存储。 其中，路由策略具体可以包含例如：</p>
    <p>目的地址/子网掩码和网关地址；或者包含业务类型标识和网关地址；或者 包含目的地址/子网掩码、业务类型标识和网关地址等。</p>
    <p>,在步骤</p>
    <p>iiS103中，根据接收的目的地址/子网掩码和网关地址，生成包含该目的地址/子 网掩码和网关地址的一条静态路由，并加入到终端路由表中；</p>
    <p>当网络侧下发的路由策略中包含业务类型标识和网关地址时，在步骤S103 中，根据接收的业务类型标识和网关地址，生成包含该业务类型标识和网关地 址的一条静态路由，并加入到终端路由表中；</p>
    <p>当网络侧下发的路由策略中包含目的地址/子网掩码、业务类型标识和网关 地址时，在步骤S103中，根据接收的目的地址/子网掩码、业务类型标识和网 关地址，生成包含该目的地址/子网掩码、业务类型标识和网关地址的一条静态 路由，并加入到终端路由表中。</p>
    <p>当终端离开网络后，终端自动删除本地存储的根据对应网络侧发送的路由 策略生成的静态路由。</p>
    <p>根据本发明上述实施例一，终端只需根据网络侧下发的路由策略生成对应 的静态路由，不需要用户获取各种路由配置参数来手动配置静态路由，解决了 用户手动配置静态路由不具有可操作性的问题。</p>
    <p>实施例二：</p>
    <p>实施例二提供一种终端路由实现方法，由终端选择本地存储的静态路由发 送数据包。</p>
    <p>参见图2，为本发明实施例二提供的一种终端路由实现方法流程图，具体 包括：</p>
    <p>步骤S201、终端根据待发送的数据包的属性信息，匹配存储的静态路由， 确定出一条匹配路由；</p>
    <p>步骤S202、终端使用确定出的匹配路由发送数据包； 其中，静态路由采用上述实施例一的方法生成。</p>
    <p>根据本发明实施例二提供的方法，当未确定出匹配^各由时，采用默认路由 发送数据包。</p>
    <p>如上所述，若静态路由包含目的地址/子网掩码和网关地址，在步骤S201中，需要判断待发送的数据包的目标地址是否属于静态路由包含的目的地址/</p>
    <p>子网掩码中，若是，将对应静态路由确定为匹配路由；</p>
    <p>如上所述，若静态路由包含业务类型标识和网关地址，在步骤S201中， 需要判断待发送的数据包的业务类型标识是否与静态路由包含的业务类型标 识相同，若是，将对应静态路由确定为匹配路由；</p>
    <p>如上所述，若静态路由包含目的地址/子网掩码、业务类型标识和网关地址， 在步骤S201中，需要判断待发送的数据包的目标地址是否属于静态路由包含 的目的地址/子网掩码中，若是，将对应静态路由确定为第一匹配路由；以及判 断待发送的数据包的业务类型标识是否与静态路由包含的业务类型标识相同， 若是，将对应静态路由确定为第二匹配路由；当第一匹配路由与第二匹配路由 为同一静态路由时，将该静态路由确定为最终匹配路由；否则，将第一匹配路 由确定为最终匹配路由。</p>
    <p>根据本发明实施例二的上述方法，且当终端需要发送数据包时，能够根据 待发送数据包的属性信息（如数据包的目标地址、业务类型标识等）匹配生成 的静态路由，通过匹配出的静态路由发送数据包；由于不同应用的数据包其目 标地址或服务类型有可能不同，则其得到的匹配路由也不同，从而使得终端可 以使用多个路由发送数据包，实现终端多连接。</p>
    <p>实施例三：</p>
    <p>实施例三提供一种终端，能够从网络侧获取路由策略，并生成静态路由并 存储，并选择存储的静态路由发送数据包。</p>
    <p>参见图3，为本发明实施例三提供的一种终端结构示意图，具体包括：</p>
    <p>路由策略获取单元301，用于向网络侧发起路由策略获取请求，接收网络 侧发送的路由策略；</p>
    <p>静态路由生成存储单元302,用于根据接收的路由策略，生成对应的静态 路由并存储。</p>
    <p>本发明实施例三提供的终端，还包括：路由确定单元303，用于根据待发送的数据包的属性信息，匹配存储的静 态路由，确定出一条匹配if各由；</p>
    <p>数据发送单元304,用于使用确定出的匹配路由发送所述数据包。</p>
    <p>采用本发明实施例三提供的终端，只需根据网络侧下发的路由策略生成对 应的静态路由，不需要由用户获取各种路由配置参数来手动配置静态路由，解 决了用户手动配置静态路由不具有可操作性的问题；且当终端需要发送数据包 时，能够根据待发送数据包的属性信息匹配生成的静态路由，通过匹配出的静 态路由发送数据包，实现终端多连接。</p>
    <p>实施例四：</p>
    <p>实施例四提供一种网元装置，实现向终端下发路由策略。</p>
    <p>参见图4，为本发明实施例四提供的网元装置结构示意图，具体包括：</p>
    <p>存储单元401，用于存储路由策略；</p>
    <p>接收单元402,用于接收终端发起的路由策略获取请求；</p>
    <p>发送单元403,用于向终端发送存储单元401中存储的路由策略。</p>
    <p>还包括：</p>
    <p>配置单元404，用于配置或修改存储单元401中存储的路由策略。</p>
    <p>采用本发明实施例四提供的网元装置，通过网络侧预先设置路由策略并存 储到网元装置中，接收到终端的请求后，向终端发送设置的路由策略；不仅避 免了在终端需要维护路由算法，节省了终端的计算资源，且运营商可以方便地 配置或更新网元装置中存储的路由策略，灵活实现终端多连接。</p>
    <p>基于同 一 发明构思，本发明还提供 一 种通过扩展动态主机配置协议 (Dynamic Host Configuration Protocol , DHCP)实现的静态i?各由生成方法、 终端路由实现方法以及相应的终端与DHCP服务器。</p>
    <p>实施例五：</p>
    <p>实施例五提供一种静态路由生成方法，通过终端接入网络后向DHCP服务 器请求IP配置时，由DHCP服务器在返回给终端的DHCP应答报文中包含路由策略，终端再根据接收的路由策略，生成静态路由并存储。</p>
    <p>参见图5,为本发明实施例五提供的静态路由生成方法流程图，具体包括：</p>
    <p>步骤S501 、终端接入网络后向网络侧DHCP服务器请求IP配置；</p>
    <p>步骤S502、终端接收DHCP服务器发送的DHCP报文，在该返回的DHCP</p>
    <p>报文中包含路由策略；</p>
    <p>步骤S503、终端获取DHCP报文中包含的路由策略，生成对应的静态路</p>
    <p>由并存4诸。</p>
    <p>终端离开网络后，删除本地存储的根据对应网络中DHCP服务器发送的路 由策略生成的静态路由。</p>
    <p>实施例五的方法中，终端与DHCP服务器之间的具体信令交互过程如图6 所示，包括：</p>
    <p>1、 终端接入网络后，向网络侧DHCP服务器发送一条发现（Discovery) 广播消息，以确定本地可用的DHCP服务器；</p>
    <p>2、 网络侧DHCP服务器向终端发送DHCP报文格式的提供（Offer)消息， 携带终端的IP配置信息以及设置的路由策略；其中，终端的IP配置信息包括 IP地址、网关地址、域名服务器（DNS)等，路由策略通过扩展的DHCP选项 携带。</p>
    <p>3、 终端接收到网络侧多个DHCP服务器发送的Offer消息后，从中选定一 个DHCP服务器，发送选择（R叫uest)广播消息给所有的DHCP服务器确认 选择。</p>
    <p>4、 选定的DHCP服务器向该终端返回DHCP报文格式的确认 (Acknowledge)消息，携带该终端的IP配置信息以及设置的路由策略；其中，</p>
    <p>IP配置信息包括IP地址、网关地址、域名服务器（DNS)等，路由策略通过 扩展的DHCP选项携带。</p>
    <p>下面对如何扩展DHCP选项携带路由策略进行具体说明：</p>
    <p>下表1为现有技术中DHCP的报文格式：</p>
    <p>15表1:</p>
    <p>&lt;table&gt;table see original document page 16&lt;/column&gt;&lt;/row&gt;
&lt;table&gt;</p>
    <p>表l中各字段的具体含义为：</p>
    <p>OP(1): 表示消息op代码/消息类型 1=BOOTREQUEST, 2=BOOTREPLY，长度为1个字节(byte);</p>
    <p>Htype(1):表示硬件地址类型，长度为1个字节（byte);</p>
    <p>Hlen(1):表示硬件地址长度，长度为1个字节（byte);</p>
    <p>Hops(1):设置为零，当通过转发代理启动时可以供转发代理使用，长度 为1个字节(byte);</p>
    <p>Transaction ID(4):操作ID,是一个随机数，用于终端和服务器之间同步 消息和消息的响应，长度为4个字节（byte);</p>
    <p>Seconds(2):由用户指定的时间，为开始地址获取和更新进行后的时间， 长度为2个字节（byte);</p>
    <p>Rags(2):标志位，长度为2个字节（byte);</p>
    <p>Ciaddr (4):用户IP地址，此字段仅当用户处于BOUND,RENEW或 REBINDING状态和能够响应ARP请求时使用，长度为4个字节（byte); Yiaddr (4):用户IP地址，长度为4个字节（byte);Siaddr (4 ):用于bootstrap过程中的IP地址，长度为4个字节（byte);</p>
    <p>Giaddr(4):转发代理IP地址，长度为4个字节（byte);</p>
    <p>Chaddr (16):客户硬件地址，长度为16个字节（byte);</p>
    <p>Sname (64):可选的服务器主机名，长度为64个字节（byte);</p>
    <p>File (128):启动文件名，长度为128个字节（byte);</p>
    <p>Options (variable):可选的参数字段，长度不定。</p>
    <p>从表1中的DHCP报文格式各字段可知，其中，Options (variable)是一个可选的参数字段，其长度不定。本发明实施例扩展这一可选字段来携带设置在DHCP服务器中的路由策略。例如，扩展字段为：Option N;通过该OptionN字段携带路由策略。</p>
    <p>具体的路由策略可以包含：</p>
    <p>目的地址/子网掩码和网关地址；或者包含业务类型标识和网关地址；或者包含目的地址/子网掩码、业务类型标识和网关地址等。</p>
    <p>以路由策略包含目的地址/子网掩码、业务类型标识和网关地址为例，扩展</p>
    <p>字段Option N的具体字段结构如下:</p>
    <p>&lt;table&gt;table see original document page 17&lt;/column&gt;&lt;/row&gt;
&lt;table&gt;</p>
    <p>上述字段结构，仅为举例，本发明对此字段结构的具体结构形式及各字段的具体长度不作限定。</p>
    <p>上述步骤S503中，终端获取DHCP报文中包含的路由策略，生成对应的静态路由并存储的具体实现过程与实施例一相同，不重迷。</p>
    <p>根据本发明上述实施例五，终端只需根据网络侧DHCP服务器下发的路由策略生成对应的静态路由，不需要由用户获取各种路由配置参数来手动配置静态路由，同样解决了用户手动配置静态路由不具有可操作性的问题。实施例六：</p>
    <p>实施例六与上述实施例二相类似，当终端有数据包待发送时，终端4艮据待发送的数据包的属性信息，匹配本地路由表中存储的静态路由，确定出一条匹配路由；并使用确定出的匹配路由发送数据包。</p>
    <p>与实施例二所不同的是，实施例六中的静态路由是采用实施例五所述方法生成的。</p>
    <p>同样，当终端在本地存储的静态路由中未确定出匹配路由时，采用默认路由发送数据包。实施例七：</p>
    <p>根据上述实施例五、实施例六提供的方法，本发明还提供一种具有相应功能的终端，其结构示意图如图7所示，包括：</p>
    <p>IP配置请求单元701，用于向网络侧DHCP服务器请求获取IP配置，接收DHCP服务器发送的DHCP报文，在该DHCP报文中包含IP配置信息和路由策略；</p>
    <p>静态路由生成存储单元702,用于获取DHCP报文中包含的路由策略，生成对应的静态路由并存储。还包括：</p>
    <p>路由确定单元703，用于根据待发送的数据包的属性信息，匹配存储的静态路由，确定出一条匹配^^由；</p>
    <p>数据发送单元704,用于使用确定出的匹配路由发送所述数据包。</p>
    <p>采用本发明实施例七提供的终端，只需根据网络侧DHCP服务器下发的路由策略生成对应的静态路由，不需要用户获取各种路由配置参数来手动配置静态路由，解决了用户手动配置静态路由不具有可操作性的问题；且当终端需要发送数据包时，能够根据待发送数据包的属性信息匹配生成的静态路由，通过匹配出的静态路由发送数据包，实现终端多连接。</p>
    <p>实施例八：</p>
    <p>18与实施例七提供的终端相对应，实施例八提供一种DHCP服务器，用于向终端发送路由策略，其结构示意图如图8所示，包括：</p>
    <p>存储单元801，用于存储路由策略；</p>
    <p>接收单元802，用于接收终端发送的获取IP配置请求；</p>
    <p>生成单元803，用于生成DHCP报文，在生成的DHCP报文中包含存储单元801中存储的路由策略；</p>
    <p>发送单元804,用于向终端发送生成单元803生成的DHCP报文。</p>
    <p>一种较佳方案中，还包括：</p>
    <p>配置单元805，用于配置或修改存储单元801中存储的路由策略。采用本发明实施例八提供的DHCP服务器，存储预先设置的路由策略，接收到终端的IP配置请求后，通过向终端返回的响应消息向终端发送设置的路由策略；不仅避免了在终端需要维护路由算法，节省了终端的计算资源，且运营商可以方便地配置或更新DHCP服务器中存储的路由策略，灵活实现终端多连接。</p>
    <p>明的精神和范围。这样，倘若对本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。</p>
    <p>19</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101917492A?cl=zh">CN101917492A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年8月6日</td><td class="patent-data-table-td patent-date-value">2010年12月15日</td><td class="patent-data-table-td ">北京乾唐视联网络科技有限公司</td><td class="patent-data-table-td ">一种新型网的通信方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102271050A?cl=zh">CN102271050A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月4日</td><td class="patent-data-table-td patent-date-value">2011年12月7日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种IPv6网络中网络设备自动配置的方法、网络设备和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102271050B?cl=zh">CN102271050B</a></td><td class="patent-data-table-td patent-date-value">2010年6月4日</td><td class="patent-data-table-td patent-date-value">2014年4月30日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种IPv6网络中网络设备自动配置的方法、网络设备和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102377633A?cl=zh">CN102377633A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年8月6日</td><td class="patent-data-table-td patent-date-value">2012年3月14日</td><td class="patent-data-table-td ">北京乾唐视联网络科技有限公司</td><td class="patent-data-table-td ">一种接入网设备的通信连接方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102377633B?cl=zh">CN102377633B</a></td><td class="patent-data-table-td patent-date-value">2010年8月6日</td><td class="patent-data-table-td patent-date-value">2014年10月8日</td><td class="patent-data-table-td ">北京乾唐视联网络科技有限公司</td><td class="patent-data-table-td ">一种接入网设备的通信连接方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102761441A?cl=zh">CN102761441A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月29日</td><td class="patent-data-table-td patent-date-value">2012年10月31日</td><td class="patent-data-table-td ">深圳市龙视传媒有限公司</td><td class="patent-data-table-td ">一种数字电视业务监控方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102761441B?cl=zh">CN102761441B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月29日</td><td class="patent-data-table-td patent-date-value">2016年2月17日</td><td class="patent-data-table-td ">深圳市同洲电子股份有限公司</td><td class="patent-data-table-td ">一种数字电视业务监控方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103516610A?cl=zh">CN103516610A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月18日</td><td class="patent-data-table-td patent-date-value">2014年1月15日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">业务处理方法、设备和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9219685">US9219685</a></td><td class="patent-data-table-td patent-date-value">2011年8月4日</td><td class="patent-data-table-td patent-date-value">2015年12月22日</td><td class="patent-data-table-td ">Beijing Qiantang Network Technology Company, Ltd.</td><td class="patent-data-table-td ">Communication method and system for a novel network</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2011150720A1?cl=zh">WO2011150720A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年4月12日</td><td class="patent-data-table-td patent-date-value">2011年12月8日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">一种IPv6网络中网络设备自动配置的方法、网络设备和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012016533A1?cl=zh">WO2012016533A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年8月4日</td><td class="patent-data-table-td patent-date-value">2012年2月9日</td><td class="patent-data-table-td ">Beijing Qiantang Network Technology Company, Ltd.</td><td class="patent-data-table-td ">一种新型网的通信方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013189272A1?cl=zh">WO2013189272A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月18日</td><td class="patent-data-table-td patent-date-value">2013年12月27日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">业务处理方法、设备和系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012560000">H04L12/56</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L45/42">H04L45/42</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=Bvt3BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L45/00">H04L45/00</a></span></td></tr><tr><td class="patent-data-table-td "> 欧洲专利分类号</td><td class="patent-data-table-td "><span class="nested-value">H04L45/00</span>, <span class="nested-value">H04L45/42</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2010年3月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年4月28日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年11月14日</td><td class="patent-data-table-td ">C12</td><td class="patent-data-table-td ">Rejection of an application for a patent</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/680e78655439ff185b22/CN101674221A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_5115ea495017d9115e613207d3810e5a.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E7%94%9F%E6%88%90%E6%96%B9%E6%B3%95_%E7%BB%88%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%AE%9E.pdf?id=Bvt3BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U331vlVaExHHIDuE9L9x9aSQzM-Tg"},"sample_url":"https://www.google.com/patents/reader?id=Bvt3BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>