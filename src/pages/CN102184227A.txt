<!DOCTYPE html><html><head><title>专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种面向web服务的通用爬虫引擎系统及其工作方法"><meta name="DC.contributor" content="刘志晗" scheme="inventor"><meta name="DC.contributor" content="孙其博" scheme="inventor"><meta name="DC.contributor" content="帖晶" scheme="inventor"><meta name="DC.contributor" content="李静林" scheme="inventor"><meta name="DC.contributor" content="杨放春" scheme="inventor"><meta name="DC.contributor" content="林荣恒" scheme="inventor"><meta name="DC.contributor" content="赵耀" scheme="inventor"><meta name="DC.contributor" content="邹华" scheme="inventor"><meta name="DC.contributor" content="北京邮电大学" scheme="assignee"><meta name="DC.date" content="2011-5-10" scheme="dateSubmitted"><meta name="DC.description" content="一种面向WEB服务的通用爬虫引擎系统及其工作方法，该系统设有三种构件：控制中心、储藏库和非结构化WEB服务URL链接及其服务网页的两个特征项词库。作为系统控制中枢的控制中心设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统DNS；其中处理器链中的分析保存链增设四个子处理器链，用于处理结构化WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL链接和网页的分析过滤，并将抓取的原始网页保存于储藏库。本发明系统的可扩展性和伸缩性好，能添加自定义的子处理器链或修改原有子处理器链功能，抓取非结构化服务的准确率高，节省系统资源，能最大量地抓取整个互联网上所有WEB服务。"><meta name="DC.date" content="2011-9-14"><meta name="DC.relation" content="CN:101404666:A" scheme="references"><meta name="DC.relation" content="CN:101727485:A" scheme="references"><meta name="DC.relation" content="US:6963863" scheme="references"><meta name="citation_patent_publication_number" content="CN:102184227:A"><meta name="citation_patent_application_number" content="CN:201110120161"><link rel="canonical" href="https://www.google.com/patents/CN102184227A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102184227A?cl=zh"/><meta name="title" content="专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法"/><meta name="description" content="一种面向WEB服务的通用爬虫引擎系统及其工作方法，该系统设有三种构件：控制中心、储藏库和非结构化WEB服务URL链接及其服务网页的两个特征项词库。作为系统控制中枢的控制中心设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统DNS；其中处理器链中的分析保存链增设四个子处理器链，用于处理结构化WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL链接和网页的分析过滤，并将抓取的原始网页保存于储藏库。本发明系统的可扩展性和伸缩性好，能添加自定义的子处理器链或修改原有子处理器链功能，抓取非结构化服务的准确率高，节省系统资源，能最大量地抓取整个互联网上所有WEB服务。"/><meta property="og:title" content="专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102184227A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102184227A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=ctWFBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102184227A&amp;usg=AFQjCNFzLRuLlIWTi-tjfQpQpQ7wZgCsQg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/c15961f53871b98c2f1a/CN102184227A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/c15961f53871b98c2f1a/CN102184227A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102184227A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102184227A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102184227A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102184227B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102184227A?cl=zh" style="display:none"><span itemprop="description">一种面向WEB服务的通用爬虫引擎系统及其工作方法，该系统设有三种构件：控制中心、储藏库和非结构化WEB服务URL链接及其服务网页的两个特征项词库。作为系统控制中枢的控制中心设有五个功能模块：队列管理器、处理器链、...</span><span itemprop="url">https://www.google.com/patents/CN102184227A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法" title="专利 CN102184227A - 一种面向web服务的通用爬虫引擎系统及其工作方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102184227 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110120161</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年9月14日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年5月10日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年5月10日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102184227B?hl=zh-CN&amp;cl=zh">CN102184227B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110120161.0, </span><span class="patent-bibdata-value">CN 102184227 A, </span><span class="patent-bibdata-value">CN 102184227A, </span><span class="patent-bibdata-value">CN 201110120161, </span><span class="patent-bibdata-value">CN-A-102184227, </span><span class="patent-bibdata-value">CN102184227 A, </span><span class="patent-bibdata-value">CN102184227A, </span><span class="patent-bibdata-value">CN201110120161, </span><span class="patent-bibdata-value">CN201110120161.0</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E5%BF%97%E6%99%97%22">刘志晗</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AD%99%E5%85%B6%E5%8D%9A%22">孙其博</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%B8%96%E6%99%B6%22">帖晶</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%8E%E9%9D%99%E6%9E%97%22">李静林</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%A8%E6%94%BE%E6%98%A5%22">杨放春</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9E%97%E8%8D%A3%E6%81%92%22">林荣恒</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B5%B5%E8%80%80%22">赵耀</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%82%B9%E5%8D%8E%22">邹华</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6%22">北京邮电大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102184227A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102184227A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102184227A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (9),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=ctWFBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110120161&amp;usg=AFQjCNHw9dUJrBB1gAxLuRPlx82uhAEUOg"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=ctWFBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102184227A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEVmVQR3rLHipCcQiJAX9bp4_svGw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT104494183" lang="ZH" load-source="patent-office">一种面向web服务的通用爬虫引擎系统及其工作方法</invention-title>
      </span><br><span class="patent-number">CN 102184227 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA86399180" lang="ZH" load-source="patent-office">
    <div class="abstract">一种面向WEB服务的通用爬虫引擎系统及其工作方法，该系统设有三种构件：控制中心、储藏库和非结构化WEB服务URL链接及其服务网页的两个特征项词库。作为系统控制中枢的控制中心设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统DNS；其中处理器链中的分析保存链增设四个子处理器链，用于处理结构化WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL链接和网页的分析过滤，并将抓取的原始网页保存于储藏库。本发明系统的可扩展性和伸缩性好，能添加自定义的子处理器链或修改原有子处理器链功能，抓取非结构化服务的准确率高，节省系统资源，能最大量地抓取整个互联网上所有WEB服务。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(11)</span></span></div><div class="patent-text"><div mxw-id="PCLM37957743" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种面向WEB服务的通用爬虫引擎系统，其特征在于：所述系统设有下述三种构件：控制中心，为该系统的控制中枢，负责总控和管理整个操作过程，启动整个爬虫抓取工作的起点，并决定整个抓取任务的开始和结束：从队列管理器中获取URL链接、即统一资源定位符或网页地址，将获取的URL链接传递给线程池中的处理线程，处理线程将该URL链接送至处理器链由其各个子处理器链顺序进行相应处理，其中分析保存链能够处理结构化 WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL 链接和网页的分析过滤，并将抓取的原始网页保存于储藏库；设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统DNS;处理器链中的分析保存链为处理结构化TOB服务设有结构化WEB服务处理器，为处理非结构化WEB服务设有：URL得分处理器、页面得分处理器和保存文本内容处理器；储藏库，用于保存该系统获取的原始网页、系统解析后的纯文本网页和系统产生的日志信息，并设有存储该三类信息的三个数据库：爬虫抓取的原始网页的网页库，系统分析而提取的网页内容的文本库，运行期间产生的各种日志信息的日志库；特征项词库，包括非结构化WEB服务URL链接的特征项词库及其服务网页的特征项词库，前者用于预存该系统的非结构化WEB服务URL链接的特征项信息，在URL链接进入处理器链的URL得分处理器时构造特征项词库的向量；后者用于预存该系统的非结构化TOB服务网页的特征项信息，在URL链接进入处理器链的页面得分处理器时构造特征项词库的向量；这两个特征项词库是预先分别使用URL链接的特征项构造方法和服务网页的特征项构造方法提前构建的。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的系统，其特征在于：所述系统的控制中心的五个功能模块分别具有下述功能：队列管理器，负责依据策略中心配置的不同策略，将系统新抽取的URL链接根据该URL 链接自身的优先级放入不同的优先级队列，并管理每个队列及队列中每个URL链接的生命周期；这些队列根据系统预定义的优先级分为高、中、低三种和一个存放种子URL链接或需要提前预处理的最高优先级的URL链接种子队列；队列管理器还对URL链接执行去重处理， 即辨别重复URL链接；处理器链，为一个或多个完成不同功能的子处理器链的集合，这些子处理器链按照预定顺序串接位于该处理器链中，每个URL链接根据各个子处理器链的规则要求通过一个、 多个、或全部的子处理器链的处理，该处理器链根据系统自身功能的变化需求，能够添加自定义的子处理器链或修改原有的子处理器链功能，这个特性集中体现了所述系统的可扩展性和可定制性；线程池，负责管理多个线程的生命周期：包括新建空闲线程、销毁空闲进程、启动新线程与停止线程；为提高系统的并发性和爬虫效率，该线程池设有多个线程，其中每个线程将 URL链接顺序送至处理器链中的各处理器进行处理；策略中心，用于配置和调整队列管理器的管理策略，该系统默认的队列管理策略是优先级策略；通过策略中心，队列管理器能够根据域名、或优先级、或同时兼顾优先级和域名对URL链接分类，策略中心还能动态调整队列管理器的策略，并反馈给控制中心，以便控制中心采用不同的策略实时控制URL的访问先后顺序；策略中心还给线程池实时反馈系统的CPU利用率与内存使用率等的资源消耗信息，以使线程池控制当前的活动线程的数量和线程的状态，实现系统资源的实时最优化；域名管理系统DNS，负责将目标服务所在设备的域名转换为网络能识别的IP地址，并保存解析结果，避免系统每次都要解析域名，加快系统的下载速度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求2所述的系统，其特征在于：所述处理器链设有下述顺序串接的五个子处理器链：预处理链，用于根据域名系统DNS和系统预设的下载范围的控制信息，判断当前URI链接是否需要预处理；获取链，负责使用网络套接字Socket链接从远程服务器获取数据，下载URL链接对应的网页源文件；提取链，用于从网页源文件中抽取新的URL链接；分析保存链，负责将网页源文件进行相应处理后，保存于系统硬盘的储藏库；为体现该系统为面向WEB服务的通用爬虫引擎系统，除了原有的保存原始网页处理器以外，增设下述四个处理器：结构化TOB服务处理器，使用WSDL解析器解析从获取链得到的原始网页内容，判断该网页为WSDL格式的结构化TOB服务时，交由该分析保存链中的保存原始网页内容处理器进行处理；否则，交由URL得分处理器进行处理；URL得分处理器，使用URL过滤算法计算从提取链中得到的URL链接的相似度，让相似度大于设定阈值的URL链接通过该URL得分处理器，由页面得分处理器进行处理；页面得分处理器，用于解析原始网页的纯文本内容，并应用网页过滤算法计算网页的相似度，让相似度大于设定阈值的网页通过该页面得分处理器，由保存文本内容处理器进行处理；保存文本内容处理器，用于将页面得分处理器处理的URL链接对应网页解析的纯文本内容保存于系统的文本库；补充处理链，用于将新抽取的URL链接提交给队列管理器进行处理。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.	一种采用权利要求1所述的面向WEB服务的通用爬虫引擎系统识别TOB服务的工作方法，其特征在于：所述方法至少包括下列操作步骤：(1)系统启动时，自动加载种子源文件于系统内存，解析种子URL链接，并将种子URL链接转交给队列管理器进行处理；所述种子源文件的来源有三处：选自服务门户、服务目录和知名网站的网址；(2)队列管理器拿到种子URL链接后，将其存储于种子队列中；(3)控制中心从队列管理器中获得一个准备处理的URL链接，传递给线程池中一个空闲的线程进行处理；(4)该空闲线程得到该URL链接后，转交处理器链，由处理器链中的各个子处理器链依序对该URL链接进行处理：预处理器链先处理该URL链接，获取链根据该URL链接下载该链接对应的原始网页，提取链获取该URL链接原始网页中的新的子URL链接，分析保存链对获取的原始网页、新的子URL链接及其网页内容进行分析，补充处理链将获取的新的子URL链接提交给队列管理器；如果某个子处理链在处理过程中，URL链接不满足该子处理器链的条件，就被丢弃，且后续子处理器链也不再对其处理；(5)循环执行步骤（3)&#12316;的操作，直到该系统满足设定的停止条件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求4所述的方法，其特征在于：所述方法还包括预先准备的初始化操作内容：寻找非结构化WEB服务网页，分别构建非结构化TOB服务链接的特征项词库和非结构化WEB服务网页的特征项词库，提高爬虫获取内容的准确率和系统资源利用率。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求5所述的方法，其特征在于：所述构建非结构化WEB服务的链接特征项词库包括下列操作内容：(Al)从特定的提供非结构TOB服务的网站随机下载足够数量的非结构化TOB服务的网页，作为该非结构化WEB服务的训练集合；(A2)统计训练集合中的文件总数，从中取出每个文件并进行下述处理； 使用能解析HTML文件的解析器提取该文件中的所有以http或https打头的链接和链接文字，并将提取结果保存于临时文件；对保存链接和链接文字的临时文件进行分析：先剔除停用词，再统计不同单词的出现频率，并将出现频率大于设定阈值的单词作为非结构化WEB服务链接的特征项词库的备选项；直至所有文件都处理完毕；(A3)从该特征项词库的备选项中筛选最能代表非结构化WEB服务的各个单词，再根据这些单词与非结构化WEB服务关联的紧密程度，给其设置不同的权值，将这些特征词及其相应权值保存于URL链接特征项词库文本。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求5或6所述的方法，其特征在于：所述构建非结构化WEB服务网页的特征项词库包括下列操作内容：(Bi)以步骤（Al)中的URL链接特征项的训练集合作为构建非结构化TOB服务网页的特征项的训练集合；(B2)统计该训练集合中的文件总数，从该训练集合中取出所有的HTML网页并逐一进行下述处理；使用能解析HTML文件的解析器从原始网页中获取每个网页的主要内容，并将该网页的主要内容保存于纯文本文件；(B3)对生成的纯文本文件逐一进行下述处理；对生成的纯文本文件进行分词处理，剔除停用词，统计不同单词的出现频率，并生成与该纯文本文件对应的统计文件；(B4)用数据容器保存统计的单词及其出现频率、出现该单词的文件总数后，对生成的每个统计文件按照下述方法进行循环处理：读取统计文件中的每一行，解析其中的单词及其出现频率，如果该单词未存在于数据容器，则向数据容器中写入该单词及其出现频率，并记录出现该单词的文件总数为1 ；否则，先读取数据容器中该单词的出现频率及出现该单词的文件总数，再累加其出现频率次数和对出现该单词文件总数加1 ；(B5)处理完所有统计文件，就建立了单词的倒排索引，再计算每个单词的权值；如果其权值大于设定阈值，就认为该单词为一个特征项，将该单词及其权值保存于非结构化WEB 服务网页的特征项词库对应的文件；否则，丢弃该单词。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求4所述的方法，其特征在于：所述步骤（4)中，分析保存链中的URL得分处理器从提取链中获取所有的外向子URL链接，循环执行下述操作内容：(4A) URL得分处理器提取其中一个子URL链接，使用URL链接过滤算法计算该子URL链接的相似度；(4B)如果计算结果的相似度小于设定阈值，则丢弃该子URL链接，返回步骤（4A)；否则，赋予该子URL链接一个相应的得分，并保存该子URL链接，再将子URL链接总数减1后， 返回步骤（4A)；直至URL链接总数为0，流程结束。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求8所述的方法，其特征在于：所述步骤（4A)中，对每个URL链接使用的URL链接过滤算法包括下列操作内容：(4A1)从URL链接特征项词库文本中循环读取每个特征词及其出现频率，用数据容器保存读取的每个特征词及其权值；直至读到该文件末尾，以构造URL链接的目标特征向量；(4A2)对准备分析的URL链接及其链接文字进行分词处理，并提取和排除包括不可识别的编码、数字、非字符的符号的噪音文字；(4A3)对经过步骤（4似）处理的不同单词统计其出现频率；(4A4)用数据容器循环读取经过步骤（4A3)统计的每个单词，并将其和已经构造的目标特征向量中的单词进行比较，如果该单词出现在目标特征向量里，则该单词被赋予与其特征向量相同的权值；否则，被赋值为0 ；直到所有单词都进行比较后，得到了比较向量，结束该循环操作；(4A5)用向量空间模型计算目标特征向量与比较向量两者的相似度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求4所述的方法，其特征在于：所述步骤中，分析保存链中的页面得分处理器执行下述操作内容：(4a)页面得分处理器使用页面过滤算法计算所提取的网页相似度；(4b)如果计算的网页相似度小于设定阈值，则丢弃该网页，不再进行后续处理；否则， 根据计算的相似度大小赋予该网页一个相应的得分，并送入保存文本内容处理器进行后续处理。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.根据权利要求10所述的方法，其特征在于：所述步骤Ga)中，页面得分处理器对每个网页进行的页面过滤算法包括下列操作内容：(4al)从非结构化TOB服务网页的特征项词库对应的文件中循环读取每个特征词及其出现频率，用数据容器保存被读取的每个特征词及其权值；直至读到文件结束，以构造非结构化TOB服务网页的的目标特征向量；(4a2)使用能够解析HTML文档的解析器对准备分析的网页进行解析，获取该网页的主要内容，保存生成该网页的纯文本文件；(4a3)对生成的纯文本文件进行分词处理，剔除停用词，统计不同单词及其出现频率， 并保存到临时文件里；(4a4)读取该临时文件，用数据容器记录临时文件中的每个单词及其出现频率，以构建比较向量；(4a5)用向量空间模型计算目标特征向量与比较向量两者的相似度。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES43541067" lang="ZH" load-source="patent-office" class="description">
    <p>一种面向WEB服务的通用爬虫引擎系统及其工作方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及于主题（聚焦）爬虫技术，确切地说，涉及一种面向WEB服务的通用爬虫引擎系统及其识别互联网上的WEB服务的工作方法，属于互联网的搜索引擎技术领域。</p>
    <p>背景技术</p>
    <p>[0002]	随着互联网上TOB应用的增多，越来越多的WEB服务被企业发布到互联网上，WEB 服务在企业之间及企业内部开发基于构件的松散耦合系统中起着重要的作用。现有的WEB 服务从使用规模和数量上主要分为两大类：</p>
    <p>[0003]	(一）以采用服务描述语言 WSDL (WEB Services Description Language)描述的服务为代表的结构化WEB服务，这类服务主要使用简单对象访问协议S0AP(Simple Object Access Protocol),并使用可扩展标记语言XML (Extensible Markup Language)传输数据。</p>
    <p>[0004]	(二）以RESTful WEB服务为代表的非结构化WEB服务：RESTful WEB服务遵循表示性状态转移REST (Itepresentational State ^Transfer)风格，并且，这类服务在整个非结构化TOB服务中占有绝大多数的份额。另一类非结构化WEB服务主要是其他形式的WEB API服务，这类服务的比重仅次于RESTfulTOB服务。</p>
    <p>[0005]	至今为止，ProgrammableWeb是提供最大量的WEB服务注册和查询的门户网站，它提供了门类齐全的WEB服务，可以让用户按服务的类别、提供服务的公司、服务使用的协议 /风格、传输数据的格式、服务的注册时间等分类查看服务列表。ProgrammableWeb现在收录的服务有3074个，图1所示的图片摘自http://www. programmableweb. com/apis，该图从使用协议的角度显示了不同WEB服务所占的比例。从该统计图可以看出：传统的使用SOAP 协议的结构化WEB服务有被以RESTful为代表的非结构化的WEB服务逐步取代的趋势，其主要原因是因为这些非结构化的WEB服务遵循REST的架构设计风格。这类服务在URL链接的设计、协议的选择和消息的传输上都比结构化的WEB服务要简单得多。现在许多著名的WEB站点（如Google，Amazon、Facebook、Flickr等）都提供了容易使用、免费访问它们资源的RESTful WEB服务及APIs。</p>
    <p>[0006]	以RESTful为代表的非结构化WEB服务广泛存在于互联网，查找和搜索这类服务为企业间信息互通和服务集成都有着非常重要的意义。非结构化WEB服务的开发是自治的，没有统一规定的标准或规则，服务文档通常也不是一个类似于WSDL的接口描述文件， 而是一个普通的HTML的TOB页面。非结构化WEB服务的这些固有特性，使得现在的通用 WEB服务爬虫引擎系统很难识别和抓取互联网上的这类服务。</p>
    <p>[0007]	目前，WEB服务爬虫引擎系统的现有技术方案有下述三种：</p>
    <p>[0008]	(A)基于UDDI注册中心：使用该方式，爬虫引擎可抓取的Web服务的比例很小。比较有代表性的UDDI注册中心在2006年就关闭了，而且，UDDI注册中心对服务的注册者的信息和服务的Qos信息不进行实时考证，爬虫引擎抓取的数据可能大部分都是过时的或不存在的。</p>
    <p>[0009]	(B)通过WEB服务网站：由于提供服务的门户所收录的TOB服务并没有囊括互联网中所有WEB服务，并且这类服务网站对服务注册者提供的服务信息并没有进行实时的验证（包括服务的可用性，QoS等）。爬虫引擎以这类网站作为目标获取的数据可能大部分也是过时的或者不可信的。</p>
    <p>[0010]	(C)使用通用搜索引擎：该方式的弊端也是很明显，因为通用搜索引擎面对的是广大的人群，它们考虑的是网页覆盖面尽可能大和广；然而，对于服务领域的搜索来说，通用搜索引擎的搜索结果往往不如人意。</p>
    <p>[0011]	服务搜索技术的一个目标是如何识别和抓取互联网上所有的WEB服务，这也是当今服务搜索方面的研究热点问题。国外的kekda和krvice Finder是服务搜索方面的先行者。然而这两个项目都仅仅对以WSDL为代表的结构化TOB服务提供了很好的支持。对于非结构化WEB服务的搜索，国内外都还没有相关的研究成果或可实用的技术方案。因此， 如何解决该技术问题，就成为业内科技人员关注的焦点课题。</p>
    <p>发明内容</p>
    <p>[0012]	有鉴于此，本发明的目的是提供一种面向WEB服务的通用爬虫引擎系统及其识别互联网的非结构化WEB服务的工作方法，本发明系统解决了现有技术存在的缺陷，具有良好的可扩展性和伸缩性，能够添加自定义的子处理器链或修改原有的子处理器链功能，以方便用户定制和自定义扩展系统的功能；而且本发明方法抓取非结构化服务的准确率高， 还节省了系统资源。</p>
    <p>[0013]	为了达到上述发明目的，本发明提供了一种面向TOB服务的通用爬虫引擎系统， 其特征在于：所述系统设有下述三种构件：</p>
    <p>[0014]	控制中心，为该系统的控制中枢，负责总控和管理整个操作过程，启动整个爬虫抓取工作的起点，并决定整个抓取任务的开始和结束：从队列管理器中获取URL(Universal Resource Locator)链接、即统一资源定位符或网页地址，将获取的URL链接传递给线程池中的处理线程，处理线程将该URL链接送至处理器链由其各个子处理器链顺序进行相应处理，其中分析保存链能够处理结构化WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL链接和网页的分析过滤，并将抓取的原始网页保存于储藏库；设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统 DNS (Domain Name System)；处理器链中的分析保存链为处理结构化WEB服务设有结构化 TOB服务处理器，为处理非结构化TOB服务设有：URL得分处理器、页面得分处理器和保存文本内容处理器；</p>
    <p>[0015]	储藏库，用于保存该系统获取的原始网页、系统解析后的纯文本网页和系统产生的日志信息，并设有存储该三类信息的三个数据库：爬虫抓取的原始网页的网页库，系统分析而提取的网页内容的文本库，运行期间产生的各种日志信息的日志库；</p>
    <p>[0016]	特征项词库，包括非结构化TOB服务URL链接的特征项词库及其服务网页的特征项词库，前者用于预存该系统的非结构化WEB服务URL链接的特征项信息，在URL链接进入处理器链的URL得分处理器时构造特征项词库的向量；后者用于预存该系统的非结构化 WEB服务网页的特征项信息，在URL链接进入处理器链的页面得分处理器时构造特征项词库的向量；这两个特征项词库是预先分别使用URL链接的特征项构造方法和服务网页的特征项构造方法提前构建的。[0017]	为了达到上述发明目的，本发明还提供了一种采用本发明面向TOB服务的通用爬虫引擎系统识别非结构化WEB服务的工作方法，其特征在于：该方法至少包括下列操作步骤：</p>
    <p>[0018]	(1)系统启动时，自动加载种子源文件于系统内存，解析种子URL链接，并将种子 URL链接转交给队列管理器进行处理；所述种子源文件的来源有三处：选自服务门户、服务目录和知名网站的网址；</p>
    <p>[0019]	(2)队列管理器拿到种子URL链接后，将其存储于种子队列中；</p>
    <p>[0020]	(3)控制中心从队列管理器中获得一个准备处理的URL链接，传递给线程池中一个空闲的线程进行处理；</p>
    <p>[0021]	(4)该空闲线程得到该URL链接后，转交处理器链，由处理器链中的各个子处理器链依序对该URL链接进行处理：预处理器链先处理该URL链接，获取链根据该URL链接下载该链接对应的原始网页，提取链获取该URL链接原始网页中的新的子URL链接，分析保存链对获取的原始网页、新的子URL链接及其网页内容进行分析，补充处理链将获取的新的子 URL链接提交给队列管理器；如果某个子处理链在处理过程中，URL链接不满足该子处理器链的条件，就被丢弃，且后续子处理器链也不再对其处理；</p>
    <p>[0022]	(5)循环执行步骤（3)&#12316;⑷的操作，直到该系统满足设定的停止条件。</p>
    <p>[0023]	本发明面向TOB服务的通用爬虫引擎系统的优点是：具有良好的可扩展性和伸缩性，该系统的控制中心的功能模块-处理器链采用插件可插拔机制：根据系统自身功能的变化需求，能够添加自定义的子处理器链或修改原有的子处理器链功能，以方便用户定制和自定义扩展系统的功能。这个特添也集中体现了该系统的可扩展性和可定制性。由于本发明爬虫引擎系统的目标是整个互联网（包括服务的目录和门户），保证了能够最大量地抓取互联网上所有的WEB服务，这是目前已有的各种服务爬虫引擎系统所不具有的功能。 另外，本发明还提供了非结构化WEB服务的识别方法，大大提高抓取非结构化服务的准确率，并且节省了系统资源。</p>
    <p>附图说明</p>
    <p>[0024]	图1是不同TOB服务所占的比例示意图。</p>
    <p>[0025]	图2是本发明面向TOB服务的通用爬虫引擎系统的结构组成示意图。</p>
    <p>[0026]	图3是本发明面向TOB服务的通用爬虫引擎系统识别互联网TOB服务的工作方法步骤流程图。</p>
    <p>[0027]	图4是本发明采用URL链接过滤算法对单个链接进行过滤的操作流程图。</p>
    <p>[0028]	图5是本发明采用的页面过滤算法的操作流程图。</p>
    <p>[0029]	图6是本发明构建非结构化WEB服务链接的特征项词库的操作流程图。</p>
    <p>[0030]	图7是本发明构建非结构化WEB服务网页的特征项词库的操作流程图。</p>
    <p>具体实施方式</p>
    <p>[0031]	为使本发明的目的、技术方案和优点更加清楚，下面结合附图和实施例对本发明作进一步的详细描述。</p>
    <p>[0032]	参见图2，先介绍本发明面向TOB服务的通用爬虫引擎系统的结构组成的三个构件：控制中心、储藏库和特征项词库。它们的结构组成与功效介绍如下：</p>
    <p>[0033](	一 )控制中心，作为该系统的控制中枢，负责该系统整个操作过程的执行和管理，启动整个抓取工作的起点，并决定整个抓取任务的开始和结束：从队列管理器中获取 URL链接、即统一资源定位符或网页地址，将获取的URL链接传递给线程池中的处理线程， 处理线程将该URL链接送至处理器链由其各个子处理器链顺序进行相应处理。其中分析保存链能够处理结构化WEB服务和非结构化WEB服务，对于非结构化WEB服务的URL链接和网页内容分别进行URL和网页的分析过滤，并将抓取的原始网页保存于储藏库。控制中心设有五个功能模块：队列管理器、处理器链、线程池、策略中心和域名管理系统DNS，分别具有下述功能：</p>
    <p>[0034]	队列管理器，负责依据策略中心配置的不同策略，将系统新抽取的URL链接根据该URL链接自身的优先级放入不同的优先级队列，并管理每个队列及队列中每个URL链接的生命周期；这些队列根据系统预定义的优先级分为高、中、低三种和一个存放种子URL链接或需要提前预处理的最高优先级的URL链接种子队列；队列管理器还对URL链接执行去重处理，即辨别重复URL链接。</p>
    <p>[0035]	处理器链，为五个完成不同功能的子处理器链（预处理链、获取链、提取链、分析保存链和补充链）的集合，这些子处理器链按照预定顺序串接位于该处理器链中，每个URL 链接根据各个子处理器链的规则要求通过一个、多个、或全部的子处理器链的处理，该处理器链根据系统自身功能的变化需求，能够添加自定义的子处理器链或修改原有的子处理器链功能，这个特性集中体现了本发明系统的可扩展性和可定制性。下面具体介绍其中五个子处理器链的功能特性：</p>
    <p>[0036]	预处理链用于根据域名系统DNS和系统预设的下载范围的控制信息，判断当前 URI链接是否需要预处理。获取链负责使用网络套接字Socket链接从远程服务器获取数据，下载URL链接对应的网页源文件。提取链负责从网页源文件中抽取新的URL链接。分析保存链负责将网页源文件进行相应处理后，保存于系统硬盘的储藏库；为体现该系统为面向WEB服务的通用爬虫引擎系统，除了原有的保存原始网页处理器以外，增设下述四个处理器：为处理结构化WEB服务的结构化WEB服务处理器，为处理非结构化WEB服务的URL 得分处理器、页面得分处理器和保存文本内容处理器。下面介绍这四个子处理器的功能：</p>
    <p>[0037]	结构化WEB服务处理器，使用WSDL解析器解析从获取链得到的原始网页内容，判断该网页为WSDL格式的结构化TOB服务时，交由该分析保存链中的保存原始网页内容处理器进行处理；否则，交由URL得分处理器进行处理。</p>
    <p>[0038]	URL得分处理器，使用URL过滤算法计算从提取链中得到的URL链接的相似度，让相似度大于设定阈值的URL链接通过该URL得分处理器，由页面得分处理器进行处理。</p>
    <p>[0039]	页面得分处理器，用于解析原始网页的纯文本内容，并应用网页过滤算法计算网页的相似度，让相似度大于设定阈值的网页通过该页面得分处理器，由保存文本内容处理器进行处理。</p>
    <p>[0040]	保存文本内容处理器，用于将页面得分处理器处理的URL链接对应网页解析的纯文本内容保存于系统的文本库。</p>
    <p>[0041]	最后一个子处理链是补充处理链，用于将新抽取的URL链接提交给队列管理器进行处理。[0042]	线程池，负责管理多个线程的生命周期：包括新建空闲线程、销毁空闲进程、启动新线程与停止线程；为提高系统的并发性和爬虫效率，该线程池设有多个线程，其中每个线程将URL链接顺序送至处理器链中的各处理器进行处理。</p>
    <p>[0043]	策略中心用于配置和调整队列管理器的管理策略，该系统默认的队列管理策略是优先级策略；通过策略中心，队列管理器能够根据域名、或优先级、或同时兼顾优先级和域名对URL链接分类，策略中心还能动态调整队列管理器的策略，并反馈给控制中心，以便控制中心采用不同策略实时控制URL的访问先后顺序。策略中心还给线程池实时反馈系统的 CPU利用率与内存使用率等的资源消耗信息，以使线程池控制当前的活动线程的数量和线程的状态，实现系统资源的实时最优化。</p>
    <p>[0044]	域名管理系统DNS负责将目标服务所在设备的域名转换为网络能识别的IP地址， 并保存解析结果，避免系统每次都要解析域名，加快系统的下载速度。</p>
    <p>[0045]	(2)储藏库用于保存该系统获取的原始网页、系统解析后的纯文本网页和系统产生的日志信息，故设有存储该三类信息的三个数据库：爬虫抓取的原始网页的网页库，系统分析而提取的网页内容的文本库，运行期间产生的各种日志信息的日志库。</p>
    <p>[0046]	(3)特征项词库有两个：非结构化WEB服务URL链接的特征项词库及其服务网页的特征项词库，前者用于预存该系统的非结构化WEB服务URL链接的特征项信息，在URL链接进入处理器链的URL得分处理器时构造特征项词库的向量。后者用于预存该系统的非结构化WEB服务网页的特征项信息，在URL链接进入处理器链的页面得分处理器时构造特征项词库的向量。这两个特征项词库都是预先分别使用URL链接的特征项构造方法和服务网页的特征项构造方法提前构建的。</p>
    <p>[0047]	下面介绍本发明面向TOB服务的通用爬虫引擎系统的识别互联网上的非结构化 WEB服务的工作方法，该方法包括下列操作步骤：</p>
    <p>[0048]	步骤0，初始化准备：寻找非结构化WEB服务网页，分别构建非结构化WEB服务链接的特征项词库和非结构化WEB服务网页的特征项词库，提高爬虫获取内容的准确率和系统资源利用率。</p>
    <p>[0049]	步骤1，系统启动时，自动加载种子源文件于系统内存，解析种子URL链接，并将种子URL链接转交给队列管理器进行处理；该种子源文件的来源有三处：选自服务门户或服务目录，以及知名网站（例如Google、Souhu等）的网址。</p>
    <p>[0050]	步骤2，队列管理器拿到种子URL链接后，将其存储于种子队列中。</p>
    <p>[0051]	步骤3，控制中心从队列管理器中获得一个准备处理的URL链接，传递给线程池中一个空闲的线程进行处理（参见图3，从该步骤开始描述操作流程）。</p>
    <p>[0052]	步骤4，该空闲线程得到该URL链接后，转交处理器链，由处理器链中的五个子处理器链依序对该URL链接进行处理：预处理器链先处理该URL链接，获取链根据该URL链接下载该链接对应的原始网页，提取链获取该URL链接原始网页中的全部子URL链接，分析保存链对获取的这些子URL链接及网页内容进行分析，补充处理链将获取的新的子URL链接提交给队列管理器。</p>
    <p>[0053]	如果某个子处理链在处理过程中，当前的URL链接不满足该子处理器链的条件， 就被丢弃，且后续子处理器链也不再对其处理；</p>
    <p>[0054]	步骤5，循环执行步骤3&#12316;步骤4的操作，直到该系统满足设定的停止条件。[0055]	下面重点介绍上述步骤4中两个得分处理器的操作内容：</p>
    <p>[0056]	(A) URL得分处理器从提取链中获取所有的外向子URL链接，循环执行下述操作内容：</p>
    <p>[0057]	(4A) URL得分处理器提取其中一个子URL链接后，判断已经处理的子URL链接总数是否还大于0，若是，则执行后续操作；否则，进入页面处理得分器的操作步骤。</p>
    <p>[0058]	(4B)使用URL链接过滤算法计算该子URL链接的相似度，如果计算结果的相似度小于设定阈值，则丢弃该子URL链接，返回步骤（4A)；否则，赋予该子URL链接一个相应的得分，并保存该子URL链接，再将子URL链接总数减1后，返回步骤（4A)；直至URL链接总数为0，流程结束。</p>
    <p>[0059]	参见图4，介绍步骤GB)中，URL得分器使用的URL链接过滤算法的下列操作内容：</p>
    <p>[0060]	(4B1)从URL链接特征项词库文本中循环读取每个特征词及其出现频率，用数据容器保存读取的每个特征词及其权值；直至读到该文件末尾，以构造URL链接的目标特征向量。</p>
    <p>[0061]	(4B2)对准备分析的URL链接及其链接文字进行分词处理，并提取和排除包括不可识别的编码、数字、非字符的符号的噪音文字。</p>
    <p>[0062]	(4B3)对经过步骤（4似）处理的不同单词统计其出现频率。</p>
    <p>[0063]	(4B4)用数据容器循环读取经过步骤（4似）统计的每个单词，并将其和已经构造的目标特征向量中的单词进行比较，如果该单词出现在目标特征向量里，则该单词被赋予与其特征向量相同的权值；否则，被赋值为0 ；直到所有单词都进行比较后，得到了比较向量，结束该循环操作。</p>
    <p>[0064]	(4B5)用向量空间模型计算目标特征向量与比较向量两者的相似度。</p>
    <p>[0065]	(B)再介绍步骤4中的页面处理得分器对经过URL得分处理器处理后的信息执行的下述操作内容：</p>
    <p>[0066]	(4a)页面得分处理器使用页面过滤算法计算所提取的网页相似度。</p>
    <p>[0067]	(4b)如果计算的网页相似度小于设定阈值，则丢弃该网页，不再进行后续处理； 否则，该网页被赋予一个相应的得分，并送入保存文本内容处理器进行后续处理。</p>
    <p>[0068]	参见图5，介绍步骤Ga)中，页面得分处理器对提取的网页执行的页面过滤算法具体操作内容：</p>
    <p>[0069]	(4al)从非结构化TOB服务网页的特征项词库对应的文件中循环读取每个特征词及其出现频率，用数据容器保存被读取的每个特征词及其权值；直至读到文件结束，以构造非结构化WEB服务网页的的目标特征向量。</p>
    <p>[0070]	(4a2)使用能够解析HTML文档的解析器对准备分析的网页进行解析，获取该网页的主要内容（例如HEAD标签、METE标签、TITLE标签对应的文相关字，以及BODY标签的主要内容），保存生成该网页的纯文本文件。</p>
    <p>[0071]	(4a3)对生成的纯文本文件进行分词处理，剔除停用词，统计不同单词及其出现频率，并保存到临时文件里。</p>
    <p>[0072]	(4a4)读取该临时文件，用数据容器记录临时文件中的每个单词及其出现频率，以构建比较向量。[0073]	(4a5)用向量空间模型计算目标特征向量与比较向量两者的相似度。</p>
    <p>[0074]	从上面介绍中的分析保存链中的URL得分处理器和页面得分处理器分别使用的 URL链接过滤算法和页面过滤算法的处理流程可以获悉：这两种过滤算法的前提是必须保证两个特征项词库的存在，因此，必须事先完成构建本发明系统结构中的两个特征项词库， 以供这两个得分处理器的调用。</p>
    <p>[0075]	众所周知，每个HTML网页上都有大量的链接，许多链接是一些垃圾链接（即其和目标链接没有关系），如果不对链接进行简单的过滤，就可能导致爬虫引擎在爬取与目标无关的网站上执行多余的深层爬取，这样就影响爬虫获取内容的准确率和浪费系统资源。所以，要判断一个链接是否与非结构化WEB服务相关，首先要找出提供非结构化TOB服务链接的共性，因此必须构造一个非结构化WEB服务链接的特征项词库。</p>
    <p>[0076]	因此，参见图6，介绍本发明方法中的初始化准备步骤0 ：构建非结构化WEB服务的链接特征项词库构建的具体操作内容：</p>
    <p>[0077]	(01)从特定的提供非结构TOB服务的网站随机下载足够数量的非结构化TOB服务的网页，作为该非结构化WEB服务的训练集合。</p>
    <p>[0078]	(02)统计训练集合中的文件总数，从中取出每个文件并进行下述处理；</p>
    <p>[0079]	使用能解析HTML文件的解析器提取该文件中的所有以http或https打头的链接和链接文字，并将提取结果保存于临时文件。</p>
    <p>[0080]	对保存链接和链接文字的临时文件进行分析：先剔除停用词，再统计不同单词的出现频率，并将出现频率大于设定阈值（比如10)的单词作为非结构化WEB服务链接的特征项词库的备选项；直至所有文件都处理完毕。</p>
    <p>[0081]	(03)从该特征项词库的备选项中筛选最能代表非结构化WEB服务的各个单词，再根据这些单词与非结构化WEB服务关联的紧密程度，给其设置不同的权值，将这些特征词及其相应权值保存于URL链接特征项词库文本。</p>
    <p>[0082]	再参见图7，介绍本发明方法中的另一项初始化准备步骤0 ：构建非结构化TOB服务网页的特征项词库的具体操作内容：</p>
    <p>[0083]	(Oa)以步骤（01)中的URL链接特征项的训练集合作为构建非结构化WEB服务网页的特征项的训练集合。</p>
    <p>[0084]	(Ob)统计该训练集合中的文件总数，从该训练集合中取出所有的HTML网页并逐一进行下述处理；使用能解析HTML文件的解析器从原始网页中获取每个网页的主要内容， 并将该网页的主要内容保存于纯文本文件。</p>
    <p>[0085]	(Oc)对生成的纯文本文件逐一进行下述处理；对生成的纯文本文件进行分词处理，剔除停用词，统计不同单词的出现频率，并生成与该纯文本文件对应的统计文件。</p>
    <p>[0086]	(Od)用数据容器保存统计的单词及其出现频率、出现该单词的文件总数后，对生成的每个统计文件按照下述方法进行循环处理：</p>
    <p>[0087]	读取统计文件中的每一行，解析其中的单词及其出现频率，如果该单词未存在于数据容器，则向数据容器中写入该单词及其出现频率，并记录出现该单词的文件总数为1 ； 否则，先读取数据容器中该单词的出现频率及出现该单词的文件总数，再累加其出现频率次数和对出现该单词文件总数加1。</p>
    <p>[0088]	(Oe)处理完所有统计文件，就建立了单词的倒排索引，再计算每个单词的权值；如果其权值大于设定阈值，就认为该单词为一个特征项，将该单词及其权值保存于非结构化WEB服务网页的特征项词库对应文件；否则，丢弃之。</p>
    <p>[0089] 以上所述仅为本发明较佳实施例而已，并不用以限制本发明，凡在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明保护的范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101404666A?cl=zh">CN101404666A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年10月6日</td><td class="patent-data-table-td patent-date-value">2009年4月8日</td><td class="patent-data-table-td ">赵洪宇</td><td class="patent-data-table-td ">一种基于Web页无限层采集方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101727485A?cl=zh">CN101727485A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年12月10日</td><td class="patent-data-table-td patent-date-value">2010年6月9日</td><td class="patent-data-table-td ">湖南科技大学</td><td class="patent-data-table-td ">一种基于聚焦搜索的wsdl搜集方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6963863">US6963863</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">1999年9月28日</td><td class="patent-data-table-td patent-date-value">2005年11月8日</td><td class="patent-data-table-td ">Thomas Bannon</td><td class="patent-data-table-td ">Network query and matching system and method</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102571780A?cl=zh">CN102571780A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月28日</td><td class="patent-data-table-td patent-date-value">2012年7月11日</td><td class="patent-data-table-td ">北京星网锐捷网络技术有限公司</td><td class="patent-data-table-td ">一种访问网络资源的控制方法、设备与系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102722526A?cl=zh">CN102722526A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月16日</td><td class="patent-data-table-td patent-date-value">2012年10月10日</td><td class="patent-data-table-td ">成都信息工程学院</td><td class="patent-data-table-td ">基于词性分类统计的重复网页和近似网页的识别方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102722526B?cl=zh">CN102722526B</a></td><td class="patent-data-table-td patent-date-value">2012年5月16日</td><td class="patent-data-table-td patent-date-value">2014年4月30日</td><td class="patent-data-table-td ">成都信息工程学院</td><td class="patent-data-table-td ">基于词性分类统计的重复网页和近似网页的识别方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103020129A?cl=zh">CN103020129A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月20日</td><td class="patent-data-table-td patent-date-value">2013年4月3日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种文本内容提取方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103020129B?cl=zh">CN103020129B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月20日</td><td class="patent-data-table-td patent-date-value">2015年11月18日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种文本内容提取方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103091708B?cl=zh">CN103091708B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年10月28日</td><td class="patent-data-table-td patent-date-value">2015年10月7日</td><td class="patent-data-table-td ">中国石油化工股份有限公司</td><td class="patent-data-table-td ">一种三维地震构造曲率性能优化方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103092999A?cl=zh">CN103092999A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年2月22日</td><td class="patent-data-table-td patent-date-value">2013年5月8日</td><td class="patent-data-table-td ">人民搜索网络股份公司</td><td class="patent-data-table-td ">一种网页抓取周期调整方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103150662A?cl=zh">CN103150662A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年2月7日</td><td class="patent-data-table-td patent-date-value">2013年6月12日</td><td class="patent-data-table-td ">珠海市君天电子科技有限公司</td><td class="patent-data-table-td ">一种鉴定淘宝网虚假商品广告的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103389983A?cl=zh">CN103389983A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月8日</td><td class="patent-data-table-td patent-date-value">2013年11月13日</td><td class="patent-data-table-td ">阿里巴巴集团控股有限公司</td><td class="patent-data-table-td ">一种用于网络爬虫系统的网页内容抓取方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=ctWFBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年11月2日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年5月8日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/c15961f53871b98c2f1a/CN102184227A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E9%9D%A2%E5%90%91web%E6%9C%8D%E5%8A%A1%E7%9A%84%E9%80%9A%E7%94%A8%E7%88%AC%E8%99%AB%E5%BC%95.pdf?id=ctWFBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2ngBdCwyPxXv1SrgbS6vzqsKJXeA"},"sample_url":"https://www.google.com/patents/reader?id=ctWFBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>