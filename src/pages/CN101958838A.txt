<!DOCTYPE html><html><head><title>专利 CN101958838A - 数据访问方法及装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="数据访问方法及装置"><meta name="DC.contributor" content="刘胜" scheme="inventor"><meta name="DC.contributor" content="吴锋海" scheme="inventor"><meta name="DC.contributor" content="联动优势科技有限公司" scheme="assignee"><meta name="DC.date" content="2010-10-14" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种数据访问方法及装置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗费网络应用系统较多处理资源的问题。方法包括：数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识；从预先设置在所述服务器中的数据信息与访问策略、存储介质的类型信息的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息；以及通过执行确定的访问策略，确定所述待访问数据的存储地址，并根据确定的存储介质的类型信息，从预先设置在所述服务器中的存储介质类型信息与访问接口的对应关系中，确定相应的访问接口；通过确定的访问接口，访问存储在确定的存储地址中的所述待访问数据。"><meta name="DC.date" content="2011-1-26"><meta name="DC.relation" content="CN:1496075:A" scheme="references"><meta name="DC.relation" content="CN:1599372:A" scheme="references"><meta name="DC.relation" content="CN:1819555:A" scheme="references"><meta name="DC.relation" content="WO:2004036869:A2" scheme="references"><meta name="citation_patent_publication_number" content="CN:101958838:A"><meta name="citation_patent_application_number" content="CN:201010506543"><link rel="canonical" href="https://www.google.com/patents/CN101958838A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101958838A?cl=zh"/><meta name="title" content="专利 CN101958838A - 数据访问方法及装置"/><meta name="description" content="本发明公开了一种数据访问方法及装置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗费网络应用系统较多处理资源的问题。方法包括：数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识；从预先设置在所述服务器中的数据信息与访问策略、存储介质的类型信息的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息；以及通过执行确定的访问策略，确定所述待访问数据的存储地址，并根据确定的存储介质的类型信息，从预先设置在所述服务器中的存储介质类型信息与访问接口的对应关系中，确定相应的访问接口；通过确定的访问接口，访问存储在确定的存储地址中的所述待访问数据。"/><meta property="og:title" content="专利 CN101958838A - 数据访问方法及装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101958838A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101958838A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=FuyNBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101958838A&amp;usg=AFQjCNFETE0bofFw3oYTP6kbFF5TZuGD4w" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/146837cbd70f0bb1d59d/CN101958838A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/146837cbd70f0bb1d59d/CN101958838A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101958838A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101958838A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101958838A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101958838B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101958838A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种数据访问方法及装置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗费网络应用系统较多处理资源的问题。方法包括：数据访问服务器获取至少一个网络应用系统发送的待访...</span><span itemprop="url">https://www.google.com/patents/CN101958838A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101958838A - 数据访问方法及装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101958838A - 数据访问方法及装置" title="专利 CN101958838A - 数据访问方法及装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101958838 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010506543</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年1月26日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年10月14日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年10月14日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101958838B?hl=zh-CN&amp;cl=zh">CN101958838B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010506543.2, </span><span class="patent-bibdata-value">CN 101958838 A, </span><span class="patent-bibdata-value">CN 101958838A, </span><span class="patent-bibdata-value">CN 201010506543, </span><span class="patent-bibdata-value">CN-A-101958838, </span><span class="patent-bibdata-value">CN101958838 A, </span><span class="patent-bibdata-value">CN101958838A, </span><span class="patent-bibdata-value">CN201010506543, </span><span class="patent-bibdata-value">CN201010506543.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%88%98%E8%83%9C%22">刘胜</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%90%B4%E9%94%8B%E6%B5%B7%22">吴锋海</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E8%81%94%E5%8A%A8%E4%BC%98%E5%8A%BF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">联动优势科技有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101958838A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101958838A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101958838A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=FuyNBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010506543&amp;usg=AFQjCNEiN03Fm0EEovDN4oOkPcgH7EzOzQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=FuyNBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101958838A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNERnUPZatPneoikt1nm1b7yRKq1kQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT100728993" lang="ZH" load-source="patent-office">数据访问方法及装置</invention-title>
      </span><br><span class="patent-number">CN 101958838 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA83015692" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种数据访问方法及装置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗费网络应用系统较多处理资源的问题。方法包括：数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识；从预先设置在所述服务器中的数据信息与访问策略、存储介质的类型信息的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息；以及通过执行确定的访问策略，确定所述待访问数据的存储地址，并根据确定的存储介质的类型信息，从预先设置在所述服务器中的存储介质类型信息与访问接口的对应关系中，确定相应的访问接口；通过确定的访问接口，访问存储在确定的存储地址中的所述待访问数据。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(14)</span></span></div><div class="patent-text"><ol mxw-id="PCLM34826704" lang="ZH" load-source="patent-office" class="claims">
    <li class="claim"> <div num="1" class="claim">
      <div class="claim-text">一种数据访问方法，其特征在于，包括：数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识；从预先设置在所述服务器中的数据信息与访问策略、存储介质的类型信息的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息；以及通过执行确定的访问策略，确定所述待访问数据的存储地址，并根据确定的存储介质的类型信息，从预先设置在所述服务器中的存储介质类型信息与针对不同类型的存储介质的访问接口的对应关系中，确定相应的访问接口；通过确定的访问接口，访问存储在确定的存储地址中的所述待访问数据。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的方法，其特征在于，还包括：数据访问服务器接收所述网络应用系统发送的用于指示对所述待访问数据进行操作 的操作类型信息，所述操作类型信息是所述网络应用系统从预先设置的若干操作类型信息 中选取的；以及对访问到的数据执行接收的所述操作类型信息所指示的操作。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求1或2所述的方法，其特征在于，数据访问服务器获取由负载均衡服务器 转发来的所述网络应用系统发送的待访问数据的标识；其中，负载均衡服务器在判断出数据访问服务器的负载信息符合预定条件时，将所述 待访问数据的标识转发给数据访问服务器。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求1或2所述的方法，其特征在于，数据访问服务器设置有分别支持不同协 议的多个接口 ；以及数据访问服务器获取所述待访问数据的标识具体包括：数据访问服务器通过所述多个接口中的第一接口接收所述网络应用系统发送的封装 有待访问数据的标识的协议消息，其中，所述第一接口支持用于封装所述待访问数据的标 识的协议；并根据该协议消息的协议类型，选取相应的序列化处理方式对所述协议消息进行序列化 处理，得到所述待访问数据的标识。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求1或2所述的方法，其特征在于，还包括：数据访问服务器获取访问到的数据，对获取到的数据进行压缩，并将压缩后的数据进 行加密后发送给所述网络应用系统。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求1或2所述的方法，其特征在于，还包括：所述数据访问服务器确定接收所述待访问数据的标识的时间信息以及所述网络应用 系统的标识；并根据所述时间信息和所述网络应用系统的标识，从预先设置的网络应用系统的标识、 时间信息与数据访问带宽的对应关系中，选取相应的数据访问带宽；以及根据确定出的访问策略以及访问数据所需的参数信息，利用选取的访问带宽，访问存 储在确定的存储介质的类型信息所指示的存储介质中的所述待访问数据。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求1或2所述的方法，其特征在于，数据访问服务器获取所述待访问数据的 标识具体包括：数据访问服务器利用指定数目的线程监听所述网络应用系统发送的数据访问请求消 息，其中，所述指定数目小于所述数据访问服务器与所有网络应用系统之间的连接总数目； 以及从监听到的数据访问请求消息中解析得到所述待访问数据的标识。</div>
    </div>
    </li> <li class="claim"> <div num="8" class="claim">
      <div class="claim-text">8.	一种数据访问装置，其特征在于，包括：标识获取单元，用于获取至少一个网络应用系统发送的待访问数据的标识；第一确定单元，用于从预先设置在所述装置中的数据的标识与访问策略、存储介质的 类型信息的对应关系中，确定与标识获取单元获取到的待访问数据的标识对应的访问策 略、存储介质的类型信息；存储地址确定单元，用于通过执行第一确定单元确定的访问策略，确定所述待访问数 据的存储地址；访问接口确定单元，用于根据第一确定单元确定的存储介质的类型信息，从预先设置 在所述装置中的存储介质类型信息与针对不同类型的存储介质的访问接口的对应关系中， 确定相应的访问接口；访问单元，用于通过访问接口确定单元确定的访问接口，访问存储在存储地址确定单 元确定的存储地址中的所述待访问数据。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求8所述的装置，其特征在于，还包括：信息接收单元，用于接收所述网络应用系统发送的用于指示对所述待访问数据进行操 作的操作类型信息，所述操作类型信息是所述网络应用系统从预先设置的若干操作类型信 息中选取的；操作单元，用于对访问单元访问到的数据执行信息接收单元接收的操作类型信息所指 示的操作。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求8或9所述的装置，其特征在于，标识获取单元具体用于获取由负载均 衡服务器转发来的所述网络应用系统发送的待访问数据的标识；其中，负载均衡服务器在判断出数据访问服务器的负载信息符合预定条件时，将所述 待访问数据的标识转发给数据访问服务器。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.如权利要求8或9所述的装置，其特征在于，所述装置包含分别支持不同协议的多 个接口 ；以及所述标识获取单元具体包括：消息接收模块，用于通过所述多个接口中的第一接口接收所述网络应用系统发送的封 装有待访问数据的标识的协议消息，其中，所述第一接口支持用于封装所述待访问数据的 标识的协议；协议转化模块，用于根据消息接收模块接收的该协议消息的协议类型，选取相应的序 列化处理方式对所述协议消息进行序列化处理，得到所述待访问数据的标识。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.如权利要求8或9所述的装置，其特征在于，还包括：数据获取单元，用于获取访问单元访问到的数据；发送单元，用于对数据获取单元获取到的数据进行压缩，并将压缩后的数据进行加密 后发送给所述网络应用系统。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求8或9所述的装置，其特征在于，还包括：第二确定单元，用于确定标识获取单元获取所述待访问数据的标识的时间信息以及所 述网络应用系统的标识；选取单元，用于根据第二确定单元确定的时间信息和网络应用系统的标识，从预先设 置的网络应用系统的标识、时间信息与数据访问带宽的对应关系中，选取相应的数据访问带宽；以及所述访问单元具体用于根据第一确定单元确定出的访问策略以及访问数据所需的参 数信息，利用选取单元选取的访问带宽，访问存储在确定的存储介质的类型信息所指示的 存储介质中的所述待访问数据。</div>
    </div>
    </li> <li class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.如权利要求8或9所述的装置，其特征在于，所述标识获取单元具体包括： 监听模块，用于利用指定数目的线程监听所述网络应用系统发送的数据访问请求消息，其中，所述指定数目小于所述数据访问服务器与所有网络应用系统之间的连接总数 目；解析模块，用于从监听模块监听到的数据访问请求消息中解析得到所述待访问数据的 标识。</div>
    </div>
  </li> </ol>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES40688332" lang="ZH" load-source="patent-office" class="description">
    <p>数据访问方法及装置</p>
    <p>技术领域 [0001]	本发明涉及网络计算领域，尤其涉及一种数据访问方法及装置。 背景技术</p>
    <p>[0002]	网络应用系统离不开数据的获取和存储。随着互联网应用的不断演化，网络应用 系统的数量越来越大，网络应用系统对数据的存储和访问越来越频繁、访问的数据量也越 来越大，访问的数据种类也越来越多。</p>
    <p>[0003]	首先，针对单一数据库难以支持网络应用系统频繁访问数据库的问题，在实际应 用中，考虑到网络应用系统对数据所执行的读操作的频率远大于写操作的频率，可以通过 实施“读写分离”的措施来解决该问题。即针对网络应用系统对数据所执行的不同操作类 型，分别对应访问不同的数据库，这样可以有效减轻主数据库的压力。</p>
    <p>[0004]	其次，针对单一主机或单一的数据库无法完整保存网络应用系统所需的所有数据 的问题，在实际应用中，其解决方案是将海量的数据平行分布到多台主机和多个数据库上 进行保存，并且采取分片策略对数据进行分片处理，比如，可以根据整数id值范围对用户 表进行分片，可以根据交易时间对交易表进行分片，或者还可以根据多个字段值的hash对 某些种类的数据表进行分片等等。对应于不同的分片方式，网络应用系统需要采用不同的 访问策略对其进行访问。</p>
    <p>[0005]	此外，由于数据存储类型也越来越多，同一网络应用系统所访问的不同类型的数 据往往存储在不同的存储介质中，比如，存储介质可能是关系数据库，也可能是文档数据 库、内存数据库、Key-Value缓存介质、存储文件格式数据的存储介质、数据服务存储介质 等等。当需要对存储在不同存储介质中的数据进行访问时，需要使用不同的应用编程接口 (API, Application Programming Interface)禾口不同的类库。</p>
    <p>[0006]	基于上述的数据存储方式，当网络应用系统需要对数据进行访问时，其访问示意 图如图ι所示，其中，RDB1、2为关系数据库，Cache为用于存储数据的一种存储介质，称为 高速缓冲存储器、而File为则为另一种存储介质。而DAO为数据访问对象，其需要包含的 信息至少包括网络应用系统对数据执行的操作类型、访问策略、API信息以及待访问数据信 息。根据DAO中包含的操作类型、访问策略以及API信息，网络应用系统得以实现通过某 API，以某种访问策略和操作类型来实现对按照某种分片方式存储在某存储介质中的、待访 问数据信息所指示的数据进行访问。</p>
    <p>[0007]	现有技术中提供的上述访问方式存在的缺陷在于：各个网络应用系统需要分别设 置其采用的DA0，由于网络应用系统的数量非常大，而相应的网络应用系统的数量也是非常 的大，因此，采用各个网络应用系统分别设置DAO的方式来实现对数据的访问需要耗费网 络应用系统较多的处理资源。</p>
    <p>发明内容</p>
    <p>[0008]	本发明实施例提供一种数据访问方法及装置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗费网络应用系统较多处理资源的问题。</p>
    <p>[0009]	本发明实施例采用以下技术方案：</p>
    <p>[0010]	一种数据访问方法，包括： </p>
    <p>[0011]	数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识；从预先设 置在所述服务器中的数据信息与访问策略、存储介质的类型信息的对应关系中，确定与待 访问数据的标识对应的访问策略、存储介质的类型信息；以及通过执行确定的访问策略，确 定所述待访问数据的存储地址，并根据确定的存储介质的类型信息，从预先设置在所述服 务器中的存储介质类型信息与针对不同类型的存储介质的访问接口的对应关系中，确定相 应的访问接口 ；通过确定的访问接口，访问存储在确定的存储地址中的所述待访问数据。</p>
    <p>[0012]	较佳地，所述方法还包括：</p>
    <p>[0013]	数据访问服务器接收所述网络应用系统发送的用于指示对所述待访问数据进行 操作的操作类型信息，所述操作类型信息是所述网络应用系统从预先设置的若干操作类型 信息中选取的；以及对访问到的数据执行接收的所述操作类型信息所指示的操作。</p>
    <p>[0014]	较佳地，数据访问服务器获取由负载均衡服务器转发来的所述网络应用系统发送 的待访问数据的标识；其中，负载均衡服务器在判断出数据访问服务器的负载信息符合预 定条件时，将所述待访问数据的标识转发给数据访问服务器。</p>
    <p>[0015]	较佳地，数据访问服务器设置有分别支持不同协议的多个接口 ；以及数据访问服 务器获取所述待访问数据的标识具体包括：数据访问服务器通过所述多个接口中的第一接 口接收所述网络应用系统发送的封装有待访问数据的标识的协议消息，其中，所述第一接 口支持用于封装所述待访问数据的标识的协议；并根据该协议消息的协议类型，选取相应 的序列化处理方式对所述协议消息进行序列化处理，得到所述待访问数据的标识。</p>
    <p>[0016]	较佳地，所述方法还包括：数据访问服务器获取访问到的数据，对获取到的数据进 行压缩，并将压缩后的数据进行加密后发送给所述网络应用系统。</p>
    <p>[0017]	较佳地，所述方法还包括：</p>
    <p>[0018]	所述数据访问服务器确定接收所述待访问数据的标识的时间信息以及所述网络 应用系统的标识；并根据所述时间信息和所述网络应用系统的标识，从预先设置的网络应 用系统的标识、时间信息与数据访问带宽的对应关系中，选取相应的数据访问带宽；以及根 据确定出的访问策略以及访问数据所需的参数信息，利用选取的访问带宽，访问存储在确 定的存储介质的类型信息所指示的存储介质中的所述待访问数据。</p>
    <p>[0019]	较佳地，数据访问服务器获取所述待访问数据的标识具体包括：数据访问服务器 利用指定数目的线程监听所述网络应用系统发送的数据访问请求消息，其中，所述指定数 目小于所述数据访问服务器与所有网络应用系统之间的连接总数目；以及从监听到的数据 访问请求消息中解析得到所述待访问数据的标识。</p>
    <p>[0020]	一种数据访问装置，包括：标识获取单元，用于获取至少一个网络应用系统发送的 待访问数据的标识；第一确定单元，用于从预先设置在所述装置中的数据的标识与访问策 略、存储介质的类型信息的对应关系中，确定与标识获取单元获取到的待访问数据的标识 对应的访问策略、存储介质的类型信息；存储地址确定单元，用于通过执行第一确定单元确 定的访问策略，确定所述待访问数据的存储地址；访问接口确定单元，用于根据第一确定单 元确定的存储介质的类型信息，从预先设置在所述装置中的存储介质类型信息与针对不同类型的存储介质的访问接口的对应关系中，确定相应的访问接口 ；访问单元，用于通过访问 接口确定单元确定的访问接口，访问存储在存储地址确定单元确定的存储地址中的所述待 访问数据。</p>
    <p>[0021]	本发明实施例的有益效果如下： </p>
    <p>[0022]	本发明实施例提供的上述方案中，通过数据访问服务器对访问策略、存储介质的 类型信息的管理，网络应用系统只需向数据访问服务器发送待访问数据的标识，由数据访 问服务器从预先设置在数据访问服务器中的数据的标识与访问策略、存储介质的类型信息 的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息，从而实现 对待访问数据的访问。由于采用本发明实施例提供的方案，数据访问服务器可以对数据的 标识与访问策略、存储介质的类型信息的对应关系进行统一管理，网络应用系统无需再分 别配置DA0，而只需要提供待访问数据的标识即可，因此，大大节省了网络应用系统的处理 资源。并且，当分片策略发生变化导致访问策略发生变化，或者存储介质发生变化（包括存 储介质类型的变化以及某存储介质数量的增减等）而导致API变化时，采用本发明实施例 提供的该方案，只需要针对数据访问服务器这一个处理对象来修改上述对应关系，无需多 个网络应用系统分别对其采用的DAO进行修改，从而在该情况下，也可以实现对处理资源 的节约。</p>
    <p>附图说明</p>
    <p>[0023]	图1为现有技术中网络应用系统对数据进行访问的示意图；</p>
    <p>[0024]	图2为本发明实施例提供的一种数据访问方法的具体流程示意图；</p>
    <p>[0025]	图3为本发明实施例提供的数据访问方法在实际中的实施示意图；</p>
    <p>[0026]	图4为设置有负载均衡服务器的数据访问系统的具体示意图；</p>
    <p>[0027]	图5为本发明实施例提供的数据访问方法在实际中的应用环境示意图；</p>
    <p>[0028]	图6为本发明实施例提供的一种数据访问装置的具体结构示意图。</p>
    <p>具体实施方式</p>
    <p>[0029]	为了解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而 导致耗费网络应用系统较多处理资源的问题，发明人基于降低网络应用系统功能的复杂 性、以及访问策略等发生变化时对网络应用系统的影响应该最小，以便实现网络应用系统 较高可用性的原则，定义了一种灵活而一致的访问方式，无需耗费网络应用系统较多的处 理资源，就能够完成对海量数据的访问。</p>
    <p>[0030]	具体地，本发明实施例提供了一种数据访问方案，通过在网络应用系统与待访问 数据之间新增数据访问服务器来对数据与访问策略、存储介质的类型信息的对应关系进行 管理，从而实现对网络应用系统功能的简化，实现节约网络应用系统处理资源的目的。具体 地，本发明实施例首先提供一种数据访问方法，该方法的具体实现流程示意图如图2所示， 包括以下步骤：</p>
    <p>[0031]	步骤21，数据访问服务器获取至少一个网络应用系统发送的待访问数据的标识， 在本发明实施例中，可以将包含多个网络应用系统和数据访问服务器的系统称为“数据访 问系统”，在该数据访问系统中，多个网络应用系统可以与一个数据访问服务器相连，视实际需求不同，在一个数据访问系统可以设置一个或多个数据访问服务器，当多个网络应用系统均有数据访问需求时，就可以向该数据访问服务器发送待访问数据的标识，不同网络 应用系统欲访问的数据可以相同，也可以不同，待访问数据的标识可以但不限于是待访问 数据的类型标识，也可以是待访问数据的名称标识等等，较佳地，本发明实施例中，网络应 用系统可以通过发送通用资源标识符（URI，Uniform Resource Identifier)的方式，来将 待访问数据的标识承载在URI中发送给数据访问服务器；</p>
    <p>[0032]	步骤22，从预先设置在数据访问服务器中的数据信息与访问策略、存储介质的类 型信息的对应关系中，确定与待访问数据的标识对应的访问策略、存储介质的类型信息，在 本发明实施例中，可以根据待访问数据的标识，利用API来调用与该信息对应的访问策略、 存储介质的类型信息，还可以将对应于一个待访问数据的标识的访问策略、存储介质的类 型信息、在不同类型的存储介质中访问数据分别所需的参数信息包装成一个“Dalet资源” 并将其存储在数据访问服务器中，比如，可以存储在数据访问服务器所包含的Dalet处理 模块中；</p>
    <p>[0033]	步骤23，通过执行确定的访问策略，确定待访问数据的存储地址，并根据确定的存 储介质的类型信息，从预先设置在数据访问服务器中的存储介质类型信息与针对不同类型 的存储介质的访问接口的对应关系中，确定相应的访问接口，在本步骤23中，访问策略可 以是基于哈希算法等的访问策略，通过执行与待访问数据对应的该访问策略，能够确定待 访问数据的存储地址，而由于不同存储介质类型信息会对应不同的访问接口，因此，还需要 确定需要通过什么样的访问接口来访问该待访问数据；</p>
    <p>[0034]	步骤24，通过确定的访问接口，访问存储在确定的存储地址中的待访问数据。</p>
    <p>[0035]	本发明实施例提供的上述方法的核心在于新增了一个数据访问服务器，并在该服 务器中设置了一套通用的数据信息与Dalet资源的对应关系，从而当网络应用系统需要访 问不同的数据时，只需网络应用系统对其需访问的数据的标识进行修改，而无需网络应用 系统执行对DAO中的访问策略、存储介质的类型信息等进行配置，从而大大节约了网络应 用系统的处理资源。特别地，当访问策略和API发生变化时，只需要对数据访问服务器中的 对应关系执行修改即可，由于多个网络应用系统可能会使用同一对应关系，并且一个数据 访问服务器可以为多个网络应用系统提供服务，在数据访问系统中，数据访问服务器的数 量是远远小于网络应用系统的数量的，因此，对数据访问服务器中的对应关系执行修改所 花费的资源相对于对网络应用系统的修改所花费的资源是非常小的。</p>
    <p>[0036]	在本发明实施例中，当网络应用系统还需要对访问到的数据进行操作时，网络应 用系统可以从预先设置的若干操作类型信息中选取待进行的操作类型信息发送给数据访 问服务器，从而数据访问服务器接收到网络应用系统发送的用于指示对待访问数据进行操 作的操作类型信息后，后续在访问到数据后，就可以对访问到的数据执行接收的操作类型 信息所指示的操作，从而实现对数据的操作。需要说明的是，当需要将访问到的数据发送 给网络应用系统时，为了增强数据传送过程的安全性以及为了节约传输资源，数据访问服 务器可以对获取到的数据进行压缩，然后再将压缩后的数据进行加密后发送给网络应用系 统。</p>
    <p>[0037]	本发明实施例提供的上述方法在实际中的实施示意图如图3所示，与图1相比，在 图3中，网络应用系统与数据之间新增了数据访问服务器，该数据访问服务器中设置有数据的标识与Dalet的对应关系，其中，Dalet的数量一般较多，比如针对不同类型的数据、具 有不同名称的数据等等，都有相应的Dalet与之对应，如图3中的Daletl、Dalet2.......</p>
    <p>[0038]	本发明实施例提供的上述方法还可以进一步进行以下改造，以获得更好的技术效 果：</p>
    <p>[0039]	前文已经提到，在一个数据访问系统中可以有多个数据访问服务器，在本发明实 施中，为了达到不同数据访问服务器之间的负载均衡，网络应用系统连接到哪个数据访问 服务器是可以调整的。具体地，可以在数据访问服务器与网络应用系统之间设置多个负载 均衡服务器，设置有负载均衡服务器的数据访问系统的具体示意图如图4所示。负载均衡 服务器的作用在于接收网络应用系统发送的待访问数据的标识，并通过收集到的数据访问 服务器的负载信息，判断数据访问系统中的数据访问服务器的负载信息是否符合预定条 件，以及将网络应用系统发送的待访问数据的标识转发给数据访问服务器，从而数据访问 服务器就能够获取到由负载均衡服务器转发来的待访问数据的标识。其中，上述“预定条 件”可以为数据访问服务器的负载小于规定的负载阈值，或者为数据访问系统中当前负载 最小的数据访问服务器等等。通过设置负载均衡服务器对网络应用系统发送的待访问数据 的标识的接收对象进行调整，可以实现数据访问服务器的负载均衡，增强数据访问系统的 稳定性。</p>
    <p>[0040]	在本发明实施例中，针对不同网络应用系统发送封装有待访问数据的标识的协议 消息的情况，为了兼容不同协议消息，数据访问服务器还可以被设计成可支持包括HTTP在 内的多种网络协议，从而实现数据服务器可以同时监听多个端口（PORT)。</p>
    <p>[0041]	从具体实现上来讲，可以在数据访问服务器中设置分别支持不同协议的多个接 口，以实现能够分别处理网络应用系统发送的封装有待访问数据的标识的协议消息。在本 发明实施例中，通过在数据访问器中设置多个接口，当接收消息时，数据访问服务器可以通 过设置的多个接口中的第一接口接收该协议消息，其中，该第一接口需满足支持用于封装 待访问数据的标识的协议，数据访问服务器在接收到该协议消息后，为了从中获取待访问 数据的标识，可以根据该协议消息的协议类型，选取相应的序列化处理方式对该协议消息 进行序列化处理，得到待访问数据的标识。需要说明的是，当网络应用系统通过发送URI 的方式来向数据访问服务器提供待访问数据的标识时，该URI可以隐含表明协议类型，如 http ： //host ： port 1/sql id/rdb 1/query. xml 表明发送的 URI 使用 HTTP 协议，而返回的数据 应符合 xml 格式，又如 cm20://host:port2/sqlid/rdb2/query. json，其表明发送的 URI 使 用CM20协议，而返回的数据应符合json格式。</p>
    <p>[0042]	此外，在本发明实施例中，数据访问服务器可以分别为各个网络应用系统分配一 个线程用以监听包含有待访问数据的标识，但这样的方式在网络应用系统的数量较多时， 需要花费较多的线程资源，因此，本发明实施例中还可以基于NIO技术，利用指定数目的线 程监听大量网络应用系统发送的数据访问请求消息，并从监听到的数据访问请求消息中解 析得到所述待访问数据的标识，由于上文的指定数目小于数据访问服务器与所有网络应用 系统之间的连接总数目，从而可以节约线程资源。</p>
    <p>[0043]	进一步地，针对不同网络 应用系统可能会在不同的时间对数据访问有不同的需求 的情况，本发明实施例提供的数据访问的方法可以进一步进行改进，以针对不同的网络应 用系统的网络应用系统在不同时间段对数据的不同访问需求，为不同访问需求分配对应的访问资源。具体地，在改进后的方法中，可以采用下述步骤实现上述目的：首先，数据访问服 务器可以确定接收待访问数据的标识的时间信息以及发送该待访问数据的标识的网络应 用系统的标识；然后，根据确定的时间信息和网络应用系统的标识，数据访问服务器从预先 设置的网络应用系统的标识、时间信息与数据访问带宽的对应关系中，选取相应的数据访 问带宽；最后，根据确定出的访问策略和待访问数据的标识，数据访问服务器就可以利用选 取的该访问带宽，访问存储在确定的存储介质中的待访问数据。</p>
    <p>[0044]	以下以本发明实施例提供的数据访问方法在实际中的应用为例，详细介绍该方法 在实际中的应用流程。该应用流程的应用环境示意图如图5所示，该应用环境可以看做 是 前文所说的数据访问系统，在该系统中，网络应用系统处于“应用逻辑层”，数据访问服务器 处于“数据访问层”，而数据则处于“数据资源层”。基于该应用环境，本发明实施例提供的 方案的核心思想在于在应用逻辑层和数据资源层之间插入一个独立的分布式数据访问层， 将位于应用逻辑层的网络应用系统在现有技术中使用的DAO演化位于数据访问层中的数 据访问服务器中使用的Dalet。</p>
    <p>[0045]	以下按照“应用逻辑层”-“数据访问层”-“数据资源层”的顺序，依次对各个层进 行介绍：</p>
    <p>[0046]	首先，针对应用逻辑层，该层的数据访问接口可以采用HTFP或类HTTP标准协议， 从而该接口是一个相比传统DAO简单很多的实现方式，待访问数据的标识用URI进行指示， 该 URI 的格式可以为"scheme://host:port/resouce_path/resouce_id&#183; fmt”其中，该格式 包含的各项的含义如下：</p>
    <p>[0047]	使用scheme标识不同的网络通信协议，在服务端可支持多种协议；</p>
    <p>[0048]	使用host标识不同主机，可方便实现分布式部署；</p>
    <p>[0049]	使用port标识不同端口，每个scheme缺省占用不同端口 ；</p>
    <p>[0050]	使用reS0Uce_path标识不同类型的数据，在服务端可对其实现负载均衡；</p>
    <p>[0051]	使用resoucejd标示特定的数据，即用以指示待访问数据的标识；</p>
    <p>[0052]	使用fmt来识别数据的格式，在服务端可支持多种序列化格式。</p>
    <p>[0053]	而Method则用以指示对待访问数据进行操作的操作类型信息，这里的操作类型 可以如下表1所示：</p>
    <p>[0054]表	1 ：</p>
    <p>[0055]</p>
    <p>Method所指示的操作类型信息操作类型信息所指示的操作</p>
    <p>GET~~/resource_path	获取资源列表</p>
    <p>POST /resource_path	创建资源</p>
    <p>GET~/resource_path/id. fmt 获取资源</p>
    <p>PUT~/resource_path/id. fmt 修改资源状态</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN101958838A/CN101958838AD00111.png"> <img id="idf0001" file="CN101958838AD00111.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN101958838A/CN101958838AD00111.png" class="patent-full-image" alt="Figure CN101958838AD00111"> </a> </div>
    <p>[0056]	在应用逻辑层中，网络应用系统对于与待访问数据相关的存储介质和分片策略都 可以是无知的，其只需要提供待访问数据的标识，并从预先设置的Method中选取一种或多 种操作类型信息即可。其中，待访问数据的标识与选取的操作类型信息都可以承载在URI 中，并使用对应的协议，如HTTP协议或CM20协议，按要求构造请求消息，发给数据访问服务 器，而数据访问服务器通过一系列解析过程（包括解析消息头，解密，解压缩，反序列化消 息体等），最终从该请求消息中获取到待访问数据的标识与选取的操作类型信息等。</p>
    <p>[0057]	针对数据访问层，处于该层的数据访问服务器可以包括NIO网络协议适配器（包 括消息头解析器和消息体解析器）、Dalet引擎（包括资源分发器和操作映射器）、Dalet 容器（包括多个Dalet，比如Daletl、Dalet2等）。其中，消息头解析器用以对消息头进行 解析，而消息体解析器则用以对消息体进行解析，得到待访问数据的标识以及网络应用系 统选取的Method。Dalet引擎中的操作映射器用以存储数据的标识与Dalet的标识的对 应关系，资源分发器用以根据NIO网络协议适配器解析出的待访问数据的标识，从操作映 射器存储的对应关系中，确定对应于该信息的Dalet的标识，并从Dalet容器存储的Dalet 中，选取确定的该Dalet的标识所指示的Dalet。在本发明实施例中，某个Dalet (比如为 Dalet4Sqlid)的配置代码可以如下所示：</p>
    <p>[0058]	GET. sql_select = SELECT{fields}FROM{tables}WHERE{wheres}{others}</p>
    <p>[0059]	PUT. sql_insert = INSERT INTO{tables} ({fields})VALUES({values})</p>
    <p>[0060]	PUT. sql_update = UPDATE{tables}SET{fieled_values}WHERE{wheres}</p>
    <p>[0061]	在数据访问层中，针对Dalet引擎选取的不同Dalet，可以使用不同的接口来访问 相应的数据，比如，可以通过jdbc接口访问RDB中存储的数据，可以通过Cache相关API接 口访问Cache中存储的数据，而通过与操作系统相关的接口访问File中存储的数据等。</p>
    <p>[0062]	考虑到HTTP协议的解析效率比较差，并且对长连接和中文字符的支持比较繁琐， 故可以在本发明实施例中定义一种类HTTP的CM20网络通信协议，根据该协议，可以采用固 定消息头长度以加快解码速度。该协议支持多种加密方式、多种压缩格式、多种序列化格 式，多种字符集。</p>
    <p>[0063]	针对数据资源层，其所使用的接口是数据访问服务的内部接口，该接口又称内部 Dalet接口。数据访问引擎可以通过内部Dalet接口，来调用具体的Dalet处理模块，而 Dalet处理模块可以很方便地进行修改和扩展。</p>
    <p>[0064]	在需要频繁访问各种不同类型的海量数据时，采用现有技术提供的方案，需要通 过提供多种DAO来对数据进行访问，该方式存在的缺陷主要为：将API接口和数据访问策略 等设置并固化在每个网络应用系统中，从而导致网络应用系统过于复杂，缺乏灵活性。尤其 在多个网络应用系统访问同一套数据时，现有技术中提供过的数据访问方式将严重阻碍对 数据存储方式（包括对存储介质、读写分离方式、数据分片方式等）进行任何改变和优化， 即时是可以对网络应用系统进行改变的，但同时改变多个网络应用系统也是非常困难的。</p>
    <p>[0065]	而采用本发明实施例提供的方案后，由于数据访问服务器可以对数据的标识与访 问策略、存储介质的类型信息、在不同类型的存储介质中访问数据分别所需的参数信息的 对应关系进行统一管理，网络应用系统无需再分别配置DA0，而只需要提供待访问数据的标识即可，因此，大大节省了网络应用系统的处理资源。并且，当分片策略发生变化导致访问 策略发生变化，或者存储介质发生变化（包括存储介质类型的变化以及某存储介质数量的 增减等）而导致API变化时，采用本发明实施例提供的该方案，只需要针对数据访问服务器 这一个处理对象来修改上述对应关系，无需多个网络应用系统分别对其采用的DAO进行修 改，从而在该情况下，也可以实现对处理资源的节约。</p>
    <p>[0066]	对应于本发明实施例提供的数据访问方法，本发明实施例还提供一种数据访问装 置，用以解决现有技术提供的数据访问方案需要各个网络应用系统分别设置DAO而导致耗 费网络应用系 统较多处理资源的问题。该装置的具体结构示意图如图6所示，包括以下功 能单元：</p>
    <p>[0067]	标识获取单元61，用于获取至少一个网络应用系统发送的待访问数据的标识；</p>
    <p>[0068]	第一确定单元62，用于从预先设置在该数据访问装置中的数据的标识与访问策 略、存储介质的类型信息的对应关系中，确定与标识获取单元61获取到的待访问数据的标 识对应的访问策略、存储介质的类型信息；</p>
    <p>[0069]	存储地址确定单元63，用于通过执行第一确定单元62确定的访问策略，确定待访 问数据的存储地址；</p>
    <p>[0070]	访问接口确定单元64，用于根据第一确定单元62确定的存储介质的类型信息，从 预先设置在该装置中的存储介质类型信息与针对不同类型的存储介质的访问接口的对应 关系中，确定相应的访问接口 ；</p>
    <p>[0071]	访问单元65，用于通过访问接口确定单元64确定的访问接口，访问存储在存储地 址确定单元63确定的存储地址中的待访问数据。</p>
    <p>[0072]	较佳地，本发明实施例提供的上述装置还可以通过进一步包括下述功能单元以实 现对访问到的数据进行操作：</p>
    <p>[0073]	信息接收单元，用于接收网络应用系统发送的用于指示对待访问数据进行操作的 操作类型信息，其中，操作类型信息是网络应用系统从预先设置的若干操作类型信息中选 取的；操作单元，用于对访问单元访问到的数据执行信息接收单元接收的操作类型信息所 指示的操作。</p>
    <p>[0074]	较佳地，本发明实施例中，还可以通过负载均衡服务器来实现对数据访问系统中 的负载均衡，当数据访问系统中还设置有负载均衡服务器时，标识获取单元61具体可以用 于获取由负载均衡服务器转发来的由网络应用系统发送的待访问数据的标识，其中，负载 均衡服务器可以是在判断出数据访问服务器的负载信息符合预定条件时，将待访问数据的 标识转发给数据访问服务器的。</p>
    <p>[0075]	较佳地，本发明实施例提供的上述装置可以包含分别支持不同协议的多个接口， 当该装置包含多个接口时，标识获取单元61还可以进一步划分为以下功能模块：</p>
    <p>[0076]	消息接收模块，用于通过多个接口中的第一接口接收网络应用系统发送的封装有 待访问数据的标识的协议消息，其中，第一接口支持用于封装所述待访问数据的标识的协 议；协议转化模块，用于根据消息接收模块接收的该协议消息的协议类型，选取相应的序列 化处理方式对协议消息进行序列化处理，得到待访问数据的标识。</p>
    <p>[0077]	较佳地，本发明实施例提供的上述装置还可以进一步包括：数据获取单元，用于获 取访问单元访问到的数据；发送单元，用于对数据获取单元获取到的数据进行压缩，并将压缩后的数据进行加密后发送给网络应用系统。</p>
    <p>[0078]	较佳地，本发明实施例提供的上述装置还可以进一步包括：第二确定单元，用于确 定标识获取单元61获取待访问数据的标识的时间信息以及发送该待访问数据的标识的网 络应用系统的标识；选取单元，用于根据第二确定单元确定的时间信息和网络应用系统的 标识，从预先设置的网络应用系统的标识、时间信息与数据访问带宽的对应关系中，选取相 应的数据访问带宽。</p>
    <p>[0079]	基于包括第二确定单元和选取单元的上述装置，上述访问单元65还可以具体用 于根据第一确定单元62确定出的访问策略以及访问数据所需的参数信息，利用选取单元 选取的访问带宽，访问存储在确定的存储介质的类型信息所指示的存储介质中的待访问数 据。 [0080]	较佳地，对应于标识获取单元61功能的一种实现方式，本发明实施例通的上述标 识获取单元61还可以具体划分为以下功能模块：</p>
    <p>[0081]	监听模块，用于利用指定数目的线程监听网络应用系统发送的数据访问请求消 息，其中，该指定数目小于数据访问服务器与所有网络应用系统之间的连接总数目；解析模 块，用于从监听模块监听到的数据访问请求消息中解析得到待访问数据的标识。</p>
    <p>[0082]	显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精 神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围 之内，则本发明也意图包含这些改动和变型在内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1496075A?cl=zh">CN1496075A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2003年9月24日</td><td class="patent-data-table-td patent-date-value">2004年5月12日</td><td class="patent-data-table-td ">法国无线电话公司</td><td class="patent-data-table-td ">由网关的用户管理网关配置的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1599372A?cl=zh">CN1599372A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年6月25日</td><td class="patent-data-table-td patent-date-value">2005年3月23日</td><td class="patent-data-table-td ">港湾网络有限公司</td><td class="patent-data-table-td ">基于媒体访问控制的802.1x认证的实体查找方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1819555A?cl=zh">CN1819555A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2000年6月16日</td><td class="patent-data-table-td patent-date-value">2006年8月16日</td><td class="patent-data-table-td ">英特尔公司</td><td class="patent-data-table-td ">解析分组头标的方法和计算机系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2004036869A2?cl=zh">WO2004036869A2</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2003年10月6日</td><td class="patent-data-table-td patent-date-value">2004年4月29日</td><td class="patent-data-table-td ">Telefonaktiebolaget Lm Ericsson (Publ)</td><td class="patent-data-table-td ">A system and method for connecting peripheral devices to a supporting network through a mobile station</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102694830A?cl=zh">CN102694830A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月24日</td><td class="patent-data-table-td patent-date-value">2012年9月26日</td><td class="patent-data-table-td ">腾讯科技（深圳）有限公司</td><td class="patent-data-table-td ">一种实现网络内容分享的方法、系统和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102694830B?cl=zh">CN102694830B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月24日</td><td class="patent-data-table-td patent-date-value">2015年12月16日</td><td class="patent-data-table-td ">腾讯科技（深圳）有限公司</td><td class="patent-data-table-td ">一种实现网络内容分享的方法、系统和装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=FuyNBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年1月26日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年3月23日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年8月22日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/146837cbd70f0bb1d59d/CN101958838A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E6%96%B9%E6%B3%95%E5%8F%8A%E8%A3%85%E7%BD%AE.pdf?id=FuyNBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U066w2QOgHLbQl8k9OwGUG_Xupoyg"},"sample_url":"https://www.google.com/patents/reader?id=FuyNBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>