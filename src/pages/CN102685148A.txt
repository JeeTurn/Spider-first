<!DOCTYPE html><html><head><title>专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种云存储环境下的安全网盘系统的实现方法"><meta name="DC.contributor" content="傅颖勋" scheme="inventor"><meta name="DC.contributor" content="舒继武" scheme="inventor"><meta name="DC.contributor" content="清华大学" scheme="assignee"><meta name="DC.date" content="2012-5-31" scheme="dateSubmitted"><meta name="DC.description" content="在云存储环境下安全网盘系统的实现方法属于存储安全技术领域，其特征在于在云存储环境下的网盘系统的信任体系中，发明了一种系统架构，在服务器中根据用户需求建立信任域，然后利用公钥基础设施PKI进行身份认证，保证了用户的不可欺骗性和不可抵赖性；利用哈希算法对文件计算哈希值，利用密钥和对称加密算法AES算法对数据加密，之后再将文件密文上传到云存储区中的文件服务器，保证了数据的机密性和完整性；使用基于目录树的同步方式，提高了系统的同步效率与机密性；使用了层级密钥管理的方式，在保证数据安全性的同时减少了系统的管理负担；提供了版本控制功能，保证了文件版本的连续性；提供了多种粒度的加密密钥选择方式，增加了系统的灵活性。"><meta name="DC.date" content="2012-9-19"><meta name="DC.relation" content="CN:102014133:A" scheme="references"><meta name="DC.relation" content="CN:102075542:A" scheme="references"><meta name="DC.relation" content="US:20090060201:A1" scheme="references"><meta name="citation_reference" content="吴海佳等: &quot;“云存储系统中基于更新日志的元数据缓存同步策略”&quot;, 《电信科学》, no. 9, 15 September 2011 (2011-09-15), pages 32 - 36"><meta name="citation_reference" content="文双全: &quot;“一种基于云存储的同步网络存储系统的设计与实现”&quot;, 《中国优秀硕士论文全文数据库信息科技辑》, no. 09, 15 September 2010 (2010-09-15), pages 34 - 60"><meta name="citation_patent_publication_number" content="CN:102685148:A"><meta name="citation_patent_application_number" content="CN:201210176807"><link rel="canonical" href="https://www.google.com/patents/CN102685148A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102685148A?cl=zh"/><meta name="title" content="专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法"/><meta name="description" content="在云存储环境下安全网盘系统的实现方法属于存储安全技术领域，其特征在于在云存储环境下的网盘系统的信任体系中，发明了一种系统架构，在服务器中根据用户需求建立信任域，然后利用公钥基础设施PKI进行身份认证，保证了用户的不可欺骗性和不可抵赖性；利用哈希算法对文件计算哈希值，利用密钥和对称加密算法AES算法对数据加密，之后再将文件密文上传到云存储区中的文件服务器，保证了数据的机密性和完整性；使用基于目录树的同步方式，提高了系统的同步效率与机密性；使用了层级密钥管理的方式，在保证数据安全性的同时减少了系统的管理负担；提供了版本控制功能，保证了文件版本的连续性；提供了多种粒度的加密密钥选择方式，增加了系统的灵活性。"/><meta property="og:title" content="专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102685148A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102685148A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=dAakBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102685148A&amp;usg=AFQjCNFNqtNoYp9R9VDpl_uJqwxu0R1-YA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/c02faecc2a40cddbf7c3/CN102685148A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/c02faecc2a40cddbf7c3/CN102685148A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102685148A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102685148A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102685148A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102685148B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102685148A?cl=zh" style="display:none"><span itemprop="description">在云存储环境下安全网盘系统的实现方法属于存储安全技术领域，其特征在于在云存储环境下的网盘系统的信任体系中，发明了一种系统架构，在服务器中根据用户需求建立信任域，然后利用公钥基础设施PKI进行身份认证，保证...</span><span itemprop="url">https://www.google.com/patents/CN102685148A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法" title="专利 CN102685148A - 一种云存储环境下的安全网盘系统的实现方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102685148 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201210176807</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年9月19日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年5月31日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2012年5月31日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102685148B?hl=zh-CN&amp;cl=zh">CN102685148B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201210176807.1, </span><span class="patent-bibdata-value">CN 102685148 A, </span><span class="patent-bibdata-value">CN 102685148A, </span><span class="patent-bibdata-value">CN 201210176807, </span><span class="patent-bibdata-value">CN-A-102685148, </span><span class="patent-bibdata-value">CN102685148 A, </span><span class="patent-bibdata-value">CN102685148A, </span><span class="patent-bibdata-value">CN201210176807, </span><span class="patent-bibdata-value">CN201210176807.1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%82%85%E9%A2%96%E5%8B%8B%22">傅颖勋</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%88%92%E7%BB%A7%E6%AD%A6%22">舒继武</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%B8%85%E5%8D%8E%E5%A4%A7%E5%AD%A6%22">清华大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102685148A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102685148A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102685148A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dAakBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201210176807&amp;usg=AFQjCNGmsRndWlYftVqMreFgv2ym5l5b8w"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dAakBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102685148A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHVOyCgzLfZL6m38xNbstIIHzRGbw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT115315478" lang="ZH" load-source="patent-office">一种云存储环境下的安全网盘系统的实现方法</invention-title>
      </span><br><span class="patent-number">CN 102685148 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA100227015" lang="ZH" load-source="patent-office">
    <div class="abstract">在云存储环境下安全网盘系统的实现方法属于存储安全技术领域，其特征在于在云存储环境下的网盘系统的信任体系中，发明了一种系统架构，在服务器中根据用户需求建立信任域，然后利用公钥基础设施PKI进行身份认证，保证了用户的不可欺骗性和不可抵赖性；利用哈希算法对文件计算哈希值，利用密钥和对称加密算法AES算法对数据加密，之后再将文件密文上传到云存储区中的文件服务器，保证了数据的机密性和完整性；使用基于目录树的同步方式，提高了系统的同步效率与机密性；使用了层级密钥管理的方式，在保证数据安全性的同时减少了系统的管理负担；提供了版本控制功能，保证了文件版本的连续性；提供了多种粒度的加密密钥选择方式，增加了系统的灵活性。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(1)</span></span></div><div class="patent-text"><div mxw-id="PCLM45257508" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种云存储环境下的安全网盘系统的实现方法其特征在于是在由客户端计算机、月艮务器以及云存储服务器共同组成的云存储环境下的安全网盘系统的网络中，依次按以下步骤实现的：  步骤（I )，系统初始化；  客户端计算机以下简称客户端，设有数据加解密模块，数据完整性验证模块，本地监听模块，文件夹共享模块以及协议通信模块；  服务器端设有：身份验证模块，存储控制模块，访问控制模块，版本控制模块以及目录元数据管理模块，其中：  目录元数据管理模块用于对目录元数据进行查询，更新在内的维护操作，所述目录元数据包括：目录类型，拥有者用户名，绝对路径，访问控制列表，授权用户数量以及密钥生成方式，其中访问控制列表包括：用户名和对应的密钥密文，所述密钥密文是使用所对应用户的公钥加密的,对应用户可使用自己的私钥解密；  云存储服务器以下简称云存储端，设有：存储模块和数据可靠模块，其中：  存储模块设有一套供所述服务器端调用的存储接口，以便把需要存储的信息以对象的形式存放在所述存储端；  数据可靠性模块，根据所述服务器端的需要，为所有存放在云存储端的文件创建一定数量的副本；  步骤（2)，为所述云存储端构建并初始化一个云存储平台，步骤如下：  步骤（2. 1)，在装有Linux操作系统的各子云存储中分别安装一个多副本，可扩展的分布式云存储系统swift,并指定其中的一台机器作为Proxy代理节点，重配置Proxy代理服务，创建账户，容器以及对象，将其配置成三层环的形式，启动Proxy代理服务；  步骤（2. 2)，配置各云存储服务计算机，实现所述三层环之间的关联；  步骤（2. 3)，启动所述swift系统，提供云存储服务；  步骤（3)，用户初始化个人信息，步骤如下：  步骤（3. I)，在客户端用户通过调用所述的服务器接口向所述服务器注册新用户；  步骤（3. 2)，所述服务器端在确认用户注册所用的用户名与密码后，向注册机构申请一个由公钥基础设施所授予的X509证书；  步骤（3. 3)，用户申请步骤（3. 2)所述的证书后把其中的公钥保存在所述的服务器端；步骤（3. 4)，所述服务器端把包括用户名、密码的哈希值绑定邮箱在内的基本信息保存在数据库中的users表中，并创建该用户的服务器端目录树，以文件的形式保存在所述云存储端；  步骤（4)，客户端采用一种目录树比对的方式按以下步骤生成一种在客户端目录树、月艮务器端目录树和磁盘目录树执行同步操作用的操作队列：  步骤（4. 1)，所述客户端向所述服务器端发送同步请求；  步骤（4. 2)，所述服务器端在验证当前用户身份后返回用户的最近操作列表，其中包括：此用户在该机器上两次同步之间的这段时间里，该用户在其他机器上对目录或文件所作的删除、移动和重命名操作，其他用户对此用户所共享的目录进行的删除、移动、重命名操作以及当前用户的服务器端目录树；  步骤（4. 3)，所述用户逐项执行所述服务器端返回的操作列表，完成文件或目录的以上三类操作的同步；  步骤（4. 4 )，所述客户端向服务器请求共享密钥，所述服务器验证身份后根据访问控制列表中的信息将所有该用户被授权的所有文件加密密钥返回给客户端；  步骤（4. 5),客户端构造初始化目录树,步骤如下：  步骤（4. 5. 1)，所述客户端读取保存在本地的客户端目录树生成文件，在内存中创建该用户的客户端目录树和组成该客户端目录树的客户端目录树结点：  所述客户端目录树是一个二叉树结构，它的格式包括：root、nodes、nodesCount和maxnodesCount,其中，  nodes,以数组方式记录了所述客户端目录树的所有结点；  nodesCount,记录了所述客户端目录树中的总结点数；  maxNodesCount,表示所述客户端目录树最多允许包含的结点数；   客户端目录树结点的格式包括：nodeType、name、appendAttribute、IastModifyTime&gt;Ichild 和 rchild,其中：  nodeType,记录所述客户端目录树中的结点所对应的是目录还是文件；  name,记录所述客户端目录树中所述目录或文件的名称；  appendAttribute,对所述客户端目录树中的目录而言，记录的是是否被共享，对所述客户端目录树中的文件而言，记录的是最新版本的版本号；  Ichild，记录了在所述客户端目录树中该结点的左孩子的索引号；  rchild，记录了在所述客户端目录树中该结点的右孩子的索引号；  IastModifytime,记录所述云存储环境下的安全网络存储系统CorsBox所维护的该结点的最新修改时间；  步骤（4. 5. 2)，客户端计算机根据步骤（4. 5. I)的返回的服务器端目录树在内存中创建该用户的服务器端目录树，用于记录所述云存储服务器中的实时数据状态，用户服务器端目录树的结构与客户端目录树完全相同，只是nodes数组中的结点类型是用户服务器端目录树结点，用户服务器端目录树结点包括：nodeType、name、appendAttribute、Ichild和rchild,其中：  nodeType,记录所述用户服务器端目录树中的结点所对应的是目录或文件；  name,记录所述的目录或文件的名称；  appendAttribute,对所述用户服务器端目录树中的目录而言，记录的是是否被共享，对所述服务器端目录树中的文件而言，记录的是最新版本的版本号；  Ichild，记录了在所述用户服务器端目录树中该结点的左孩子的索引号；  rchild，记录了在所述用户服务器端目录树中该结点的右孩子的索引号；  步骤（4. 5. 3)，所述客户端计算机在每次同步时扫描磁盘中的所述客户端目录树的目录及其子目录，在内存中创造磁盘目录树记录用户的实时数据，用户的磁盘目录树的结构与客户端目录树完全相同，只是nodes数组中的结点类型是磁盘目录树结点，磁盘目录树结点包括：nodeType&gt; name、IastModifyTime&gt; Ichild 和 rchild,其中： nodeType,记录所述磁盘目录树中的结点所对应的是目录还是文件；name,记录所述磁盘目录树中所述目录或文件的名称；  IastModifytime,记录了在所述客户端计算机中该结点的最后修改时间；Ichild，记录了在所述磁盘目录树中该结点的左孩子的索引号；  rchild,记录了在所述磁盘目录树中该结点的右孩子的索引号；  步骤（4. 6)，客户端通过比对步骤（4. 5)中构建的目录树，生成待执行操作的操作队列，具体步骤如下：  步骤（4. 6. I),客户端比对客户端目录树与磁盘目录树，并将比对结果保存在集合A中，用来记录用户在此机器上离线进行的操作；  步骤（4. 6. 2 )，客户端比对客户端目录树与服务器端目录树，并将比对结果保存在集合B中，用来记录此用户在此机器上两次同步之间其他客户端进行的操作；  步骤（4. 6. 3)，客户端比对集合A与集合B中的内容，并根据比对结果生成待执行的操作队列；   步骤（4. 7)，逐项执行步骤（4. 6)中生成的操作队列，完成同步操作；  步骤（5)，客户端修改访问权限：  步骤（5. 1)，客户端共享某文件夹：客户端首先检查待共享文件夹的祖先目录与子孙目录是否被共享，若已被共享，则提示用户此文件夹不能被共享，否则向服务器发起共享请求，服务器收到请求后修改该目录元数据中的共享标志位，然后为此文件夹创建新的操作日志，接着删除该文件夹下所有历史版本，最后向客户端返回共享成功的提示；  步骤（5. 2)，客户端添加/删除某用户的访问权限：只有数据的拥有者才能够修改自己共享文件夹的访问权限；若是添加权限，客户端向服务器发起添加权限请求，服务器验证用户身份后将待添加用户的公钥返回给客户端，客户端用此公钥加密该文件夹对应的加密密钥后发送给服务器端，服务器将此密钥的密文写入目录元数据中，并在共享表中添加一条共享记录，最后向客户端返回添加权限成功的提示；  若为删除权限，服务器端验证用户身份后将被取消权限用户及其密钥密文从目录元数据中删除，同时删除共享表中对用的记录，然后向客户端返回删除权限成功的提示；  步骤（5. 3)，客户端查看共享内容：客户端查看共享内容依次按照以下步骤来完成：步骤（5. 3. 1)，客户端在启动时向服务器发起查看最新共享请求(可以随时手动请求）；步骤（5. 3. 2)，服务器收到请求后查找共享表，将客户端未选择是否接受共享的文件名称和拥有者ID返回给客户端，并在共享表中将这些路径置为已处理；  步骤（5. 3. 3)，客户端弹出对话框请求用户操作，若用户选择接受共享则转步骤(4. 3. 4)，否则直接返回；  步骤（5. 3. 4)，服务器端将该共享目录下的所有文件密文和该目录的元数据中对应此用户的ACL项返回给客户端；  步骤（5. 3. 5)，客户端用自己的私钥从返回的ACL项解密出该文件夹对应的加密密钥；步骤（5. 3. 6)，客户端解密出所有文件的明文，然后根据明文后面附着的哈希值做完整性校验；  步骤（5. 4)，客户端取消共享：  只有文件夹的拥有者才能取消共享，服务器收到验证用户身份后删除共享表中所有关于此文件夹的共享，接着将该文件夹的目录元数据中的共享标志位改为非共享并删除掉所有的ACL项，然后向客户端返回修改成功的提示；客户端接收到成功提示后修改客户端目录树中该结点的共享状态；步骤（6):文件版本控制：  步骤（6.1)，当客户端上传文件时，服务器首先对该文件的大小进行判断，若是小文件则在文件名末尾添加版本号，并保存在云端；若不是小文件，则直接保存在云端(若已存在则直接覆盖）;  步骤（6. 2)，客户端随时可以进行小文件的历史版本回滚，服务器验证用户身份后返回文件版本列表，用户可以根据自己的需要选择合适的版本进行回滚；   步骤（7)，用户选择加密方式：  客户端会在工作目录下自动生成一个public文件夹，所有保存在此文件夹下的内容都是不加密的；另外，用户在客户端可以手动修改某个文件夹(非public夹）的密钥生成方法，但一旦某个文件夹的密钥生成方式被指定，其祖先目录与子孙目录都不得再被指定密钥生成规则；密钥生成是将用户的加密密钥和该文件夹的名称通过一定的算法生成的，若非特别指定则默认直接使用用户的文件加密密钥对其数据进行加密。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES51622539" lang="ZH" load-source="patent-office" class="description">
    <p>&#8212;种云存储环境下的安全网盘系统的实现方法</p>
    <p>技术领域</p>
    <p>[0001]	云存储环境下的安全网盘系统的实现方法属于存储安全领域，尤其涉及其中的安全访问控制、数据同步、密钥分发管理和文件管理等技术领域。</p>
    <p>背景技术</p>
    <p>[0002]	随着云计算技术的飞速发展，云存储也逐渐受到了广泛的关注和应用，文件所有者可将自己的机密文件上传到云存储中，由云存储服务提供商进行统一管理，网盘系统便是云存储的一个典型应用。通过网盘系统，文件所有者可以授权其他用户使用自己的文件，通过共享和数据同步的方式来实现用户间的协同工作。</p>
    <p>[0003]	虽然网盘系统能够以云存储作为媒介，方便的实现用户间的协同工作，但如果没有安全机制的保护，用户将自己的隐私数据存放在云存储中将存在着巨大的安全隐患。就数据安全来说，第一个要素是数据的机密性。用户将数据若以明文的形式存放在云存储中，云存储服务提供商将可以随意的访问这些数据，如果云存储服务提供商将这些数据用于非法目的，那将给用户带来巨大的损失，甚至产生一些不可预计的后果。安全的第二个要素是数据的完整性。如果数据以明文形式在不安全的网络中传输过程中被非法用户篡改，或者云存储服务提供商有意的删除用户数据中不利于自己的信息，以达到自己的非法目的，用户需要能够检测出该数据是否真的是自己上传的并且未被任何人篡改过。安全的第三要素是可用性，这一点一般的云存储服务提供商都能够保证。另外，在云存储环境下的网盘系统中，安全的权限控制也是一个很重要的问题，因为数据的共享一定会破坏数据的机密性，那么如何在新的信任体系下构建安全机制的架构显得十分重要。</p>
    <p>[0004]	一般来说，在云存储环境下的安全网盘系统中，数据拥有者和授权用户都是可信的，他们不会恶意的泄漏或者破坏数据；而云存储服务提供商、网络及非授权用户都是不可信的，他们随时可能泄漏用户的数据，网络和非授权用户甚至有可能恶意的将数据彻底毁坏。但云存储服务提供商基于信誉的考虑，不会轻易做出用户能够发现并可以有力的指控自己的举动来。</p>
    <p>[0005]	安全网盘系统是目的是在此信任体系下保证用户数据的安全。它的一般实现方法如下：首先数据拥有者计算本地文件的哈希值，接着在自己本地对的本地文件和哈希值进行加密，然后才将数据与哈希值存放在云存储中。这样一来，云存储服务提供商和网络窃听者均无法获取文件的明文，保证了数据的机密性。用户从云存储服务提供商出取回文件和该文件哈希值的密文后对其解密，然后再次对解密后的文件计算哈希值，若与先前存放在云端的哈希值相符，则该文件是完整且未被篡改的，由此保证了数据的完整性。用户可以将自己的文件加密密钥后传递给授权用户，以达到数据共享中访问权限控制的目的。但由于文件加密密钥的传递极有可能破坏系统本身的机密性和完整系，在云存储环境下的安全网盘系统的架构中，如何进行访问权限的控制是最重要的一个环节。</p>
    <p>[0006]	现有的云存储环境下的安全网盘系统大致可分为两类：一类是将数据的访问控制权完全交由数据拥有者来进行，其他用户若是想访问数据必须先与数据的拥有者取得联系进行身份认证，通过身份认证后才能获得密钥与数据的访问权限。这种方式看起来非常的安全合适，却给系统带来了新的弊端：共享用户必须等到共享数据拥有者上线后才能获得访问权限，大大降低了系统的效率，同时对共享数据拥有者的系统造成了额外的开销&#8226;’另一类是由共享用户自己保存密钥，以外链的方式进行数据共享过程中密钥的传递，也在一定程度上破坏了数据的安全性。</p>
    <p>[0007]	本发明实现了一种云存储环境下的安全网盘系统，保证了用户数据的机密性和完整性，同时在数据共享的情况下能够对用户的权限进行有效地管理，为用户提供了高效的数据同步、版本控制等功能。该系统还具有良好的可拓展性。</p>
    <p>发明内容</p>
    <p>[0008]	本发明的目的在于提供一种云存储环境下的安全网盘系统的系统架构，使得用户在安全网盘系统的信任体系中，即使失去了对系统物理资源的控制也仍然可以安全高效地保证数据及其在共享过程中的机密性、完整性，同时提供数据同步、版本控制等功能。 </p>
    <p>[0009]	本发明的框架包括：云存储服务提供商、服务器、客户端和网络。其作用分别如下：</p>
    <p>[0010]	I)云存储服务提供商：一般的云存储提供方，通过提供一套API提供数据的存取等服务，在本系统中用来保存所有的数据及目录元数据信息；</p>
    <p>[0011]	2)服务器：其作用是保存用户信息，包括用户操作日志，服务器端目录树等，同时作为桥梁将客户端上传的数据保存在云存储中，并在客户端需要时从云存储中将数据取出并返回给客户端；</p>
    <p>[0012]	3)客户端：数据的拥有者，对自己的数据拥有绝对的控制权，同时也是上传、下载、访问权限修改等操作的发起者；</p>
    <p>[0013]	4)网络：数据传输的介质，传输用户的访问请求和文件信息；</p>
    <p>[0014]	本发明的思路是：</p>
    <p>[0015]	I)使用开源的云存储服务平台：</p>
    <p>[0016]	本云存储环境下的安全网盘系统采用了 OpenStack的swift项目作为系统的底层云存储系统支持。OpenStack是一个美国国家航空航天局与Rackspace共同研发的云端运算软件，以Apache许可证授权。Swift是OpenStack的存储子项目，它是一个多副本、可扩展的分布式对象存储系统，可以扩展到PB级。在实际应用中，swift项目具有开源、高可靠性、易于扩展等优点，能够很好的满足安全要素中对底层存储介质的可靠性、可用性要求。</p>
    <p>[0017]	2)数据的机密性和完整性保护：</p>
    <p>[0018]	在本系统中，用户在上传数据之前先在本地使用哈希算法&#8212;&#8212;SHAl算法对文件以块为单位计算哈希值，然后使用自己的文件密钥和加密算法AES算法对文件以块为单位进行加密，然后再将数据密文和哈希值上传到云存储区中存储，这样就保证了用户数据存放在云存储中的机密性；用户下载文件时先将数据密文和哈希值下载到本地，然后使用文件密钥对其进行解密并对解密后的数据重新计算哈希值，最后对两个哈希值进行比较来进行数据完整性校验，以保证数据的完整性。</p>
    <p>[0019]	3)使用PKI体系对密钥进行层级管理：</p>
    <p>[0020]	本系统将密钥分为三层进行管理，理由是利用层级的组织方式对密钥进行组织管理，可以在保证安全性的同时降低系统开销，同时可以减轻管理员的负担。密钥管理的层次如下：</p>
    <p>[0021]	i.文件加密密钥：文件加密密钥是层级密钥中的第一层。文件加密密钥采用用户指定或者随机生成的方式，对于同一用户，所有的数据文件及哈希值均采用此密钥(或由此密钥生成的新密钥）进行加密。在本类系统的信任体系中，用户及被授权共享的用户都是可以信赖的，而服务器(云存储 服务提供方)、非授权用户和通信网络都是不可信的。因此，在保证文件加密密钥不被泄露给不可信角色的前提下，这种密钥的管理方式能够带来以下几点好处：第一，密钥数量少，越少则越易于系统管理，同时能够更方便的加强保护机制。第二，文件加密密钥在写进目录元数据的时候存在着一定比例的放大，因此密钥数量的节省能够为服务器节省不少空间；</p>
    <p>[0022]	ii.目录元数据：目录元数据是层级密钥中的第二层。为了记录目录的附加属性，我们为每个目录设置了目录元数据。目录元数据与数据一起存放在云端，由服务器端控制，记录了每个目录的目录类型(是否被共享)、目录的绝对路径、目录拥有者、访问权限列表(包括授权用户的用户名和经该用户公钥加密后的数据拥有者的文件密钥对）；</p>
    <p>[0023]	iii.用户私钥：用户私钥是层级密钥中的第三层，也是层级密钥管理中的最高一层。用户使用自己的私钥从目录元数据里面的访问控制列表中对应自己的那项解密出文件拥有者的加密密钥，然后再使用解密出的密钥解密出数据的明文及哈希值，然后利用哈希值进行完整性校验。</p>
    <p>[0024]	4)对数据文件提供版本控制：</p>
    <p>[0025]	用户上传的小文件的历史版本将在云存储中保存，以方便用户进行历史版本回滚。记录在服务器端的目录树里面包含了版本信息记录，用来对文件的所有历史版本进行</p>
    <p>管理维护。</p>
    <p>[0026]	5)可选择的数据加密方式：</p>
    <p>[0027]	用户数据可以选择每个文件夹的加密方式，包括不加密、直接用文件密钥加密、文件密钥与目录名共同生成加密密钥等方式，可以灵活的调整用户的加密粒度。</p>
    <p>[0028]	本发明的特征在于：所述的方法是在是在由客户端计算机、服务器以及云存储服务器共同组成的基于个人用户共享的安全云存储网络中，依次按以下步骤实现的：</p>
    <p>[0029]	步骤（I)，系统初始化；</p>
    <p>[0030]	客户端计算机以下简称客户端，设有数据加解密模块，数据完整性验证模块，本地监听模块，文件夹共享模块以及协议通信模块；</p>
    <p>[0031]	服务器端设有：身份验证模块，存储控制模块，访问控制模块，版本控制模块以及目录元数据管理模块，其中：</p>
    <p>[0032]目录元数据管理模块用于对目录元数据进行查询，更新在内的维护操作，所述目录元数据包括：目录类型，拥有者用户名，绝对路径，访问控制列表，授权用户数量以及密钥生成方式，其中访问控制列表包括：用户名和对应的密钥密文，所述密钥密文是使用所对应用户的公钥加密的，对应用户可使用自己的私钥解密；</p>
    <p>[0033]	云存储服务器以下简称云存储端，设有：存储模块和数据可靠模块，其中：</p>
    <p>[0034]	存储模块设有一套供所述服务器端调用的存储接口，以便把需要存储的信息以对象的形式存放在所述z?存储端；[0035]	数据可靠性模块，根据所述服务器端的需要，为所有存放在云存储端的文件创建一定数量的副本；</p>
    <p>[0036]	步骤（2)，为所述云存储端构建并初始化一个云存储平台，步骤如下：</p>
    <p>[0037]	步骤（2. I )，在装有Linux操作系统的各子云存储中分别安装一个多副本，可扩展的分布式云存储系统swift,并指定其中的一台机器作为Proxy代理节点,重配置Proxy代理服务，创建账户，容器以及对象，将其配置成三层环的形式，启动Proxy代理服务；</p>
    <p>[0038]	步骤（2. 2)，配置各云存储服务计算机，实现所述三层环之间的关联；</p>
    <p>[0039]	步骤（2. 3),启动所述swift系统,提供云存储服务；</p>
    <p>[0040]	步骤（3)，用户初始化个人信息，步骤如下：</p>
    <p>[0041]	步骤（3. 1)，在客户端用户通过调用所述的服务器接口向所述服务器注册新用户；</p>
    <p>[0042]	步骤（3. 2)，所述服务器端在确认用户注册所用的用户名与密码后，向注册机构申请一个由公钥基础设施所授予的X509证书；</p>
    <p>[0043]	步骤（3. 3)，用户申请步骤（3. 2)所述的证书后把其中的公钥保存在所述的服务器端；</p>
    <p>[0044]	步骤（3. 4)，所述服务器端把包括用户名、密码的哈希值绑定邮箱在内的基本信息保存在数据库中的users表中，并创建该用户的服务器端目录树，以文件的形式保存在所述云存储端；</p>
    <p>[0045]	步骤（4)，客户端采用一种目录树比对的方式按以下步骤生成一种在客户端目录树、服务器端目录树和磁盘目录树执行同步操作用的操作队列：</p>
    <p>[0046]	步骤（4. 1)，所述客户端向所述服务器端发送同步请求；</p>
    <p>[0047]	步骤（4. 2)，所述服务器端在验证当前用户身份后返回用户的最近操作列表，其中包括：此用户在该机器上两次同步之间的这段时间里，该用户在其他机器上对目录或文件所作的删除、移动和重命名操作，其他用户对此用户所共享的目录进行的删除、移动、重命名操作以及当前用户的服务器端目录树；</p>
    <p>[0048]	步骤（4. 3)，所述用户逐项执行所述服务器端返回的操作列表，完成文件或目录的以上三类操作的同步；</p>
    <p>[0049]	步骤（4. 4)，所述客户端向服务器请求共享密钥，所述服务器验证身份后根据访问控制列表中的信息将所有该用户被授权的所有文件加密密钥返回给客户端；</p>
    <p>[0050]	步骤（4. 5),客户端构造初始化目录树,步骤如下：</p>
    <p>[0051]	步骤（4. 5. 1)，所述客户端读取保存在本地的客户端目录树生成文件，在内存中创建该用户的客户端目录树和组成该客户端目录树的客户端目录树结点：</p>
    <p>[0052]	所述客户端目录树是一个二叉树结构，它的格式包括：root、nodes、nodesCount和 maxnodesCount,其中，</p>
    <p>[0053]	nodes,以数组方式记录了所述客户端目录树的所有结点；</p>
    <p>[0054]	nodesCount,记录了所述客户端目录树中的总结点数；</p>
    <p>[0055]	maxNodesCount,表示所述客户端目录树最多允许包含的结点数；</p>
    <p>[0056]	客户端目录树结点的格式包括：nodeType、name、appendAttribute、IastModiftTime、Ichild 和 rchild,其中：[0057]	nodeType,记录所述客户端目录树中的结点所对应的是目录还是文件；</p>
    <p>[0058]	name,记录所述客户端目录树中所述目录或文件的名称；</p>
    <p>[0059]	appendAttribute,对所述客户端目录树中的目录而言，记录的是是否被共享，对所述客户端目录树中的文件而言，记录的是最新版本的版本号；</p>
    <p>[0060]	Ichild，记录了在所述客户端目录树中该结点的左孩子的索引号；</p>
    <p>[0061]	rchild，记录了在所述客户端目录树中该结点的右孩子的索引号；</p>
    <p>[0062]	IastModifytime,记录所述云存储环境下的安全网盘系统CorsBox所维护的该结点的最新修改时间；</p>
    <p>[0063]	步骤（4. 5. 2)，客户端计算机根据步骤（4. 5. I)的返回的服务器端目录树在内存中创建该用户的服务器端目录树，用于记录所述云存储服务器中的实时数据状 态，用户服务器端目录树的结构与客户端目录树完全相同，只是nodes数组中的结点类型是用户服务器端目录树结点，用户服务器端目录树结点包括：nodeType、name、appendAttribute、Ichild 和 rchild,其中：</p>
    <p>[0064]	nodeType，记录所述用户服务器端目录树中的结点所对应的是目录或文件；</p>
    <p>[0065]	name,记录所述的目录或文件的名称；</p>
    <p>[0066]	appendAttribute,对所述用户服务器端目录树中的目录而言,记录的是是否被共享，对所述服务器端目录树中的文件而言，记录的是最新版本的版本号；</p>
    <p>[0067]	Ichild，记录了在所述用户服务器端目录树中该结点的左孩子的索引号；</p>
    <p>[0068]	rchild，记录了在所述用户服务器端目录树中该结点的右孩子的索引号；</p>
    <p>[0069]	步骤（4. 5. 3)，所述客户端计算机在每次同步时扫描磁盘中的所述客户端目录树的目录及其子目录，在内存中创造磁盘目录树记录用户的实时数据，用户的磁盘目录树的结构与客户端目录树完全相同，只是nodes数组中的结点类型是磁盘目录树结点，磁盘目录树结点包括:nodeType、name、IastModifyTime、Ichild 和 rchild,其中：</p>
    <p>[0070]	nodeType,记录所述磁盘目录树中的结点所对应的是目录还是文件；</p>
    <p>[0071]	name,记录所述磁盘目录树中所述目录或文件的名称；</p>
    <p>[0072]	IastModifytime,记录了在所述客户端计算机中该结点的最后修改时间；</p>
    <p>[0073]	lchild，记录了在所述磁盘目录树中该结点的左孩子的索引号；</p>
    <p>[0074]	rchild,记录了在所述磁盘目录树中该结点的右孩子的索引号；</p>
    <p>[0075]	步骤（4. 6)，客户端通过比对步骤（4. 5)中构建的目录树，生成待执行操作的操作队列，具体步骤如下：</p>
    <p>[0076]	步骤（4. 6. 1)，客户端比对客户端目录树与磁盘目录树，并将比对结果保存在集合A中，用来记录用户在此机器上离线进行的操作；</p>
    <p>[0077]	步骤（4. 6.2),客户端比对客户端目录树与服务器端目录树，并将比对结果保存在集合B中，用来记录此用户在此机器上两次同步之间其他客户端进行的操作；</p>
    <p>[0078]	步骤（4. 6. 3 )，客户端比对集合A与集合B中的内容，并根据比对结果生成待执行的操作队列；</p>
    <p>[0079]	步骤（4. 7)，逐项执行步骤（4. 6)中生成的操作队列，完成同步操作；</p>
    <p>[0080]	步骤（5 ),客户端修改访问权限：</p>
    <p>[0081]	步骤（5. 1)，客户端共享某文件夹：客户端首先检查待共享文件夹的祖先目录与子孙目录是否被共享，若已被共享，则提示用户此文件夹不能被共享，否则向服务器发起共享请求，服务器收到请求后修改该目录元数据中的共享标志位，然后为此文件夹创建新的操作日志，接着删除该文件夹下所有历史版本，最后向客户端返回共享成功的提示；</p>
    <p>[0082]	步骤（5. 2)，客户端添加/删除某用户的访问权限：只有数据的拥有者才能够修改自己共享文件夹的访问权限；若是添加权限，客户端向服务器发起添加权限请求，服务器验证用户身份后将待添加用户的公钥返回给客户端，客户端用此公钥加密该文件夹对应的加密密钥后发送给服务器端，服务器将此密钥的密文写入目录元数据中，并在共享表中添加一条共享记录，最后向客户端返回添加权限成功的提示；</p>
    <p>[0083]	若为删除权限，服务器端验证用户身份后将被取消权限用户及其密钥密文从目录元数据中删除，同时删除共享表中对用的记录，然后向客户端返回删除权限成功的提示；</p>
    <p>[0084]	步骤（5. 3)，客户端查看共享内容：客户端查看共享内容依次按照以下步骤来完成： </p>
    <p>[0085]	步骤（5. 3. 1)，客户端在启动时向服务器发起查看最新共享请求(可以随时手动请求）；</p>
    <p>[0086]	步骤（5. 3. 2)，服务器收到请求后查找共享表，将客户端未选择是否接受共享的文件名称和拥有者ID返回给客户端，并在共享表中将这些路径置为已处理；</p>
    <p>[0087]	步骤（5. 3. 3)，客户端弹出对话框请求用户操作，若用户选择接受共享则转步骤(4. 3. 4)，否则直接返回；</p>
    <p>[0088]	步骤（5. 3. 4)，服务器端将该共享目录下的所有文件密文和该目录的元数据中对应此用户的ACL项返回给客户端；</p>
    <p>[0089]	步骤（5. 3. 5)，客户端用自己的私钥从返回的ACL项解密出该文件夹对应的加密密钥；</p>
    <p>[0090]	步骤（5. 3. 6)，客户端解密出所有文件的明文，然后根据明文后面附着的哈希值做完整性校验；</p>
    <p>[0091]	步骤（5. 4)，客户端取消共享：</p>
    <p>[0092]	只有文件夹的拥有者才能取消共享，服务器收到验证用户身份后删除共享表中所有关于此文件夹的共享，接着将该文件夹的目录元数据中的共享标志位改为非共享并删除掉所有的ACL项，然后向客户端返回修改成功的提示；客户端接收到成功提示后修改客户端目录树中该结点的共享状态；</p>
    <p>[0093]	步骤（6):文件版本控制：</p>
    <p>[0094]	步骤（6. 1)，当客户端上传文件时，服务器首先对该文件的大小进行判断，若是小文件则在文件名末尾添加版本号，并保存在云端；若不是小文件，则直接保存在云端(若已存在则直接覆盖）;</p>
    <p>[0095]	步骤（6. 2)，客户端随时可以进行小文件的历史版本回滚，服务器验证用户身份后返回文件版本列表，用户可以根据自己的需要选择合适的版本进行回滚；</p>
    <p>[0096]	步骤（7)，用户选择加密方式：</p>
    <p>[0097]	客户端会在工作目录下自动生成一个public文件夹，所有保存在此文件夹下的内容都是不加密的；另外，用户在客户端可以手动修改某个文件夹(非public夹）的密钥生成方法，但一旦某个文件夹的密钥生成方式被指定，其祖先目录与子孙目录都不得再被指定密钥生成规则；密钥生成是将用户的加密密钥和该文件夹的名称通过一定的算法生成的，若非特别指定则默认直接使用用户的文件加密密钥对其数据进行加密。</p>
    <p>[0098]	本发明在清华大学计算机系高性能计算技术研究所进行过测试，测试结果表明，这种云存储环境下的安全网盘系统可以在云存储环境下为用户提供高效的数据同步与文件共享功能的同时，保证了数据的机密性、完整性和访问控制，性能开销也在用户可以接受的范围之内。</p>
    <p>附图说明：</p>
    <p>[0099]	图I系统架构图。</p>
    <p>[0100]	图2用户上传文件示意图。</p>
    <p> [0101]	图3用户下载文件示意图。</p>
    <p>[0102]	图4数据拥有者添加访问权限示意图。</p>
    <p>具体实施方式：</p>
    <p>[0103]	本发明的具体实施方式如下：</p>
    <p>[0104]	&gt;步骤I :系统初始化。</p>
    <p>[0105]	客户端计算机以下简称客户端，设有数据加解密模块，数据完整性验证模块，本地监听模块，文件夹共享模块以及协议通信模块；</p>
    <p>[0106]	服务器端设有：身份验证模块，存储控制模块，访问控制模块，版本控制模块以及目录元数据管理模块，其中：</p>
    <p>[0107]目录元数据管理模块用于对目录元数据进行查询，更新在内的维护操作，所述目录元数据包括：目录类型，拥有者用户名，绝对路径，访问控制列表，授权用户数量以及密钥生成方式，其中访问控制列表包括：用户名和对应的密钥密文，所述密钥密文是使用所对应用户的公钥加密的，对应用户可使用自己的私钥解密；</p>
    <p>[0108]	云存储服务器以下简称云存储端，设有：存储模块和数据可靠模块，其中：</p>
    <p>[0109]	存储模块设有一套供所述服务器端调用的存储接口，以便把需要存储的信息以对象的形式存放在所述z?存储端；</p>
    <p>[0110]	数据可靠性模块，根据所述服务器端的需要，为所有存放在云存储端的文件创建一定数量的副本；</p>
    <p>[0111]	&gt;步骤2 :为所述云存储端构建并初始化一个云存储平台。</p>
    <p>[0112]今步骤（2.	I):在装有Linux操作系统的各子云存储中分别安装一个多副本，可扩展的分布式云存储系统swift,并指定其中的一台机器作为Proxy代理节点，重配置Proxy代理服务，创建账户，容器以及对象，将其配置成三层环的形式，启动Proxy代理服务；</p>
    <p>[0113]令步骤（2.	2):配置各云存储服务计算机，实现所述三层环之间的关联；</p>
    <p>[0114]今步骤（2.	3):启动所述swift系统,提供云存储服务；</p>
    <p>[0115]	&gt;步骤3 :用户初始化个人信息：</p>
    <p>[0116]今步骤3.	I :用户在注册的同时申请获得用户标识。用户标识是用户在系统中唯一的身份标识，服务器是通过用户的标识来确定用户的身份，判断其的访问权限；为了安全有效地识别系统中主体(包括服务器和用户）的身份，以便系统对进行操作的用户建立起相互之间的信任关系，系统需要一种独立于底层存储系统的安全的用户身份标识机制。在本系统中采用公钥基础设施（PKI, Public Key Infrastructure),通过数字证书来为系统提供用户标识。数字证书是由公正、权威的机构签发给主体的电子文档，该文档中记录有主体名称、证书序号、签发方名称、证书的有效期、密码算法标识、公钥信息和其它信息，并经过签发方的数字签名公钥基础设施是包括了硬件、软件、人力、策略和过程的平台或框架，它利用公钥技术提供了对数字证书进行创建、管理、分发、使用、存储以及撤销的功能。证书颁发机构（CA, Cerfiticate Authority)和注册机构（RA, Registration Authority)是公钥基础设施的重要组成部分。前者是公钥基础设施的核心，它是一个可信的第三方，通过将用户的公钥与用户的其他信息(包括用户身份）绑定在一起来为用户签发数字证书，并提供证书的查询、撤销、生命周期管理以及密钥管理；后者主要是面向用户履行证书颁发机构委派的一些责任。公钥基础设施是一种成熟的、被广泛应用的技术体系，具有统一的规范和标准，并有很多较为完备的实现。利用公钥基础设施为系统提供用户标识，可以将维护用户标识唯一性真实性的工作交给这个成熟的体系来完成，同时使系统用户在不必了解复杂管理细节的情况下安全高效地验证其他系统主体的身份，实现用户之间的相互信任，从而保证用户信息的真实性、完整性、机密性和不可否认性； </p>
    <p>[0117]今步骤3.	2:服务器将用户的基本信息(包括用户名、密码的哈希值、绑定邮箱等）保存至数据库中的users表中；</p>
    <p>[0118]	令步骤3. 3 :客户端初始化工作目录，并在工作目录下生成shares、public以及public/shares三个文件夹，其中shares文件夹下的内容其他用户的共享内容(加密)，public夹下的内容为自己不加密上传的文件、public/shares为其他用户共享的非加密内容；</p>
    <p>[0119]今步骤3.	4:客户端为当前用户生成初始的客户端目录树，然后将它持久化到文件中，并在配置文件中标明该文件所在的位置；</p>
    <p>[0120]今步骤3.	5 :服务器初始化此用户的服务器端目录树，然后将它持久化到文件中，并将此文件按照一定的命名规则保存至云存储中；</p>
    <p>[0121]	&gt;步骤4 :客户端执行同步操作。客户端使用一种基于目录树的同步方式，执行同步操作生成带操作列表，然后根据列表中每个元素中记录的待执行操作类型逐一执行同步操作：</p>
    <p>[0122]	&#8226;若待执行操作为用户上传文件，用户则按照如下步骤上传文件，具体如图2所示：</p>
    <p>[0123]	+步骤①：客户端使用某种哈希算法计算待上传文件的哈希值；</p>
    <p>[0124]今步骤②：客户端使用相应的加密密钥对文件和哈希值进行加密；  [0125]今步骤③：客户端将文件密文和加密后的哈希值拼接成一个文件，然后向服务器发起上传请求；</p>
    <p>[0126]令步骤④：服务器验证用户身份后将客户端上传的数据以最新版本的方式（小文件）存放在云存储中，并向客户端返回上传成功；</p>
    <p>[0127]	&#8226;若待执行操作为用户下载文件，用户按照如下步骤下载文件，具体如图3所示：</p>
    <p>[0128]令步骤①：用户向服务器发起某个文件的下载请求；</p>
    <p>[0129]今步骤②：服务器验证用户身份后将该文件从云存储中取出并返回给客户端；[0130]今步骤③：客户端使用相应的密钥对服务器返回的文件进行解密，然后根据解密出的文件分离出数据文件和哈希值，然后将数据文件保存在本地；</p>
    <p>[0131]令步骤④：客户端计算数据文件的哈希值，并将其与下载下来的哈希值做比对，进行数据的完整性校验；</p>
    <p>[0132]	&#8226;若待执行操作为客户端冲突处理，则说明此文件同时被多个客户端修改，那么客户端需要对该文件进行冲突处理操作，具体步骤如下：</p>
    <p>[0133]	&#9830;步骤①：用户将本地文件重命名；</p>
    <p>[0134]今步骤②：客户端调用下载接口下载服务器端的最新版文件；</p>
    <p>[0135]	&#9830;步骤③：客户端调用上传接口上传本地重命名后的文件；</p>
    <p>[0136]令步骤④：客户端可以根据需要选择删除或重命名冲突文件；</p>
    <p>[0137]	&gt;步骤5 :客户端修改访问权限。客户端添加访问权限可以分为以下两类：</p>
    <p>[0138]	&#8226;用户添加访问权限：只有数据拥有者才能按照如下步骤添加访问权限，具体如图4所示：</p>
    <p>[0139]令步骤①：客户端向服务器取得待授权用户的公钥；</p>
    <p>[0140]今步骤②：用户可以选择是否向证书颁发机构校验证书的真实性；</p>
    <p>[0141]今步骤③：客户端使用该公钥加密自己的文件密钥；</p>
    <p>[0142]今步骤④：客户端将此文件密钥上传至服务器，服务器验证权限后写入该共享目录的目录元数据，并在共享表中添加共享记录；</p>
    <p>[0143]	&#8226;用户撤销访问权限：只有数据拥有者才能撤销访问权限，具体步骤如下：</p>
    <p>[0144]	&#9830;步骤①：客户端向服务器发起撤销请求；</p>
    <p>[0145]令步骤②：服务器验证用户权限后删除该共享目录对应的目录元数据中的ACL项，同时删除共享表中的记录。</p>
    <p>[0146]	&gt;步骤6 :文件版本控制：</p>
    <p>[0147]今步骤（5.	I):当客户端上传文件时，服务器首先对该文件的大小进行判断，若是小文件则在文件名末尾添加版本号，并保存在云端；若不是小文件，则直接保存在云端(若已存在则直接覆盖）;</p>
    <p>[0148]今步骤（5.	2):客户端随时可以进行小文件的历史版本回滚，服务器验证用户身份后返回文件版本列表，用户可以根据自己的需要选择合适的版本进行回滚；</p>
    <p>[0149]	&gt;步骤7 :用户选择加密方式：</p>
    <p>[0150]今客户端会在工作目录下自动生成一个pub	I i c文件夹，所有保存在此文件夹下的内容都是不加密的；另外，用户在客户端可以手动修改某个文件夹(非public夹）的密钥 生成方法，但一旦某个文件夹的密钥生成方式被指定，其祖先目录与子孙目录都不得再被指定密钥生成规则；密钥生成是将用户的加密密钥和该文件夹的名称通过一定的算法生成的，若非特别指定则默认直接使用用户的文件加密密钥对其数据进行加密。</p>
    <p>[0151]	本发明的系统架构如图I所示，发明的核心是提出了一种云存储环境下的安全网盘系统，其实现主要是由以下几个部分以及其相应的模块组成：</p>
    <p>[0152]	&#8226;云存储端</p>
    <p>[0153]	云存储端主要由以下几个模块构成：</p>
    <p>[0154]	I.存储模块[0155]	本模块提供了一套存储接口，由服务器端调用这些接口，将需要存储的信息以对象的形式存放在云存储端。</p>
    <p>[0156]	2.数据可靠性模块</p>
    <p>[0157]	本模块为所有存放在云端的文件创建了 N个副本（N由服务器端根据需要指定)，保证了数据的可靠性。</p>
    <p>[0158]	&#31858;客户端</p>
    <p>[0159]	客户端主要由以下几个模块构成：</p>
    <p>[0160]	I.数据加解密模块</p>
    <p>[0161]	该模块承担了所有的加解密相关的密码学操作操作，包括使用文件块密钥加解密文件块等，使用公私钥加解密文件密钥等。 </p>
    <p>[0162]	2.数据完整性验证模块</p>
    <p>[0163]	该模块提供文件块内容完整性验证等操作，以及文件块内容哈希值计算等操作。</p>
    <p>[0164]	3.本地监听模块</p>
    <p>[0165]	本模块用来监听用户对本地工作目录内进行的修改，包括删除、移动与重命名等操作。</p>
    <p>[0166]	4.文件夹共享模块</p>
    <p>[0167]	本模块提供了所有用户共享文件夹的操作，包括请求文件夹、修改访问权限和撤销共享等操作。</p>
    <p>[0168]	5.协议通信模块</p>
    <p>[0169]	本模块是客户端最大的一个模块，它包含了客户端所有的涉及到通信的操作，主要有上传、下载、冲突处理、注册新用户等。</p>
    <p>[0170]	&#8226;服务器</p>
    <p>[0171]	I.身份认证模块</p>
    <p>[0172]	本模块用来验证用户的身份是否跟其在注册中心注册的相符，以防止网络黑手或其他非法人员伪造用户身份。</p>
    <p>[0173]	2.存储控制模块</p>
    <p>[0174]	本模块调用云存储接口，将用户的服务器端目录树、目录元数据和数据文件保存至云端。</p>
    <p>[0175]	3.访问控制模块</p>
    <p>[0176]	根据用户权限对数据进行访问权限的控制，但客户端并不依赖于服务器的访问控制，即使服务器恶意的将数据交给非法用户也无法读取到数据明文。</p>
    <p>[0177]	4.版本控制模块</p>
    <p>[0178]	服务器对用户上传的小文件进行了版本控制，允许用户将某个小文件回滚到某个历史版本。本模块包含了所有版本控制相关的操作。</p>
    <p>[0179]	5.目录元数据管理模块</p>
    <p>[0180]	本模块用来对目录元数据进行维护，包括查询、更新等操作。目录元数据在内存中的结构如下：「n 目:&#190;类型 m-m id I绝对路径I i方丨4控-制列I授权用户数I -密钥中.[0181]</p>
    <p>          表	量成方式</p>
    <p>[0182]	访问控制列表（ACL)的结构如下：</p>
    <p>[0183]</p>
    <p>用户名	密钥密文</p>
    <p>用户名I	密钥密文 用户名2	密钥密文</p>
    <p>…	密钥密文</p>
    <p>用户名n	密钥密文</p>
    <p>[0184]	其中每个用户对应的密钥密文都是使用该用户的公钥进行加密的，用户可以使用自己的私钥对其进行解密。</p>
    <p>[0185]	系统测试</p>
    <p>[0186]	本发明在清华大学计算机科学与技术系高性能计算研究所对本系统进行了测试，其内容包括功能测试和性能测试，分别对系统的安全性和性能进行了测试，测试结果表明，本发明在云存储共享的信任体系中能够保证用户数据的安全性，同时性能开销在一个可以接受的范围。</p>
    <p>[0187]	&#8226;功能测试</p>
    <p>[0188]	我们使用了十台服务器对本系统进行了功能测试。其中四台服务器用来部署云存储端，三台服务器用来部署服务器端，另外三台服务器作为客户端，分别服务器并进行操作。测试内容与测试结果如下表所示：</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00171.png"> <img id="idf0001" file="CN102685148AD00171.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00171.png" class="patent-full-image" alt="Figure CN102685148AD00171"> </a> </div>
    <p>[0189]	  [0190]	&#8226;性能测试</p>
    <p>[0191]	性能测试的硬件环境是七台配置相同服务器，每台服务器均采用了型号为Intel (R)Xeon(R)X5472，主频为3. OGHz的四核CPU，8GB内存，服务器间以千兆局域网连接。其中四台做云存储服务器，三台做CorsBox服务器。软件环境是Ubuntu Linux 2.6.33内核，openstack-swift 1.3.0, bcprov-jdkl6_146. jar。客户端的硬件环境为：Intel (R)Core (TM) 2，主频为2. 40GHz的双核CPU，2GB内存，软件环境为Windows 7操作系统。</p>
    <p>[0192]	I.上传操作</p>
    <p>[0193]	如图2所示，客户端向服务器上传一个64M大小的文件，各项操作的时间消耗如下(单位均为ms)：</p>
    <p>[0194]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00172.png"> <img id="idf0002" file="CN102685148AD00172.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00172.png" class="patent-full-image" alt="Figure CN102685148AD00172"> </a> </div>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00181.png"> <img id="idf0003" file="CN102685148AD00181.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00181.png" class="patent-full-image" alt="Figure CN102685148AD00181"> </a> </div>
    <p>[0195]	从消耗时间上来看，计算哈希值的时间在I毫秒以内，可以忽略不计；密码学相关操作为磁盘开销增加了大约45%的负担，但是，所有的对数据的加解密都是以上传或下载为前提的，而客户端与服务器之间是通过普通不可信网络连接的，因此密码学为整个I/O过程额外增加了大约6%的额外负担，这个开销完全是在用户可接受范围内的。</p>
    <p>[0196]	2.下载操作</p>
    <p>[0197]	如图3所示，客户端从服务器下载一个64M大小的文件，各项操作的时间消耗如下 (单位均为ms)：</p>
    <p>[0198]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00182.png"> <img id="idf0004" file="CN102685148AD00182.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00182.png" class="patent-full-image" alt="Figure CN102685148AD00182"> </a> </div>
    <p>[0199]	从额外的消耗来看，密码学为整个I/O过程额外增加了约15%的开销。下载过程明显比上传要快，这是因为我们对编码方式进行了优化，使用了客户端几倍于文件的内存空间大小还换取时间上的效率。</p>
    <p>[0200]	3.添加权限操作</p>
    <p>[0201]	如图4所示，客户端将其共享目录photo授权给用户B，各项操作的时间消耗如下(单位均为ms)：</p>
    <p>[0202]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00183.png"> <img id="idf0005" file="CN102685148AD00183.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00183.png" class="patent-full-image" alt="Figure CN102685148AD00183"> </a> </div>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00191.png"> <img id="idf0006" file="CN102685148AD00191.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00191.png" class="patent-full-image" alt="Figure CN102685148AD00191"> </a> </div>
    <p>[0203]	4.撤销权限操作</p>
    <p>[0204]	客户端撤销用户B对目录photo的访问权限，各项操作的时间消耗如下(单位均为ms)：</p>
    <p>[0205]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00192.png"> <img id="idf0007" file="CN102685148AD00192.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102685148A/CN102685148AD00192.png" class="patent-full-image" alt="Figure CN102685148AD00192"> </a> </div>
    <p>[0206]	由此可以看出在本发明中修改用户访问权限操作的时间开销较少，具有良好的高效性。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102014133A?cl=zh">CN102014133A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年11月26日</td><td class="patent-data-table-td patent-date-value">2011年4月13日</td><td class="patent-data-table-td ">清华大学</td><td class="patent-data-table-td ">在云存储环境下一种安全存储系统的实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102075542A?cl=zh">CN102075542A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年1月26日</td><td class="patent-data-table-td patent-date-value">2011年5月25日</td><td class="patent-data-table-td ">中国科学院软件研究所</td><td class="patent-data-table-td ">一种云计算数据安全支撑平台</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20090060201">US20090060201</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年3月31日</td><td class="patent-data-table-td patent-date-value">2009年3月5日</td><td class="patent-data-table-td ">Ricoh Company, Ltd.</td><td class="patent-data-table-td ">Secure Peer-to-Peer Distribution of an Updatable Keyring</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">吴海佳等: "<a href='http://scholar.google.com/scholar?q="%22%E4%BA%91%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%9F%BA%E4%BA%8E%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97%E7%9A%84%E5%85%83%E6%95%B0%E6%8D%AE%E7%BC%93%E5%AD%98%E5%90%8C%E6%AD%A5%E7%AD%96%E7%95%A5%22"'>"云存储系统中基于更新日志的元数据缓存同步策略"</a>", 《电信科学》, no. 9, 15 September 2011 (2011-09-15), pages 32 - 36</td></tr><tr><td class="patent-data-table-td ">2</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">文双全: "<a href='http://scholar.google.com/scholar?q="%22%E4%B8%80%E7%A7%8D%E5%9F%BA%E4%BA%8E%E4%BA%91%E5%AD%98%E5%82%A8%E7%9A%84%E5%90%8C%E6%AD%A5%E7%BD%91%E7%BB%9C%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0%22"'>"一种基于云存储的同步网络存储系统的设计与实现"</a>", 《中国优秀硕士论文全文数据库信息科技辑》, no. 09, 15 September 2010 (2010-09-15), pages 34 - 60</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103037008B?cl=zh">CN103037008B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月24日</td><td class="patent-data-table-td patent-date-value">2016年3月30日</td><td class="patent-data-table-td ">珠海金山办公软件有限公司</td><td class="patent-data-table-td ">一种同步网盘的权限管理方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103235905A?cl=zh">CN103235905A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月27日</td><td class="patent-data-table-td patent-date-value">2013年8月7日</td><td class="patent-data-table-td ">成都菲普迪斯科技有限公司</td><td class="patent-data-table-td ">Dudp实时数据保护方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103312690A?cl=zh">CN103312690A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月19日</td><td class="patent-data-table-td patent-date-value">2013年9月18日</td><td class="patent-data-table-td ">无锡成电科大科技发展有限公司</td><td class="patent-data-table-td ">一种云计算平台的密钥管理系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103532958A?cl=zh">CN103532958A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年10月21日</td><td class="patent-data-table-td patent-date-value">2014年1月22日</td><td class="patent-data-table-td ">济南政和科技有限公司</td><td class="patent-data-table-td ">一种对网站资源进行加密的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014063610A1?cl=zh">WO2014063610A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年10月22日</td><td class="patent-data-table-td patent-date-value">2014年5月1日</td><td class="patent-data-table-td ">Shen Zhen Qycloud Technology Co., Ltd.</td><td class="patent-data-table-td ">本地文本交互系统及其文本管理的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014180416A1?cl=zh">WO2014180416A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年5月30日</td><td class="patent-data-table-td patent-date-value">2014年11月13日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种上传文件到云存储系统的方法、下载方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=dAakBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=dAakBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年9月19日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年11月14日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年10月15日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/c02faecc2a40cddbf7c3/CN102685148A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E4%BA%91%E5%AD%98%E5%82%A8%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E5%AE%89%E5%85%A8%E7%BD%91%E7%9B%98.pdf?id=dAakBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2umj3PLBN5DA8BOhrHLLEiGEq0fA"},"sample_url":"https://www.google.com/patents/reader?id=dAakBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>