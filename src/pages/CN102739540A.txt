<!DOCTYPE html><html><head><title>专利 CN102739540A - 分支接入总部的方法、系统和分支设备 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="分支接入总部的方法、系统和分支设备"><meta name="DC.contributor" content="王彬彬" scheme="inventor"><meta name="DC.contributor" content="顾新" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2012-6-29" scheme="dateSubmitted"><meta name="DC.description" content="本发明实施例提供了一种分支接入总部的方法、系统和分支设备。该方法包括：从第一Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一Tunnel接口的源；向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路，且该第一链路的上行进口为该第一Tunnel接口的源。本发明实施例的分支接入总部的方法、系统和分支设备，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议部署不受限制。"><meta name="DC.date" content="2012-10-17"><meta name="DC.relation" content="CN:101931610:A" scheme="references"><meta name="DC.relation" content="CN:102045233:A" scheme="references"><meta name="DC.relation" content="CN:102480753:A" scheme="references"><meta name="DC.relation" content="CN:1567873:A" scheme="references"><meta name="DC.relation" content="US:20030158964:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102739540:A"><meta name="citation_patent_application_number" content="CN:201210222847"><link rel="canonical" href="https://www.google.com/patents/CN102739540A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102739540A?cl=zh"/><meta name="title" content="专利 CN102739540A - 分支接入总部的方法、系统和分支设备"/><meta name="description" content="本发明实施例提供了一种分支接入总部的方法、系统和分支设备。该方法包括：从第一Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一Tunnel接口的源；向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路，且该第一链路的上行进口为该第一Tunnel接口的源。本发明实施例的分支接入总部的方法、系统和分支设备，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议部署不受限制。"/><meta property="og:title" content="专利 CN102739540A - 分支接入总部的方法、系统和分支设备"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102739540A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102739540A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=sqKpBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102739540A&amp;usg=AFQjCNFuHvbqHbqgSLjm39ouMaL2_6u8eg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/e52064bd4b5cadfe8cad/CN102739540A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/e52064bd4b5cadfe8cad/CN102739540A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102739540A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102739540A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102739540A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102739540B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102739540A?cl=zh" style="display:none"><span itemprop="description">本发明实施例提供了一种分支接入总部的方法、系统和分支设备。该方法包括：从第一Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一Tunnel接口的源；向该总部设备...</span><span itemprop="url">https://www.google.com/patents/CN102739540A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102739540A - 分支接入总部的方法、系统和分支设备</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102739540A - 分支接入总部的方法、系统和分支设备" title="专利 CN102739540A - 分支接入总部的方法、系统和分支设备"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102739540 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201210222847</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年10月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年6月29日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2012年6月29日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102739540B?hl=zh-CN&amp;cl=zh">CN102739540B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201210222847.5, </span><span class="patent-bibdata-value">CN 102739540 A, </span><span class="patent-bibdata-value">CN 102739540A, </span><span class="patent-bibdata-value">CN 201210222847, </span><span class="patent-bibdata-value">CN-A-102739540, </span><span class="patent-bibdata-value">CN102739540 A, </span><span class="patent-bibdata-value">CN102739540A, </span><span class="patent-bibdata-value">CN201210222847, </span><span class="patent-bibdata-value">CN201210222847.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E5%BD%AC%E5%BD%AC%22">王彬彬</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%A1%BE%E6%96%B0%22">顾新</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102739540A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102739540A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102739540A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (5),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=sqKpBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201210222847&amp;usg=AFQjCNG7uKKNxGQq4ZZg8EQsnnJqe64RoQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=sqKpBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102739540A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNF9LbgcqwNcZI0eZWlRCkKUZ4xgBw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT116299140" lang="ZH" load-source="patent-office">分支接入总部的方法、系统和分支设备</invention-title>
      </span><br><span class="patent-number">CN 102739540 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA101269260" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明实施例提供了一种分支接入总部的方法、系统和分支设备。该方法包括：从第一Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一Tunnel接口的源；向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路，且该第一链路的上行进口为该第一Tunnel接口的源。本发明实施例的分支接入总部的方法、系统和分支设备，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议部署不受限制。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><div mxw-id="PCLM45875475" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种分支接入总部的方法，其特征在于，包括：  从第一隧道Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将所述第一链路的上行进口确定为所述第一 Tunnel接口的源；  向所述总部设备发送第一通告消息，所述第一通告消息用于通告所述总部设备所述第一链路为所述分支设备接入所述总部设备的链路且所述第一链路的上行进口为所述第一Tunnel接口的源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求I所述的方法，其特征在于，所述方法还包括：  当确定所述第一链路发生链路故障时，从所述第一 Tunnel接口对应的除所述第一链路之外的剩余链路中，确定所述分支设备接入所述总部设备的第二链路，并将所述第二链路的上行进口确定为所述第一 Tunnel接口的源；  向所述总部设备发送第二通告消息，所述第二通告消息用于通告所述总部设备所述第二链路为所述分支设备接入所述总部设备的链路且所述第二链路的上行进口为所述第一Tunnel接口的源。</div>
    </div>
    </div> <div class="claim"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利2所述的方法，其特征在于，所述确定所述第一链路发生链路故障，包括：  根据通过网络质量分析NQA探测或接口状态确定所述第一链路发生链路故障。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求I至3中任一项所述的方法，其特征在于，所述确定分支设备接入总部设备的第一链路，包括：  根据链路优先级，从所述第一 Tunnel接口对应的多条链路中确定所述第一链路。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求I至4中任一项所述的方法，其特征在于，所述Tunnel接口对应的多条链路包括第三代移动通信技术3G链路和以太Ethernet链路。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.	&#8212;种分支设备,其特征在于,包括：  第一隧道Tunnel接口，所述第一 Tunnel接口对应多条链路；  确定单元，用于从所述第一 Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将所述第一链路的上行进口确定为所述第一 Tunnel接口的源；  通告单元，用于向所述总部设备发送第一通告消息，所述第一通告消息用于通告所述总部设备所述第一链路为所述分支设备接入所述总部设备的链路且所述第一链路的上行进口为所述第一 Tunnel接口的源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的设备，其特征在于，所述设备还包括：  诊断单元，用于确定所述第一链路是否发生链路故障；  所述确定单元，还用于在所述诊断单元确定所述第一链路发生链路故障时，从所述第一 Tunnel接口对应的除所述第一链路之外的剩余链路中，确定所述分支设备接入所述总部设备的第二链路，并将所述第二链路的上行进口确定为所述第一 Tunnel接口的源；  所述通告单元，还用于向所述总部设备发送第二通告消息，所述第二通告消息用于通告所述总部设备所述第二链路为所述分支设备接入所述总部设备的链路且所述第二链路的上行进口为所述第一 Tunnel接口的源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求7所述的设备，其特征在于，所述诊断单元具体用于：  根据通过网络质量分析NQA探测或接口状态确定所述第一链路是否发生链路故障。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求6至8中任一项所述的设备，其特征在于，所述确定单元具体用于：  根据链路优先级，从所述第一 Tunnel接口对应的多条链路中确定所述第一链路。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10. 一种用于分支接入总部的系统，其特征在于，包括根据权利要求6至9中任一项所述的分支设备和总部设备，其中，  所述分支设备用于从第一隧道Tunnel接口对应的多条链路中，确定分支设备接入所述总部设备的第一链路，并将所述第一链路的上行进口确定为所述第一 Tunnel接口的源，并向所述总部设备发送第一通告消息，所述第一通告消息用于通告所述总部设备所述第一链路为所述分支设备接入所述总部设备的链路且所述第一链路的上行进口为所述第一Tunnel接口的源；  所述总部设备用于接收所述分支设备发送的所述第一通告消息，根据所述第一通告消息确定所述第一链路为所述分支设备接入所述总部设备的链路且所述第一链路的上行进口为所述第一 Tunnel接口的源。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES52234976" lang="ZH" load-source="patent-office" class="description">
    <p>分支接入总部的方法、系统和分支设备</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及通信领域，并且更具体地，涉及一种分支接入总部的方法、系统和分支设备。</p>
    <p>背景技术</p>
    <p>[0002]	企业分支设备接入总部设备时，为提高网络的可靠性，分支设备一般会通过冗余链路接入。例如，分支设备正常情况下通过以太（Ethernet)链路接入总部设备，在 Ethernet链路故障时,分支设备通过第三代移动通信技术（3rd_generation,简称3G)链路接入总部设备。</p>
    <p>[0003]	目前，通用路由封装（Generic Routing Encapsulation,简称GRE)协议在网络中广泛使用，即，首先分别在分支设备和总部设备上创建隧道（Tunnel)接口，并设定Tunnel接口的类型为GRE，在Tunnel接口上设置隧道的源地址和目的地址，从而可以完成GRE部署。</p>
    <p>[0004]	当分支设备采用动态地址接入时，管理员无法在总部设备上静态配置分支设备的互联网协议（Internet Protocol,简称IP)地址,这时可借助于下一跳解析协议（Next HopResolution Protocol,简称 NHRP)和多点 GRE (Multipoint GRE,简称 MGRE)协议，通过向总部设备发送NHRP注册请求消息，向总部设备通告分支设备使用的非广播多路访问网络(Non-Broadcast, Multi-Access,简称 NBMA)地址。</p>
    <p>[0005]目前分支设备冗余链路接入总部设备的方法主要采用以下三种方式：</p>
    <p>[0006]	方式I :分支设备上创建一个Tunnel接口和一个回送（Loopback)接口，并且使用Loopback接口作为Tunnel接口的源接入总部设备。分支设备发送报文时，根据路由查找结果，选择优先级高的链路作为出口链路，并在优先级高的出口链路发生链路失败时，选择备份链路。</p>
    <p>[0007]	方式2 :分支设备上创建两个Tunnel接口，并分别使用3G链路和Ethernet链路的接口作为Tunnel接口的源。总部设备上创建两个Tunnel接口，与分支设备上的两个Tunnel接口对应。分支设备、总部设备通过动态路由协议，选择可用的、高优先级的链路进行通信。</p>
    <p>[0008]	方式3 :分支设备上创建两个Tunnel接口，分别使用3G链路和Ethernet链路的接口作为Tunnel接口的源。总部设备创建一个Tunnel接口，同时与分支设备的两个Tunnel接口对应。</p>
    <p>[0009]	然而，如果采用方式I,则分支设备上需要额外创建一个Loopback接口并需要一个额外的公网地址；如果采用方式2，总部设备上需要额外创建一个Tunnel接口，并需要一个额外的公网地址；如果采用方式3，基于分支、总部动态路由协议要求，分支设备上两个Tunnel接口的网段与总部设备的Tunnel接口上的网段必须是一致的；另所有的路由器设备都有这么一个限制：同一设备上两个接口的网段是不能重叠的，由于并非所有路由协议都能满足这样的要求，限制了网络中动态路由协议的部署。发明内容</p>
    <p>[0010]	本发明实施例提供了一种分支接入总部的方法、系统和分支设备，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议的部署不会受到限制。</p>
    <p>[0011]	第一方面，提供了一种分支接入总部的方法，该方法包括：从第一 Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源；向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0012]	在第一方面的一种可能的实现方式中，该方法还包括：</p>
    <p>[0013]	当确定该第一链路发生链路故障时，从该第一 Tunnel接口对应的除该第一链路之外的剩余链路中，确定该分支设备接入该总部设备的第二链路，并将该第二链路的上行进口确定为该第一 Tunnel接口的源；向该总部设备发送第二通告消息，该第二通告消息用于通告该总部设备该第二链路为该分支设备接入该总部设备的链路且该第二链路的上行进口为该第一 TunneI接口的源。</p>
    <p>[0014]	第二方面，提供了一种分支设备，该分支设备包括：第一 Tunnel接口，该第一Tunnel接口对应多条链路；确定单元，用于从该第一 Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源；通告单元，用于向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路且该第一链路的上行进口为该第一Tunnel接口的源。</p>
    <p>[0015]	在第二方面的一种可能的实现方式中，该设备还包括：诊断单元，用于确定该第一链路是否发生链路故障；该确定单元，还用于在该诊断单元确定该第一链路发生链路故障时，从该第一 Tunnel接口对应的除该第一链路之外的剩余链路中，确定该分支设备接入该总部设备的第二链路，并将该第二链路的上行进口确定为该第一 Tunnel接口的源；该通告单元，还用于向该总部设备发送第二通告消息，该第二通告消息用于通告该总部设备该第二链路为该分支设备接入该总部设备的链路且该第二链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0016]	第三方面，提供了一种分支接入总部的系统，该系统包括：分支设备和总部设备，其中，该分支设备用于从第一 Tunnel接口对应的多条链路中，确定分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源，并向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路且该第一链路的上行进口为该第一 Tunnel接口的源；该总部设备用于接收该分支设备发送的第一通告消息，根据该第一通告消息确定该第一链路为该分支设备接入该总部设备的链路且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0017]	基于以上技术方案，本发明实施例的分支接入总部的方法、系统和分支设备，通过从一个Tunnel接口对应的多条链路中选择用于分支设备接入总部设备的链路且将选择的链路的上行进口确定为该Tunnel接口的源，由于一个Tunnel接口对应于多条链路且可将 链路的接口确定为TunneI接口的源，从而不需要额外的TunneI接口和额外的公网地址，且动态路由协议的部署不会受到限制。附图说明</p>
    <p>[0018]	为了更清楚地说明本发明实施例的技术方案，下面将对本发明实施例中所需要使用的附图作简单地介绍，显而易见地，下面所描述的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。</p>
    <p>[0019]	图I是根据本发明实施例的分支接入总部的方法的示意性流程图；</p>
    <p>[0020]	图2是根据本发明另一实施例的分支接入总部的方法的示意性流程图；</p>
    <p>[0021]	图3是根据本发明实施例的分支接入总部的系统的示意性框图；</p>
    <p>[0022]	图4是根据本发明实施例的分支接入总部的系统架构图。 [0023]	图5是根据本发明实施例的分支设备的示意性框图。</p>
    <p>[0024]	图6是根据本发明另一实施例的分支设备的示意性框图。</p>
    <p>具体实施方式</p>
    <p>[0025]	下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例是本发明的一部分实施例，而不是全部实施例。基于本发明中的实施例，本领域普通技术人员在没有做出创造性劳动的前提下所获得的所有其他实施例，都应属于本发明保护的范围。</p>
    <p>[0026]	应理解，本发明实施例的技术方案可以应用于各种通信系统，例如：全球移动通讯（Global System of Mobile communication,简称 GSM)系统、码分多址（Code DivisionMultiple Access,简称 CDMA)系统、宽带码分多址（Wideband Code Division MultipleAccess,简称 WCDMA)系统、通用分组无线业务（General Packet Radio Service,简称 GPRS)、长期演进（Long Term Evolution,简称 LTE)系统、LTE 频分双工（FrequencyDivision Duplex,简称 FDD)系统、LTE 时分双工（Time Division Duplex,简称 TDD)、通用移动通信系统（Universal Mobile Telecommunication System,简称 UMTS)等。</p>
    <p>[0027]	图I是根据本发明实施例的分支接入总部的方法100的示意性流程图。如图I所示，该方法100包括：</p>
    <p>[0028]	110，分支设备从第一 Tunnel接口对应的多条链路中，确定该分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源。</p>
    <p>[0029]	120，该分支设备向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0030]	具体地说，分支设备的MGRE Tunnel接口可以支持备份源配置，S卩，一个Tunnel接口可被配置为对应于多条链路，该配置的多条链路可以用于分支设备接入总部设备；在分支设备需要接入总部设备的时候，可以从该Tunnel接口被配置的多条链路中确定第一链路，并可以将该第一条链路上行进口确定为该Tunnel接口的源；从而，分支设备可以向总部设备发送NHRP注册请求消息，以向总部设备通告已选择的第一链路为分支设备接入总部设备的链路，并向总部设备通告该第一链路的上行进口为该Tunnel接口的源，总部设备在接收到分支设备发送的NHRP注册请求消息之后，可以记录该第一链路为分支设备接入总部设备的链路且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0031]	因此，根据本发明实施例的分支接入总部的方法，通过从一个Tunnel接口对应的多条链路中选择分支设备接入总部设备的链路且将选择的链路的上行进口确定为该Tunnel接口的源，由于一个Tunnel接口对应于多条链路且可将链路的接口确定为Tunnel接口的源，从而，不需 要额外的Tunnel接口和额外的公网地址，且动态路由协议的部署不会受到限制。</p>
    <p>[0032]	在本发明实施例中，分支设备可以是路由器设备，总部设备也可以路由器设备。本发明实施例中所述的链路的上行即为分支设备至总部设备的方向，同理，总部设备至分支设备的方向可以称之为下行。</p>
    <p>[0033]	在本发明实施例中，除了 110和120之外，如图2所示，该方法100还可以包括：</p>
    <p>[0034]	130，该分支设备确定该第一链路是否发生链路故障；</p>
    <p>[0035]	140，该分支设备在确定该第一链路发生链路故障时，从该第一 Tunnel接口对应的除所述第一链路之外的剩余链路中，确定该分支设备接入该总部设备的第二链路，并将该第二链路的上行进口确定为该第一 Tunnel接口的源；</p>
    <p>[0036]	150，该分支设备向该总部设备发送第二通告消息，该第二通告消息用于通告该总部设备该第二链路为该分支设备接入该总部设备的链路且该第二链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0037]	即，该分支设备在确定该第一链路发生链路故障之后，可以从该第一 Tunnel接口对应的多条链路中，确定除该第一链路之外的、用于该分支设备接入该总部设备的第二链路，将该第二链路的上行进口确定为该Tunnel接口的源；然后，可以通过向总部设备发送NHRP撤销请求消息，总部设备在接收到分支设备发送的NHRP撤销请求消息之后，可以撤销原先记录的分支设备的第一链路的地址；分支设备可以通过再次向总部设备发送NHRP注册请求消息，向总部设备通告该第二链路为该分支设备接入该总部设备的链路且该第二链路的上行进口为该Tunnel接口的源，总部设备在接收到分支设备发送的NHRP注册请求消息之后，可以将该第二链路记录为该分支设备接入该总部设备的链路，且将该第二链路的上行进口记录为该Tunnel接口的源。</p>
    <p>[0038]	在本发明实施例中，分支设备可以通过网络质量分析（Network QualityAnalyzer,简称“NQA”）或接口状态，感知第一链路发生链路故障，从而可以在网络发生故障时进行有效的故障诊断和定位。其中，传统的因特网包探索器（Packet InternetGroper，简称PING)命令可认为是NQA的一种实施方式，即分支设备向总部设备发送PING命令，通过分支设备是否发送响应消息或发送响应消息的时延，确定第一链路是否发生链路故障；分支设备也可以通过显示命令查看接口状态。</p>
    <p>[0039]	当然，在本发明实施例中，除了在已选择的链路发生链路故障时，重新选择分支设备接入总部设备的链路，也可以在其它情况下，重新选择分支设备接入总部设备的链路，本发明实施例并不对此作任何限定，例如，根据分支设备和总部设备之间的负载均衡，重新选择分支设备接入总部设备的链路。</p>
    <p>[0040]	在本发明实施例中，110中该分支设备从第一 Tunnel接口对应的多条链路中，确定该分支设备接入总部设备的第一链路，具体可以包括：</p>
    <p>[0041]	该分支设备根据链路优先级，从该第一 Tunnel接口对应的多条链路中确定该第一链路。即，该分支设备可以从该第一 Tunnel接口对应的多条链路中，选择链路优先级最高的链路，或者优先级高于某一阈值的任意一条链路，作为该第一链路。</p>
    <p>[0042]	相应地，在本发明实施例中，140中该分支设备从该第一 Tunnel接口对应的除所述第一链路之外的剩余链路中，确定该分支设备接入该总部设备的第二链路，具体可以包括：</p>
    <p>[0043]	该分支设备根据链路优先级，从该一个Tunnel接口对应除该第一链路之外的剩余链路中确定第二链路。即，分支设备可以从该第一 Tunnel接口对应的除第一链路之外的剩余链路中，选择优先级最高的链路，或者优先级高于某一阈值的任一链路，作为该第二链路。</p>
    <p>[0044]	当然，在本发明实施例中，除了根据链路优先级之外，也可以根据别的信息确定分支设备接入总部设备的链路，例如，根据链路的负荷等信息，确定分支设备接入总部设备的 链路，本发明实施例并不对此进行限定。</p>
    <p>[0045]	为了更加清楚地理解本发明，将结合以下配置具体说明本发明的实施例。如下配置命令所示：</p>
    <p>[0046]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102739540A/CN102739540AD00081.png"> <img id="idf0001" file="CN102739540AD00081.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102739540A/CN102739540AD00081.png" class="patent-full-image" alt="Figure CN102739540AD00081"> </a> </div>
    <p>[0047]	从以上的配置可以看出，Tunnel接口 0/0/0配置为对应于Ethernet链路和3G链路，在对应于Ethernet链路时，Ethernet链路的接口（interface)被配置为该Tunnel接口 0/0/0 的源（Source),且 Ethernet 链路的优先级（Priority)值为 100,该 Ethernet 链路所关联（track)的NQA为探针（probe) I ;在对应于3G链路时，3G链路的接口被配置为该Tunnel接口的源，且3G链路的优先级值为30，该3G链路所关联的NQA为探针2。在分支设备需要接入目的地址（Desination)为10. I. I. 2的总部设备时，根据以上的配置，可以选择优先级高的链路Ethernet链路为该分支设备接入总部设备的链路,并可以将该Ethernet链路的上行进口确定为该Tunnel接口 0/0/0的源；分支设备可以定时检测链路状态，以确定链路是否发生链路故障，在确定需要检测Ethernet链路的链路状态时，可以通过配置信息确定与该Ethernet链路关联的NQA为探针1，从而可以利用探针I检测Ethernet链路是否发生链路故障；在确定Ethernet链路发生链路故障时,可以从除Ethernet链路之外的剩余链路中，选择新的链路3G链路为该分支设备接入总部设备的链路，并将该3G链路的上行进口确定为该Tunne I接口的源。</p>
    <p>[0048]	应理解，以上所述的配置命令只是本发明的一个具体实施例，不应对本发明构成任何限定，本发明也可以有其它实施方式，应根据具体情况而定。</p>
    <p>[0049]	因此，根据本发明实施例的分支接入总部的方法，通过从一个Tunnel接口对应的多条链路中选择分支设备接入总部设备的链路且将选择的链路的上行进口确定为该Tunnel接口的源，由于一个Tunnel接口对应于多条链路且可以将链路的接口确定为该Tunnel接口的源，从而，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议的部署不会受到限制。</p>
    <p>[0050]	图3是分支接入总部的系统的示意性图。如图3所示，该系统200包括分支设备210和总部设备220。</p>
    <p>[0051]	该分支设备210用于从第一 Tunnel接口对应的多条链路中，确定分支设备210接入总部设备220的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源，并向该总部设备220发送第一通告消息，该第一通告消息用于通告该总部设备220该第一链路为该分支设备210接入该总部设备220的链路且该第一链路的上行进口为该第一Tunnel接口的源； [0052]	该总部设备220用于接收该分支设备210发送的第一通告消息，根据该第一通告消息确定该第一链路为该分支设备210接入该总部设备220的链路且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0053]	具体地说，分支设备210可以从第一 Tunnel接口对应的多条链路中，确定分支设备210接入总部设备220的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源，然后，该分支设备210可以向该总部设备220发送NHRP注册请求消息，该NHRP注册请求消息用于通告该总部设备220该第一链路为该分支设备210接入该总部设备220的链路，且该第一链路的上行链路为该第一 Tunnel接口的源。该总部设备220接收到分支设备210的NHRP注册请求消息之后，可以根据该NHRP注册请求消息向该分支设备210发送NHRP注册响应消息，并可以根据该NHRP注册请求消息确定该第一链路为该分支设备210接入该总部设备220的链路，且该第一链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0054]	在本发明实施例中，分支设备210可以定时检测第一链路的链路状态，例如，可以向总部设备220发送PING命令，总部设备220如果接收到分支设备210发送的PING命令，可以向分支设备210返回响应消息，分支设备210可以根据总部设备220发送的响应消息的时延，确定第一链路是否发生链路故障。如果发生链路故障，分支设备210可以从第一Tunnel接口对应的除第一链路之外的剩余链路确定第二链路，并将该第二链路的上行进口确定为该第一 Tunnel接口的源，以及向总部设备220再次发送NHRP注册请求消息，以用于通告该总部设备220该第二链路为该分支设备210接入该总部设备220的链路，且该第二链路的上行链路为该第一 Tunnel接口的源。</p>
    <p>[0055]	图4是根据本发明实施例的分支接入总部的系统的架构图。从图4中可以看出，分支设备和总部设备之间可以通过分支设备上Tunnel接口对应的三条链路进行通信。应理解，虽然图4中示出了三条链路，但是三条链路只是一个示例性说明，不应对本发明构成任何限定。</p>
    <p>[0056]	图5是根据本发明实施例的分支设备300的示意性框图。如图5所示，该设备300包括：</p>
    <p>[0057]	第一 Tunnel接口 310,所述第一 Tunnel接口对应多条链路；</p>
    <p>[0058]	确定单元320，用于从该第一 Tunnel接口对应的多条链路中，确定该分支设备接入总部设备的第一链路，并将该第一链路的上行进口确定为该第一 Tunnel接口的源。</p>
    <p>[0059]	通告单元330，用于向该总部设备发送第一通告消息，该第一通告消息用于通告该总部设备该第一链路为该分支设备接入该总部设备的链路，且该第一链路的上行进口为该第一 Tunnel接口的源。[0060]	可选地，如图6所示，除了确定单元320和通告单元330，该设备300还包括：</p>
    <p>[0061]	诊断单元340，用于确定该第一链路是否发生链路故障。</p>
    <p>[0062]	该确定单元320，还用于当该诊断单元340确定该第一链路发生链路故障时，从该第一 Tunnel接口对应的除所述第一链路之外的剩余链路中，确定用于该分支设备接入该总部设备的第二链路，且将该第二链路的上行进口确定为该第一 Tunnel接口的源；</p>
    <p>[0063]	相应地，所述通告单元330，还用于向该总部设备发送第二通告消息，该第二通告消息用于通告该确定单元320中确定的该第二链路为该分支设备接入该总部设备的链路，且该第二链路的上行进口为该第一 Tunnel接口的源。</p>
    <p>[0064]	可选地，该确定单元320具体用于：</p>
    <p>[0065]	根据链路优先级，从该第一 Tunnel接口对应的多条链路中,选择链路优先级最高 的链路，或者优先级高于某一阈值的任意一条链路，作为该第一链路。</p>
    <p>[0066]	可选地，该诊断单元340具体用于：</p>
    <p>[0067]	通过网络质量分析NQA探测或接口状态确定该第一链路是否发生链路故障。</p>
    <p>[0068]	可选地，该第一 Tunnel接口对应的多条链路包括3G链路和以太Ethernet链路。</p>
    <p>[0069]	根据本发明实施例的分支接入总部的设备300可对应于本发明实施例中的分支接入总部的方法100中的分支设备，并且分支设备300中的各个单元分别执行图I和图2中的相应方法，为了简洁，在此不再赘述。该确定单元320和诊断单元340可位于分支设备300的处理器内，通告单元330可以位于分支设备300的发送器中。</p>
    <p>[0070]	因此，根据本发明实施例的分支接入总部的设备，通过从一个Tunnel接口对应的多条链路中选择分支设备接入总部设备的链路且将选择的链路的上行进口确定为该Tunnel接口的源，由于一个Tunnel接口对应于多条链路且可以将链路的接口确定为该Tunnel接口的源，从而，不需要额外的Tunnel接口和额外的公网地址，且动态路由协议的部署不会受到限制。</p>
    <p>[0071]	本领域普通技术人员可以意识到，结合本文中所公开的实施例描述的各示例的单元能够以电子硬件、或者计算机软件和电子硬件的结合来实现。这些功能究竟以硬件还是软件方式来执行，取决于技术方案的特定应用和设计约束条件。专业技术人员可以对每个特定的应用来使用不同方法来实现所描述的功能，但是这种实现不应认为超出本发明的范围。</p>
    <p>[0072]	所属领域的技术人员可以清楚地了解到，为描述的方便和简洁，上述描述的系统、装置和单元的具体工作过程，可以参考前述方法实施例中的对应过程，在此不再赘述。</p>
    <p>[0073]	在本申请所提供的几个实施例中，应该理解到，所揭露的系统、装置和方法，可以通过其它的方式实现。例如，以上所描述的装置实施例仅仅是示意性的，例如，所述单元的划分，仅仅为一种逻辑功能划分，实际实现时可以有另外的划分方式，例如多个单元或组件可以结合或者可以集成到另一个系统，或一些特征可以忽略，或不执行。另一点，所显示或讨论的相互之间的耦合或直接耦合或通信连接可以是通过一些接口，装置或单元的间接耦合或通信连接，可以是电性，机械或其它的形式。</p>
    <p>[0074]	所述作为分离部件说明的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是物理单元。可以根据实际的需要选择其中的部分或者全部单元来实现本实施例方案的目的。[0075]	另外，在本发明各个实施例中的各功能单元可以集成在一个处理单元中，也可以是各个单元单独物理存在，也可以两个或两个以上单元集成在一个单元中。</p>
    <p>[0076]	所述功能如果以软件功能单元的形式实现并作为独立的产品销售或使用时，可以存储在一个计算机可读取存储介质中。基于这样的理解，本发明的技术方案本质上或者说对现有技术做出贡献的部分或者该技术方案的部分可以以软件产品的形式体现出来，该计算机软件产品存储在一个存储介质中，包括若干指令用以使得一台计算机设备(可以是个人计算机，服务器，或者网络设备等）执行本发明各个实施例所述方法的全部或部分步骤。而前述的存储介质包括：U盘、移动硬盘、只读存储器（ROM，Read-Only Memory)、随机存取存储器（RAM, Random Access Memory)、磁盘或者光碟等各种可以存储程序代码的介质。</p>
    <p>[0077]	以上所述，仅为本发明的具体实施方式，但本发明的保护范围并不局限于此，任何  熟悉本技术领域的技术人员在本发明揭露的技术范围内，可轻易想到变化或替换，都应涵盖在本发明的保护范围之内。因此，本发明的保护范围应所述以权利要求的保护范围为准。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1567873A?cl=zh">CN1567873A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2003年7月8日</td><td class="patent-data-table-td patent-date-value">2005年1月19日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种虚拟私有网上的数据传输方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101931610A?cl=zh">CN101931610A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年6月22日</td><td class="patent-data-table-td patent-date-value">2010年12月29日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种互联网协议安全链路保护方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102045233A?cl=zh">CN102045233A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年10月22日</td><td class="patent-data-table-td patent-date-value">2011年5月4日</td><td class="patent-data-table-td ">杭州华三通信技术有限公司</td><td class="patent-data-table-td ">一种网络通信中控制报文转发的方法和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102480753A?cl=zh">CN102480753A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年11月24日</td><td class="patent-data-table-td patent-date-value">2012年5月30日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">链路状态检测方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20030158964">US20030158964</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2002年7月19日</td><td class="patent-data-table-td patent-date-value">2003年8月21日</td><td class="patent-data-table-td ">Naofumi Kobayashi</td><td class="patent-data-table-td ">Upper and lower relays and network system</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=sqKpBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012240000">H04L12/24</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年10月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2015年5月6日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/e52064bd4b5cadfe8cad/CN102739540A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%88%86%E6%94%AF%E6%8E%A5%E5%85%A5%E6%80%BB%E9%83%A8%E7%9A%84%E6%96%B9%E6%B3%95_%E7%B3%BB%E7%BB%9F%E5%92%8C%E5%88%86.pdf?id=sqKpBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0ZXSPX2ukjmQtdJD6pjo6J9aesMA"},"sample_url":"https://www.google.com/patents/reader?id=sqKpBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>