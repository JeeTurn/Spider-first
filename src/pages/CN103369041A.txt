<!DOCTYPE html><html><head><title>专利 CN103369041A - 基于云计算的资源分配方法及装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="基于云计算的资源分配方法及装置"><meta name="DC.contributor" content="何锐邦" scheme="inventor"><meta name="DC.contributor" content="唐会军" scheme="inventor"><meta name="DC.contributor" content="北京奇虎科技有限公司" scheme="assignee"><meta name="DC.contributor" content="奇智软件（北京）有限公司" scheme="assignee"><meta name="DC.date" content="2013-7-9" scheme="dateSubmitted"><meta name="DC.description" content="本发明涉及一种基于云计算的资源分配方法及装置，该方法包括：预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；根据每个用户终端的分值高低确定是否为该用户终端分配资源。该方法能够充分满足某一用户终端较大的临时计算需求。由此解决了现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题，取得了能够充分满足某一用户终端较大的临时计算需求，从而提高集群利用率的有益效果。"><meta name="DC.date" content="2013-10-23"><meta name="DC.relation" content="CN:101938416:A" scheme="references"><meta name="DC.relation" content="CN:102185779:A" scheme="references"><meta name="DC.relation" content="CN:102707995:A" scheme="references"><meta name="DC.relation" content="CN:102917077:A" scheme="references"><meta name="DC.relation" content="CN:103024078:A" scheme="references"><meta name="DC.relation" content="US:20120331152:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:103369041:A"><meta name="citation_patent_application_number" content="CN:201310286568"><link rel="canonical" href="https://www.google.com/patents/CN103369041A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN103369041A?cl=zh"/><meta name="title" content="专利 CN103369041A - 基于云计算的资源分配方法及装置"/><meta name="description" content="本发明涉及一种基于云计算的资源分配方法及装置，该方法包括：预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；根据每个用户终端的分值高低确定是否为该用户终端分配资源。该方法能够充分满足某一用户终端较大的临时计算需求。由此解决了现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题，取得了能够充分满足某一用户终端较大的临时计算需求，从而提高集群利用率的有益效果。"/><meta property="og:title" content="专利 CN103369041A - 基于云计算的资源分配方法及装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN103369041A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN103369041A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=HdHbCAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN103369041A&amp;usg=AFQjCNEvrOX4xUIdjSHnz321nnjuCHEuFA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/cb91b588cbdb7160fd0d/CN103369041A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/cb91b588cbdb7160fd0d/CN103369041A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN103369041A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN103369041A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN103369041A?cl=zh" style="display:none"><span itemprop="description">本发明涉及一种基于云计算的资源分配方法及装置，该方法包括：预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算每个用户终端的额定资源...</span><span itemprop="url">https://www.google.com/patents/CN103369041A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN103369041A - 基于云计算的资源分配方法及装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN103369041A - 基于云计算的资源分配方法及装置" title="专利 CN103369041A - 基于云计算的资源分配方法及装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN103369041 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201310286568</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2013年10月23日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2013年7月9日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2013年7月9日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201310286568.X, </span><span class="patent-bibdata-value">CN 103369041 A, </span><span class="patent-bibdata-value">CN 103369041A, </span><span class="patent-bibdata-value">CN 201310286568, </span><span class="patent-bibdata-value">CN-A-103369041, </span><span class="patent-bibdata-value">CN103369041 A, </span><span class="patent-bibdata-value">CN103369041A, </span><span class="patent-bibdata-value">CN201310286568, </span><span class="patent-bibdata-value">CN201310286568.X</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BD%95%E9%94%90%E9%82%A6%22">何锐邦</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%94%90%E4%BC%9A%E5%86%9B%22">唐会军</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E5%A5%87%E8%99%8E%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">北京奇虎科技有限公司</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%A5%87%E6%99%BA%E8%BD%AF%E4%BB%B6%EF%BC%88%E5%8C%97%E4%BA%AC%EF%BC%89%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">奇智软件（北京）有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN103369041A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103369041A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103369041A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (2)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=HdHbCAABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201310286568&amp;usg=AFQjCNHOoeTjnv-qB-bd7jsbrvVFj2Ya8w"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=HdHbCAABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D103369041A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNELs2QUxAwkIc9ArZ4hZ0664kPxqg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT131022982" lang="ZH" load-source="patent-office">基于云计算的资源分配方法及装置</invention-title>
      </span><br><span class="patent-number">CN 103369041 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA125151395" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明涉及一种基于云计算的资源分配方法及装置，该方法包括：预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；根据每个用户终端的分值高低确定是否为该用户终端分配资源。该方法能够充分满足某一用户终端较大的临时计算需求。由此解决了现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题，取得了能够充分满足某一用户终端较大的临时计算需求，从而提高集群利用率的有益效果。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><div mxw-id="PCLM56577104" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.一种基于云计算的资源分配方法，包括:  预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，所述最大资源占用量为额定资源占用量的预设倍数；  计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；  根据每个用户终端的分值高低确定是否为该用户终端分配资源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的方法，其中，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求2所述的方法，其中，所述根据每个用户终端的分值高低确定是否为该用户终端分配资源具体包括:  当系统资源不足以满足当前所有用户终端的资源请求时，按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求1所述的方法，其中，所述预先为每个用户终端设置该用户终端的额定资源占用量进一步包括:  根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数；  将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量；   其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求4所述的方法，其中，所述将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端时，根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小，  和/或，在每个类别中为各个用户终端设置额定资源占用量时，根据每个用户终端的优先级来确定额定资源占用量的大小。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.一种基于云计算的资源分配装置，包括:  设置单元，适于预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，所述最大资源占用量为额定资源占用量的预设倍数；  计算存储单元，适于计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；  分配单元，适于根据每个用户终端的分值高低确定是否为该用户终端分配资源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求6所述的装置，其中，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求7所述的装置，其中，所述分配单元适于:当系统资源不足以满足当前所有用户终端的资源请求时，按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求6所述的装置，其中，所述设置单元进一步包括:  第一划分子单元，适于根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数；  第二划分子单元，适于将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量；其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求9所述的装置，其中，所述第一划分子单元根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小，  和/或，所述第二划分子单元根据每个用户终端的优先级来确定额定资源占用量的大小。`</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES63559789" lang="ZH" load-source="patent-office" class="description">
    <p>基于云计算的资源分配方法及装置技术领域</p>
    <p>[0001]	本发明涉及网络通信技术领域，具体涉及一种基于云计算的资源分配方法及装置。</p>
    <p>背景技术</p>
    <p>[0002]目前，在云计算平台中，需要将系统资源按照一定的规则分配给各个用户终端，每个用户终端在分配的资源限度内提交作业请求。在常见的资源分配方法中，根据每个用户所对应的用户终端的重要性，为每个用户终端赋予不同的资源最大占用权重。所有用户终端的资源最大占用权重之和占系统资源的100%，即整个集群的所有资源。</p>
    <p>[0003]	当每个用户终端提交作业的时候，该用户终端同时运行的所有作业占用的资源总和不能超过他的资源最大占用权重，否则该平台将拒绝超出该限制的作业的执行。例如，假设平台共有1000个计算节点，某个用户的资源最大占用权重为20%，即最多200个计算节点。当前他提交的所有作业占用的计算节点总和为190，如果他新提交的作业需要使用20个节点，则此作业会被拒绝执行；如果他新提交的作业只需要使用10个节点，则该作业仍然会被执行。</p>
    <p>[0004]	这样的资源分配方式虽然能够在一定程度上满足用户的需求，但是，当某个用户的临时计算需求非常大，而其他用户在此时间段却没有什么计算任务时，由于需求量大的用户严格受限于他的资源占用权重，因此，该用户的作业不能利用其他用户的空闲资源进行计算，这样就造成了资源的浪费，使得集群的利用率较低。</p>
    <p>发明内容</p>
    <p> [0005]	鉴于上述问题，提出了本发明以便提供一种克服上述问题或者至少部分地解决上述问题的基于云计算的资源分配方法及装置。</p>
    <p>[0006]	依据本发明的一个方面，提供了一种基于云计算的资源分配方法，包括:预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；根据每个用户终端的分值高低确定是否为该用户终端分配资源。</p>
    <p>[0007]	可选的，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。</p>
    <p>[0008]	可选的，根据每个用户终端的分值高低确定是否为该用户终端分配资源具体包括:当系统资源不足以满足当前所有用户终端的资源请求时，按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。</p>
    <p>[0009]	可选的，预先为每个用户终端设置该用户终端的额定资源占用量进一步包括:根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数；将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量；其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量。</p>
    <p>[0010]	可选的，将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端时，根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小，和/或，在每个类别中为各个用户终端设置额定资源占用量时，根据每个用户终端的优先级来确定额定资源占用量的大小。</p>
    <p>[0011]	可选的，计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，将该差值确定并存储为该用户终端的分值的步骤具体包括:每隔预设的时间间隔计算每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，将该差值更新并存储为该用户终端的当前分值。</p>
    <p>[0012]	依据本发明的另一方面，提供了一种基于云计算的资源分配装置，包括:设置单元，适于预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数；计算存储单元，适于计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值；分配单元，适于根据每个用户终端的分值高低确定是否为该用户终端分配资源。</p>
    <p>[0013]	可选的，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。</p>
    <p>[0014]	可选的，分配单元适于:当系统资源不足以满足当前所有用户终端的资源请求时，按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。</p>
    <p>[0015]	可选的，设置单元进一步包括:第一划分子单元，适于根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数；第二划分子单元，适于将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量；其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量。</p>
    <p>[0016]	可选的，第一划分子单元根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小，和/或，第二划分子单元根据每个用户终端的优先级来确定额定资源占用量的大小。</p>
    <p>[0017]	可选的，计算存储单元具体适于:每隔预设的时间间隔计算每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，将该差值更新并存储为该用户终端的当前分值。</p>
    <p>[0018]	在本发明提供的基于云计算的资源分配方法及装置中，为每个用户终端设置额定资源占用量和最大资源占用量。由于每个用户终端实际允许使用的最大资源占用量高于该用户终端的额定资源占用量，从而在其他用户终端没有提交太多的计算任务时，能够充分满足某一用户终端较大的临时计算需求。由此解决了现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题，取得了能够充分满足某一用户终端较大的临时计算需求，从而提高集群利用率的有益效果。另外，在本发明提供的基于云计算的资源分配方法及装置中，还根据额定资源占用量与实际资源占用量之间的差值来确定用户终端的分值，并据此确定是否为用户终端分配资源，从而可以在整个资源分配过程中更加公平地为用户终端分配资源。</p>
    <p>[0019]	上述说明仅是本发明技术方案的概述，为了能够更清楚了解本发明的技术手段，而可依照说明书的内容予以实施，并且为了让本发明的上述和其它目的、特征和优点能够更明显易懂，以下特举本发明的具体实施方式。</p>
    <p>附图说明</p>
    <p>[0020]	通过阅读下文优选实施方式的详细描述，各种其他的优点和益处对于本领域普通技术人员将变得清楚明了。附图仅用于示出优选实施方式的目的，而并不认为是对本发明的限制。而且在整个附图中，用相同的参考符号表示相同的部件。在附图中:</p>
    <p>[0021]	图1示出了根据本发明实施例提供的基于云计算的资源分配方法的流程图；以及</p>
    <p>[0022]	图2示出了根据本发明实施例提供的基于云计算的资源分配装置的结构图。</p>
    <p>具体实施方式</p>
    <p>[0023]	下面将参照附图更详细地描述本公开的示例性实施例。虽然附图中显示了本公开的示例性实施例，然而应当理解，可以以各种形式实现本公开而不应被这里阐述的实施例所限制。相反，提供这些实施例是为了能够更透彻地理解本公开，并且能够将本公开的范围完整的传达给本领域的技术人员。</p>
    <p>[0024]	本发明实施例提供了一种基于云计算的资源分配方法及装置，用以解决现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题。</p>
    <p>[0025]	图1示出了本发明提供的基于云计算的资源分配方法的流程图。如图1所示，该资源分配方法起始于步骤S110，在步骤SllO中，预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数。</p>
    <p>[0026]	具体地，在步骤SllO中，为每个用户终端设置该用户终端的额定资源占用量时，可以通过多种方式来设置，主要的设置方式包括下述两种:</p>
    <p>[0027]	在第一种设置方式中，将全部系统资源直接分配给系统中的所有用户终端。在具体分配时，又可以采取多种分配方式，例如，可以为系统中的每个用户终端平均分配额定资源占用量:假设系统中一共有10个用户终端，每个用户终端通过唯一的标识信息(例如，帐户名)进行标识，且系统资源中一共有1000个计算节点，这时，可以为每个用户终端平均分配100个计算节点，作为每个用户终端的额定资源占用量。或者，也可以根据用户终端的重要程度为每个用户终端分配不同的额定资源占用量，例如，同样假设系统中一共有10个用户终端，且系统资源中一共有1000个计算节点，这时，可以预先根据用户终端的重要程度为其设定优先级，例如，可以设置部门主管所使用的用户终端的优先级高于该部门其他职员的用户终端的优先级。相应地，可以为部门主管所使用的用户终端分配较多的额定资源占用量，例如300个计算节点，然后，将剩余的700个节点大致平均地分配给其他的九名职员所使用的用户终端。</p>
    <p>[0028]	一般情况下，第一种设置方式足以满足各个用户终端的需求。但是，由于第一种设置方式是直接对全部系统资源进行分配的，存在着资源划分粒度扁平的特点，由此导致在一些特殊情况下不能充分地满足各个用户终端的需求:例如，当云计算平台应用于具备多个部门的大型公司时，各个部门要共同使用云计算平台中的系统资源，这时，如果直接将全部系统资源分配给系统中的所有用户终端，不仅分配过程耗时较多，而且由于这些用户终端分属于不同的部门，而不同部门的两个用户终端之间很难区分出哪个用户终端的重要性更高，因此，很难合理地为各部门中的各个用户终端分配额定资源占用量。对此，本发明还提出了第二种设置方式:</p>
    <p>[0029]	在第二种设置方式中，并不是将全部系统资源直接地分配给系统中的所有用户终端，而是首先，根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数。例如，用户终端的类型标识可以是用于标识用户终端所属部门的信息，相应的，用户终端的类别数与部门数相等。然后，将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量。</p>
    <p>[0030]	下面举例说明一下第二种设置方式的具体实现细节。假设云计算平台的系统资源中一共有10000个计算节点，且该平台应用于具备五个部门的大型公司，这五个部门分别是部门A、部门B、部门C、部门D和部门E。为了更加合理地为各个部门中的用户终端分配额定资源占用量，首先，将系统中的全部用户终端根据用于标识用户终端所属部门的类型标识划分为五个类别，具体地，部门A中的用户终端为第一个类别，部门B中的用户终端为第二个类别，部门C中的用户终端为第三个类别，部门D中的用户终端为第四个类别，部门E中的用户终端为第五个类别。然后，将全部系统资源(即10000个计算节点)划分为五个子资源，将每个子资源对应分配给各个类别的用户终端。具体地，在划分并分配子资源时，可以根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小。例如，假设第一个类别所对应的部门A在公司的业务发展中占据着举足轻重的地位，且部门A的用户终端数也最多，因此，需要为第一个类别分配最多的子资源，例如3500个计算节点，这些计算节点也可以通过权重值来表示，例如相应的权重值为35%;假设第二个类别所对应的部门B中的用户终端数仅次于部门A，因此，可以为第二个类别也分配较多的子资源，例如3000个计算节点，这些计算节点也可以通过权重值来表示，例如相应的权重值为30%。然后，可以将剩余的3500个计算节点大致平均地分配给其余的三个类别。可以看出，所有子资源之和等于系统资源的总量。除了根据优先级和/或用户终端数来决定对应的子资源大小外，还可以综合根据其他因素来决定。为每个类别的用户终端分配好对应的子资源之后，进一步地为每个类别中的各个用户终端设置额定资源占用量，其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量(例如，第一个类别中的全部用户终端的额定资源占用量之和为3500个计算节点，第二个类别中的全部用户终端的额定资源占用量之和为3000个计算节点.....)。具体地，在每个类别中为各个用户终端设置额定资源占用量时，既可以根据每个用户终端的优先级来确定额定资源占用量的大小，或者，也可以为每个用户终端都设置相等的额定资源占用量。在根据每个用户终端的优先级来确定额定资源占用量的大小时，假设第一个类别中共有100个用户终端，假设用户终端A的优先级最高，则可以为用户终端A分配最多的计算节点，例如350个计算节点，这350个计算节点在对应的总量大小为3500个计算节点的子资源中所占用的权重值相应地为10%，假设剩余的99个用户终端的优先级相等，则可以将剩余的3150 (3500-350=3150)个计算节点平均分配给剩余的99个用户终端。</p>
    <p>[0031]	第二种设置方式的主要特点在于，根据用户终端的特点，将用户终端划分为多个类别，相应的，将全部系统资源也对应划分为多个子资源，然后，为每个类别的用户终端分配资源时，只需在该类别所对应的子资源的范围内进行分配即可，由此避免了难以衡量不同部门间的两个用户终端的重要程度的问题，使得资源划分方式更加灵活。第二种设置方式也可以称作分层次划分方式，即将系统资源划分出两个层次(全体系统资源作为第一个层次，各个子资源作为第二个层次)。在实际情况中，还可以进一步将系统资源划分为更多的层次，例如，在部门内部又细分为多个小组的情况下，还可以相应的将每个子资源进一步细分为多个资源块，将各个资源块对应分配给各个小组，以满足部门内部细化的需求。</p>
    <p>[0032]	在上述两种设置方式中所设置的额定资源占用量规定了对应的用户终端所能够使用的额定资源上限。通常情况下，所有的用户终端的额定资源占用量之和等于系统资源的总量。</p>
    <p>[0033]	另外，在本发明中，为了能够更加灵活地利用系统资源，规定每个用户终端能够使用的最大资源占用量可以适当地超出该用户终端的额定资源占用量。为此，还需要设置每个用户终端的最大资源占用量，用于限制该用户终端实际能够使用的资源上限。例如，可以将每个用户终端的最大资源占用量设置为该用户终端的额定资源占用量的预设倍数。在本实施例中，以预设倍数为2为例进行描述，因此，对于额定资源占用量为100个计算节点的用户终端，其最大资源占用量为200个计算节点。另外，该预设倍数的具体取值还可以根据实际情况取其他数值，例如取1.3或1.5等，本发明对此不作限定。</p>
    <p>[0034]	设置好上述的额定资源占用量和最大资源占用量之后，在步骤S120中，计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值。具体地，可以每隔预设的时间间隔计算一次每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，并将该差值更新并存储为该用户终端的当前分值。为了能够更加精确地反映当前的资源占用情况，也可以将该预设的时间间隔设置得足够小，以实现近似实时计算的效果。</p>
    <p>[0035]	下面详细介绍一下步骤S120的具体过程:</p>
    <p>[0036]	首先，在初始阶段，各个用户终端都还没有提交作业，因此，也就没有占用系统资源。这时，每个用户终端的实际资源占用量为0，因此，每个用户终端的额定资源占用量与实际资源占用量之间的差值实际上就是该用户终端的额定资源占用量。所以，对于额定资源占用量为100个计算节点的用户终端来说，该用户终端在初始阶段的初始分值为100 ;同理，对于额定资源占用量为300个计算节点的用户终端来说，该用户终端在初始阶段的初始分值为300。假设共有5个用户终端，每个用户终端的额定资源占用量、最大资源占用量、实际资源占用量和初始分值如表I所示。</p>
    <p>[0037]表	I</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103369041A/CN103369041AD00091.png"> <img id="idf0001" file="CN103369041AD00091.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103369041A/CN103369041AD00091.png" class="patent-full-image" alt="Figure CN103369041AD00091"> </a> </div>
    <p>[0039]	接下来，各个用户终端开始陆续提交作业，每当一个用户终端准备提交一个作业之前，都需要预估该作业执行时所需的系统资源，然后，发送资源请求以便为该作业申请相应的资源。当云计算平台接收到该资源请求后，首先需要判断该资源请求中所申请的资源大小与该用户终端当前占用的资源大小之和是否超出该用户终端的最大资源占用量，如果不超出，则为该用户终端分配相应的资源；如果超出，则拒绝为其分配资源。例如，假设用户终端I提交了一个要求申请400个节点的资源请求，且用户终端I当前占用的节点数为0，因此，该资源请求中所申请的资源大小(400)与该用户终端当前占用的资源大小(O)之和(400)没有超出该用户终端的最大资源占用量(600)，所以，云计算平台同意用户终端I的资源请求，为其分配400个节点的系统资源。相应地，云计算平台计算出用户终端I的额定资源占用量(300)与该用户终端的实际资源占用量(400)之间的差值(-100)，将该差值(-100)更新并存储为用户终端I的当前分值。这里要说明的一点是，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。因此，此时用户终端I的分值为负数。</p>
    <p>[0040]	基于同样的道理，当其他用户终端发送资源请求后，也可以按照上述方式计算出其他用户终端的当前分值。其中，由于各个用户终端会不断地提交新的作业，申请新的资源，且之前提交的作业完成后也会释放出相应的资源，因此，各个用户终端的当前分值是动态变化的。假设若干时间之后，这5个用户终端的当前分值如表2所示。</p>
    <p>[0041]表	2</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN103369041A/CN103369041AD00101.png"> <img id="idf0002" file="CN103369041AD00101.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN103369041A/CN103369041AD00101.png" class="patent-full-image" alt="Figure CN103369041AD00101"> </a> </div>
    <p>[0044]	获得各个用户终端的分值之后，在步骤S130中，根据每个用户终端的分值高低确定是否为该用户终端分配资源。</p>
    <p>[0045]	其中，可以采取如下方式来为用户终端分配资源:当系统资源足以满足当前所有用户终端的资源请求时，每个用户终端无论其当前分值如何，都可以在其对应的最大资源占用量的范围内申请系统资源。但是，当系统资源不足以满足当前所有用户终端的资源请求时，则按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。</p>
    <p>[0046]	具体地，根据表2可以看出，这5个用户终端所能够使用的系统资源的总量为700个计算节点，当前实际使用了 680个计算节点。</p>
    <p>[0047]	然后，在后续过程中，可能会出现两种情况。在第一种情况中，假设只有用户终端I又提交了一个请求10个节点的资源请求，由于系统资源此时还能够满足当前所有用户终端的资源请求，而且，用户终端I此时实际的资源占用量(400)加上本次资源请求所请求的资源量(10)之后的结果并未超出用户终端I的最大资源占用量，因此，用户终端I的资源请求将会得到满足。</p>
    <p>[0048]	但是，在第二种情况中，假设在用户终端I又提交了一个请求10个节点的资源请求的同时，用户终端2也提交了一个请求20个节点的资源请求，由于系统资源中只有20个节点空闲，因此，无法同时满足这两个用户终端的请求，此时，云计算平台会按照分值高低的顺序优先满足分值高的用户终端2的资源请求，并拒绝分值为负数的用户终端I的资源请求。</p>
    <p>[0049]	由此可见，当系统资源不足时，分值低的用户终端，尤其是分值为负数的用户终端，由于之前占用了过多的系统资源，因此将会受到不予分配资源的“惩罚”。</p>
    <p>[0050]	本发明实质上是根据额定资源占用量和实际资源占用量计算出分值后，根据分值对所有的用户终端进行排序，分值最高的排在最前面，分值最低的排在最后面，当系统资源不足时，则会优先为分值高的用户终端分配资源。由此可见，因为每个用户终端能够使用的最大资源占用量大于其额定资源占用量，因此，当系统资源充足的时候，用户终端不必受限于其额定资源占用量，而可以适当的多利用一些空闲资源，以避免空闲资源的过度浪费&#8226;’另夕卜，当系统资源不足时，又可以根据用户终端占用资源的情况来决定是否为其分配资源，这样，之前占用资源过多的用户终端会受到“惩罚”，以满足公平性的原则。[0051]另外，在本发明实施例中，直接以节点数作为系统资源的计算单位，但是，在实际情况中，由于不断有新的作业申请到新的资源，也不断有完成后的作业释放出一定的资源，导致用户终端并不是持续地占用固定数量的节点，而是在时间段Tl内占用数量为NI的节点，在时间段T2内则占用数量为N2的节点，因此，为了能够更加准确地描述出用户终端对资源的占用情况，也可以以“节点X小时”为单位来描述系统资源，例如，假设系统中一共有1000个节点，按照监控周期为一天来计算，由于一天共有24个小时，因此，一天内共有系统资源1000X24 (节点X小时)，假设某个用户终端在两个小时内占用了 10个节点，则其在这两个小时内占用的系统资源为20 (节点X小时)。相应地，在上述的步骤S120中也可以采用“节点X小时”为单位来计算用户终端对应的额定资源占用量、最大资源占用量和实际资源占用量等，以便能够更加全面准确地描述出用户终端的资源占用情况。</p>
    <p>[0052]	图2示出了本发明提供的基于云计算的资源分配装置的结构图。如图2所示，该资源分配装置200包括设置单元21、计算存储单元22和分配单元23。</p>
    <p>[0053]	其中，设置单元21预先为每个用户终端设置该用户终端的额定资源占用量以及最大资源占用量，其中，最大资源占用量为额定资源占用量的预设倍数。具体地，设置单元21在设置额定资源占用量时，可以通过两种方式进行设置:</p>
    <p>[0054]	在第一种设置方式中，将全部系统资源直接分配给系统中的所有用户终端。在具体分配时，又可以采取多种分配方式，例如，可以为系统中的每个用户终端平均分配额定资源占用量:假设系统中一共有10个用户终端，每个用户终端通过唯一的标识信息(例如，帐户名)进行标识，且系统资源中一共有1000个计算节点，这时，可以为每个用户终端平均分配100个计算节点，作为每个用户终端的额定资源占用量。或者，也可以根据用户终端的重要程度为每个用户终端分配不同的额定资源占用量，例如，同样假设系统中一共有10个用户终端，且系统资源中一共有1000个计算节点，这时，可以预先根据用户终端的重要程度为其设定优先级，例如，可以设置部门主管所使用的用户终端的优先级高于该部门其他职员的用户终端的优先级。相应地，可以为部门主管所使用的用户终端分配较多的额定资源占用量，例如300个计算节点，然后，将剩余的700个节点大致平均地分配给其他的九名职员所使用的用户终端。</p>
    <p>[0055]	在第二种设置方式中，设置单元21进一步包括:第一划分子单元，适于根据用户终端的类型标识将所有的用户终端划分为N个类别，其中，N为自然数；第二划分子单元，适于将全部系统资源划分为N个子资源，将每个子资源对应分配给各个类别的用户终端，并进一步为每个类别中的各个用户终端设置额定资源占用量；其中，在每个类别中，为各个用户终端设置的额定资源占用量之和等于分配给该类别的用户终端的子资源的总量。其中，第一划分子单元根据每个类别的优先级和/或每个类别中的用户终端数来确定分配给该类别的用户终端的子资源的总量大小，和/或，第二划分子单元根据每个用户终端的优先级来确定额定资源占用量的大小。关于第二种设置方式的具体细节可参照方法实施例中相应部分的描述，此处不再赘述。</p>
    <p>[0056]	设置单元21设置的额定资源占用量规定了对应的用户终端所能够使用的额定资源上限。通常情况下，所有的用户终端的额定资源占用量之和等于系统资源的总量。另外，为了能够更加灵活地利用系统资源，规定每个用户终端能够使用的最大资源占用量可以适当地超出该用户终端的额定资源占用量。为此，设置单元21还需要设置每个用户终端的最大资源占用量，用于限制该用户终端实际能够使用的资源上限。例如，可以将每个用户终端的最大资源占用量设置为该用户终端的额定资源占用量的预设倍数。在本实施例中，以预设倍数为2为例进行描述，因此，对于额定资源占用量为100个计算节点的用户终端，其最大资源占用量为200个计算节点。另外，该预设倍数的具体取值还可以根据实际情况取其他数值，例如取1.3或1.5等，本发明对此不作限定。</p>
    <p>[0057]	计算存储单元22计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值。具体地，当用户终端的额定资源占用量大于该用户终端的实际资源占用量时，该用户终端的分值为正数；当用户终端的额定资源占用量小于该用户终端的实际资源占用量时，该用户终端的分值为负数。</p>
    <p>[0058]	上述计算存储单元22可以每隔预设的时间间隔计算每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，将该差值更新并存储为该用户终端的当前分值。为了能够更加精确地反映当前的资源占用情况，也可以将该预设的时间间隔设置得足够小，以实现近似实时计算的效果。关于计算存储单元22的具体工作过程可参照方法实施例中步骤S120中的描述，此处不再赘述。</p>
    <p>[0059]	分配单元23根据每个用户终端的分值高低确定是否为该用户终端分配资源。具体地，分配单元23适于当系统资源不足以满足当前所有用户终端的资源请求时，按照分值高低的顺序优先满足分值高的用户终端的资源请求，和/或拒绝分值为负数的用户终端的资源请求。关于分配单元23的具体工作过程可参照方法实施例中步骤S130中的描述，此处不再赘述。</p>
    <p>[0060]	在本发明提供的基于云计算的资源分配方法及装置中，为每个用户终端设置额定资源占用量和最大资源占用量。由于每个用户终端实际允许使用的最大资源占用量高于该用户终端的额定资源占用量，从而在其他用户终端没有提交太多的计算任务时，能够充分满足某一用户终端较大的临时计算需求。由此解决了现有技术中用户终端不能利用其他用户终端的空闲资源进行计算，从而造成资源浪费的问题，取得了能够充分满足某一用户终端较大的临时计算需求，从而提高集群利用率的有益效果。另外，在本发明提供的基于云计算的资源分配方法及装置中，还根据额定资源占用量与实际资源占用量之间的差值来确定用户终端的分值，并据此确定是否为用户终端分配资源，从而可以在整个资源分配过程中更加公平地为用户终端分配资源。</p>
    <p>[0061]	A6、如A1-5任一所述的方法，其中，所述计算每个用户终端的额定资源占用量与该用户终端的实际资源占用量之间的差值，并根据该差值确定该用户终端的分值的步骤具体包括:每隔预设的时间间隔计算每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，将该差值更新并存储为该用户终端的当前分值。B12、如B7-11任一所述的装置，其中，所述计算存储单元具体适于:每隔预设的时间间隔计算每个用户终端的额定资源占用量与该用户终端的当前实际资源占用量之间的差值，将该差值更新并存储为该用户终端的当前分值。</p>
    <p>[0062]	在此提供的算法和显示不与任何特定计算机、虚拟系统或者其它设备固有相关。各种通用系统也可以与基于在此的示教一起使用。根据上面的描述，构造这类系统所要求的结构是显而易见的。此外，本发明也不针对任何特定编程语言。应当明白，可以利用各种编程语言实现在此描述的本发明的内容，并且上面对特定语言所做的描述是为了披露本发明的最佳实施方式。</p>
    <p>[0063]	在此处所提供的说明书中，说明了大量具体细节。然而，能够理解，本发明的实施例可以在没有这些具体细节的情况下实践。在一些实例中，并未详细示出公知的方法、结构和技术，以便不模糊对本说明书的理解。</p>
    <p>[0064]	类似地，应当理解，为了精简本公开并帮助理解各个发明方面中的一个或多个，在上面对本发明的示例性实施例的描述中，本发明的各个特征有时被一起分组到单个实施例、图、或者对其的描述中。然而，并不应将该公开的方法解释成反映如下意图:即所要求保护的本发明要求比在每个权利要求中所明确记载的特征更多的特征。更确切地说，如下面的权利要求书所反映的那样，发明方面在于少于前面公开的单个实施例的所有特征。因此，遵循具体实施方式的权利要求书由此明确地并入该具体实施方式，其中每个权利要求本身都作为本发明的单独实施例。</p>
    <p>[0065]	本领域那些技术人员可以理解，可以对实施例中的设备中的模块进行自适应性地改变并且把它们设置在与该实施例不同的一个或多个设备中。可以把实施例中的模块或单元或组件组合成一个模块或单元或组件，以及此外可以把它们分成多个子模块或子单元或子组件。除了这样的特征和/或过程或者单元中的至少一些是相互排斥之外，可以采用任何组合对本说明书(包括伴随的权利要求、摘要和附图)中公开的所有特征以及如此公开的任何方法或者设备的所有过程或单元进行组合。除非另外明确陈述，本说明书(包括伴随的权利要求、摘要和附图)中公开的每个特征可以由提供相同、等同或相似目的的替代特征来代替。</p>
    <p>[0066]	此外，本领域的技术人员能够理解，尽管在此所述的一些实施例包括其它实施例中所包括的某些特征而不是其它特征，但是不同实施例的特征的组合意味着处于本发明的范围之内并且形成不同的实施例。例如，在下面的权利要求书中，所要求保护的实施例的任意之一都可以以任意的组合方式来使用。</p>
    <p>[0067]	本发明的各个部件实施例可以以硬件实现，或者以在一个或者多个处理器上运行的软件模块实现，或者以它们的组合实现。本领域的技术人员应当理解，可以在实践中使用微处理器或者数字信号处理器(DSP )来实现根据本发明实施例的装置中的一些或者全部部件的一些或者全部功能。本发明还可以实现为用于执行这里所描述的方法的一部分或者全部的设备或者装置程序(例如，计算机程序和计算机程序产品)。这样的实现本发明的程序可以存储在计算机可读介质上，或者可以具有一个或者多个信号的形式。这样的信号可以从因特网网站上下载得到，或者在载体信号上提供，或者以任何其他形式提供。</p>
    <p>[0068]	应该注意的是上述实施例对本发明进行说明而不是对本发明进行限制，并且本领域技术人员在不脱离所附权利要求的范围的情况下可设计出替换实施例。在权利要求中，不应将位于括号之间的任何参考符号构造成对权利要求的限制。单词“包含”不排除存在未列在权利要求中的元件或步骤。位于元件之前的单词“一”或“一个”不排除存在多个这样的元件。本发明可以借助于包括有若干不同元件的硬件以及借助于适当编程的计算机来实现。在列举了若干装置的单元权利要求中，这些装置中的若干个可以是通过同一个硬件项来具体体现。单词第一、第二、以及第三等的使用不表示任何顺序。可将这些单词解释为名称。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101938416A?cl=zh">CN101938416A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月1日</td><td class="patent-data-table-td patent-date-value">2011年1月5日</td><td class="patent-data-table-td ">华南理工大学</td><td class="patent-data-table-td ">一种基于动态重配置虚拟资源的云计算资源调度方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102185779A?cl=zh">CN102185779A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年5月11日</td><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">田文洪</td><td class="patent-data-table-td ">与综合配置能力成比例的数据中心资源负载均衡的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102707995A?cl=zh">CN102707995A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月11日</td><td class="patent-data-table-td patent-date-value">2012年10月3日</td><td class="patent-data-table-td ">冉雨</td><td class="patent-data-table-td ">基于云计算环境的业务调度的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102917077A?cl=zh">CN102917077A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月20日</td><td class="patent-data-table-td patent-date-value">2013年2月6日</td><td class="patent-data-table-td ">无锡城市云计算中心有限公司</td><td class="patent-data-table-td ">云计算系统中的资源分配方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103024078A?cl=zh">CN103024078A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月31日</td><td class="patent-data-table-td patent-date-value">2013年4月3日</td><td class="patent-data-table-td ">无锡城市云计算中心有限公司</td><td class="patent-data-table-td ">云计算环境下的资源分配方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20120331152">US20120331152</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value">2012年12月27日</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Dynamic resource allocation method, system, and program</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=HdHbCAABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2013年10月23日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年11月20日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/cb91b588cbdb7160fd0d/CN103369041A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9F%BA%E4%BA%8E%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9A%84%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E6%96%B9%E6%B3%95%E5%8F%8A.pdf?id=HdHbCAABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0NO0KlW9Qfl-QZrbaDmOur1VjZ9w"},"sample_url":"https://www.google.com/patents/reader?id=HdHbCAABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>