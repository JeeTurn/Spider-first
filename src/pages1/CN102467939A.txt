<!DOCTYPE html><html><head><title>专利 CN102467939A - 一种歌曲音频切割装置及方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_1ec17bec5b1e6ba0eab577be28b6afb9/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_1ec17bec5b1e6ba0eab577be28b6afb9__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种歌曲音频切割装置及方法"><meta name="DC.contributor" content="倪雯" scheme="inventor"><meta name="DC.contributor" content="孙武" scheme="inventor"><meta name="DC.contributor" content="赵凌" scheme="inventor"><meta name="DC.contributor" content="邓周辉" scheme="inventor"><meta name="DC.contributor" content="北京彩云在线技术开发有限公司" scheme="assignee"><meta name="DC.date" content="2010-11-4" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种歌曲音频切割装置及方法，该方法包括：获取歌曲音频文件的歌词文本文件；分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。本发明可自动批量识别并切割歌曲音频文件的高潮部分，保证较高的歌曲高潮识别的准确度。"><meta name="DC.date" content="2012-5-23"><meta name="DC.relation" content="CN:100461168" scheme="references"><meta name="DC.relation" content="CN:101546587:A" scheme="references"><meta name="DC.relation" content="CN:101587708:A" scheme="references"><meta name="DC.relation" content="CN:1878217:A" scheme="references"><meta name="DC.relation" content="KR:100696876" scheme="references"><meta name="DC.relation" content="TW:201020962" scheme="references"><meta name="citation_patent_publication_number" content="CN:102467939:A"><meta name="citation_patent_application_number" content="CN:201010531964"><link rel="canonical" href="https://www.google.com/patents/CN102467939A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102467939A?cl=zh"/><meta name="title" content="专利 CN102467939A - 一种歌曲音频切割装置及方法"/><meta name="description" content="本发明公开了一种歌曲音频切割装置及方法，该方法包括：获取歌曲音频文件的歌词文本文件；分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。本发明可自动批量识别并切割歌曲音频文件的高潮部分，保证较高的歌曲高潮识别的准确度。"/><meta property="og:title" content="专利 CN102467939A - 一种歌曲音频切割装置及方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?hl=zh-CN&tbm=isch&source=og&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?hl=zh-CN&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?hl=zh-CN&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102467939A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102467939A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102467939A&amp;usg=AFQjCNHhnMgHaqQVveFNtOV3J8N3JALrWw" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/c3e965d77c244d07e57d/CN102467939A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/c3e965d77c244d07e57d/CN102467939A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102467939A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102467939A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102467939A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102467939B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102467939A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种歌曲音频切割装置及方法，该方法包括：获取歌曲音频文件的歌词文本文件；分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；针对该候选集合中的重复...</span><span itemprop="url">https://www.google.com/patents/CN102467939A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102467939A - 一种歌曲音频切割装置及方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102467939A - 一种歌曲音频切割装置及方法" title="专利 CN102467939A - 一种歌曲音频切割装置及方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102467939 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010531964</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年5月23日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年11月4日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年11月4日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102467939B?hl=zh-CN&amp;cl=zh">CN102467939B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010531964.0, </span><span class="patent-bibdata-value">CN 102467939 A, </span><span class="patent-bibdata-value">CN 102467939A, </span><span class="patent-bibdata-value">CN 201010531964, </span><span class="patent-bibdata-value">CN-A-102467939, </span><span class="patent-bibdata-value">CN102467939 A, </span><span class="patent-bibdata-value">CN102467939A, </span><span class="patent-bibdata-value">CN201010531964, </span><span class="patent-bibdata-value">CN201010531964.0</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%80%AA%E9%9B%AF%22">倪雯</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AD%99%E6%AD%A6%22">孙武</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B5%B5%E5%87%8C%22">赵凌</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%82%93%E5%91%A8%E8%BE%89%22">邓周辉</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E5%BD%A9%E4%BA%91%E5%9C%A8%E7%BA%BF%E6%8A%80%E6%9C%AF%E5%BC%80%E5%8F%91%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">北京彩云在线技术开发有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102467939A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102467939A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102467939A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010531964&amp;usg=AFQjCNFtnK6wnCg-iZZATCOtFugYIrpQYQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102467939A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFKyyX3fIas0LNKgUwfvbCl-8WkSQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT112956601" lang="ZH" load-source="patent-office">一种歌曲音频切割装置及方法</invention-title>
      </span><br><span class="patent-number">CN 102467939 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA96632602" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种歌曲音频切割装置及方法，该方法包括：获取歌曲音频文件的歌词文本文件；分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。本发明可自动批量识别并切割歌曲音频文件的高潮部分，保证较高的歌曲高潮识别的准确度。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(13)</span></span></div><div class="patent-text"><div mxw-id="PCLM42318755" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种歌曲音频切割方法，其特征在于，包括：步骤一，获取歌曲音频文件的歌词文本文件；步骤二，分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；步骤三，针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；步骤四，根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；步骤五，利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的方法，其特征在于，该步骤一之后还包括：计算该歌词文本文件中的每句歌词的歌唱速度，对于不高于特定速度的歌词，执行步骤二，对于高于该特定速度的歌词，结束；或者，该步骤一之后还包括：计算该歌词文本文件中的每句歌词的歌唱速度，对于高于该特定速度的歌词，判断是否连续出现超过预定句数，对于连续出现超过预定句数的多句歌词， 不执行步骤二，结束，其余歌词执行步骤二。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求1所述的方法，其特征在于，该步骤二之后进一步包括：分析该候选集合中的任意两句重复歌词之间的相似度，对于相似度高于一相似阈值的两句重复歌词，合并其重复程度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求3所述的方法，其特征在于，该合并其重复程度的步骤进一步包括：对于与同一句重复歌词的相似度均高于该相似阈值的多句重复歌词，选择该多句重复歌词的多个相似度中的最大相似度，合并该最大相似度对应的两句重复歌词的重复程度； 或对于与同一句重复歌词的相似度均高于该相似阈值，且包括多个最大相似度的多句重复歌词，计算该最大相似度对应的每对重复歌词的连续公共字符串长度，合并其中最大的连续公共字符串长度对应的两句重复歌词的重复程度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求1-4中任一所述的方法，其特征在于，该步骤二与步骤三之间还包括：对于该重复程度低于该特定阈值的歌词，判断其是否包括歌曲名称，如果包括，将该歌词加入该候选集合；该步骤四还包括：根据每句重复歌词的重复程度、在段落中的位置以及是否包括该歌曲名称，确定该候选集合中的一句歌词作为该切割起始歌词。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求5所述的方法，其特征在于，该步骤三之后进一步包括：计算从每一句重复歌词开始的不同段落间的旋律曲线相似度，和/或，从每一句重复歌词开始的段落的音节长度；该步骤四进一步包括：根据每句重复歌词是否包括该歌曲名称、该旋律曲线相似度、该音节长度中的一种或多种，以及每句重复歌词的重复程度、在段落中的位置，确定该候选集合中的一句重复歌词作为该切割起始歌词。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求1所述的方法，其特征在于，该歌曲切割工具包括mp3Splt。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8.	一种歌曲音频切割装置，其特征在于，包括：数据接口模块，用于获取歌曲音频文件的歌词文本文件；歌词文本文件处理模块，分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合，针对该候选集合中的重复歌词进行分析， 获取其分布位置，连续分布的多句重复歌词组成段落；切割起始点确定模块，根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；歌曲音频文件切割模块，从该切割起始点开始，切割该歌曲音频文件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求8所述的装置，其特征在于，该装置进一步包括一	RAP排除模块，用于计算该歌词文本文件中的每句歌词的歌唱速度，对于高于特定速度的歌词，不传送至该歌词文本文件处理模块，对于不高于该特定速度的歌词，传送至该歌词文本文件处理模块进行处理。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求8所述的装置，其特征在于，该歌词文本文件处理模块进一步包括一相似重复处理模块，用于分析该候选集合中的任意两句重复歌词之间的相似度，对于相似度高于一相似阈值的两句重复歌词，合并其重复程度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.如权利要求10所述的装置，其特征在于，该相似重复处理模块对于与同一句重复歌词的相似度均高于该相似阈值的多句重复歌词，选择该多句重复歌词的多个相似度中的最大相似度，合并该最大相似度对应的两句重复歌词的重复程度；或该相似重复处理模块对于与同一句重复歌词的相似度均高于该相似阈值，且包括多个最大相似度的多句重复歌词，计算该最大相似度对应的每对重复歌词的连续公共字符串长度，合并其中最大的连续公共字符串长度对应的两句重复歌词的重复程度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.如权利要求8-11所述的装置，其特征在于，该歌词文本文件处理模块还包括一歌曲名称判断模块，用于对于该重复程度低于该特定阈值的歌词，判断其是否包括歌曲名称， 如果包括，将该歌词加入该候选集合；同时，该切割起始点确定模块根据每句重复歌词的重复程度、在段落中的位置以及是否包括该歌曲名称，确定该候选集合中的一句歌词作为该切割起始歌词。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求12所述的装置，其特征在于，该装置还包括一旋律判断模块，用于计算从每一句重复歌词开始的不同段落间的旋律曲线相似度，和/或，从每一句重复歌词开始的段落的音节长度；同时，该切割起始点确定模块根据每句重复歌词是否包括该歌曲名称、该旋律曲线相似度、该音节长度中的一种或多种，以及每句重复歌词的重复程度、在段落中的位置，确定该候选集合中的一句重复歌词作为该切割起始歌词。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES47154074" lang="ZH" load-source="patent-office" class="description">
    <p>一种歌曲音频切割装置及方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及音频处理领域，特别是涉及一种歌曲音频切割装置及方法。 背景技术</p>
    <p>[0002]	移动通信终端的软硬件发展十分迅速，为使用者提供各种周边服务以改善用户体验成为产业中的大势所趋。</p>
    <p>[0003]	移动通信终端的铃声服务获得使用者的青睐，今年来市场中对于各种铃声的需求</p>
    <p>量非常巨大。</p>
    <p>[0004]	其中，很大一部分使用者喜欢采用歌曲中的高潮部分作为自己的铃声，以体现自身的喜好与个性。相应的，对于歌曲的高潮部分的准确定位以及切割，成为产业中面临的问题。</p>
    <p>[0005]	现有技术中大多采用人工手动识别的方式。这样的做的优点在于：定位十分准确， 能够符合使用者对一首歌曲的心理预期。但是，其同样存在缺点，人工手动识别的速度慢， 效率低下，无法针对大量的歌曲进行处理。</p>
    <p>发明内容</p>
    <p>[0006]	本发明解决的问题在于，公开一种歌曲音频切割装置及方法，用于针对歌曲音频文件自动识别并切割其高潮部分。</p>
    <p>[0007]	更进一步，可以将切割得到的该高潮部分作为铃声。</p>
    <p>[0008]	更进一步的，本发明可自动对大量歌曲音频文件进行批量的音频文件切割，避免人工识别切割，提高效率。</p>
    <p>[0009]	更进一步的，保证较高的歌曲高潮识别的准确度。</p>
    <p>[0010]	为解决上述问题，本发明公开了一种歌曲音频切割方法，包括：</p>
    <p>[0011]	步骤一，获取歌曲音频文件的歌词文本文件；</p>
    <p>[0012]	步骤二，分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；</p>
    <p>[0013]	步骤三，针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；</p>
    <p>[0014]	步骤四，根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；</p>
    <p>[0015]	步骤五，利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。</p>
    <p>[0016]	本发明还公开了一种歌曲音频切割装置，包括：数据接口模块，用于获取歌曲音频文件的歌词文本文件；歌词文本文件处理模块，分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合，针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；切割起始点确定模块，根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；歌曲音频文件切割模块，从该切割起始点开始，切割该歌曲音频文件。</p>
    <p>[0017]	本发明针对歌曲音频文件自动识别并切割其高潮部分。可以将切割得到的该高潮部分作为铃声。本发明可自动对大量歌曲音频文件进行批量的音频文件切割，避免人工识别切割，提高效率。保证较高的歌曲高潮识别的准确度。</p>
    <p>附图说明</p>
    <p>[0018]	图1所示为本发明的歌曲音频切割装置的结构示意图；</p>
    <p>[0019]	图2所示为本发明歌曲音频切割方法的流程图；</p>
    <p>[0020]	图3所示为本发明的歌曲音频切割装置的结构示意图；</p>
    <p>[0021]	图4A、4B所示为本发明歌曲音频切割方法的流程图；</p>
    <p>[0022]	图5所示为本发明的歌曲音频切割装置的结构示意图；</p>
    <p>[0023]	图6所示为本发明歌曲音频切割方法的流程图；</p>
    <p>[0024]	图7所示为本发明的歌曲音频切割装置的结构示意图；</p>
    <p>[0025]	图8所示为本发明歌曲音频切割方法的流程图；</p>
    <p>[0026]	图9所示为本发明的歌曲音频切割装置的结构示意图；</p>
    <p>[0027]	图10所示为本发明歌曲音频切割方法的流程图。</p>
    <p>具体实施方式</p>
    <p>[0028]	以下通过具体实施例，详细描述本发明的实现过程，以使本领域的技术人员能够据以实现本发明。</p>
    <p>[0029]	本发明用于针对歌曲音频文件自动识别并切割其高潮部分。特别是，可以将切割得到的该高潮部分作为铃声。另外，本发明可自动对大量歌曲音频文件进行批量的音频文件切割，避免因人工识别切割导致速度较低，提高效率。同时，可以保证较高的歌曲高潮识别的准确度。</p>
    <p>[0030]	本领域的技术人员可以知道，歌曲音频文件通常具备对应的歌词文本文件，以Irc 为扩展名的歌词文本文件可以在各类数码播放器中同步显示。LRC歌词是一种包含着“* ： *”形式的“标签（tag)”的、基于纯文本的歌词专用格式。同时，LRC歌词是一种通过编辑器把歌词按歌曲歌词出现的时间编辑成的文件。Irc歌词文本文件中含有两类标签，一是标识标签，主要包含以下预定义的标签：[ar:歌手名]、[ti ：歌曲名]、[al ：专辑名]、 [by:编辑者（指Irc歌词的制作人）]、[offset:时间补偿值]；二是时间标签，形式为 “ [timestampl]……[timestampN] lyric”，时间标签需位于某句歌词中的句首部分。当利用播放器播放该歌曲到达某一时间点时，播放器通常会自动寻找对应的时间标签并显示标签后面的歌词文本，这样就完成了现有技术中“歌词同步”的功能。</p>
    <p>[0031]	本发明基于歌曲高潮部分的歌词通常反复重复的特点，进行高潮部分的识别。高潮部分通常出现段落性的反复重复，即，多句歌词组成的段落会反复的顺序出现。本发明基于该特点，重点识别反复出现的歌词，特别是段落性反复重复的歌词。</p>
    <p>[0032]	以下描述本发明的第一实施例，请参阅图1所示为本发明的歌曲音频切割装置的结构示意图。[0033]	歌曲音频切割装置100包括相互连接的如下模块：数据接口模块11、歌词文本文件处理模块12、切割起始点确定模块13、歌曲音频文件切割模块14。</p>
    <p>[0034]	该数据接口模块11用于获取歌曲音频文件，从中提取歌词文本文件。具体的说， 该数据接口模块11负责读写数据来源装置，该数据来源装置例如为SOng_lib数据库或者其他可以提供歌曲音频文件的装置，从该数据来源装置中提取一歌曲音频文件的歌词文本文件，特别是从中获取每句歌词与时间的对应关系序列。</p>
    <p>[0035]	该数据接口模块11所提取出的歌词文本文件被传送至该歌词文本文件处理模块 12。该歌词文本文件处理模块12包括一完全重复处理模块121，用于分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合。具体的说，完全重复处理模块121扫描该歌词文本文件，寻找完全重复的歌词，并记录同一句歌词的重复次数。例如歌词Iyricl出现了 3次，记录&lt;lyriCl，3&gt;。该重复程度包括歌词的完全重复次数。该完全重复指完全相同一字不差的重复。当某句歌词的重复程度超过特定阈值2时，视为重复歌词，加入一候选集合中。即，该候选集合中均为至少在歌词文本文件中出现了 2次的歌词。该特定阈值可根据需要预先设置，通常为不小于2的整数。</p>
    <p>[0036]	该歌词文本文件处理模块12包括一段落处理模块122。该段落处理模块122用于针对该候选集合中的重复歌词，分析获取其分布位置，连续分布的多句重复歌词组成段落。 例如，该段落处理模块122分析得到歌词a在第2、6句重复出现，歌词b在第3、7、10句重复出现，歌词c在第4、8句重复出现。由于歌词a、b、c在第2、3、4句连续出现，段落处理模块122认定歌词a、b、c组成一个段落A并记录。同时，歌词a、b、c还在第6、7、8句连续出现。即，该段落重复出现。段落处理模块122记录该段落的重复出现。</p>
    <p>[0037]	切割起始点确定模块13用于根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点。具体的说，切割起始点确定模块13针对该候选集合中的每句重复歌词依次进行评分，以选择一切割起始点。在本发明中，认定重复次数多的歌词属于高潮的几率越高，同时，在所属段落中位置越靠前，其为歌曲高潮部分的起始句的可能性越高。切割起始点确定模块13依照以下公式为每句歌词评分：</p>
    <p>[0038]	Scoreli =重复程度一权重1+在所属段落中的位置一权重2	(1)</p>
    <p>[0039]	其中，Scoreli为第i句歌词的最终评分，重复程度i为第i句歌词在歌词文本文件中的重复程度，在所属段落中的位置i为第i句歌词在段落中的位置。在段落中的位置越靠前，“在所属段落中的位置广越大。参数“在所属段落中的位置i”通常大于0，且可通过查表方式获得，即，预先为段落中的每个位置确定一对应的参数值。公式（1)中的各个权重值可根据多次实验统计的结果进行设定。也就是说，重复程度越大，在段落中位置越靠前 (如上例中歌词a比歌词c靠前），Scoreli越大。切割起始点确定模块13选择^oreli最大的一句重复歌词作为高潮的起点，即，作为切割起始歌词，确定该句切割起始歌词的开始时间点，并以该开始时间点作为该歌曲音频文件的切割起始点。如果某句歌词仅仅是重复多次，但是，没有出现在任一段落中，则该句歌词的参数“在所属段落中的位置i”值为0，其被识别为高潮部分的起始点的几率将大为降低。对公式（1)的各种等效变型也在本发明的公开范围内。</p>
    <p>[0040]	更为优化的，为获得更精确的高潮起点，切割起始点确定模块13选择^oreli最大的一句重复歌词所处段落第一次出现时，该句重复歌词对应的时间点作为开始时间点。 详细的说，歌词a在第2、6句都出现，选择歌词a在段落A首次出现时的位置，也就是第2 句对应的时间点，作为开始时间点。</p>
    <p>[0041]	歌曲音频文件切割模块14可通过歌曲切割工具mp3Splt实现，从该开始时间点开始进行切割，可切割一固定时间长度的音频，例如切割48秒的音频文件。或者，歌曲音频文件切割模块14可以从该开始时间点开始切割，到该切割起始歌词所属段落的最后一句结束为止，该切割长度可根据需要而确定，不以此为限。而切割得到的音频文件可以作为手机铃声、彩铃、各种提示音、电影的特定音效等加以利用。</p>
    <p>[0042]	对应上述歌曲音频切割装置，本发明还包括一歌曲音频切割方法，如图2所示为本发明歌曲音频切割方法的流程图。</p>
    <p>[0043]	步骤201，获取歌曲音频文件的歌词文本文件；</p>
    <p>[0044]	步骤202，分析该歌词文本文件中的每句歌词的重复程度，将该重复程度高于一特定阈值的重复歌词加入一候选集合；</p>
    <p>[0045]	步骤203，针对该候选集合中的重复歌词进行分析，获取其分布位置，连续分布的多句重复歌词组成段落；</p>
    <p>[0046]	步骤204，根据每句重复歌词的重复程度以及在段落中的位置，确定一句重复歌词作为切割起始歌词，以该切割起始歌词的开始时间点作为该歌曲音频文件的切割起始点；</p>
    <p>[0047]	步骤205，利用歌曲切割工具从该切割起始点开始，切割该歌曲音频文件。</p>
    <p>[0048]	本发明通过上述的第一实施例，可以自动对大批量的歌曲音频文件进行切割处理，执行的效率高，而且，基于重复歌词的重复程度、段落连续性以及其在所属段落中的位置来识别歌曲高潮起始点的识别准确度高。</p>
    <p>[0049]	以下说明本发明的第二实施例。如图3所示为本发明的歌曲音频切割装置的结构示意图。与图1的基础上，本实施例的歌曲音频切割装置100进一步包括一 RAP排除模块 15。与图1相同部分未做重复说明。</p>
    <p>[0050]	在歌曲中，RAP部分不是歌曲的高潮部分，不能作为高潮被切割。针对歌曲RAP部分通常速度很快，比歌曲其他演唱部分速度快的特点，本发明通过RAP排除模块15对歌曲音频文件中的RAP部分进行直接排除，不对其进行高潮识别的后续步骤，以提高识别效率， 避免不必要的处理能力的浪费。</p>
    <p>[0051]	该数据接口模块11所提取出的歌词文本文件首先传送至该RAP排除模块15。RAP 排除模块15计算该歌词文本文件中的每句歌词的歌唱速度，对于高于特定速度的歌词，不传送至该歌词文本文件处理模块12，对于不高于该特定速度的歌词，传送至该歌词文本文件处理模块12进行后续处理。其中，RAP排除模块15可通过一句歌词的开始时间以及下一句歌词的开始时间的差获得当前歌词的时长，通过歌词字数与时长的比值，获得歌唱速度。 或者，RAP排除模块15根据一句歌词所包括的音节数与时长的比值，获得歌唱速度。</p>
    <p>[0052]	该特定速度为预先设定，为通常情况下说唱RAP的最低阈值。</p>
    <p>[0053]	更为优化的，RAP排除模块15在计算得到多句（例如5句以上或者10句以上，可根据需要设置）连续的歌词的歌唱速度都高于该特定速度，才不传送至该歌词文本文件处理模块12，也就是说，对于零星出现的几句歌词，即使其速度较快，超过该特定速度，也不视为RAP，继续执行歌词文本文件处理模块12的处理。[0054]	如图4A、4B所示为本发明歌曲音频切割方法的流程图。如图4A所示：</p>
    <p>[0055]	在该步骤201之后执行步骤401，计算该歌词文本文件中的每一句歌词的歌唱速度；</p>
    <p>[0056]	步骤402，判断每句歌词的歌唱速度是否高于一特定速度；</p>
    <p>[0057]	步骤403，对于不高于该特定速度的歌词，执行步骤202，对于高于特定速度的歌词，不执行步骤202，对于该句歌词的处理流程结束。</p>
    <p>[0058]	更为优化的，如图4B所示：</p>
    <p>[0059]	在该步骤201之后执行步骤401’，计算该歌词文本文件中的每一句歌词的歌唱速度；</p>
    <p>[0060]	步骤402’，判断每句歌词的歌唱速度是否高于一特定速度；</p>
    <p>[0061]	步骤403’，对于不高于该特定速度的歌词，执行步骤202 ；对于高于该特定速度的歌词，判断这些高于特定速度的歌词是否连续出现且连续出现超过预定句数（例如连续5 句或10句，不以此为限），对于连续出现超过预定句数的多句歌词，不执行步骤202，对于该多句歌词的处理流程结束，对于未连续出现或未连续出现超过预定句数的歌词，执行步骤 202。</p>
    <p>[0062]	该第二实施例可对歌词文本文件中的所有歌词进行初始筛选，排除不可能是高潮的歌词，缩小后续高潮识别处理过程的目标范围，提高整体计算的效率，提高高潮部分识别的准确性。</p>
    <p>[0063]	以下通过第三实施例进一步描述本发明的内容，如图5所示为本发明的歌曲音频切割装置的结构示意图。为实现更为优化的效果，图3的基础上，本实施例的歌曲音频切割装置100进一步包括一相似重复处理模块123。与图3相同部分未做重复说明。另外，第三实施例也可基于图1所述方案增加该相似重复处理模块123。所增方案如下所述。</p>
    <p>[0064]	相似重复处理模块123用于分析该候选集合中的任意两句重复歌词之间的相似度，对于相似度高于一相似阈值的两句重复歌词，合并其重复程度。</p>
    <p>[0065]	在本发明中，除了认为歌词之间一字不差完全相同为重复外，个别少量文字的变化也可认为两句歌词是重复的，即，相似重复。有些歌曲的歌词可能在有一些语气词或发语词等些微变化，但是核心歌词是一样的，可能对应的是同一旋律或歌曲中不同乐章的同一位置，因此，识别相似重复的歌词，对于高潮部分的识别能够起到较好的补充作用。</p>
    <p>[0066]	如图6所示为本发明歌曲音频切割方法的流程图。</p>
    <p>[0067]	在步骤202之后，执行步骤601，分析该候选集合中的任意两句重复歌词之间的相似度，对于相似度高于一相似阈值的两句重复歌词，合并其重复程度，执行步骤203。</p>
    <p>[0068]	该计算两句重复歌词之间的相似度可通过现有技术中所公开的各种文本相似度计算方法来实现，例如通过字符串的编辑距离来计算两句歌词间的相似度，不以此为限。该相似阈值为预先设定，也可通过多次实验统计得到。</p>
    <p>[0069]	具体来说，假设该候选集合中的歌词Iyricl和lyric2之间的相似度高于该相似阈值，且Iyricl和lyric2的重复程度（重复次数）均为2，则Iyricl视为与lyric2相似重复，且Iyricl、lyric2的重复程度均变为4。</p>
    <p>[0070]	在后续执行步骤203时，lyricUlyric2视为同一句歌词，在分析段落组成以及所处位置时，与完全重复的处理方式完全相同。[0071]	为了获得更为优化的技术效果，该相似重复的处理过程可进一步细化。被视为相似重复的歌词需进一步确定其最大连续公共字符串长度，只有在该最大连续公共字符串长度大于一预设标准值时，认定该两句歌词确实为相似重复，才能执行步骤203。</p>
    <p>[0072]	更进一步的，当Iyricl存在与之相似度均高于该相似阈值的多句歌词时，也就是</p>
    <p>说，当Iyricl与lyric2、lyricl与lyric3......Iyricl与IyricN之间的相似度均高于该相</p>
    <p>似阈值时，识别这些相似度中的最大相似度，例如，Iyricl与lyric3之间的相似度为最大相似度，此时，该相似重复处理模块123认定Iyricl与lyric3为相似重复，合并Iyricl与 lyric3的重复程度。</p>
    <p>[0073]	更进一步的，当与同一句重复歌词的相似度均高于该相似阈值，且包括多个最大相似度的多句重复歌词时，即，Iyricl与lyric2、Iyricl与lyric3之间的相似度一样，均</p>
    <p>高于相似阈值且为Iyricl与lyric2、Iyricl与lyric3......Iyricl与IyricN之间所有相</p>
    <p>似度中的最大值时，计算该最大相似度对应的每对重复歌词的连续公共字符串长度（计算 Iyricl与lyric2、Iyricl与lyric3的连续公共字符串长度），合并其中最大的连续公共字符串长度对应的两句重复歌词的重复程度。</p>
    <p>[0074]	更进一步的，如果Iyricl与lyric2、Iyricl与lyric3的连续公共字符串长度也相同，选择出现靠前的歌词进行重复程度的合并。即，如果lyric2比lyric3的出现位置靠前（时间点在先），则将lyric2与Iyricl的重复程度进行合并。</p>
    <p>[0075]	该第三实施例通过扩大可被认定为重复歌词的范围的方式，以应对实际歌曲中歌词千变万化的不同高潮组成，以期识别出更加符合使用者感受的高潮部分，提高歌曲高潮识别的准确性。</p>
    <p>[0076]	以下通过第四实施例进一步描述本发明的内容，如图7所示为本发明的歌曲音频切割装置的结构示意图。为实现更为优化的效果，图5的基础上，本实施例的歌曲音频切割装置100进一步包括一歌曲名称判断模块124。与图5相同部分未做重复说明。另外，第四实施例也可基于图1、3所述方案增加该歌曲名称判断模块124，所增方案如下所述。</p>
    <p>[0077]	该歌曲名称判断模块1&#190;用于对于该重复程度低于该特定阈值的歌词，判断其是否包括歌曲名称，如果包括，将该歌词加入该候选集合。</p>
    <p>[0078]	如图8所示为本发明歌曲音频切割方法的流程图。</p>
    <p>[0079]	在步骤202之后进一步包括步骤801 ：该歌曲名称判断模块IM针对该重复程度低于该特定阈值的歌词，依次判断其是否包括该歌曲的歌曲名称，如果包括，将该歌词加入该候选集合，执行步骤203，如果不包括，对该句歌词而言处理流程结束。</p>
    <p>[0080]	同时，在步骤204中，该切割起始点确定模块13将依据每句重复歌词的重复程度、 在段落中的位置以及是否包括该歌曲名称，确定该候选集合中的一句歌词作为该切割起始歌词。</p>
    <p>[0081]	也就是说，通常该歌曲名称会出现在歌曲的高潮部分，因而，当歌词中出现该歌词名称时，认定其存在被包括于歌曲高潮部分的可能性。该切割起始点确定模块13可通过如下方式为每句歌词评分：</p>
    <p>[0082]	Scoreli =重复程度一权重1+在所属段落中的位置一权重2+title*权重3 O)</p>
    <p>[0083]	该参数“title”对应该句歌词是否包括歌曲名称，如果未包括，赋值为“0”，如果包括赋值为1 (或者其他大于O的数字，根据需要确定），权重3可根据多次实验统计的结果进行设定，调整权重1、2、3的不同比例。</p>
    <p>[0084]	对公式O)的各种等效变型也在本发明的公开范围内。</p>
    <p>[0085]	在该第四实施例中，进一步丰富了识别高潮部分的识别依据，利用对歌词是否包括该歌曲名称的判断，使得高潮识别过程更加细腻、准确。</p>
    <p>[0086]	以下通过第五实施例进一步描述本发明的内容。如图9所示为本发明的歌曲音频切割装置的结构示意图。为实现更为优化的效果，除了通过识别重复歌词的角度确定切割起始点，本发明还可采用旋律分析的方式确定切割起始点，利用多种不同的方式共同进行识别，可降低识别失误率，保证准确性。</p>
    <p>[0087]	图7的基础上，图9所示本实施例的歌曲音频切割装置100进一步包括一旋律判断模块16。与图7相同部分未做重复说明。另外，第五实施例也可基于图1、3、5所述方案增加该旋律判断模块16，所增方案如下所述。</p>
    <p>[0088]	旋律判断模块16，用于计算从该重复歌词开始的多个段落间的旋律曲线相似度， 和/或，从该重复歌词开始的段落的音节长度。</p>
    <p>[0089]	同时，该切割起始点确定模块根据每句重复歌词是否包括该歌曲名称、该旋律曲线相似度、该音节长度中的一种或多种，以及每句重复歌词的重复程度、在段落中的位置， 确定该候选集合中的一句歌词作为该切割起始歌词。</p>
    <p>[0090]	该旋律判断模块16针对候选集合中的每句重复歌词进行分析。接续前例，针对歌词a，从歌词a开始的段落有2个，分别是第2、3、4句以及第6、7、8句组成的段落。该旋律判断模块16计算这两个段落间的旋律曲线相似度。利用音高、音频等旋律变化分析计算旋律曲线相似度为现有技术，本领域的技术人员可以自行实施，不做赘述。另外，如果从歌词 a开始的段落有3个或3个以上，则计算这多个段落间的旋律曲线相似度。</p>
    <p>[0091]	针对歌词b，从歌词b开始的段落有2个，分别是第3、4句以及第7、8句组成的段落。该旋律判断模块16计算这两个段落间的旋律曲线相似度。</p>
    <p>[0092]	在本发明中，两个段落的旋律越相像，该参数“旋律曲线相似度”的赋值越大。该旋律判断模块16计算得到的“旋律曲线相似度”传送至该切割起始点确定模块13进行后续计算。</p>
    <p>[0093]	在本实施例中，该切割起始点确定模块13基于以下公式进行计算：</p>
    <p>[0094]	Score2i =旋律曲线相似度一权重4	(3)</p>
    <p>[0095]	该权重值权重4可根据经验预先设定。Scordi为第i句歌词的旋律曲线部分的评分。旋律曲线相似度1为从第i句歌词开始的段落间的旋律曲线相似度。对公式（3)的各种等效变型也在本发明的公开范围内。</p>
    <p>[0096]	同时，综合上述通过歌词重复分析以及歌曲旋律分析计算得到的&amp;01^1” kor^i，综合分析进行切割起始点的确定。具体通过如下方式：针对候选集合中的每句歌词依照以下公式进行评分，评分最高的歌词，作为切割起始歌词，其开始时间点作为该歌曲音频文件的切割起始点。</p>
    <p>[0097]	Scorei = Scoreli* (1_ 权重 x) +ScoreZi=K 权重 χ	(4)</p>
    <p>[0098]	Scorei为第i句歌词的最终评分，也是评价每句歌词是否能够作为切割起始歌词的最终依据。权重X可根据经验值设定。</p>
    <p>[0099]	对公式的各种等效变型也在本发明的公开范围内。[0100]	在另一种实现方式中，该旋律判断模块16可以针对候选集合中每句重复歌词引领的音节长度进行分析。</p>
    <p>[0101]	接续前例，针对歌词a，从歌词a开始的段落有2个，分别是第2、3、4句以及第6、 7、8句组成的段落。该旋律判断模块16计算从歌词a开始的段落所包含的音节长度，即第 2、3、4句所总共包括的音节长度，或第6、7、8句所总共包括的音节长度。如果发生从歌词a 开始的不同段落音节长度不同的情况，以较多者进行记录。</p>
    <p>[0102]	针对歌词b，从歌词b开始的段落有2个，分别是第3、4句以及第7、8句组成的段落。该旋律判断模块16计算从歌词b开始的段落所包含的音节长度，即第3、4句所总共包括的音节长度，或第7、8句所总共包括的音节长度。如果发生从歌词b开始的不同段落音节长度不同的情况，以较多者进行记录。</p>
    <p>[0103]	该旋律判断模块16计算得到的“音节长度”传送至该切割起始点确定模块13进行后续计算。</p>
    <p>[0104]	在本实施例中，该切割起始点确定模块13基于以下公式进行计算：</p>
    <p>[0105]	Scored =音节长度一权重5	(5)</p>
    <p>[0106]	该权重值权重5可根据经验预先设定。Scordi为第i句歌词的音节长度部分的评分。音节长度1为从第i句歌词开始的段落的音节长度。对公式（5)的各种等效变型也在本发明的公开范围内。</p>
    <p>[0107]	同样的，该切割起始点确定模块13基于公式（4)进行最终评分，评分最高的歌词， 作为切割起始歌词，其开始时间点作为该歌曲音频文件的切割起始点。</p>
    <p>[0108]	更进一步的，该旋律判断模块16可以同时针对候选集合中每句重复歌词引领的段落的旋律曲线相似度以及音节长度进行分析。该旋律判断模块16将针对每句重复歌词计算得到的“旋律曲线相似度”以及“音节长度”都传送至该切割起始点确定模块13进行后续计算。则该切割起始点确定模块13基于以下公式进行计算：</p>
    <p>[0109]	Score2i =旋律曲线相似度一权重4+音节长度一权重5	(6)</p>
    <p>[0110]	同样的，基于公式（6)计算得到的^ordi，该切割起始点确定模块13基于公式 (4)进行最终评分。评分最高的歌词，作为切割起始歌词，其开始时间点作为该歌曲音频文件的切割起始点。对公式㈩）的各种等效变型也在本发明的公开范围内。</p>
    <p>[0111]	如图10所示为本发明歌曲音频切割方法的流程图。</p>
    <p>[0112]	在步骤203之后，执行步骤1001，计算从每一句重复歌词开始的不同段落间的旋律曲线相似度，和/或，从每一句重复歌词开始的段落的音节长度；</p>
    <p>[0113]	步骤204’，根据每句重复歌词是否包括该歌曲名称、该旋律曲线相似度、该音节长度中的一种或多种，以及每句重复歌词的重复程度、在段落中的位置，确定该候选集合中的一句重复歌词作为该切割起始歌词，执行步骤205。</p>
    <p>[0114]	在此基础上更进一步的，本发明还可针对公式（4)中的权重χ做更为详细的规定， 以使得权重X的数值设定更加贴合对歌曲高潮部分的识别的需求，提高识别准确度。</p>
    <p>[0115]	本发明可预先利用丰富的音乐库以及音乐的分类标签，根据音乐的旋律变化规律，归纳出η个分类（C1，C2，C3，……Cn)，例如忧郁类、欢快类等，有的分类旋律平缓，有的分类激昂高潮突出。分析各分类旋律变化的特点，根据每种分类的旋律高潮突出程度给出一个权重χ。[0116]	旋律判断模块16根据候选集合中的歌词对应的旋律曲线，基于歌曲分类的规则， 计算该首歌曲所处分类，进而可以获得该分类对应的权重X，该权重X即应用于公式（4)中。</p>
    <p>[0117]	当歌曲所属分类旋律变化的高潮突出时，权重χ值偏大，当歌曲所属分类旋律变化平淡，高潮不突出时，权重X值偏小。</p>
    <p>[0118]	从而倾向性的调整korel、Score2的不同比重，使得高潮识别的结果更加准确。</p>
    <p>[0119]	另外，对于基于以上多个实施例的技术方案，对大量歌曲音频文件进行批量处理的结果进行统计，根据大量的切割起始点的分布，可得到一经验起始点。对于完全没有重复歌词或者歌曲音频文件不存在歌词文本文件的情况，可根据该经验起始点直接进行切割。</p>
    <p>[0120]	另外，该mp3Splt需针对mp3文件进行切割，当歌曲音频文件不是mp3文件时，需获取对应的wma文件，将wma文件转换为mp3文件再进行切割。</p>
    <p>[0121]	上述技术方案可针对歌曲音频文件自动识别并切割其高潮部分。特别是，可以将切割得到的该高潮部分作为铃声。另外，本发明可自动对大量歌曲音频文件进行批量的音频文件切割，避免人工识别切割，提高效率。同时，可以保证较高的歌曲高潮识别的准确度。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1878217A?cl=zh">CN1878217A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2006年6月30日</td><td class="patent-data-table-td patent-date-value">2006年12月13日</td><td class="patent-data-table-td ">深圳市杰特电信控股有限公司</td><td class="patent-data-table-td ">一种手机的铃声制作方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN100461168C?cl=zh">CN100461168C</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2005年2月24日</td><td class="patent-data-table-td patent-date-value">2009年2月11日</td><td class="patent-data-table-td ">微软公司</td><td class="patent-data-table-td ">生成音频缩略图的系统和方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101546587A?cl=zh">CN101546587A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年3月25日</td><td class="patent-data-table-td patent-date-value">2009年9月30日</td><td class="patent-data-table-td ">国际商业机器公司</td><td class="patent-data-table-td ">在播放歌曲时自动显示视觉元素的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101587708A?cl=zh">CN101587708A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年6月26日</td><td class="patent-data-table-td patent-date-value">2009年11月25日</td><td class="patent-data-table-td ">清华大学</td><td class="patent-data-table-td ">歌曲情绪压力分析方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DKR%26NR%3D100696876B1%26KC%3DB1%26FT%3DD&amp;usg=AFQjCNEDzUCwi27q0ne9fbRIjvf5u1J3Ag">KR100696876B1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td "> </td><td class="patent-data-table-td citation-no-title">没有名称</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DTW%26NR%3D201020962A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFx9E7FFk6P95hevQFbA3EOjNaD5A">TW201020962A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td patent-date-value"></td><td class="patent-data-table-td "> </td><td class="patent-data-table-td citation-no-title">没有名称</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103400593A?cl=zh">CN103400593A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月3日</td><td class="patent-data-table-td patent-date-value">2013年11月20日</td><td class="patent-data-table-td ">网易（杭州）网络有限公司</td><td class="patent-data-table-td ">一种试听音频的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103400593B?cl=zh">CN103400593B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月3日</td><td class="patent-data-table-td patent-date-value">2016年2月24日</td><td class="patent-data-table-td ">网易（杭州）网络有限公司</td><td class="patent-data-table-td ">一种试听音频的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN104078063A?cl=zh">CN104078063A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年6月19日</td><td class="patent-data-table-td patent-date-value">2014年10月1日</td><td class="patent-data-table-td ">深圳市中兴移动通信有限公司</td><td class="patent-data-table-td ">音频文件播放方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2016015181A1?cl=zh">WO2016015181A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年7月26日</td><td class="patent-data-table-td patent-date-value">2016年2月4日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种音频文件的剪辑方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=oXiLBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G11B0027020000">G11B27/02</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年5月23日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年8月13日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/c3e965d77c244d07e57d/CN102467939A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_1ec17bec5b1e6ba0eab577be28b6afb9.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E6%AD%8C%E6%9B%B2%E9%9F%B3%E9%A2%91%E5%88%87%E5%89%B2%E8%A3%85%E7%BD%AE%E5%8F%8A%E6%96%B9%E6%B3%95.pdf?id=oXiLBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2t_AmJ9XE8pp_5J5ENi9c2sVvMZA"},"sample_url":"https://www.google.com/patents/reader?id=oXiLBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>