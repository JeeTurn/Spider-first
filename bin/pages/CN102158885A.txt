<!DOCTYPE html><html><head><title>专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一体化网络接入子网路由协议移动性支持方法"><meta name="DC.contributor" content="周三奇" scheme="inventor"><meta name="DC.contributor" content="姚楠" scheme="inventor"><meta name="DC.contributor" content="孙冰" scheme="inventor"><meta name="DC.contributor" content="张宏科" scheme="inventor"><meta name="DC.contributor" content="李晓倩" scheme="inventor"><meta name="DC.contributor" content="段璨然" scheme="inventor"><meta name="DC.contributor" content="董平" scheme="inventor"><meta name="DC.contributor" content="邱峰" scheme="inventor"><meta name="DC.contributor" content="北京交通大学" scheme="assignee"><meta name="DC.date" content="2011-4-19" scheme="dateSubmitted"><meta name="DC.description" content="一种在一体化网络接入子网中基于主机标识进行平面路由的环境下的终端微移动性路由协议支持方法。所述方法包括步骤：接入终端移动到新的接入路由器并向接入路由器注册主机-位置关系；新接入路由器通过相容哈希算法向接入网内指定接入路由器更新主机-位置关系；指定接入路由器向旧接入路由器更新原有主机-位置关系；旧接入路由器收到其他接入路由器发起的数据通信时，通知源接入路由器更新后的主机-位置关系。接入路由器之间利用泛洪机制维护路由器之间的拓扑数据库，并通过适当的底层路由协议维持接入路由器之间的路由可达性。"><meta name="DC.date" content="2011-8-17"><meta name="DC.relation" content="CN:101119206:A" scheme="references"><meta name="DC.relation" content="CN:101127663:A" scheme="references"><meta name="DC.relation" content="CN:101645835:A" scheme="references"><meta name="citation_patent_publication_number" content="CN:102158885:A"><meta name="citation_patent_application_number" content="CN:201110098003"><link rel="canonical" href="https://www.google.com/patents/CN102158885A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102158885A?cl=zh"/><meta name="title" content="专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法"/><meta name="description" content="一种在一体化网络接入子网中基于主机标识进行平面路由的环境下的终端微移动性路由协议支持方法。所述方法包括步骤：接入终端移动到新的接入路由器并向接入路由器注册主机-位置关系；新接入路由器通过相容哈希算法向接入网内指定接入路由器更新主机-位置关系；指定接入路由器向旧接入路由器更新原有主机-位置关系；旧接入路由器收到其他接入路由器发起的数据通信时，通知源接入路由器更新后的主机-位置关系。接入路由器之间利用泛洪机制维护路由器之间的拓扑数据库，并通过适当的底层路由协议维持接入路由器之间的路由可达性。"/><meta property="og:title" content="专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102158885A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102158885A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102158885A&amp;usg=AFQjCNFeeR8kYY7ZnPQY0d6BUVT69eEPDg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/b5906ea1978d7f0f7b79/CN102158885A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/b5906ea1978d7f0f7b79/CN102158885A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102158885A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102158885A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102158885A?cl=zh" style="display:none"><span itemprop="description">一种在一体化网络接入子网中基于主机标识进行平面路由的环境下的终端微移动性路由协议支持方法。所述方法包括步骤：接入终端移动到新的接入路由器并向接入路由器注册主机-位置关系；新接入路由器通过相容哈希算法向 ...</span><span itemprop="url">https://www.google.com/patents/CN102158885A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法" title="专利 CN102158885A - 一体化网络接入子网路由协议移动性支持方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102158885 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110098003</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年8月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年4月19日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年4月19日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110098003.X, </span><span class="patent-bibdata-value">CN 102158885 A, </span><span class="patent-bibdata-value">CN 102158885A, </span><span class="patent-bibdata-value">CN 201110098003, </span><span class="patent-bibdata-value">CN-A-102158885, </span><span class="patent-bibdata-value">CN102158885 A, </span><span class="patent-bibdata-value">CN102158885A, </span><span class="patent-bibdata-value">CN201110098003, </span><span class="patent-bibdata-value">CN201110098003.X</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%91%A8%E4%B8%89%E5%A5%87%22">周三奇</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A7%9A%E6%A5%A0%22">姚楠</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AD%99%E5%86%B0%22">孙冰</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E5%AE%8F%E7%A7%91%22">张宏科</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%8E%E6%99%93%E5%80%A9%22">李晓倩</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%AE%B5%E7%92%A8%E7%84%B6%22">段璨然</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%91%A3%E5%B9%B3%22">董平</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%82%B1%E5%B3%B0%22">邱峰</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E4%BA%A4%E9%80%9A%E5%A4%A7%E5%AD%A6%22">北京交通大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102158885A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102158885A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102158885A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110098003&amp;usg=AFQjCNEY_Zxw5PUHyV1KU7ODF-7p9723uQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102158885A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEXmP-gvJSgFHS_ofr1KD9FpLuZJg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT104392258" lang="ZH" load-source="patent-office">一体化网络接入子网路由协议移动性支持方法</invention-title>
      </span><br><span class="patent-number">CN 102158885 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA86297584" lang="ZH" load-source="patent-office">
    <div class="abstract">一种在一体化网络接入子网中基于主机标识进行平面路由的环境下的终端微移动性路由协议支持方法。所述方法包括步骤：接入终端移动到新的接入路由器并向接入路由器注册主机-位置关系；新接入路由器通过相容哈希算法向接入网内指定接入路由器更新主机-位置关系；指定接入路由器向旧接入路由器更新原有主机-位置关系；旧接入路由器收到其他接入路由器发起的数据通信时，通知源接入路由器更新后的主机-位置关系。接入路由器之间利用泛洪机制维护路由器之间的拓扑数据库，并通过适当的底层路由协议维持接入路由器之间的路由可达性。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(6)</span></span></div><div class="patent-text"><div mxw-id="PCLM37879831" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种接入子网路由协议移动性支持方法，其特征在于，包括步骤：A、接入终端移动并向新接入路由器注册的过程；B、新接入路由器发起移动后的接入终端的主机-位置对应关系在子网内的更新过程；C、接入子网内数据包的转发和路由优化过程。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的接入子网路由协议移动性支持方法，其特征在于，还包括旧接入路由器和指定接入路由器；所述接入终端向新接入路由器发送自身身份消息；所述新接入路由器，与接入终端相连，为移动后的接入终端代理生成并存储主机-位置对应关系，向指定接入路由器发送移动后的接入终端的主机-位置对应关系；所述旧接入路由器，负责撤销移动后过期的主机-位置对应关系，并负责通知发起通信的源接入终端的源接入路由器移动后的接入终端的主机-位置对应关系；所述指定接入路由器，负责更新移动后的接入终端的主机-位置对应关系，并通知旧接入路由器移动后的接入终端的主机-位置对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1所述的接入子网路由协议移动性支持方法，其特征在于，所述新接入路由器、所述旧接入路由器、所述指定接入路由器还与其他接入路由器相连，并与其他接入路由器构成路由器链路状态维护区域，通过底层路由协议维护可达性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求1所述的接入子网路由协议移动性支持方法，其特征在于，所述步骤B 具体包括步骤：Bi、新接入路由器经过相容哈希算法H确定管理该主机-位置对应关系的指定接入路由器，将移动后的接入终端的主机-位置对应关系通过隧道发送到指定接入路由器；B2、指定接入路由器更新自身的主机-位置对应关系，同时通知旧接入路由器更新主机-位置对应关系；B3、旧接入路由器收到指定接入路由器的更新通知后，更新原来存储的主机-位置对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求1所述的方法，其特征在于，所述步骤C具体包括步骤：Cl、源接入终端向其接入的源接入路由器发送目的为移动后的接入终端的数据包，发起通信；C2、源接入路由器依照接入终端未移动前的主机-位置对应关系缓存，将数据包以隧道方式发往旧接入路由器；C3、旧接入路由器接收到目的为接入终端的数据包后，查询自身的主机-位置对应关系缓存，将数据包以隧道发往移动后的接入终端的新接入路由器，同时向源接入路由器通告移动后的接入终端的主机-位置对应关系；C4、源接入路由器收到通告后，将后续目的为接入终端的数据包以隧道方式发往接入终端的新接入路由器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求2所述的方法，其特征在于，所述接入路由器通过查询本地主机-位置对应关系列表或经过哈希算法确定的指定接入路由器中的主机-位置对应关系列表，来确定数据包转发路由。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES43456901" lang="ZH" load-source="patent-office" class="description">
    <p>一体化网络接入子网路由协议移动性支持方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及一体化网络接入子网主机标识平面路由协议的移动性支持方法，是建立在基于分布式哈希表算法的平面标识路由方式之上的一种移动性机制，是一种支持移动终端在接入子网内进行微移动的方法。</p>
    <p>背景技术</p>
    <p>[0002]	在一体化网络接入子网当中，接入标识平面化及变长化使得基于平面标识的接入子网路由方式成为接入子网路由的良好替代方案。接入子网路由协议在提供接入标识平面化及变长化之后的标识可达性之外，同时还可以支持使用接入标识的移动终端在一体化网络接入子网内的微移动性。</p>
    <p>[0003]	SEATTLE(A Scalable Ethernet Architecture for Large Enterprises, Princeton University)给出了一种在大型以太网当中应用DHT算法进行数据包交换的方法，同时也提出了终端在以太网中进行微移动的方案。以太网交换相对现有IP路由网络要更加容易配置、实施和管理，但是可扩展性却不如IP路由网络优越。SEATTLE通过实施平面化的编址结构，保证了大型企业网络的即插即用功能，并通过最短路径路由和基于分布式哈希算法的主机信息解析机制保证系统的可用性和可扩展性。但SEATTLE的工作仅仅停留在交换层面上，并没有提供有效地路由转发机制。</p>
    <p>[0004]	移动IP提出了基于现有IPv4及IPv6地址进行终端移动的路由器处理方案，但在移动IP中，终端移动的位置管理信息是通过家乡代理HA来进行辅助处理的，终端移动过程中的数据包都需要路由至家乡代理节点再次进行转发处理，这样极大地加重了 HA节点的处理开销；</p>
    <p>[0005]	同时，在移动IP中，路由优化也是极其重要的一个过程，为了完成最短路径的路由，通信对端移动终端的路由优化选路需要经由家乡代理辅助完成，HA将当前的移动终端位置信息主动分发给与其通信的对端节点，但是由于并非所有通信对端都是长期活跃的缘故，这样做同时也浪费了相当数量的控制消息处理开销。</p>
    <p>发明内容</p>
    <p>[0006]	本发明的目的在于在一体化网络的接入子网中采用基于主机标识的无结构化平面标识路由协议环境下，提供一种支持终端在接入子网内进行微移动的路由协议移动性支持机制。</p>
    <p>[0007]	为此，本发明提出了一种接入子网路由协议移动性支持方法，包括步骤：</p>
    <p>[0008]	A、接入终端移动并向新接入路由器注册的过程；</p>
    <p>[0009]	B、新接入路由器发起移动后的接入终端的主机-位置对应关系在子网内的更新过程；</p>
    <p>[0010]	C、接入子网内数据包的转发和路由优化过程。</p>
    <p>[0011]	优选地，还包括旧接入路由器和指定接入路由器；[0012]	所述接入终端向新接入路由器发送自身身份消息；</p>
    <p>[0013]	所述新接入路由器，与接入终端相连，为移动后的接入终端代理生成并存储主机-位置对应关系，向指定接入路由器发送移动后的接入终端的主机-位置对应关系；</p>
    <p>[0014]	所述旧接入路由器，负责撤销移动后过期的主机-位置对应关系，并负责通知发起通信的源接入终端的源接入路由器移动后的接入终端的主机-位置对应关系；</p>
    <p>[0015]	所述指定接入路由器，负责更新移动后的接入终端的主机-位置对应关系，并通知旧接入路由器移动后的接入终端的主机-位置对应关系。</p>
    <p>[0016]	本发明的另一个方面，还包括，所述新接入路由器、所述旧接入路由器、所述指定接入路由器还与其他接入路由器相连，并与其他接入路由器构成路由器链路状态维护区域，通过底层路由协议维护可达性。</p>
    <p>[0017]	优选地，还包括，所述步骤B具体包括步骤：</p>
    <p>[0018]	Bi、新接入路由器经过相容哈希算法H确定管理该主机-位置对应关系的指定接入路由器，将移动后的接入终端的主机-位置对应关系通过隧道发送到指定接入路由器；</p>
    <p>[0019]	B2、指定接入路由器更新自身的主机-位置对应关系，同时通知旧接入路由器更新主机-位置对应关系；</p>
    <p>[0020]	B3、旧接入路由器收到指定接入路由器的更新通知后，更新原来存储的主机-位置对应关系。</p>
    <p>[0021]	优选地，还包括：</p>
    <p>[0022]	Cl、源接入终端向其接入的源接入路由器发送目的为移动后的接入终端的数据包，发起通信；</p>
    <p>[0023]	C2、源接入路由器依照接入终端未移动前的主机-位置对应关系缓存，将数据包以隧道方式发往旧接入路由器；</p>
    <p>[0024]	C3、旧接入路由器接收到目的为接入终端的数据包之后，查询自身的主机-位置对应关系缓存，将数据包以隧道发往移动后的接入终端的新接入路由器，同时，向源接入路由器通告移动后的接入终端的主机-位置对应关系；</p>
    <p>[0025]	C4、源接入路由器收到通告后，将后续目的为接入终端的数据包以隧道方式发往接入终端的新接入路由器。</p>
    <p>[0026]	优选地，还包括，所述接入路由器通过查询本地主机-位置对应关系列表或经过哈希算法确定的指定接入路由器中的主机-位置对应关系列表，来确定数据包转发路由。</p>
    <p>[0027]	本发明提出基于平面化标识空间的接入子网路由移动性方案，即通过平面标识哈希算法确定指定接入路由器存储移动过程中的主机-位置对应关系，并通过指定接入路由器为主的关系更新机制以及旧接入路由器的通告机制完成移动过程中的路由优化，旨在接入子网当中移动终端盒主机提供准确的路由可达信息，完成接入终端在子网内移动过程中的数据包快速、准确转发。</p>
    <p>[0028]	本发明产生的有益效果是：</p>
    <p>[0029]	①通过hash算法确定子网内的主机-位置关系存储节点，而针对于不同的移动终端，该节点分布在整个接入子网内各个接入路由器节点的处理进程中，不需要部署额外中心或集中节点存储关键信息，减少单点故障率；</p>
    <p>[0030]	②提供按需的移动终端路由优化机制，即当有数据包发起数据通信时，原移动终端接入点完成新对应关系的通告义务，减少节点缓存存储处理开销；</p>
    <p>[0031]	③在接入子网中，针对某一移动节点只存在唯一主机-位置关系存储节点，对于移动性控制系统的压缩减少终端快速移动过程中的控制信息的不同步。</p>
    <p>附图说明</p>
    <p>[0032]	下面结合附图和实施例对本发明作进一步说明。</p>
    <p>[0033]	图1是实施例一的接入网络主机标识平面路由拓扑示意图；</p>
    <p>[0034]	图2是实施例一的接入网络平面路由终端移动数据流向示意图；</p>
    <p>[0035]	图3是实施例二所述的终端移动时旧接入路由器数据转发过程示意图。</p>
    <p>具体实施方式</p>
    <p>[0036]	实施例一：</p>
    <p>[0037]	首先介绍本实施例所用到的一些术语：</p>
    <p>[0038]	主机标识（HID)：仅用于接入网络，代表接入终端或子网的公开身份，在移动终端的移动过程中，该标识不发生变化。为简单描述和方便讨论问题，本实施例假定每个终端仅拥有一个全球唯一的HID。</p>
    <p>[0039]	接入路由器：仅在接入网络中出现，与接入终端及其他接入路由器相连，为主机代理生成并存储主机-位置关系，并向指定接入路由器注册主机-位置关系，向其他接入路由器提供主机-位置查询服务，与其他接入路由器构成路由器链路状态维护区域，通过底层路由协议维护可达性；</p>
    <p>[0040]	本实施例中包括：移动接入终端、终端移动前的旧接入路由器、终端移动后的新接入路由器、数据发送源端和数据包目的端，其连接关系如图1所示，本实施例是接入子网终端移动时的路由移动性支持方法，如图2所示。</p>
    <p>[0041]	一、控制消息传送阶段：</p>
    <p>[0042]	接收端：</p>
    <p>[0043]	S101、接收端从旧接入路由器（Old)移动到新接入路由器（New)；</p>
    <p>[0044]	S102、接收端向新接入路由器New汇报自身身份信息；</p>
    <p>[0045]	S103,New代理移动终端生成新的主机-位置对应关系，并通过哈希算法确定指定管理接入路由器，将对应关系汇报给指定接入路由器（DAR)；</p>
    <p>[0046]	S104、DAR查询自身对应关系列表，向旧接入路由器Old发送更新对应关系报文， 要求更新Old上过期的主机-位置对应关系；</p>
    <p>[0047]	二、数据传输阶段：</p>
    <p>[0048]	发送端：</p>
    <p>[0049]	S105、发送端向其接入路由器Src发送目的地为接收端的数据包；</p>
    <p>[0050]	源接入路由器（Src)：</p>
    <p>[0051]	S106、Src通过查询自身的主机-位置对应关系缓存，将数据包以隧道方式发往旧接入路由器Old;</p>
    <p>[0052]	旧接入路由器（Old)：</p>
    <p>[0053]	S107、Old将移动终端的更新后的主机-位置对应关系通告给Src (控制消息）；[0054]	S108、01d接收到目的地为接收端的数据包之后，查询自身的主机-位置对应关系缓存，将数据包以隧道方式发往新接入路由器New ；</p>
    <p>[0055]	源接入路由器（Src)：</p>
    <p>[0056]	S109、Src接收到Old发回的通告消息之后，将后续目的地为接收端的数据包直接以隧道方式转发给New;</p>
    <p>[0057]	新接入路由器（New)：</p>
    <p>[0058]	S110、New接收到目的地为接收端的数据包之后，查询自身接入终端路由表，将数据包转发给接收端。</p>
    <p>[0059]	本实施例的连接关系是：发送端和接收端接入终端通过网络与接入路由器连接， 新/旧接入路由器、指定接入路由器通过网络相连并组成链路状态交互区域。</p>
    <p>[0060]	实施例二 ：</p>
    <p>[0061]	本实施例是实施例一关于接入路由器数据包转发过程的改进，如图3所示。本实施例包括步骤：</p>
    <p>[0062]	S21、对于接入路由器，若数据包不是来自隧道，则跳转到步骤S22 ；若数据包来自隧道，则将隧道数据包解封装，以数据包原始目的HID为索引，查找自身的主机-位置对应关系缓存，若命中，则转发至相应接口，并跳转至步骤S23 ；若未命中，则跳转到步骤S24 ；</p>
    <p>[0063]	S22、以数据包目的HID为索引，查找本地路由表，若命中，则转发至相应接口，转发过程结束；若未命中，则通过哈希函数H生成指定接入路由器位置信息，H(HID) =R，并将数据包以隧道方式转发至该指定接入路由器R(在自身与指定接入路由器之间建立隧道）， 跳转到步骤S25 ；</p>
    <p>[0064]	S23、接入路由器将当前使用的该HID对应的主机-位置关系通告给发起数据通信的隧道源端接入路由器；</p>
    <p>[0065]	S24、以数据包HID为索引，查询本地路由表，若命中，则转发至相应接口 ；若未命中，则查询负责管理的接入路由器中主机-位置关系列表，若命中，则以隧道方式转发至相应接入路由器，若未命中，则以隧道方式转发至接入交换路由器ASR，跳转到步骤S25 ；</p>
    <p>[0066]	S25、转发过程结束。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101119206A?cl=zh">CN101119206A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年9月13日</td><td class="patent-data-table-td patent-date-value">2008年2月6日</td><td class="patent-data-table-td ">北京交通大学</td><td class="patent-data-table-td ">基于标识的一体化网络终端统一接入控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101127663A?cl=zh">CN101127663A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年9月13日</td><td class="patent-data-table-td patent-date-value">2008年2月20日</td><td class="patent-data-table-td ">北京交通大学</td><td class="patent-data-table-td ">一种移动自组织网络接入一体化网络的系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101645835A?cl=zh">CN101645835A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年8月31日</td><td class="patent-data-table-td patent-date-value">2010年2月10日</td><td class="patent-data-table-td ">北京交通大学</td><td class="patent-data-table-td ">接入网络主机标识平面路由方法及系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014176752A1?cl=zh">WO2014176752A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月29日</td><td class="patent-data-table-td patent-date-value">2014年11月6日</td><td class="patent-data-table-td ">Hewlett-Packard Development Company, L.P.</td><td class="patent-data-table-td ">Host mobility messaging</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0024020000">H04W24/02</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0080040000">H04W80/04</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=kTWGBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0040020000">H04W40/02</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年8月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年9月28日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年4月16日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/b5906ea1978d7f0f7b79/CN102158885A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E4%BD%93%E5%8C%96%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%85%A5%E5%AD%90%E7%BD%91%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE.pdf?id=kTWGBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U1cwvAoptck1DZuJQ-gsvbtiTDVGA"},"sample_url":"https://www.google.com/patents/reader?id=kTWGBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>