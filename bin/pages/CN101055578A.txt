<!DOCTYPE html><html><head><title>专利 CN101055578A - 基于规则的文档内容挖掘器 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="基于规则的文档内容挖掘器"><meta name="DC.contributor" content="陈翌" scheme="inventor"><meta name="DC.contributor" content="何余良" scheme="inventor"><meta name="DC.contributor" content="龙搜（北京）科技有限公司" scheme="assignee"><meta name="DC.date" content="2006-4-12" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供一种将web、文本、PDF、WordML、RTF、Excel、PowerPoint、MicrosoftWord、FrameMaker等格式文件转换成具有语义的可扩展标记语言的装置和实现方法。本装置，即可扩展标记语言集中器，由预处理器、规则引擎和后处理器等三个部分组成。本装置的预处理器由各种数据文件的驱动器组成，通过数据文件驱动器读取文件内容，然后将文件内容自动处理成一种可操作的可扩展标记语言形式，记为Processible Extensible Markup Language，简称pXML。pXML对数据内容起到归整作用。规则引擎是用已定义好的规则来解析和规整pXML内容。这些规则预先定义在数据文档所对应的标准的转换映射模板中。在后处理器中，用可扩展样式语言或另外标准的转换映射模板来把规整后的pXML转换成最终的具有语义功能的可扩展标记语言。"><meta name="DC.date" content="2007-10-17"><meta name="citation_patent_publication_number" content="CN:101055578:A"><meta name="citation_patent_application_number" content="CN:200610072533"><link rel="canonical" href="https://www.google.com/patents/CN101055578A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101055578A?cl=zh"/><meta name="title" content="专利 CN101055578A - 基于规则的文档内容挖掘器"/><meta name="description" content="本发明提供一种将web、文本、PDF、WordML、RTF、Excel、PowerPoint、MicrosoftWord、FrameMaker等格式文件转换成具有语义的可扩展标记语言的装置和实现方法。本装置，即可扩展标记语言集中器，由预处理器、规则引擎和后处理器等三个部分组成。本装置的预处理器由各种数据文件的驱动器组成，通过数据文件驱动器读取文件内容，然后将文件内容自动处理成一种可操作的可扩展标记语言形式，记为Processible Extensible Markup Language，简称pXML。pXML对数据内容起到归整作用。规则引擎是用已定义好的规则来解析和规整pXML内容。这些规则预先定义在数据文档所对应的标准的转换映射模板中。在后处理器中，用可扩展样式语言或另外标准的转换映射模板来把规整后的pXML转换成最终的具有语义功能的可扩展标记语言。"/><meta property="og:title" content="专利 CN101055578A - 基于规则的文档内容挖掘器"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101055578A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101055578A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101055578A&amp;usg=AFQjCNEQ_fYWY7mjVydPSC8AzhvHrWD4WQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/f30f84aa62ad7c0b400f/CN101055578A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/f30f84aa62ad7c0b400f/CN101055578A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101055578A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101055578A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101055578A?cl=zh" style="display:none"><span itemprop="description">本发明提供一种将web、文本、PDF、WordML、RTF、Excel、PowerPoint、MicrosoftWord、FrameMaker等格式文件转换成具有语义的可扩展标记语言的装置和实现方法。本装置，即可扩展标记语言集中器，由预处理器、规则引擎和后处理器等三个部分组成。本装置的预处理器由各种数据文件的驱动器组成，通过数据文件驱动器读取文件内容，然后将文件内容自动处理成一种可操作的可扩展标记语言形式，记为Processible...</span><span itemprop="url">https://www.google.com/patents/CN101055578A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101055578A - 基于规则的文档内容挖掘器</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101055578A - 基于规则的文档内容挖掘器" title="专利 CN101055578A - 基于规则的文档内容挖掘器"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101055578 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200610072533</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2007年10月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2006年4月12日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2006年4月12日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101361063A?hl=zh-CN&amp;cl=zh">CN101361063A</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101361063B?hl=zh-CN&amp;cl=zh">CN101361063B</a>, </span><span class="patent-bibdata-value"><a href="/patents/US8515939?hl=zh-CN&amp;cl=zh">US8515939</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20090265339?hl=zh-CN&amp;cl=zh">US20090265339</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2007115501A1?hl=zh-CN&amp;cl=zh">WO2007115501A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200610072533.6, </span><span class="patent-bibdata-value">CN 101055578 A, </span><span class="patent-bibdata-value">CN 101055578A, </span><span class="patent-bibdata-value">CN 200610072533, </span><span class="patent-bibdata-value">CN-A-101055578, </span><span class="patent-bibdata-value">CN101055578 A, </span><span class="patent-bibdata-value">CN101055578A, </span><span class="patent-bibdata-value">CN200610072533, </span><span class="patent-bibdata-value">CN200610072533.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%99%88%E7%BF%8C%22">陈翌</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BD%95%E4%BD%99%E8%89%AF%22">何余良</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E9%BE%99%E6%90%9C%EF%BC%88%E5%8C%97%E4%BA%AC%EF%BC%89%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">龙搜（北京）科技有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101055578A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101055578A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101055578A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (11),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (5),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200610072533&amp;usg=AFQjCNGpv2vF1iYq34XArxSa64FOeWoYUQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101055578A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGsvXSSRK7REOISFQtMS_Q9Kjq9Xw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT121998768" lang="ZH" load-source="patent-office">基于规则的文档内容挖掘器</invention-title>
      </span><br><span class="patent-number">CN 101055578 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA108232364" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供一种将web、文本、PDF、WordML、RTF、Excel、PowerPoint、MicrosoftWord、FrameMaker等格式文件转换成具有语义的可扩展标记语言的装置和实现方法。本装置，即可扩展标记语言集中器，由预处理器、规则引擎和后处理器等三个部分组成。本装置的预处理器由各种数据文件的驱动器组成，通过数据文件驱动器读取文件内容，然后将文件内容自动处理成一种可操作的可扩展标记语言形式，记为Processible Extensible Markup Language，简称pXML。pXML对数据内容起到归整作用。规则引擎是用已定义好的规则来解析和规整pXML内容。这些规则预先定义在数据文档所对应的标准的转换映射模板中。在后处理器中，用可扩展样式语言或另外标准的转换映射模板来把规整后的pXML转换成最终的具有语义功能的可扩展标记语言。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(16)</span></span></div><div class="patent-text"><div mxw-id="PCLM50820059" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.将非结构化的文档内容转换成具有语义的XML的方法包括步骤：1)通过各种文件对应的驱动器来解析文件内容，然后将文件内容自动预处理成pXML，一种可扩展标记语言形式。将文本内容转换成pXML的目的是归整文档内容。非结构化文档的驱动器包括web文件驱动器、PDF文件驱动器、WordML文件驱动器、RTF文件驱动器、Excel文件驱动器、PowerPoint文件驱动器、Word文件驱动器、Latex文件驱动器和FrameMaker驱动器。2)用文档所对应的映射模板中的映射规则来解析pXML内容，并提取成标准的、具有语义功能的文档内容，并用如DocBook&#160;XML，Legal&#160;XML等扩展标记语言形式来表示。3)用文档所对应的XSLT或外部程序把标准的XML或pXML转换成html、WML等显示格式，以供浏览器终端或阅读器阅读。非结构化文档在转换成具有语义功能的XML时，可根据实际需要来选择以上三个转换步骤。若为了非结构化数据的规整和显示，仅用第一、第三步就可完成。若为了同其它数据保持统一的接口，仅用第一、第二步就可完成。而若为了以某种指定的数据格式的显示和深入分析，则需完成以上三个步骤。</div>
    </div>
    </div> <div class="claim"> <div num="2" class="claim">
      <div class="claim-text">2.将结构化的文档内容转换成具有语义的XML的方法包括步骤：1)通过结构化的文档的驱动器来解析文件内容，将文件内容自动预处理成pXML形式。结构化文档驱动器包括自定义的结构化的文档接口程序，如数据库系统的驱动程序等。2)用结构化的文档所对应的映射模板中的映射规则来解析pXML内容，并转换成标准的、具有语义功能的文档内容，并以如DocBook&#160;XML，Legal&#160;XML等扩展标记语言形式表示。3)用XSLT或外部程序把标准的XML转换成html、WML等显示格式，以供浏览器终端或阅读器阅读。结构化文档内容在转换成具有语义功能的XML时，可根据实际需要来选择以上三个转换步骤。若为了结构化数据的规整和显示，仅用第一、第三步就可完成。若为了同其它数据保持统一的接口，仅用第一、第二步就可完成。而若为了以某种指定的数据格式的显示，则需完成以上三个步骤。</div>
    </div>
    </div> <div class="claim"> <div num="3" class="claim">
      <div class="claim-text">3.在权利1和2中的pXML中定义了元素XMLSTREAM、HEAD、DMETATAGS、DMETA、EMETATAGS、EMETA、DSTYLES、DSTYLE、DSTRUCTURE、BODY、SECTION、PAGE、PARAGRAPH、SPECIALTEXT、TEXT、IMAGE、LINK、FOOTNOTE、ENDNOTE、HEADER、FOOTER、ANCHOR、TAB、HR、MARKER、TABLE、TGROUP、TBODY、THEAD、TFOOT、ROW、CELL、COLUMN、COLUMN-DEF、LIST、LI、LABEL、BLOCKQUOTE、PRE、BREAK、FRAME、SVG、FIELD、INDEXITEM。pXML中元素的属性有Style、css-style、number、font、font-size、font-fixed、origfont、emphasis、emphasis-bold、emphasis-italic、emphasis-underline，emphasis-superscript、emphasis-subscript、x、y、height、width、top、left、align、valign、leftindent、rightindent、spacebefore、spaceafter、textindent、border-left、border-right、border-top、border-bottom、top-padding、Left-padding、right-padding、bottom-padding、rowspan、colspan、width-type、height-type。这些属性可用到多个元素中。</div>
    </div>
    </div> <div class="claim"> <div num="4" class="claim">
      <div class="claim-text">4.在权利1中2)和权利2的2)中，在用驱动器解析和映射模板转换文档内容为pXML元素时，驱动器识别出文档内容中的段落、表格、图、连接、分层、帧等内容，并转换成pXML中的PARAGRAPH、TABLE、IMAGE、LINK、PAGE、FRAME等元素内容。</div>
    </div>
    </div> <div class="claim"> <div num="5" class="claim">
      <div class="claim-text">5.在权利1和权利2中的映射模板是由多个映射规则组成，每个映射规则分预处理规则、映射对象、后处理规则等三种类型，它们的分工如下：1)对于如word、pdf等非结构化的文档，在文档驱动器的解析下，常用预处理规则来对文档内容进行预处理。预处理规则的主要目的是将文档转换成pXML。然后，用映射对象解析pXML。2)映射对象是映射规则的核心，主要用于解析文档、抽取文本内容、最终以XML来表达文档内容。映射对象作用是将文档转换成有意义的XML的、可自我定义的规则。映射模板可能有一个或多个映射对象。在定义映射对象时需要考虑最终的输出XML的方式，并用标记符号标定出来。3)后处理规则是XML元素执行完后所进行的后续处理工作。一般情况用XSLT或其它外部程序，就可将XML形式的文档内容转换成一种最终的显示格式，最终显示格式可能是HTML，WML、sHTML等，以便于显示。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.在权利5中，一个映射对象包括输入规则、输出规则及子映射对象等三个部分，各部分解释如下：1)映射对象的输入规则是用于寻找源文档的特定内容，该过程可称之为输入选择，相似一个文字处理器从文档中搜索内容。输入规则从打开后的文档中搜索出特定语句并标记出所选语句内容，用模式匹配的方法和布尔规则来决定选择内容。一般而言，输入规则是映射对象的基础，映射对象的映射方式决定了映射对象的选择内容。2)映射对象的输出规则用于创建映射对象的输出的XML元素，包括元素的属性、内容及标签的名称等。3)映射对象的子映射对象和子规则用于分级处理输入选择内容。</div>
    </div>
    </div> <div class="claim"> <div num="7" class="claim">
      <div class="claim-text">7.在权利5中，映射对象具有如下基本属性和功能：a)映射对象的名称是用于追踪和调用映射对象，且在映射模板中的定义是独一无二。b)即调即用开关。当需调用映射对象时，映射对象是不能自动启动，而是被其它映射对象或映射模板来调用它。因此，默认为关闭状态，表示为当它所在映射模板被启动或它被其它映射对象调用时，映射对象被启用。c)激活开关。当启用所有映射对象时，只有已打开激活开关的映射对象才能被启用。一般默认为关闭状态。d)启动次序。当启用所有映射对象时，所有的映射对象将按照预定义次序被调用，直到映射对象的输入规则输出成功。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8.在权利6中的所定义的映射对象中，输入规则是它的核心，指导映射对象解析输入文本内容并得到某数据。若输入的是文本流或文档，便称之为文本选择；若输入的是XML文档或数据流，则称之为元素选择。因此，按输入格式，映射对象的输入规则大体可分为两大类：1)以如text、XML中的#PCDATA等文本内容做为输入的文本输入规则。基于文本输入规则的映射对象能在文档或特定的文本中找到正确的文本内容。2)以如word，pdf，Framemaker，html等文件内容被预处理成pXML形式或其它结构化格式数据做为输入内容的元素输入规则。基于元素输入规则的映射对象在找到合适的元素对象后，用文本解析的输入规则来解析XML元素。</div>
    </div>
    </div> <div class="claim"> <div num="9" class="claim">
      <div class="claim-text">9.权利8的1)中所定义的文本输入规则用于解析文本内容或来自元素的文本内容。文本输入规则包括文本遍历、文本解析、标记语法等三种规则，可分为文本解析规则和标记语法规则等两大类。</div>
    </div>
    </div> <div class="claim"> <div num="10" class="claim">
      <div class="claim-text">10.在权利9中的文本解析规则包括行规则、固定长度规则、正则表达式规则、超文本标签规则、文本匹配规则等规则。它们分别定义如下：1)行规则。在文本输入中选择某指定行的文本内容。2)固定长度规则。在文本输入中选择某固定长度的文本内容。3)正则表达式规则。用正则表达式解析输入文本内容。4)超文本标签规则。从文本输入中提取标签匹配方法。5)文本匹配规则。用特定的起始字符串和中止字符串来选取特定的字符串。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11.在权利9中的标记语法也称为词语法规则，采用语法解析方法来解析文本输入内容。标记语法有顺序规则、块或规则、重复规则、模板对象规则、符号标签规则、数字标签规则、字符串规则、存在规则，不存在规则、词规则、词大写规则、空规则等标记语法规则。1)顺序规则是标记语法中的默认规则，是近邻方式来选择标记。对一个有效的SEQUENCE规则而言，它的所有子规则须在某行内能匹配上该文本输入。它的子规则可能是映射对象或其它标记。它也可能作为一个子规则。2)块或规则实际上是一个交换准则。它有子规则也可作为其它规则的子规则。3)重复规则是当其子规则匹配成功一次以上时，返回为成功。它只能有一个子规则，但它也可作为其它规则的子规则。4)模板对象规则是封装其它映射对象的子规则，来对输入文本内容进行解析。5)符号标签规则是在找到指定符号标记后将返回成功，而指定字符标记作为它的参数来指定。符号标签规则没有子规则，但当可作为其它规则的子规则。6)数字标签规则是在找到数字标记后将返回成功。该数字标记可能为正或负、十进制或其它、有限或无限。缺省为无限。数字标签规则没有子规则，但其可作为其它映射对象的子规则。7)字符串规则在找到指定字符串后成功返回。指定字符串是它的参数，字符串规则没有子规则当可作为其它规则的子规则。8)存在规则是在匹配上标签列中的某个标签时成功返回。若只有一个标签而不是一列时，用文字标签规则。存在标签规则没有子规则，可作为其它规则的子规则。9)不存在规则在所有标记都不能匹配上字符串时成功返回。不存在规则没有子规则，但可作为其它规则的子规则。10)词规则和词大写规则用于解析词，但不确定那些词。词规则和词大写规则之间的区别在于分区大小写。词规则和词大写规则没有子规则，但可作为其它规则的子规则。11)空规则是用于执行可任选元素的表达式。它在任何情况下都返回真。</div>
    </div>
    </div> <div class="claim"> <div num="12" class="claim">
      <div class="claim-text">11.在权利8的2)中的元素输入规则从其功能上可大体分为初级元素输入规则和高级元素输入规则两大类。它们的功能如下：1)初级元素输入规则是用于判断当前选定的XML元素是否能匹配上。2)高级元素输入规则不单纯用于判断当前元素，还用于一系列元素，这些元素包括当前元素的子孙，也可能为子元素，或文本节点的子节点等。</div>
    </div>
    </div> <div class="claim"> <div num="13" class="claim">
      <div class="claim-text">12.在权利11的1)中，初级元素输入规则有如下几类：1)组合类规则。组合类规则用布尔逻辑组合其子规则，组合类规则有“与”、“或”、“否”等。2)对比类规则。对比类规则是按某种方式比较规则的主体，对比类规则有“包含”、“字符串相等”、“数字相等”、“小于”、“大于”、“大于或等于”、“小于或等于”、“真”、“假”、“大写”、“小写”、“起点包含”等。3)速记类规则。速记类规则用于匹配输入元素的特定属性或名称，有“包含格式”、“格式等于”、“名称等于”等规则。4)混合类规则有“任意”、“存在”、“越界”等规则。“任意”规则能处理任何元素时都返回真。“存在”规则表示当前元素是否存在有规则所定义的对象。“越界”规则是用于判断对象的插入点是否在在制定的元素范围内。5)拥有类规则。拥有规则包括“包含文本”、“包含子元素”等规则。“包含文本”规则是指当前元素含有与其相关文本的时，返回真；“包含子元素”规则是指当前元素有任意子元素时，返回真。6)调用类规则。执行规则用于调用其它映射对象的规则，有“执行规则”、“后代执行规则”、等。7)XML路径语言评价规则，即为“XPATH评价”规则，在获取XPATH表达式，在当前元素中来评价XPATH，并得到返回结果。8)其它类规则。其它类规则包括“节点类型”、“首个兄弟节点”、“最后兄弟节点”等。“节点类型”规则用于判断节点是否是文本、元素、CDATA区等。首个兄弟节点”和“最后兄弟节点”规则判断当前元素或节点在兄弟节点集中的位置是否为第一个或最后一个节点或元素。</div>
    </div>
    </div> <div class="claim"> <div num="14" class="claim">
      <div class="claim-text">13.在权利12的2)中的高级规则包括语法序列规则、首尾序列规则和子映射对象规则等规则。这些规则定义如下：1)语法序列规则用于执行一系列的、连续的XML输入元素，每个元素互为相邻，形成一个序列，从而在语法上形成一个层级关系。这些元素可能为当前元素的子元素、子节点或兄弟节点。2)首尾序列规则用于执行一系列的互为相邻的元素集。与语法序列规则的区别是，首尾序列规则只关心起始和结束元素的执行顺序，不关心中间元素的执行顺序，而语法序列规则则严格按照元素的排列顺序执行。3)子映射对象规则。子映射对象规则指定一些映射对象做为当前对象的自映射对象后，按照指定顺序执行这些子映射对象。</div>
    </div>
    </div> <div class="claim"> <div num="15" class="claim">
      <div class="claim-text">14.权利6的2)中的输出规则是用于按照一定的格式要求输出映射对象处理后的文本内容。映射对象包括输出标签名、输出值、输出值属性等三部分内容。其中，输出标签名定义映射对象的输出处理后XML元素的标签名，它可能是一个常量，也可为原元素的标签名；输出规则中的输出值定义XML元素的文本处理结果；而输出规则中的输出元素属性定义XML元素的属性。每个属性有其对应的规则，即可能为常值，也可为所指定的文本或XML元素。输出规则依赖于输入规则是进行文本解析规则还是XML元素解析规则。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">15.在权利14中的映射对象的输出规则具有如下规则：1)“无指定”输出规则表示输出元素将无输出值，即输出元素没有任何文本内容。2)“完整输入文本”输出规则表示输出元素的值是输入规则的输入内容。若输入内容是文本，则将文本拷贝给输出元素；若输入内容是XML元素，则该元素的文本内容拷贝给输出元素。3)“输入”输出规则表示按某种方式从输入提取的内容来作为输出元素的值，如输入的文本或属性或运行XPATH表达式等。4)“常值”输出规则表示输出元素的值为一个固定的文本字符串。5)“子结果”输出规则表示输出元素的值为该映射对象的子映射对象。6)“最大子结果”输出规则表示当前映射对象的所有子映射对象的输出XML元素的最大值作为当前映射对象的输出结果。7)“平均子结果”输出规则表示当前映射对象的所有子映射对象的输出XML元素的平均值作为当前映射对象的输出结果。8)“表映射”输出规则表示输入或集合来用于建立输出结果的对照表，以便于确定输出元素的实际值。例如，若输出元素的值为“男”或“女”，而输入是“M”或“F”，以次建立对应关系。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES57879398" lang="ZH" load-source="patent-office" class="description">
    <invention-title lang="ZH">基于规则的文档内容挖掘器</invention-title>
    <technical-field>
      <p>技术领域</p>
      <p>本发明涉及如何从超文本、文本、各种文档等非结构化的文档和以XML和类XML的结构化文档中进行内容选择分析，并自动转换为指定的可扩展标记语言形式。</p>
    </technical-field>
    <background-art>
      <p>背景技术</p>
      <p>扩展的标记语言(Extensible&#160;Markup&#160;Language，缩写为XML)是SGML(Standard&#160;Generalized&#160;Markup&#160;Language，标准通用标记语言)的一个子集，是简化的SGML。它是互联网联合组织(W3C)创建一组规范，以便于软件开发人员和内容创作者在网页上组织信息，其目的不仅在于满足不断增长的网络应用需求，而且也在于确保在通过网络进行交互合作时，具有良好的可靠性与互操作性。由于XML可以自定义文件类型，有利于信息的表达和结构化组织，且可以以一致的方式格式化和传送数据，大大降低了数据管理和交换的成本。XML的强大之处就在于它具有一套统一的数据格式，这种统一的数据格式可以使数据管理和交换的成本更低，也更易于管理。结构化信息的一个主要的用处就是允许不同格式的数据可以相互交换。不同的行业往往创建不同的规则来确定本行业内交换信息所需的内容模型。一旦这个内容模型被确定，整个行业就需要都使用这个内容模型来标记信息以保证行业内彼此能容易且有效地共享信息。因此，XML在电子商务、信息服务、通讯等领域有着广泛应用。</p>
      <p>本发明的目的是通过该方法和装置来归整非结构化文档和结构化文档内容，实现数据的无缝连接和显示。</p>
      <p>本发明的再一个目的是通过有语义的可扩展标记语言来实现对数据文件内容的智能机器理解。</p>
      <p>本发明解决上述问题的技术方案如下：1.将非结构化的文档内容转换成具有语义的XML的方法包括步骤：1)通过各种文件对应的驱动器来解析文件内容，然后将文件内容自动预处理成pXML，一种可扩展标记语言形式。将文本内容转换成pXML的目的是归整文档内容。非结构化文档的驱动器包括web文件驱动器、PDF文件驱动器、WordML文件驱动器、RTF文件驱动器、Excel文件驱动器、PowerPoint文件驱动器、Word文件驱动器、Latex文件驱动器和FrameMaker驱动器。</p>
      <p>2)用文档所对应的映射模板中的映射规则来解析pXML内容，并提取成标准的、具有语义功能的文档内容，并用如DocBook&#160;XML，Legal&#160;XML等扩展标记语言形式来表示。</p>
      <p>3)用文档所对应的XSLT或外部程序把标准的XML或pXML转换成html、WML等显示格式，以供浏览器终端或阅读器阅读。</p>
      <p>非结构化文档在转换成具有语义功能的XML时，可根据实际需要来选择以上三个转换步骤。若为了非结构化数据的规整和显示，仅用第一、第三步就可完成。若为了同其它数据保持统一的接口，仅用第一、第二步就可完成。而若为了以某种指定的数据格式的显示和深入分析，则需完成以上三个步骤。</p>
      <p>2.将结构化的文档内容转换成具有语义的XML的方法包括步骤：1)通过结构化的文档的驱动器来解析文件内容，将文件内容自动预处理成pXML形式。结构化文档驱动器包括自定义的结构化的文档接口程序，如数据库系统的驱动程序等。</p>
      <p>2)用结构化的文档所对应的映射模板中的映射规则来解析pXML内容，并转换成标准的、具有语义功能的文档内容，并以如DocBook&#160;XML，Legal&#160;XML等扩展标记语言形式表示。</p>
      <p>3)用XSLT或外部程序把标准的XML转换成html、WML等显示格式，以供浏览器终端或阅读器阅读。</p>
      <p>结构化文档内容在转换成具有语义功能的XML时，可根据实际需要来选择以上三个转换步骤。若为了结构化数据的规整和显示，仅用第一、第三步就可完成。若为了同其它数据保持统一的接口，仅用第一、第二步就可完成。而若为了以某种指定的数据格式的显示，则需完成以上三个步骤。</p>
      <p>3.根据上述1和2中所用到的pXML定义了元素XMLSTREAM、HEAD、DMETATAGS、DMETA、EMETATAGS、EMETA、DSTYLES、DSTYLE、DSTRUCTURE、BODY、SECTION、PAGE、PARAGRAPH、SPECIALTEXT、TEXT、IMAGE、LINK、FOOTNOTE、ENDNOTE、HEADER、FOOTER、ANCHOR、TAB、HR、MARKER、TABLE、TGROUP、TBODY、THEAD、TFOOT、ROW、CELL、COLUMN、COLUMN-DEF、LIST、LI、LABEL、BLOCKQUOTE、PRE、BREAK、FRAME、SVG、FIELD、INDEXITEM。</p>
      <p>pXML中元素的属性有Style、css-style、number、font、font-size、font-fixed、origfont、cmphasis、emphasis-bold、emphasis-italic、emphasis-underline，emphasis-superscript、emphasis-subseript、x、y、height、width、top、left、align、valign、leftindent、rightindent、spacebefore、spaceafter、textindent、border-left、border-right、border-top、border-bottom、top-padding、Left-padding、right-padding、bottom-padding、rowspan、colspan、width-type、height-type。这些属性可用到多个元素中。</p>
      <p>4.根据上述1中步骤2和2的步骤2，用驱动器解析和映射模板转换文档内容为pXML元素时，驱动器识别出文档内容中的段落、表格、图、连接、分层、帧等内容，并转换成pXML中的PARAGRAPH、TABLE、IMAGE、LINK、PAGE、FRAME等元素内容。</p>
      <p>5.根据上述1和2中所用到的映射模板是由多个映射规则组成，每个映射规则分预处理规则、映射对象、后处理规则等三种类型，它们的分工如下：1)对于如word、pdf等非结构化的文档，在文档驱动器的解析下，常用预处理规则来对文档内容进行预处理。预处理规则的主要目的是将文档转换成pXML。然后，用映射对象解析pXML。</p>
      <p>2)映射对象是映射规则的核心，主要用于解析文档、抽取文本内容、最终以XML来表达文档内容。映射对象作用是将文档转换成有意义的XML的、可自我定义的规则。映射模板可能有一个或多个映射对象。在定义映射对象时需要考虑最终的输出XML的方式，并用标记符号标定出来。</p>
      <p>3)后处理规则是XML元素执行完后所进行的后续处理工作。一般情况用XSLT或其它外部程序，就可将XML形式的文档内容转换成一种最终的显示格式，最终显示格式可能是HTML，WML、sHTML等，以便于显示。</p>
      <p>6.上述5中所用的映射对象包括输入规则、输出规则及子映射对象等三个部分，各部分解释如下：1)映射对象的输入规则是用于寻找源文档的特定内容，该过程可称之为输入选择，相似一个文字处理器从文档中搜索内容。输入规则从打开后的文档中搜索出特定语句并标记出所选语句内容，用模式匹配的方法和布尔规则来决定选择内容。一般而言，输入规则是映射对象的基础，映射对象的映射方式决定了映射对象的选择内容。</p>
      <p>2)映射对象的输出规则用于创建映射对象的输出的XML元素，包括元素的属性、内容及标签的名称等。</p>
      <p>3)映射对象的子映射对象和子规则用于分级处理输入选择内容。</p>
      <p>7.上述5中所用到的映射对象具有如下基本属性和功能：a)映射对象的名称是用于追踪和调用映射对象，且在映射模板中的定义是独一无二。</p>
      <p>b)即调即用开关。当需调用映射对象时，映射对象是不能自动启动，而是被其它映射对象或映射模板来调用它。因此，默认为关闭状态，表示为当它所在映射模板被启动或它被其它映射对象调用时，映射对象被启用。</p>
      <p>c)激活开关。当启用所有映射对象时，只有已打开激活开关的映射对象才能被启用。一般默认为关闭状态。</p>
      <p>d)启动次序。当启用所有映射对象时，所有的映射对象将按照预定义次序被调用，直到映射对象的输入规则输出成功。</p>
      <p>8.对于上述6中的所定义的映射对象，输入规则是它的核心，指导映射对象解析输入文本内容并得到某数据。若输入的是文本流或文档，便称之为文本选择；若输入的是XML文档或数据流，则称之为元素选择。因此，按输入格式，映射对象的输入规则大体可分为两大类：1)以如text、XML中的#PCDATA等文本内容做为输入的文本输入规则。基于文本输入规则的映射对象能在文档或特定的文本中找到正确的文本内容。</p>
      <p>2)以如word，pdf，Framemaker，html等文件内容被预处理成pXML形式或其它结构化格式数据做为输入内容的元素输入规则。基于元素输入规则的映射对象在找到合适的元素对象后，用文本解析的输入规则来解析XML元素。</p>
      <p>9.上述8的1)中所定义的文本输入规则用于解析文本内容或来自元素的文本内容。文本输入规则包括文本遍历、文本解析、标记语法等三种规则，可分为文本解析规则和标记语法规则等两大类。</p>
      <p>10.在上述9中的文本解析规则包括行规则、固定长度规则、正则表达式规则、超文本标签规则、文本匹配规则等规则。它们分别定义如下：1)行规则。在文本输入中选择某指定行的文本内容。</p>
      <p>2)固定长度规则。在文本输入中选择某固定长度的文本内容。</p>
      <p>3)正则表达式规则。用正则表达式解析输入文本内容。</p>
      <p>4)超文本标签规则。从文本输入中提取标签匹配方法。</p>
      <p>5)文本匹配规则。用特定的起始字符串和中止字符串来选取特定的字符串。</p>
      <p>11.在上述9中的标记语法也称为词语法规则，采用语法解析方法来解析文本输入内容。标记语法有顺序规则、块或规则、重复规则、模板对象规则、符号标签规则、数字标签规则、字符串规则、存在规则，不存在规则、词规则、词大写规则、空规则等标记语法规则。</p>
      <p>1)顺序规则是标记语法中的默认规则，是近邻方式来选择标记。对一个有效的SEQUENCE规则而言，它的所有子规则须在某行内能匹配上该文本输入。它的子规则可能是映射对象或其它标记。它也可能作为一个子规则。</p>
      <p>2)块或规则实际上是一个交换准则。它有子规则也可作为其它规则的子规则。</p>
      <p>3)重复规则是当其子规则匹配成功一次以上时，返回为成功。它只能有一个子规则，但它也可作为其它规则的子规则。</p>
      <p>4)模板对象规则是封装其它映射对象的子规则，来对输入文本内容进行解析。</p>
      <p>5)符号标签规则是在找到指定符号标记后将返回成功，而指定字符标记作为它的参数来指定。符号标签规则没有子规则，但当可作为其它规则的子规则。</p>
      <p>6)数字标签规则是在找到数字标记后将返回成功。该数字标记可能为正或负、十进制或其它、有限或无限。缺省为无限。数字标签规则没有子规则，但其可作为其它映射对象的子规则。</p>
      <p>7)字符串规则在找到指定字符串后成功返回。指定字符串是它的参数，字符串规则没有子规则当可作为其它规则的子规则。</p>
      <p>8)存在规则是在匹配上标签列中的某个标签时成功返回。若只有一个标签而不是一列时，用文字标签规则。存在标签规则没有子规则，可作为其它规则的子规则。</p>
      <p>9)不存在规则在所有标记都不能匹配上字符串时成功返回。不存在规则没有子规则，但可作为其它规则的子规则。</p>
      <p>10)词规则和词大写规则用于解析词，但不确定那些词。词规则和词大写规则之间的区别在于分区大小写。词规则和词大写规则没有子规则，但可作为其它规则的子规则。</p>
      <p>11)空规则是用于执行可任选元素的表达式。它在任何情况下都返回真。</p>
      <p>11.在上述8的2)中的元素输入规则从其功能上可大体分为初级元素输入规则和高级元素输入规则两大类。它们的功能如下：1)初级元素输入规则是用于判断当前选定的XML元素是否能匹配上。</p>
      <p>2)高级元素输入规则不单纯用于判断当前元素，还用于一系列元素，这些元素包括当前元素的子孙，也可能为子元素，或文本节点的子节点等。</p>
      <p>12.在上述11的1)中，初级元素输入规则有如下几类：1)组合类规则。组合类规则用布尔逻辑组合其子规则，组合类规则有“与”、“或”、“否”等。</p>
      <p>2)对比类规则。对比类规则是按某种方式比较规则的主体，对比类规则有“包含”、“字符串相等”、“数字相等”、“小于”、“大于”、“大于或等于”、“小于或等于”、“真”、“假”、“大写”、“小写”、“起点包含”等。</p>
      <p>3)速记类规则。速记类规则用于匹配输入元素的特定属性或名称，有“包含格式”、“格式等于”、“名称等于”等规则。</p>
      <p>4)混合类规则有“任意”、“存在”、“越界”等规则。“任意”规则能处理任何元素时都返回真。“存在”规则表示当前元素是否存在有规则所定义的对象。“越界”规则是用于判断对象的插入点是否在在制定的元素范围内。</p>
      <p>5)拥有类规则。拥有规则包括“包含文本”、“包含子元素”等规则。“包含文本”规则是指当前元素含有与其相关文本的时，返回真；“包含子元素”规则是指当前元素有任意子元素时，返回真。</p>
      <p>6)调用类规则。执行规则用于调用其它映射对象的规则，有“执行规则”、“后代执行规则”、等。</p>
      <p>7)XML路径语言评价规则，即为“XPATH评价”规则，在获取XPATH表达式，在当前元素中来评价XPATH，并得到返回结果。</p>
      <p>8)其它类规则。具它类规则包括“节点类型”、“首个兄弟节点”、“最后兄弟节点”等。“节点类型”规则用于判断节点是否是文本、元素、CDATA区等。首个兄弟节点”和“最后兄弟节点”规则判断当前元素或节点在兄弟节点集中的位置是否为第一个或最后一个节点或元素。</p>
      <p>13.在上述12的2)中的高级规则包括语法序列规则、首尾序列规则和子映射对象规则等规则。这些规则定义如下：1)语法序列规则用于执行一系列的、连续的XML输入元素，每个元素互为相邻，形成一个序列，从而在语法上形成一个层级关系。这些元素可能为当前元素的子元素、子节点或兄弟节点。</p>
      <p>2)首尾序列规则用于执行一系列的互为相邻的元素集。与语法序列规则的区别是，首尾序列规则只关心起始和结束元素的执行顺序，不关心中间元素的执行顺序，而语法序列规则则严格按照元素的排列顺序执行。</p>
      <p>3)子映射对象规则。子映射对象规则指定一些映射对象做为当前对象的自映射对象后，按照指定顺序执行这些子映射对象。</p>
      <p>14.上述6的2)中的输出规则是用于按照一定的格式要求输出映射对象处理后的文本内容。映射对象包括输出标签名、输出值、输出值属性等三部分内容。其中，输出标签名定义映射对象的输出处理后XML元素的标签名，它可能是一个常量，也可为原元素的标签名；输出规则中的输出值定义XML元素的文本处理结果；而输出规则中的输出元素属性定义XML元素的属性。每个属性有其对应的规则，即可能为常值，也可为所指定的文本或XML元素。输出规则依赖于输入规则是进行文本解析规则还是XML元素解析规则。</p>
      <p>15.在上述14中的映射对象的输出规则具有如下规则：1)“无指定”输出规则表示输出元素将无输出值，即输出元素没有任何文本内容。</p>
      <p>2)“完整输入文本”输出规则表示输出元素的值是输入规则的输入内容。若输入内容是文本，则将文本拷贝给输出元素；若输入内容是XML元素，则该元素的文本内容拷贝给输出元素。</p>
      <p>3)“输入”输出规则表示按某种方式从输入提取的内容来作为输出元素的值，如输入的文本或属性或运行XPATH表达式等。</p>
      <p>4)“常值”输出规则表示输出元素的值为一个固定的文本字符串。</p>
      <p>5)“子结果”输出规则表示输出元素的值为该映射对象的子映射对象。</p>
      <p>6)“最大子结果”输出规则表示当前映射对象的所有子映射对象的输出XML元素的最大值作为当前映射对象的输出结果。</p>
      <p>7)“平均子结果”输出规则表示当前映射对象的所有子映射对象的输出XML元素的平均值作为当前映射对象的输出结果。</p>
      <p>8)“表映射”输出规则表示输入或集合来用于建立输出结果的对照表，以便于确定输出元素的实际值。例如，若输出元素的值为“男”或“女”，而输入是“M”或“F”，以次建立对应关系。</p>
    </background-art>
    <description-of-drawings>
      <p>附图说明</p>
      <p>图1.文本内容挖掘器的构成。</p>
      <p>图2.文本内容挖掘器的工作流程。</p>
      <p>图3.映射对象实例。</p>
      <p>图4.映射模板实例。</p>
    </description-of-drawings>
    <mode-for-invention>
      <p>具体实施方式</p>
      <p>文本内容挖掘器由文档所对应的映射模板包括预处理器、规则引擎和后处理器等三部分组成，如图1所示。预处理器使用预处理规则将源文件转换成pXML，然后用规则引擎把一些特定的元素进行文本挖掘和内容抽取。后处理器将提取的内容转换成一种指定格式输出内容。</p>
      <p>在图2中，非结构化文档和结构化文档通过其所对应的驱动器来解析文档，识别文档的相关格式内容，并将它们转换成pXML格式。如pdf、doc、rtf、ppt、html、mif等非结构化文档用其所对应的驱动器将文档内容解析后生成pXML中的相应的元素内容，如SECTION、PAGE、PARAGRAPH、SPECIALTEXT、TEXT、IMAGE、LINK等。</p>
      <p>图2中的规则引擎是对pXML中的元素文本内容按规则进行解析。规则引擎由映射对象组成。映射对象需有输入规则，输入规则进行文本匹配pXML元素内容，抽取映射规则所需的文本内容。而映射对象的输出规则对选择后的文本以何种格式输出文本内容。简单而言，一个映射对象用模式匹配技术从输入文档中找到特定内容，如章、节、段落或其它关键词。一旦找到后，映射对象创建输出的XML元素，也成为核心元素，它们通过映射模板所定义的输出格式输出成文档或数据流。一个映射对象的输出包括父元素、祖先元素、子元素和兄弟元素等内容。</p>
      <p>映射对象是映射模板的基本构件，用于将一个自由格式的非结构化或半结构化的文档转换成XML。映射对象从这些非结构化的文本内容中抽取有意义内容，并生成具有语义功能的XML，这些映射对象依赖于转换和源文件内容。输出元素名称依赖于映射对象的定义，如映射对象可能从文本中查找一个日期，则可在映射对象中创建输出元素可命名为&amp;lt;Date&amp;gt;&amp;lt;/Date&amp;gt;或其它名称。</p>
      <p>图3是一个映射对象的实例，其中，映射对象名为“header_paragraph”，输入内容为XML元素，输入规则类型为XML输入，输入规则有″NAME_EQUALS″和″STRING_EQUALS″子规则，输出规则为：&amp;lt;OutputAttribute&#160;outputname＝″number″outputtype＝″input″inputtype＝″attribute″inputname＝″number″/&amp;gt;</p>
      <p>子映射对象如下：&amp;lt;Children&#160;xmlchildrenpasstype＝″currentelement″childsettype＝″alternate″&amp;gt;</p>
      <p>&amp;lt;OBJECT&#160;ref＝″PARA_BODY″minOccurs＝″0″maxOccurs＝″unbounded″/&amp;gt;</p>
      <p>&amp;lt;/Children&amp;gt;</p>
      <p>映射模板可认为由是映射对象的集合。每个映射对象至少产生一个输出元素，因此，在指定输出的XML文件中，一个输出元素需有一个映射对象来生成。而一个XML文件有且仅有一个根元素。因此，输出XML文件应当类似如下：</p>
      <p>&amp;lt;PressRelease&amp;gt;</p>
      <p>&amp;lt;title&amp;gt;&amp;lt;/title&amp;gt;</p>
      <p>&amp;lt;subtitle&amp;gt;&amp;lt;/subtitle&amp;gt;</p>
      <p>&amp;lt;bookname&amp;gt;&amp;lt;/bookname&amp;gt;</p>
      <p>&amp;lt;prdate&amp;gt;&amp;lt;/prdate&amp;gt;</p>
      <p>&amp;lt;body&amp;gt;</p>
      <p>&amp;lt;para&amp;gt;四库全书-12/17/02-&amp;lt;Bookurl&amp;gt;www.books.com.cn/skqs.html&amp;lt;/Bookurl&amp;gt;announced&#160;today&#160;that....</p>
      <p>&amp;lt;/para&amp;gt;</p>
      <p>&amp;lt;para&amp;gt;...</p>
      <p>&amp;lt;/para&amp;gt;</p>
      <p>&amp;lt;/body&amp;gt;</p>
      <p>&amp;lt;/PressRelease&amp;gt;</p>
      <p>映射对象中的输入规则用于在源文档中搜索特定内容，这些内容可称之为输入选择。输入选择相似与用词处理器从文档中选择特定内容过程。这个过程包括打开文档、搜索特定语句、选定语句内容等。特定情况下，是选择整个语句内容，但需要通过定义映射规则，采用模式匹配和boolean规则选取该语句的部分内容或部分关键词等。因此，输入规则是映射对象的基础。</p>
      <p>映射对象的输出规则决定映射对象怎样创建输出的XML元素。如一个输出XML元素如下：&amp;lt;Release&#160;type＝″news″date＝″5/12/05″&amp;gt;</p>
      <p>....some&#160;text...some&#160;child&#160;elements...</p>
      <p>&amp;lt;/Release&amp;gt;</p>
      <p>映射对象的输出规则将告诉映射对象如何构建输出XML元素，包括输出的标签名称、元素属性、输出文本或cdata节点等内容。</p>
      <p>在映射对象还包括子映射对象和子规则。映射对象在处理输入选择后将反过来调用子映射对象，对原始输入选择的内容进行进一步处理。如当PARAGRAPH被一个映射对象选取后，子映射对象和规则则能处理PARAGRAPH元素中的内容、文本节点以及内部嵌套元素。当处理文档转换成pXML后，当设定映射对象为“可执行子XML元素或拷贝所有文本节点”，映射对象将遍历所选元素的子节点(包括元素和文本节点)。每个子节点将被映射对象遍历一遍，找到输入规则首次匹配的内容，而文本节点一般是直接从源文本输出到输出文档/图4.是一个将HTML转换成Docbook&#160;XML形式的映射模板，在该映射模板中的元素&amp;lt;TransformationRules&amp;gt;定义了如下内容：1)预处理器中的html驱动器。driver＝″HtmlDriverJ″2)文件后缀名。输入后缀extensions＝″.html，.htm″；输出后缀OutputExtension＝″xml″；3)处理内容包括：&amp;lt;OutputParameters＝″Tables＝False|Lists＝True|Graphics＝True|FormattedText＝True|BlankParas＝True|PageBreaks＝False|Links＝True|CopyImages＝True″DebugMode＝″False″/&amp;gt;</p>
      <p>4)文件编码规则。encoding＝″UTF-16″5)输出格式等如下：&amp;lt;PostProcessingRule&#160;driver＝″MAPDriver″extensions＝″″OutputExtension＝″xml″OutputParameters＝″Package＝docbook|Template＝docbook.PostGrammar″ebugMode＝″False″/&amp;gt;</p>
    </mode-for-invention>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101520728B?cl=zh">CN101520728B</a></td><td class="patent-data-table-td patent-date-value">2008年2月25日</td><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">天津书生投资有限公司</td><td class="patent-data-table-td ">一种第三方软件处理符合文档库标准的文档的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101876966B?cl=zh">CN101876966B</a></td><td class="patent-data-table-td patent-date-value">2009年12月4日</td><td class="patent-data-table-td patent-date-value">2014年7月9日</td><td class="patent-data-table-td ">金蝶软件（中国）有限公司</td><td class="patent-data-table-td ">一种利用xsl实现xml自动换行显示的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102402556A?cl=zh">CN102402556A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月16日</td><td class="patent-data-table-td patent-date-value">2012年4月4日</td><td class="patent-data-table-td ">深圳市金蝶中间件有限公司</td><td class="patent-data-table-td ">Xml文件的校验方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102799584A?cl=zh">CN102799584A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年5月24日</td><td class="patent-data-table-td patent-date-value">2012年11月28日</td><td class="patent-data-table-td ">中华人民共和国天津出入境检验检疫局</td><td class="patent-data-table-td ">一种针对检测仪器输出数据筛选提取的处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102831228A?cl=zh">CN102831228A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月30日</td><td class="patent-data-table-td patent-date-value">2012年12月19日</td><td class="patent-data-table-td ">北京信息科技大学</td><td class="patent-data-table-td ">一种异构可扩展置标语言文档的格式转换方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102866986A?cl=zh">CN102866986A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月30日</td><td class="patent-data-table-td patent-date-value">2013年1月9日</td><td class="patent-data-table-td ">中国矿业大学</td><td class="patent-data-table-td ">一种文档格式转换系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102968404A?cl=zh">CN102968404A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月2日</td><td class="patent-data-table-td patent-date-value">2013年3月13日</td><td class="patent-data-table-td ">中国石油天然气股份有限公司</td><td class="patent-data-table-td ">地震资料的初至信息处理方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102968404B?cl=zh">CN102968404B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月2日</td><td class="patent-data-table-td patent-date-value">2016年4月6日</td><td class="patent-data-table-td ">中国石油天然气股份有限公司</td><td class="patent-data-table-td ">地震资料的初至信息处理方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103164201A?cl=zh">CN103164201A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月15日</td><td class="patent-data-table-td patent-date-value">2013年6月19日</td><td class="patent-data-table-td ">航天信息软件技术有限公司</td><td class="patent-data-table-td ">Web页面生成方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2009105994A1?cl=zh">WO2009105994A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年2月25日</td><td class="patent-data-table-td patent-date-value">2009年9月3日</td><td class="patent-data-table-td ">Sursen Corp.</td><td class="patent-data-table-td ">一种处理符合文档库标准的文档的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2009146658A1?cl=zh">WO2009146658A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年6月5日</td><td class="patent-data-table-td patent-date-value">2009年12月10日</td><td class="patent-data-table-td ">Sursen Corp.</td><td class="patent-data-table-td ">一种非结构化数据处理方法和系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/2247">G06F17/2247</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=MyqHAAABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/2785">G06F17/2785</a></span></td></tr><tr><td class="patent-data-table-td "> 欧洲专利分类号</td><td class="patent-data-table-td "><span class="nested-value">G06F17/22M</span>, <span class="nested-value">G06F17/27S</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2007年10月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2007年12月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年4月8日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/f30f84aa62ad7c0b400f/CN101055578A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9F%BA%E4%BA%8E%E8%A7%84%E5%88%99%E7%9A%84%E6%96%87%E6%A1%A3%E5%86%85%E5%AE%B9%E6%8C%96%E6%8E%98%E5%99%A8.pdf?id=MyqHAAABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0eYYFUTBD3PJzThnpBcfI8r9QULA"},"sample_url":"https://www.google.com/patents/reader?id=MyqHAAABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>