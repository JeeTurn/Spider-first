<!DOCTYPE html><html><head><title>专利 CN101996099A - 一种消息处理方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_5115ea495017d9115e613207d3810e5a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_5115ea495017d9115e613207d3810e5a__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种消息处理方法及系统"><meta name="DC.contributor" content="罗端红" scheme="inventor"><meta name="DC.contributor" content="山东中创软件工程股份有限公司;山东中创软件商用中间件股份有限公司" scheme="assignee"><meta name="DC.date" content="2010-11-17" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种消息处理方法及系统。所述方法包括：接收待处理的消息；根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先级的值；按照所设置的队列优先级，将消息添加到消息队列中；为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处理线程设置对应的操作系统调度优先级。相应的本发明还公开了一种消息处理系统。利用本发明的技术方案，可达到严格按照消息的用户优先级处理消息的效果。"><meta name="DC.date" content="2011-3-30"><meta name="DC.relation" content="CN:101433019:A" scheme="references"><meta name="DC.relation" content="CN:101599987:A" scheme="references"><meta name="citation_patent_publication_number" content="CN:101996099:A"><meta name="citation_patent_application_number" content="CN:201010549080"><link rel="canonical" href="https://www.google.com/patents/CN101996099A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101996099A?cl=zh"/><meta name="title" content="专利 CN101996099A - 一种消息处理方法及系统"/><meta name="description" content="本发明公开了一种消息处理方法及系统。所述方法包括：接收待处理的消息；根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先级的值；按照所设置的队列优先级，将消息添加到消息队列中；为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处理线程设置对应的操作系统调度优先级。相应的本发明还公开了一种消息处理系统。利用本发明的技术方案，可达到严格按照消息的用户优先级处理消息的效果。"/><meta property="og:title" content="专利 CN101996099A - 一种消息处理方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101996099A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101996099A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=JchyBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101996099A&amp;usg=AFQjCNEEwu3sF9FpSe7b42tif3fBiipmAQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/724617dc1c96f1f526b0/CN101996099A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/724617dc1c96f1f526b0/CN101996099A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101996099A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101996099A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101996099A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种消息处理方法及系统。所述方法包括：接收待处理的消息；根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先级的值；按照所设置的队...</span><span itemprop="url">https://www.google.com/patents/CN101996099A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101996099A - 一种消息处理方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101996099A - 一种消息处理方法及系统" title="专利 CN101996099A - 一种消息处理方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101996099 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010549080</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年3月30日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年11月17日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年11月17日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010549080.8, </span><span class="patent-bibdata-value">CN 101996099 A, </span><span class="patent-bibdata-value">CN 101996099A, </span><span class="patent-bibdata-value">CN 201010549080, </span><span class="patent-bibdata-value">CN-A-101996099, </span><span class="patent-bibdata-value">CN101996099 A, </span><span class="patent-bibdata-value">CN101996099A, </span><span class="patent-bibdata-value">CN201010549080, </span><span class="patent-bibdata-value">CN201010549080.8</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%BD%97%E7%AB%AF%E7%BA%A2%22">罗端红</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%B1%B1%E4%B8%9C%E4%B8%AD%E5%88%9B%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%3B%E5%B1%B1%E4%B8%9C%E4%B8%AD%E5%88%9B%E8%BD%AF%E4%BB%B6%E5%95%86%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">山东中创软件工程股份有限公司;山东中创软件商用中间件股份有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101996099A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101996099A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101996099A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=JchyBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010549080&amp;usg=AFQjCNF6Rg6B9w9uFtUXh6JxUezGFIbc4A"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=JchyBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101996099A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFns-Gs7Eu5PZreB-SHJpTv8JrNSg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT102097703" lang="ZH" load-source="patent-office">一种消息处理方法及系统</invention-title>
      </span><br><span class="patent-number">CN 101996099 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA83935003" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种消息处理方法及系统。所述方法包括：接收待处理的消息；根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先级的值；按照所设置的队列优先级，将消息添加到消息队列中；为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处理线程设置对应的操作系统调度优先级。相应的本发明还公开了一种消息处理系统。利用本发明的技术方案，可达到严格按照消息的用户优先级处理消息的效果。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><div mxw-id="PCLM35389570" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种消息处理方法，其特征在于，包括： 接收待处理的消息；根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的队列 优先级的初始值等于该消息的用户优先级的值；按照所设置的队列优先级，将消息添加到消息队列中；为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处理线程设置 对应的操作系统调度优先级。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的方法，其特征在于，所述根据消息的用户优先级为相应的处 理线程设置对应的操作系统调度优先级，具体为：根据预先建立的操作系统调度优先级与消息用户优先级的映射关系为相应的处理线 程设置对应的操作系统调度优先级。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1所述的方法，其特征在于，在将消息添加到消息队列之后，还包括： 根据消息的接收时刻，对具有相同队列优先级的多个消息的队列位置进行排序；其中，将接收时刻较早的消息排在接收时刻较晚的消息之前。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求1所述的方法，其特征在于，还包括：为消息队列中等待时间超过预设阈值的消息提升队列优先级； 对提升队列优先级的消息的等待时间进行初始化； 根据提升后的队列优先级调整该消息的队列位置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求4所述的方法，其特征在于，所述为消息队列中等待时间超过预设阈值的消息提升队列优先级，包括： 为消息队列中等待时间超过预设阈值、且队列优先级不高于预设上限的消息提升队列 优先级。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.	一种消息处理系统，其特征在于，包括： 接收单元，用于接收待处理的消息；队列优先级设置单元，用于根据接收单元接收的消息中携带的用户优先级信息，为消 息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先级的 值；第一排队单元，用于按照所述队列优先级设置单元设置的队列优先级，将消息添加到 消息队列中；消息分配单元，用于为消息队列中的消息分配处理线程，并根据消息的用户优先级为 相应的处理线程设置对应的操作系统调度优先级。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的方法，其特征在于，所述消息分配单元，用于为消息队列中的消息分配处理线程，并根据预先建立的操作 系统调度优先级与消息用户优先级的映射关系为相应的处理线程设置对应的操作系统调 度优先级。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求6所述的系统，其特征在于，还包括：第二排队单元，用于根据消息的接收时刻，对具有相同队列优先级的多个消息的队列 位置进行排序，其中，将接收时刻较早的消息排在接收时刻较晚的消息之前。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求6所述的系统，其特征在于，还包括：队列优先级提升单元，用于为消息队列中等待时间超过预设阈值的消息提升队列优先级；等待时间初始化单元，用于对提升队列优先级的该消息的等待时间进行初始化。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求9所述的系统，其特征在于，所述队列优先级提升单元，用于为消息队列中等待时间超过预设阈值、且队列优先级 不高于预设上限的消息提升队列优先级。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES41201868" lang="ZH" load-source="patent-office" class="description">
    <p>一种消息处理方法及系统</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及通信技术领域，特别是涉及一种消息处理方法。 背景技术</p>
    <p>[0002]	中间件是一种独立的系统软件或服务程序，分布式应用软件借助这种软件在不同 的技术之间共享资源。中间件运行于客户机或服务器的操作系统上，管理计算机资源和网 络通讯，连接两个或两个以上独立运行的应用程序或独立的系统。被连接的系统或应用程 序通过中间件交换信息，协同工作。消息中间件是中间件的一种，它通过支持应用之间的消 息队列、格式化信息和文件的传输来实现应用之间的连接。消息中间件利用高效可靠的消 息传递机制进行平台无关的数据交流，并基于数据通信来进行分布式系统的集成。通过提 供消息传递和消息排队模型，它可以在分布式环境下扩展进程间的通信。</p>
    <p>[0003]	对于消息中间件，需要按照消息的优先级来处理得到的消息，以保证紧急的消息 优先处理。一般的，消息中间件可以支持消息队列，并且以多线程的方式对队列中的消息进 行处理，也就是说，消息中间件可以一次性提取队列中的多个消息，由多个处理线程分别对 所提取的多个消息进行处理。</p>
    <p>[0004]	中间件根据消息的优先级提取消息，保证了优先级高的消息先被提取，但是，在多 线程处理中，由于处理线程本身的运行是由操作系统调度的，具有不确定性，如果具有低优 先级消息的处理线程比具有高优先级消息的处理线程先运行，将导致具有高优先级紧急消 息无法及时处理。</p>
    <p>发明内容</p>
    <p>[0005]	为解决上述技术问题，本发明实施例提供一种消息处理方法，以实现严格按照消 息的用户优先级处理消息，技术方案如下：</p>
    <p>[0006]	一种消息处理方法，包括：</p>
    <p>[0007]	接收待处理的消息；</p>
    <p>[0008]	根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息设置的 队列优先级的初始值等于该消息的用户优先级的值；</p>
    <p>[0009]	按照所设置的队列优先级，将消息添加到消息队列中；</p>
    <p>[0010]	为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处理线程 设置对应的操作系统调度优先级。</p>
    <p>[0011]	其中，所述根据消息的用户优先级为相应的处理线程设置对应的操作系统调度优 先级，具体为：</p>
    <p>[0012]	根据预先建立的操作系统调度优先级与消息用户优先级的映射关系为相应的处 理线程设置对应的操作系统调度优先级。</p>
    <p>[0013]	其中，在将消息添加到消息队列之后，还包括：</p>
    <p>[0014]	根据消息的接收时刻，对具有相同队列优先级的多个消息的队列位置进行排序；其中，将接收时刻较早的消息排在接收时刻较晚的消息之前。</p>
    <p>[0015]	其中，还包括：</p>
    <p>[0016]	为消息队列中等待时间超过预设阈值的消息提升队列优先级；</p>
    <p>[0017]	对提升队列优先级的消息的等待时间进行初始化；</p>
    <p>[0018]	根据提升后的队列优先级调整该消息的队列位置。</p>
    <p>[0019]	其中，所述为消息队列中等待时间超过预设阈值的消息提升队列优先级，包括：</p>
    <p>[0020]	为消息队列中等待时间超过预设阈值、且队列优先级不高于预设上限的消息提升 队列优先级。</p>
    <p>[0021]	相应的，本发明还提供一种与方法相对应的消息处理系统，该系统包括：</p>
    <p>[0022]	接收单元，用于接收待处理的消息；</p>
    <p>[0023]	队列优先级设置单元，用于根据接收单元接收的消息中携带的用户优先级信息， 为消息设置队列优先级；其中，为消息设置的队列优先级的初始值等于该消息的用户优先 级的值；</p>
    <p>[0024]	第一排队单元，用于按照所述队列优先级设置单元设置的队列优先级，将消息添 加到消息队列中；</p>
    <p>[0025]	消息分配单元，用于为消息队列中的消息分配处理线程，并根据消息的用户优先 级为相应的处理线程设置对应的操作系统调度优先级。</p>
    <p>[0026]	其中，所述消息分配单元，用于为消息队列中的消息分配处理线程，并根据预先建 立的操作系统调度优先级与消息用户优先级的映射关系为相应的处理线程设置对应的操 作系统调度优先级。</p>
    <p>[0027]	其中，还包括：</p>
    <p>[0028]	第二排队单元，用于根据消息的接收时刻，对具有相同队列优先级的多个消息的 队列位置进行排序，其中，将接收时刻较早的消息排在接收时刻较晚的消息之前。</p>
    <p>[0029]	其中，还包括：</p>
    <p>[0030]	队列优先级提升单元，用于为消息队列中等待时间超过预设阈值的消息提升队列 优先级；</p>
    <p>[0031]	等待时间初始化单元，用于对提升队列优先级的该消息的等待时间进行初始化。</p>
    <p>[0032]	其中，所述队列优先级提升单元，用于为消息队列中等待时间超过预设阈值、且队 列优先级不高于预设上限的消息提升队列优先级。</p>
    <p>[0033]	由以上本发明实施例提供的技术方案可见，与现有技术相比，在多线程处理中，为 消息设置用户优先级和队列优先级的同时，根据消息的用户优先级为处理线程设置对应的 操作系统调度优先级。由于操作系统具有按调度优先级调度处理线程的能力，所以操作系 统调用处理线程不再是不确定的，调度优先级高的处理线程优先接受操作系统的调用。这 样使得分配到用户优先级较高的消息的处理线程优先运行，以此实现严格按照消息的用户 优先级处理消息。</p>
    <p>附图说明</p>
    <p>[0034]	为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现 有技术描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明中记载的一些实施例，对于本领域普通技术人员来讲，还可以根据这些附图获得其他 的附图。</p>
    <p>[0035]	图1为本发明实施例所提供的消息处理方法的流程图；</p>
    <p>[0036]	图2为本发明实施例所提供的消息处理方法的第二种流程图；</p>
    <p>[0037]	图3为本发明实施例所提供的消息处理方法的第三种流程图；</p>
    <p>[0038]	图4为本发明实施例所提供的消息处理系统的结构示意图；</p>
    <p>[0039]	图5为本发明实施例所提供的消息处理系统的第二种结构示意图；</p>
    <p>[0040]	图6为本发明实施例所提供的消息处理系统的第三种结构示意图。</p>
    <p>具体实施方式</p>
    <p>[0041 ] 为了使本技术领域的人员更好地理解本发明中的技术方案，下面将结合本发明实 施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施 例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通 技术人员所获得的所有其他实施例，都应当属于本发明保护的范围。</p>
    <p>[0042]	如图1所示，本发明提供了一种消息处理方法，该方法包括：</p>
    <p>[0043]	S101 ：接收待处理的消息；</p>
    <p>[0044]	用户根据需要为每个需要处理的消息设置用户优先级，以此区分紧急消息与非紧 急消息。消息中间件接收用户提交的每个待处理的消息。</p>
    <p>[0045]	S102 ：根据消息中携带的用户优先级信息，为消息设置队列优先级；其中，为消息 设置的队列优先级的初始值等于该消息的用户优先级的值；</p>
    <p>[0046]	为了将待处理的消息按照优先级顺序添加到预先设置好的消息队列中，所以根据 待处理的消息所携带的用户优先级为消息设置队列优先级。所述消息队列为带优先级的队 列。这些待处理的消息队列优先级的初始值设置为该消息的用户优先级。同时，记录每个 待处理消息进入消息中间件的进入时间。</p>
    <p>[0047]	S103 ：按照所设置的队列优先级，将消息添加到消息队列中；</p>
    <p>[0048]	根据待处理的消息的队列优先级将消息添加到消息队列中。按照队列优先级从高 到低的顺序将待处理的消息从消息队列头排列到消息队列尾，也就是队列优先级高的消息 添加到消息队列头部，队列优先级低的消息排列到消息队列尾部。</p>
    <p>[0049]	其中，在多个待处理的消息具有相同队列优先级的情况下，可以随机排列这些消 息之间的顺序。</p>
    <p>[0050]	在本发明实施例的一种优选实施方式中，对于多个具有相同队列优先级的待处理 的消息，根据消息进入消息中间件的时间进行排序，将进入时间较早的待处理的消息排列 在进入时间较晚的待处理的消息之前，使得进入较早的待处理的消息优先于进入时间较晚 的相同队列优先级的消息被提取。</p>
    <p>[0051]	S104:为消息队列中的消息分配处理线程，并根据消息的用户优先级为相应的处 理线程设置对应的操作系统调度优先级。</p>
    <p>[0052]	在多线程处理中，多个处理线程可以同时提取多个待处理的消息。所以为消息队 列中的队列优先级较高的多个待处理的消息同时分配多个处理线程，也就是说，当为空闲 的处理线程分配待处理的消息时，从消息队列头提取与空闲的处理线程个数相同的待处理的消息，以此实现将多个队列优先级较高的待处理消息分配给多个处理线程。并且处理线 程按照所分配到的待处理的消息的用户优先级设置其自身的操作系统调度优先级，使具有 较高用户优先级的消息的处理线程具有较高的调度优先级。操作系统具有识别调度优先级 的能力，所以操作系统对处理线程的调度不再是不确定的，而是根据处理线程的所设置的 操作系统调度优先级来进行调度，为处理线程分配CPU资源，这样可使用户优先级较高消 息的处理线程先于用户优先级较低消息的处理线程运行，保证紧急消息的优先处理，达到 了严格按照消息的用户优先级来处理消息的效果。</p>
    <p>[0053]	本发明的方法实施例中，在多线程处理中，为消息设置用户优先级和队列优先级 的同时，根据消息的用户优先级为处理线程设置对应的操作系统调度优先级。由于操作系 统具有按调度优先级调度处理线程的能力，所以操作系统调用处理线程不再是不确定的。 调度优先级高的处理线程优先接受操作系统的调用，这样使得分配到用户优先级较高的消 息的处理线程优先运行，以此实现严格按照消息的用户优先级处理消息。</p>
    <p>[0054]	需要说明的是，常用的操作系统都具有按调度优先级调度进程或线程的能力，只 是操作系统定义的调度优先级可能与消息的用户优先级是两套不同的优先级规则。所以优 选地，消息中间件需要预先将操作系统所能识别的调度优先级与消息的用户优先级建立一 定的映射关系，较高的调度优先级与较高的用户优先级相对应，较低的调度优先级与较低 的用户优先级相对应，使处理线程能够根据消息的用户优先级设置为操作系统所能识别的 调度优先级，保证操作系统能够识别处理线程的调度优先级。</p>
    <p>[0055]	进一步的，当有新的消息进入消息中间件时，整个消息队列的待处理的消息会按 照队列优先级重新排列。当为处理线程分配待处理的消息时，队列优先级高的消息被提取。 因为时刻有新的待处理的消息被添加到消息队列中，这些新添加的消息的队列优先级如果 较高，则会被优先处理，而处于等待状态的队列优先级较低的消息只能继续等待。在实际应 用中，在经过一段时间后，队列优先级较低的消息会变得紧急，需要及时被处理，所以为了 兼顾这些队列优先级较低的消息，如图2所示，本发明实施例所提供的消息处理方法在步 骤S103之后，还可以进一步包括：</p>
    <p>[0056]	S201 ：判断消息队列中待处理的消息的等待时间是否超过预设的时间阈值，如果 否，则该消息继续等待，不对其做操作，如果是，则进入步骤S202 ；</p>
    <p>[0057]	消息中间件实时检测消息队列中的待处理的消息的等待时间，所述等待时间由消 息对应的特定的计时器从消息进入中间件的时间开始记录。当消息中间件检测到消息队列 中待处理消息中存在等待时间超过预设时间阈值时，则执行步骤S202 ；若检测的结果是不 存在等待时间超过预设的时间阈值的待处理的消息时，则不对消息做任何操作。</p>
    <p>[0058]	S202 ：为该待处理的消息提升队列优先级；</p>
    <p>[0059]	当消息中间件检测到消息队列中存在等待时间超过预设的时间阈值的待处理消 息时，则会提升该待处理的消息的队列优先级。</p>
    <p>[0060]	S203 ：对提升队列优先级的消息的等待时间进行初始化；</p>
    <p>[0061]	提升该待处理的消息的队列优先级后，需要将该消息的等待时间进行初始化，即 将该消息的进入时间修改为提升队列优先级的时间，并将该消息对应的计时器的时间初始 化为零。</p>
    <p>[0062]	S204 ：根据提升后的队列优先级调整该消息的队列位置。[0063]	按照队列优先级的顺序调整提升后的待处理的消息在消息队列中的位置。优选地，相同队列优先级的待处理消息进入时间早的排列在进入时间较晚的待处理消息之前。</p>
    <p>[0064]	本实施例所提供的方案，为等待时间较长的待处理消息提升队列优先级，防止了 用户优先级较低的消息等待时间过长。此外，为了保证更高用户优先级的待处理的消息得 到优先处理，仅为那些等待时间超过预设时间阈值并且队列优先级不高于预设上限的待处 理的消息提升队列优先级，而对那些队列优先级已经超过预设上限的消息将不再提升其队 列优先级。这样既保证了等待时间较长的用户优先级较低的待处理消息可以被及时提取， 又为用户优先级较高的待处理的消息的处理留出资源。</p>
    <p>[0065]	为了使本技术领域的人员更好地理解本发明方案，下面结合具体实施例和附图对 本发明作进一步的详细说明。</p>
    <p>[0066]	消息中间件将消息的用户优先级定义为0-9级，数值越大，优先级越高。用户根据 需要将消息a、消息b、消息c、消息d的用户优先级依次定义为3级、4级、5级、6级，以此区 分各个消息的紧急程度。</p>
    <p>[0067]	如图3所示，本发明所述方法包括：</p>
    <p>[0068]	S301 ：接收用户提交的待处理消息a、消息b、消息c、消息d ；</p>
    <p>[0069]	消息中间件接收用户提交的待处理的消息a、消息b、消息c、消息d。</p>
    <p>[0070]	S302 ：根据各个消息中携带的用户优先级信息，为各个消息设置队列优先级，队列 优先级的初始值为各个消息的用户优先级；</p>
    <p>[0071]	消息中间件根据消息a的用户优先级设置消息a的队列优先级为3，类似的，依次 设置消息b的队列优先级为4，消息c的队列优先级为5，消息d的队列优先级为6。同时记 录各个消息进入消息中间件的时间。</p>
    <p>[0072]	S303 ：按照所设置的队列优先级，将各个消息添加到消息队列中合适的位置；</p>
    <p>[0073]	假设消息队列中存在的待处理的消息为消息e、消息f、消息g，消息e的队列优先 级和用户优先级都为5，消息f的队列优先级和用户优先级都为7、消息g的队列优先级和 用户优先级都为8。在消息a、消息b、消息c、消息d添加到消息队列时，对于相同队列优先 级的消息则将进入时间较早的待处理的消息排列在进入时间较晚的待处理的消息之前，所 以按照各个消息的队列优先级将所有消息进行排序，排序结果如下：</p>
    <p>[0074]	消息	队列优先级 用户优先级</p>
    <p>[0075]	g	8	8</p>
    <p>[0076]	f	7	7</p>
    <p>[0077]	d	6	6</p>
    <p>[0078]	e	5	5</p>
    <p>[0079]	c	5	5</p>
    <p>[0080]	b	4	4</p>
    <p>[0081]	a	3	3</p>
    <p>[0082]	其中，对于消息e和消息c具有相同的队列优先级，但消息e进入消息中间件的时 间早于消息c，所以，优选地，将消息e排列在消息c之前。</p>
    <p>[0083]	S304 ：为消息队列中的各个待处理消息分配处理线程，并根据预先建立的操作系 统调度优先级与消息用户优先级的映射关系为处理线程设置相对应的操作系统调度优先级。</p>
    <p>[0084]	假设操作系统存在三个空闲的处理线程可提供给消息中间件，这三个处理线程为 处理线程1、处理线程2、处理线程3。消息中间件为这三个处理线程分配消息队列中的队列 优先级较高的三个待处理的消息，分配结果如下：</p>
    <p>[0085]	处理线程 消息	用户优先级</p>
    <p>[0086]	1 g 8</p>
    <p>[0087]	2	f	7</p>
    <p>[0088]	3	d	6</p>
    <p>[0089]	当然各个处理线程所分配到的待处理的消息并不一定为上述所示，只要保证一个 空闲处理线程分配到一个待处理的消息即可。</p>
    <p>[0090]	本实施例中，所述的操作系统为Windows操作系统，它的任务调度以线程为单位 进行，线程拥有33个调度优先级，数值为0-32，其中0为最低调度优先级，32为最高调度优 先级，最低调度优先级和最高调度优先级均保留给系统使用。其余的调度优先级可供用户 使用。由于操作系统的调度优先级与消息的用户优先级是不同的优先级规则，所以消息中 间件预先将操作系统调度优先级与消息的用户优先级建立映射关系，如下：</p>
    <p>[0091]	[0,1] &gt; [1,4], [2,7], [3，10]、[4,13], [5，16]、[6，19]、[7,22], [8,25], [9,28] &#8222;</p>
    <p>[0092]	其中，[x, y]中的χ表示消息的用户优先级，y表示操作系统的调度优先级。处理 线程根据消息的用户优先级可设置为操作系统可识别的调度优先级。这样，操作系统就可 以识别出处理线程的调度优先级，并按照调度优先级来调度处理线程。</p>
    <p>[0093]	由上可知，处理线程1、处理线程2、处理线程3的调度优先级依次为25、22、19。所 以，三个处理线程的分配结果以及调度优先级，表示如下：</p>
    <p>[0094]</p>
    <p>[0095]</p>
    <p>[0096]</p>
    <p>[0097]</p>
    <p>[0098]</p>
    <p>处理线程 消息	用户优先级 调度优先级</p>
    <p>1	g	8	25</p>
    <p>2	f	7	22</p>
    <p>3	d	6	19</p>
    <p>本实施例中，操作系统按照处理线程的设置的调度优先级依次调用并运行处理线 程1、处理线程2、处理线程3，这样保证了具有较高用户优先级的待处理消息g先于具有较 低用户优先级的待处理的消息f和消息d运行。</p>
    <p>[0099]	当然，上述操作系统的调度优先级与消息的用户优先级的映射关系仅仅是一种方 式，只要保证较高的用户优先级与较高的调度优先级相映射，还可以根据消息用户优先级 的实际情况，建立其他的映射关系。例如，当用户优先级定义为0-30时，0级表示用户优先 级最低，30级表示用户优先级最高。此时，建立操作系统的调度优先级与消息用户优先级的 映射关系时，可以进行如下映射：</p>
    <p>[0100]	[0,1] &gt; [1,2], [2,3], [3,4], [4,5], [6,7]......[29,30], [30，31]。</p>
    <p>[0101]	其中，[X，y]中的χ表示消息的用户优先级，y表示操作系统的调度优先级。</p>
    <p>[0102]	本发明所述的实施例中，操作系统的调度优先级与消息的用户优先级是两套不同 的优先级规则，所以，需要将调度优先级与消息的用户优先级建立一定的映射关系。可以理 解的是，当操作系统调度优先级与消息的用户优先级是同一套优先级规则时，则不需要建 立映射关系，操作系统便可以识别处理线程的调度优先级。[0103]	可以理解的是，当处理线程运行完毕，处于空闲状态时，消息中间件可以继续提取 消息队列中的待处理消息，然后将所提取的待处理的消息分配给处于空闲状态的处理线程。</p>
    <p>[0104]	消息中间件会实时检测所有待处理消息的等待时间，当等待时间超过预设的时间 阈值时，则会提升超过时间阈值的待处理的消息的队列优先级。当检测到待处理的消息e 的等待时间超过预设的时间阈值时，即消息e已经在消息队列中等待很久，仍然处于等待 状态，未被执行，则消息中间件会为消息e提升队列优先级，将其队列优先级提升至6，改变 其在消息队列中的位置，使消息e尽快分配给处理线程。并且，将消息e的进入时间修改为 提升队列优先级的时间，将消息e对应的计时器初始化为零。由此可见，为等待时间过久的 消息提升队列优先级，可以提高等待时间过久的用户优先级较低消息被及时提取的几率， 避免用户优先级较低的待处理的消息无限制的等待。</p>
    <p>[0105]	当然，本实施例中将等待时间过久的待处理消息的队列优先级提升一级，并不代 表当提升队列优先级时，只能够提升一级，可根据实际情况，为需要提升队列优先级的消息 提升二级，甚至多级。</p>
    <p>[0106]	需要说明的是，为了优先处理那些用户优先级较高的消息，所以当为等待时间过 久的用户优先级较低的消息提升队列优先值时有一个上限值，当待处理的消息的队列优先 级达到上限值时，不再为其提升队列优先级。在本实施例中定义的优先级为0-9级，所以上 限值可以设置为7级，即等待时间过久的用户优先级较低的消息的队列优先级最高提升至 7级，当达到7级时，不再为其提升队列优先级。这样既兼顾了等待时间久的用户优先级较 低的待处理的消息，又保证了用户优先级较高的消息得到及时处理。</p>
    <p>[0107]	相应于上面的方法实施例，本发明还提供一种消息处理系统，如图4所示，所述消 息处理系统包括：</p>
    <p>[0108]	接收单元01，用于接收待处理的消息；</p>
    <p>[0109]	队列优先级设置单元02，用于根据接收单元01接收的消息中携带的用户优先级 信息，为消息设置队列优先级；其中，所述队列优先级的初始值为用户优先级的值；</p>
    <p>[0110]	第一排队单元03，用于按照队列优先级设置单元02设置的队列优先级，将消息添 加到消息队列中；</p>
    <p>[0111]	消息分配单元04，用于为消息队列中的消息分配处理线程，并根据消息的用户优 先级为相应的处理线程设置对应的操作系统调度优先级。</p>
    <p>[0112]	操作系统中的任务调度程序则会按照消息分配单元04中定义的处理线程的调度 优先级来运行各个处理线程。</p>
    <p>[0113]	对于操作系统的调度优先级与消息的用户优先级为两套不同的优先级规则时，所 述消息分配单元04，用于为消息队列中的消息分配处理线程，并根据预先建立的操作系统 调度优先级与消息用户优先级建立的映射关系为处理线程设置对应的操作系统调度优先 级。</p>
    <p>[0114]	对于处理具有相同队列优先级的消息的排序，如图5所示，本系统还包括：</p>
    <p>[0115]	第二排队单元05，用于根据消息的接收时刻，对具有相同队列优先级的多个消息 的队列位置进行排序，其中，将接收时刻较早的消息排在接收时刻较晚的消息之前。</p>
    <p>[0116]	为了兼顾那些等待时间很久，用户优先级较低的待处理消息，如图6所示，本系统还包括：</p>
    <p>[0117]	队列优先级提升单元06，用于为消息队列中等待时间超过预设阈值的消息提升队 列优先级；</p>
    <p>[0118]	等待时间初始化单元07，用于对提升队列优先级的该消息的等待时间进行初始 化。</p>
    <p>[0119]	为了既保证用户优先级较高的待处理的消息得到及时处理，同时又兼顾等待时间 很久的用户优先级较低的待处理的消息，这样队列优先级提升单元06则用于为消息队列 中等待时间超过预设阈值、且队列优先级不高于预设上限的待处理消息提升队列优先级。</p>
    <p>[0120]	为了描述的方便，描述以上系统时以功能分为各种单元分别描述。当然，在实施本 发明时可以把各单元的功能在同一个或多个软件和/或硬件中实现。</p>
    <p>[0121]	本说明书中的各个实施例均采用递进的方式描述，各个实施例之间相同相似的部 分互相参见即可，每个实施例重点说明的都是与其他实施例的不同之处。尤其，对于系统实 施例而言，由于其基本相似于方法实施例，所以描述得比较简单，相关之处参见方法实施例 的部分说明即可。以上所描述的系统实施例仅仅是示意性的，其中所述作为分离部件说明 的单元可以是或者也可以不是物理上分开的，作为单元显示的部件可以是或者也可以不是 物理单元，即可以位于一个地方，或者也可以分布到多个网络单元上。可以根据实际的需要 选择其中的部分或者全部模块来实现本实施例方案的目的。本领域普通技术人员在不付出 创造性劳动的情况下，即可以理解并实施。</p>
    <p>[0122]	以上所述仅是本发明的具体实施方式，应当指出，对于本技术领域的普通技术人 员来说，在不脱离本发明原理的前提下，还可以做出若干改进和润饰，这些改进和润饰也应 视为本发明的保护范围。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101433019A?cl=zh">CN101433019A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年4月19日</td><td class="patent-data-table-td patent-date-value">2009年5月13日</td><td class="patent-data-table-td ">卢森特技术有限公司</td><td class="patent-data-table-td ">用于sip消息优先化的方法和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101599987A?cl=zh">CN101599987A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年6月5日</td><td class="patent-data-table-td patent-date-value">2009年12月9日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">消息队列管理方法和装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102591658A?cl=zh">CN102591658A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月28日</td><td class="patent-data-table-td patent-date-value">2012年7月18日</td><td class="patent-data-table-td ">奇智软件（北京）有限公司</td><td class="patent-data-table-td ">一种消息处理方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103336684A?cl=zh">CN103336684A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月18日</td><td class="patent-data-table-td patent-date-value">2013年10月2日</td><td class="patent-data-table-td ">上海寰创通信科技股份有限公司</td><td class="patent-data-table-td ">一种并发处理ap消息的ac及其处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013097663A1?cl=zh">WO2013097663A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月24日</td><td class="patent-data-table-td patent-date-value">2013年7月4日</td><td class="patent-data-table-td ">Beijing Qihoo Technology Company Limited</td><td class="patent-data-table-td ">消息处理方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=JchyBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009460000">G06F9/46</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年3月30日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年5月18日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年7月16日</td><td class="patent-data-table-td ">C12</td><td class="patent-data-table-td ">Rejection of a patent application after its publication</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/724617dc1c96f1f526b0/CN101996099A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_5115ea495017d9115e613207d3810e5a.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%E5%8F%8A%E7%B3%BB%E7%BB%9F.pdf?id=JchyBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2Q2_IdBx-Gs6CvCxEnB7qfx-vYDA"},"sample_url":"https://www.google.com/patents/reader?id=JchyBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>