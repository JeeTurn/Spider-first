<!DOCTYPE html><html><head><title>专利 CN101453393A - 用于文件传输的企业网络系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="用于文件传输的企业网络系统"><meta name="DC.contributor" content="伟 孙" scheme="inventor"><meta name="DC.contributor" content="王弋&#29685;" scheme="inventor"><meta name="DC.contributor" content="&#31054; 赵" scheme="inventor"><meta name="DC.contributor" content="新奥特（北京）视频技术有限公司" scheme="assignee"><meta name="DC.date" content="2007-11-28" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供一种用于文件传输的企业网络系统，包括：通过总线连接的主干网和多个板块网；每个所述板块网包括至少一个xPeer服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；所述主干网包括M-Peer服务器，所述M-Peer服务器对各xPeer服务器的传输任务进行调度。与现有技术相比，本发明能够达到如下技术效果：本发明的网络构架能够让大容量文件在企业内部各个板块之间直接进行快速、合理交换，降低劳动成本，提高节目生产效率。另外，本发明能够通过简单的注册方式增加需要进行文件传输的系统个数，维护方便。"><meta name="DC.date" content="2009-6-10"><meta name="citation_patent_publication_number" content="CN:101453393:A"><meta name="citation_patent_application_number" content="CN:200710178247"><link rel="canonical" href="https://www.google.com/patents/CN101453393A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101453393A?cl=zh"/><meta name="title" content="专利 CN101453393A - 用于文件传输的企业网络系统"/><meta name="description" content="本发明提供一种用于文件传输的企业网络系统，包括：通过总线连接的主干网和多个板块网；每个所述板块网包括至少一个xPeer服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；所述主干网包括M-Peer服务器，所述M-Peer服务器对各xPeer服务器的传输任务进行调度。与现有技术相比，本发明能够达到如下技术效果：本发明的网络构架能够让大容量文件在企业内部各个板块之间直接进行快速、合理交换，降低劳动成本，提高节目生产效率。另外，本发明能够通过简单的注册方式增加需要进行文件传输的系统个数，维护方便。"/><meta property="og:title" content="专利 CN101453393A - 用于文件传输的企业网络系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101453393A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101453393A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=dHdqBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101453393A&amp;usg=AFQjCNFtZaiyY8eMnHYaPmPhVhwa-MQmmQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/458c0839c59c57f1abbf/CN101453393A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/458c0839c59c57f1abbf/CN101453393A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101453393A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101453393A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101453393A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101453393B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101453393A?cl=zh" style="display:none"><span itemprop="description">本发明提供一种用于文件传输的企业网络系统，包括：通过总线连接的主干网和多个板块网；每个所述板块网包括至少一个xPeer服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；所述主干网包括M-Peer服务器， ...</span><span itemprop="url">https://www.google.com/patents/CN101453393A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101453393A - 用于文件传输的企业网络系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101453393A - 用于文件传输的企业网络系统" title="专利 CN101453393A - 用于文件传输的企业网络系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101453393 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200710178247</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年6月10日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2007年11月28日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2007年11月28日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101453393B?hl=zh-CN&amp;cl=zh">CN101453393B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200710178247.2, </span><span class="patent-bibdata-value">CN 101453393 A, </span><span class="patent-bibdata-value">CN 101453393A, </span><span class="patent-bibdata-value">CN 200710178247, </span><span class="patent-bibdata-value">CN-A-101453393, </span><span class="patent-bibdata-value">CN101453393 A, </span><span class="patent-bibdata-value">CN101453393A, </span><span class="patent-bibdata-value">CN200710178247, </span><span class="patent-bibdata-value">CN200710178247.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BC%9F+%E5%AD%99%22">伟 孙</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E5%BC%8B%E7%8F%B5%22">王弋&#29685;</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%A5%8E+%E8%B5%B5%22">&#31054; 赵</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%96%B0%E5%A5%A5%E7%89%B9%EF%BC%88%E5%8C%97%E4%BA%AC%EF%BC%89%E8%A7%86%E9%A2%91%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">新奥特（北京）视频技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101453393A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101453393A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101453393A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dHdqBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200710178247&amp;usg=AFQjCNE9clS8NbIDWzFgIXrETsPvwGhX6Q"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=dHdqBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101453393A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNE53Pm5iwIhdkwPCDiLZpbUDf2umQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT75762108" lang="ZH" load-source="patent-office">用于文件传输的企业网络系统</invention-title>
      </span><br><span class="patent-number">CN 101453393 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA53517109" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供一种用于文件传输的企业网络系统，包括：通过总线连接的主干网和多个板块网；每个所述板块网包括至少一个xPeer服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；所述主干网包括M-Peer服务器，所述M-Peer服务器对各xPeer服务器的传输任务进行调度。与现有技术相比，本发明能够达到如下技术效果：本发明的网络构架能够让大容量文件在企业内部各个板块之间直接进行快速、合理交换，降低劳动成本，提高节目生产效率。另外，本发明能够通过简单的注册方式增加需要进行文件传输的系统个数，维护方便。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(5)</span></span></div><div class="patent-text"><div mxw-id="PCLM13506258" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1. 一种用于文件传输的企业网络系统，包括：通过总线连接的主干网和板块网；每个所述板块网包括至少一个xPeer服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；所述主干网包括M-Peer服务器，所述M-Peer服务器对各xPeer服务器的传输任务进行调度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2. 根据权利要求1所述的用于文件传输的企业网络系统，其特征在 于，所述主干网还包括消息流服务器；所述M-Peer服务器具有对外接口 和对内接口，所述对外接口用于与消息流服务器进行交互；所述对内接口 用于与所述xPeer服务器进行交互。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3 .根据权利要求2所述的用于文件传输的企业网络系统，其特征在 于，所述M-Peer服务器的对外接口包括任务发起接口 、任务暂停接口、 任务终止接口和任务优先接口 。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求2所述的用于文件传输的企业网络系统，其特征在 于，所述M-Peer服务器的对内接口包括xPeer注册登记接口 、 xPeer状态 汇报接口 、 xPeer任务进度接口和xPeer任务状态汇报接口 。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5 .根据权利要求1所述的用于文件传输的企业网络系统，其特征在 于，所述主干网还包括Cache盘阵，该Cache盘阵用于&#32233;存xPeer服务器 之间传输的文件。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES18893271" lang="ZH" load-source="patent-office" class="description">
    <p>用于文件传输的企业网络系统</p>
    <p>技术领域</p>
    <p>本发明涉及计算机网络技术领域，具体地说，本发明特别涉及一种用 于大容量文件传输的网络系统。</p>
    <p>背景技术</p>
    <p>目前，大多数企业的经营都涉及到多种性质不同的业务,因此在企业内 部的计算机网络中，通常形成多个业务应用子网来分别满足这些业务的需 求，而数据需要在各子网之间需要共享或者传输。以广电行业为例，当前</p>
    <p>国内外广电行业在信息化方面的总体发展方向是：网络化、信息化，根据 在电视台的实际业务中涉及多种性质不同的业务需求，电视台内部形成多 个业务应用子网来满足电视台"采、编、播、存、管，，的整个电视工艺流 程。其中，节目素材需要子网之间共享或者传输，因此，对文件传输方式 需要设计一种合理可行的模式。因此，对文件传输方式需要设计一种合理 可行的模式。</p>
    <p>传统的文件传输方式 一 般是在两个子网不同应用系统之间点对点的 通信和传输， 一般这种情况下，两个系统都需要提供客户端和服务端程序， 当需要进行文件传输的系统个数增加时，增加各个系统负担和运行成本。 此种模式下，系统之间关联的数量是[N (N-l ) ]/2，每当增加一个应用系统 时，系统的关联度增加N(参考图1和图2)，并需要在所关联系统上分别 提供对新增系统的客户端和服务端程序。</p>
    <p>发明内容</p>
    <p>本发明的目的是克服现有技术的不足，将总线技术应用于企业内部网 络，从而提供一种适合于大容量数据传输的企业网络构架。</p>
    <p>为实现上述发明目的，本发明提供的用于文件传输的企业网络系统包 括：通过总线连接的主干网和板块网；每个所述板块网包括至少一个xPeer 服务器，所述各板块网通过xPeer服务器和总线在板块间进行文件传输；</p>
    <p>3所述主干网包括M-Peer服务器，所述M-Peer服务器对各xPeer服务器的 传输任务进行调度。</p>
    <p>上述技术方案中，所述主干网还包括消息流服务器（MFS);所述 M-Peer服务器具有对外接口和对内接口 ，所述对外接口用于与消息流服务 器（MFS)进行交互；所述对内接口用于与所述xPeer服务器进行交互。</p>
    <p>上述技术方案中，所述M-Peer服务器的对外接口包括任务发起接口、 任务暂停接口 、任务终止接口和任务优先接口 。</p>
    <p>上述技术方案中，所述M-Peer服务器的对内接口包括xPeer注册登记 接口 、 xPeer状态汇报接口 、 xPeer任务进度接口和xPeer任务状态汇报接 n 。</p>
    <p>上述技术方案中，所述主干网还包括Cache盘阵，该Cache盘阵用于 &#32233;存在各xPeer服务器之间传输的文件。</p>
    <p>与现有技术相比，本发明能够达到如下技术效果：</p>
    <p>本发明的网络构架能够让大容量文件（如媒体文件）在企业（如电视 台）内部各个板块之间直接进行快速、合理交换，降低劳动成本，提高节 目生产效率。另外，本发明能够通过简单的注册方式增加需要进行文件传 输的系统个数，维护方便。</p>
    <p>附图说明</p>
    <p>图1是传统的文件传输网络构架示意图；</p>
    <p>图2是传统的文件传输网络构架进行扩展的示意图；</p>
    <p>图3是本发明的网络构架示意图；</p>
    <p>图4是M-Peer系统流程图；</p>
    <p>图5是M-Peer调度流程图；</p>
    <p>图6是本发明在各应用系统间进行文件传输的示意图； 图7是本发明在进行应用系统扩展的示意图。</p>
    <p>具体实施方式</p>
    <p>本发明的基本构思是利用总线形式将企业内部的各板块网相互连接， 并将跨板块的文件传输服务封装在各板块网的xPeer服务器内，利用xPeer 服务器实现板块间的大容量文件传输。另外，本发明还提供了主干网，主干网内部署M-Peer服务器，对各xPeer服务器的传输任务进行调度。 下面结合附图和具体实施方式对本发明作进一步详细描述： 实施例1</p>
    <p>以电视台为例，对企业网络构架的各细节进行详细描述。本实施例中 所传输的文件主要是指企业媒体文件。参考图3，本实施例的网络构架包 括：通过企业J?某体总线（Enterprise Media Bus, EMB )连接的主干网和多 个板块网；每个所述板块网包括至少一个xPeer服务器（以下简称xPeer), 所述各板块网通过xPeer和总线在板块间进行文件传输；所述主干网包括 M-Peer服务器（以下简称M-Peer),所述M-Peer对各xPeer的传输任务进 行调度。本实施例中将利用M-Peer和xPeer进行文件传输的体系称为Xfer。 两外，所述主干网消息流服务器（MFS)。</p>
    <p>本实施例中，文件传输任务调度是由M-Peer完成的，M-Peer作为xPeer 和传输任务调度的执行部分，除起到Xfer与MFS交互外，同时完成对源 到目的的多个xPeer之间和对多个传输任务之间的调度作用。</p>
    <p>M-Peer的主要功能包括：</p>
    <p>当MFS发起一个任务时，M-Peer回调获耳又传输任务；</p>
    <p>对xPeer端按照策略进行调度，实现文件的传^T;</p>
    <p>为xPeer提供具体的传输任务，接收xPeer传输信息；</p>
    <p>向MFS返回进度状态；</p>
    <p>传输任务优先级处理，也就是任务的调度；</p>
    <p>对传输任务的干预，如暂停任务、停止任务；</p>
    <p>传输任务的监控，初期不会实现管理（比如重试等）功能；</p>
    <p>对系统进行配置。</p>
    <p>本实施中，调度策略如下：</p>
    <p>1、 任务调度</p>
    <p>当MFS上发起一个任务时调用Xfer上的任务发起接口 ， Xfer解析任 务中预计执行时间（preStartTime)为任务分配不同级别（优先级）。M-Peer 根据系统配置中的调度间隔时间去发现Xfer中哪些任务需要被启动，并按 照预计执行时间和优先级分别启动任务。首先以执行时间为启动任务的最 基本要素，如果在同一执行时间上，以优先级高低为判断基准。</p>
    <p>2、 任务启动后的xPeer调度</p>
    <p>任务启动后，Xfer解析任务中源端和目的端信息，通过任务中包含的</p>
    <p>5源端所在应用系统和目的端所在应用系统，如果源端和目的端不在同一应</p>
    <p>用系统，分&#21029;查询源端和目的端所在应用系统已经在M-Peer注册的xPeer 的状态，根据如下策略进行xPeer的任务分配：</p>
    <p>判断源端（发送端、服务端）状态为"服务端空闲"或者服务端的连 接数小于系统设置的服务端最大连接数，则依次按照服务端空闲、服务端 连接数最小、服务端连接数次小的顺序选择作为服务端的xPeer;</p>
    <p>判断目的端（接收端、客户端）状态为"客户端空闲"的xPeer做为 客户端xPeer,如果出现多个状态为"客户端空闲"的xPeer,查看其作为 服务器端时的客户端连接数，按照这个数量的从低到高的顺序依次选择 xPeer (减低xPeer压力），如果出现此数值相等的xPeer，则随机选4&#22890;其中 一个作为客户端xPeer;</p>
    <p>选择完做传输的xPeer后，即开始文件传输。</p>
    <p>(注：如果源端和目的端所在同一个应用系统，则不采用通过xPeer 传输而是采用同 一个子网内的文件拷贝模式，提高整个系统架构中文件传 输效率）</p>
    <p>本实施例中，M-Peer具有对外接口和对内接口 。 M-Peer对外接口供MFS回调，主要提供启动传输任务、暂停传输、 停止传输、任务优先。下面逐个介绍各对外接口。 任务发起接口 （以下代码均是以java风格表示）： public String startTransfer(String tasklnformation);</p>
    <p>功能：MFS上发起一个任务时调用Xfer上的任务发起接口。 参数：tasklnformation任务信息，包含该任务在mfs的实例ID 、 该任务在mfs上被创建的时间、发送方所在应用系统、接受方所在应用系 统、源端文件名、源端路径信息、目标端存储^各径、预计执行时间 参数tasklnformation格式定义（XSD ): &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;schema xmlns="http :〃www. w3.org/2001 /XMLSchema" elementFormDefault="qualified"&gt; 〈element name="taskInformation"&gt; &lt;complexType&gt; &lt;sequenc6&gt;</p>
    <p>&lt;element name="mfsinstanceID" type="string"/&gt;〈element name="mfscreatetime" type="datetime"/&gt; 〈element name="fromdn" type="string"/&gt; &lt;element name="todn" type="string"/&gt; 〈element name="resourceFilename" type="string7〉 〈element name="resourceFilePath" type="string"/〉 &lt;element name="targetStorePath" type=" string7&gt;</p>
    <p>〈element name="preStartTime" type="datetime"/&gt; &lt;/sequence&gt; &lt;/complexType&gt; &lt;/element&gt; &lt;/schema&gt;</p>
    <p>返回值：返回的内容为一个XML的字符串，任务的信息解析。</p>
    <p>任务暂停接口 ：</p>
    <p>public String pauseWorkitems(string itemID);</p>
    <p>功能：暂停Xfer上发起的正在进行的传输任务。 参数：itemID任务ID;</p>
    <p>返回值：若返回零长度字符串则表示暂停任务成功，否则返回包 含错误消息的XML。</p>
    <p>任务终止接口：</p>
    <p>public String stopWorkitems(string itemID); 功能：终止Xfer上发起的传输任务。 参数：itemID任务ID;</p>
    <p>返回值：若返回零长度字符串则表示终止任务成功，否则返回包 含错误消息的XML。</p>
    <p>任务优先接口：</p>
    <p>public String prioritizeWorkitems(String itemID, Int priorityLevel);</p>
    <p>功能：通过对任务的优先级别进行更改的方式，优先某传输任务。 参数：itemID任务ID, priorityLevel任务的优先级信息； 返回值：若返回零长度字符串则表示优先任务成功，否则返回包含错误消息的XML。</p>
    <p>M-Peer对内接口采用Web Service发布,主要指与xPeer的交互部分； 由M-peer提供，xPeer调用，主要有xPeer的注册登记、xPeer状态汇报、 xPeer文件传输进度汇报和任务状态汇报。下面逐个介绍各对内接口</p>
    <p>xPeer注册登记接口 ：</p>
    <p>public String peerRegister(String hostIP);</p>
    <p>功能：向M-Peer注册xPeer本身状态。</p>
    <p>参数：hostIP表示xPeer所在IP。</p>
    <p>返回值：若返回零长度字符串则表示注册成功，否则返回包含错 误消息的XML。</p>
    <p>xPeer状态汇报接口 ：</p>
    <p>public String reportPeerstatus(String hostIP, String peerStatus); 功能：xPeer向Xfer汇报自身状态信息；</p>
    <p>参数：hostIP表示xPeer所在IP地址，peerStatus表示目前xPeer</p>
    <p>的状态；</p>
    <p>返回值：若返回零长度字符串则表示汇报成功，否则返回包含错 误消息的XML。</p>
    <p>xPeer任务进度接口 ：</p>
    <p>public String postProcess (String itemID);</p>
    <p>功能：xPeer向M-Peer汇报文件传输进度；</p>
    <p>参数：itemID表示任务ID;</p>
    <p>返回值：返回该Peer上某传输任务的传输进度值。</p>
    <p>xPeer任务状态汇报接口 ：</p>
    <p>public String reportTaskStatus (String itemID);</p>
    <p>功能：各个xPeer通过WebService的方式向Xfer汇才艮文件传输进度。</p>
    <p>参数：itemID表示任务ID;</p>
    <p>8返回值：返回该Peer上某传输任务的状态。</p>
    <p>本实施例中，M-Peer的系统流程（参考图4 )如下：</p>
    <p>1 ) Xfer启动后，接受传输服务端xPeer的注册和注销；</p>
    <p>2 ) M-Peer即时监听任务，如果任务不被停止，执行任务，并汇报任 务状态。</p>
    <p>本实施例中，M-Peer的调度流程（参考图5 )如下：</p>
    <p>1 )当M-Peer监听到任务时，根据任务优先级发起传输任务；</p>
    <p>2 )判断任务xPeer的位置，获取执行该传输任务的xPeer的状态， 如果xPeer准备就绪，发送任务到该xPeer;</p>
    <p>3 )当任务到达xPeer时，判断是否有干预指令，如果有指令（暂停、 恢复、停止）执行相关干预动作；若没有干预指令，M-Peer接受xPeer状 态和进度汇报，判断有无异常，若有异常，返回异常，结束任务；若无异 常，实时接受xPeer汇报状态和进度数据，判断任务是否完成，若完成， 结束任务，返回传输结果；若未完成，返回指令错误；</p>
    <p>4 )如果判断任务xPeer的位置，获取执行该传输任务的xPeer的状 态时，xPeer准备未就绪，判断该任务的重试次数，如果超过系统配置的 最大重试次数，返回异常，结束任务，如果未达到重试次数，获取任务xPeer 状态，继续传输流程。</p>
    <p>本实施例的基于总线的文件传输方式采用文件传输命令在Xfer中的 封装，对外提供筒单接口；传输是由Xfer自己完成，应用系统只需要将相 关信息传递给Xfer, Xfer对传输任务和传输端点（xPeer)进行调度，完 成传输。如图6所示，该图为Xfer调度应用系统B传输文件到应用系统C。 如果继续增加应用系统，只需应用系统上的传输端向Xfer注册一次， 即可完成系统的无缝插入，体现基于总线式的架构模式，其优点是不需要 在应用系统内增加客户端和服务端程序；当增加系统应用时不影响其他应 用系统的工作，也不会增加整个系统的运行负担和运行成本（如图7所 示）。</p>
    <p>由于企业媒体数据的数据量较大，因此即使在宽带网络环境下传输， 仍然要耗费大量的时间。因此，本实施例中，还可以通过在板块网络中部署多个xPeer的方式，建立板块间的多条传输通道，以满足大数据量传输 的需求。</p>
    <p>另外，本实施例中的主干网还包括一个内建的小型Cache盘阵。用于 支持文件数据的异步传输。即任务发起时，M-Peer的调度模块发现目标系 统已经离线，可将企业媒体文件传输到Cache中&#32233;存，当目标网络恢复连 线后，再将&#32233;存的企业媒体文件传输到目的端，以减少板块间由于网络故 障造成的负载增长。当然，如果源网络和目的网络均为活动状态时，文件 数据将直接在两个板块之间进行传输。</p>
    <p>当前国内外广电行业在信息化方面的总体发展方向是：网络化、信息 化，企业媒体总线（Enterprise Media Bus, EMB )是新奥特公司在全台网 络化方案中提出的实现媒体文件在全台网络中的交换传输的设计思路。本 实施例采用企业媒体总线，能够让媒体文件在电视台内部各个板块直接能 够进行快速、合理交换，降低劳动成本，提高节目生产效率，保证节目快 速、准时、准确的进行播出，提高节目生产播出安全性。</p>
    <p>最后所应说明的是，以上实施例仅用以说明本发明的技术方案而非限 制。尽管参照实施例对本发明进行了详细说明，本领域的普通技术人员应 当理解，对本发明的技术方案进行修改或者等同替换，都不脱离本发明技 术方案的精神和范围，其均应涵盖在本发明的权利要求范围当中。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855236A?cl=zh">CN102855236A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月27日</td><td class="patent-data-table-td patent-date-value">2013年1月2日</td><td class="patent-data-table-td ">北京东方通科技股份有限公司</td><td class="patent-data-table-td ">文件传输系统及文件传输方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855236B?cl=zh">CN102855236B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月27日</td><td class="patent-data-table-td patent-date-value">2015年4月29日</td><td class="patent-data-table-td ">北京东方通科技股份有限公司</td><td class="patent-data-table-td ">文件传输系统及文件传输方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103136143A?cl=zh">CN103136143A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月23日</td><td class="patent-data-table-td patent-date-value">2013年6月5日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">企业消息总线传输数据的方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103136143B?cl=zh">CN103136143B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月23日</td><td class="patent-data-table-td patent-date-value">2015年12月16日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">企业消息总线传输数据的方法及系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=dHdqBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012280000">H04L12/28</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年6月10日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年9月29日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年9月18日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/458c0839c59c57f1abbf/CN101453393A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E7%94%A8%E4%BA%8E%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E7%9A%84%E4%BC%81%E4%B8%9A%E7%BD%91%E7%BB%9C%E7%B3%BB%E7%BB%9F.pdf?id=dHdqBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U3dApArj5fFbqDAOul37SkSa4QlTw"},"sample_url":"https://www.google.com/patents/reader?id=dHdqBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>