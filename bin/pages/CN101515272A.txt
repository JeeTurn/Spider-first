<!DOCTYPE html><html><head><title>专利 CN101515272A - 提取网页内容的方法和装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="提取网页内容的方法和装置"><meta name="DC.contributor" content="成 杜" scheme="inventor"><meta name="DC.contributor" content="株式会社理光" scheme="assignee"><meta name="DC.date" content="2008-2-18" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供一种用于提取网页内容的方法和装置。所述方法包括：基于数字文档分析(DDA)方法提取输入网页的网页内容，产生DDA提取结果；基于文档图像识别(DIR)方法提取输入网页的网页内容，产生DIR提取结果；融合所述DDA提取结果和DIR提取结果，产生融合结果。根据本发明，能够得到比传统技术更优的网页提取结果。"><meta name="DC.date" content="2009-8-26"><meta name="citation_patent_publication_number" content="CN:101515272:A"><meta name="citation_patent_application_number" content="CN:200810080786"><link rel="canonical" href="https://www.google.com/patents/CN101515272A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101515272A?cl=zh"/><meta name="title" content="专利 CN101515272A - 提取网页内容的方法和装置"/><meta name="description" content="本发明提供一种用于提取网页内容的方法和装置。所述方法包括：基于数字文档分析(DDA)方法提取输入网页的网页内容，产生DDA提取结果；基于文档图像识别(DIR)方法提取输入网页的网页内容，产生DIR提取结果；融合所述DDA提取结果和DIR提取结果，产生融合结果。根据本发明，能够得到比传统技术更优的网页提取结果。"/><meta property="og:title" content="专利 CN101515272A - 提取网页内容的方法和装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101515272A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101515272A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=zq9sBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101515272A&amp;usg=AFQjCNGHcEAKqNYZet_pm1vMojvDzypbXA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/9e80f4a2187f5ef5e369/CN101515272A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/9e80f4a2187f5ef5e369/CN101515272A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101515272A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101515272A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101515272A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101515272B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101515272A?cl=zh" style="display:none"><span itemprop="description">本发明提供一种用于提取网页内容的方法和装置。所述方法包括：基于数字文档分析(DDA)方法提取输入网页的网页内容，产生DDA提取结果；基于文档图像识别(DIR)方法提取输入网页的网页内容，产生DIR提取结果；融合所述DDA提取 ...</span><span itemprop="url">https://www.google.com/patents/CN101515272A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101515272A - 提取网页内容的方法和装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101515272A - 提取网页内容的方法和装置" title="专利 CN101515272A - 提取网页内容的方法和装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101515272 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810080786</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年8月26日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年2月18日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年2月18日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101515272B?hl=zh-CN&amp;cl=zh">CN101515272B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810080786.7, </span><span class="patent-bibdata-value">CN 101515272 A, </span><span class="patent-bibdata-value">CN 101515272A, </span><span class="patent-bibdata-value">CN 200810080786, </span><span class="patent-bibdata-value">CN-A-101515272, </span><span class="patent-bibdata-value">CN101515272 A, </span><span class="patent-bibdata-value">CN101515272A, </span><span class="patent-bibdata-value">CN200810080786, </span><span class="patent-bibdata-value">CN200810080786.7</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%88%90+%E6%9D%9C%22">成 杜</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%A0%AA%E5%BC%8F%E4%BC%9A%E7%A4%BE%E7%90%86%E5%85%89%22">株式会社理光</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101515272A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101515272A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101515272A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=zq9sBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810080786&amp;usg=AFQjCNGm75pNJbjPK-pMiV52d2fFubWebQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=zq9sBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101515272A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFPqNhlKLPhg2iHaVklD9HZKRxWEQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT86104008" lang="ZH" load-source="patent-office">提取网页内容的方法和装置</invention-title>
    </span><br><span class="patent-number">CN 101515272 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA62141438" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供一种用于提取网页内容的方法和装置。所述方法包括：基于数字文档分析(DDA)方法提取输入网页的网页内容，产生DDA提取结果；基于文档图像识别(DIR)方法提取输入网页的网页内容，产生DIR提取结果；融合所述DDA提取结果和DIR提取结果，产生融合结果。根据本发明，能够得到比传统技术更优的网页提取结果。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(30)</span></span></div><div class="patent-text"><div mxw-id="PCLM22761446" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种用于提取网页内容的方法，包括：    基于数字文档分析(DDA)方法提取输入网页的网页内容，产生DDA提取结果；    基于文档图像识别(DIR)方法提取输入网页的网页内容，产生DIR提取结果；    融合所述DDA提取结果和DIR提取结果，产生融合结果。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求1所述的方法，其中，所述提取结果包括至少一个目标， 所述目标代表与网页中的矩形区域相对应的网页内容，所述目标至少包含相 应矩形区域的位置信息和类型信息，并且所述类型包括文字、图片和表格。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求2所述的方法，其中，所述融合DDA提取结果和DIR提 取结果包括：确定DDA提取结果包含的DDA目标与DIR提取结果包含的DIR目标 之间的对应关系；基于所述对应关系以及目标类型执行DDA提取结果与DIR提取结果的 融合。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求3所述的方法，其中，确定DDA目标和DIR目标之间的 对应关系包括计算DDA目标与DIR目标的重叠尺度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求4所述的方法，其中，DIR提取结果表示为G = {G,， G2，...， GM}， DDA提取结果表示为D= {Dl5D2, .,.,DN}，则DDA目标Dj与DIR目 标Gi的重叠尺度通过下式计算：y 以及"      ^舰("》    ，/ = 1,2，"-,乾_/ = 1，2,".,^,其中，Area(Dj)是Dj对应的矩形区域的面积，Area(G;)是Gi对应的矩形区域的 面积，Area(GiHDj)是Dj对应的矩形区域与Gj对应的矩形区域之间的重叠面 积，并且N和M分别是DDA提取结果和DIR提取结果包含的目标个数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求5所述的方法，其中，基于所述对应关系和目标类型执行 DDA提取结果与DIR提取结杲的融合包括：基于DDA目标和DIR目标之间的对应关系以及目标类型对DDA目标和 DIR目标进行分类；以及按照目标的类别来融合DDA提取结果和DIR提取结果，从而产生融合 结果。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、如权利要求6所述的方法，其中，按照以下规则对DDA目标和DIR 目标进行分类：对于一个DIR目标Gi,如果存在DDA目标Dj,使得、"】并且&#12316;"1 ，而 且Gi和Dj的类型相同，则将该Gi和该Dj分类到匹配类；对于一个DIR目标Gi,如果存在DDA目标Dj,使得、"1并且&#12316;"1 ，而 且Gi和Di的类型不同，则将该G,和该Dj分类到类型错误类；对于一个DIR目标G,.，如果对于所有DDA目标均有&#12316;"0 ，则将该G, 分类到漏检类；对于一个DDA目标D」，如果对于所有DIR目标均有、《0,则将该Dj 分类到虚警类；对于一个DIR目标Gi,如果|&gt;,, &gt;石，并且将与之重叠的DDA目标合并后得到的合并目标与该Gi匹配，则将该G,以及与该Gi重叠的DDA目标分类 到分割类，其中，T,是第一预定阈值；对于一个DDA目标Dp如果|&gt;,, 〉r2 ，并且将与之重叠的DIR目标合并后得到的合并目标与该Dj匹配，则将该Dj以及与之重叠的DIR目标分类到合并类，其中，T2是第二预定阔值；以及将不属于以上类别的DDA目标和DIR目标分类到其他类。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8、如权利要求7所述的方法，其中，按照目标的类别来融合DDA提取结果和DIR提取结果以产生融合结果包括：将匹配类中的DDA目标添加到融合结果中；将类型错误类中的DIR目标的位置信息和相应的DDA目标的类型信息 结合产生一个新的目标，并把该新的目标添加到融合结果； 将&#34395;警类中所有的目标都添加到融合结果中； 将分割类中的DIR目标添加到融合结果中；对于合并类，如果与DDA目标重叠的DIR目标都是图片类型的目标， 则将相应的DIR目标添加到融合结果中；如果与DDA目标重叠的DIR目标 中既包括图片类型的目标又包括文字类型的目标，则将相应的DDA目标添加 到融合结果中；如果与DDA目标重叠的DIR目标都是文字类型的目标，则将与DDA目标重叠的DIR目标合并而成的合并目标添加到融合结果中；以 及将其他类中的DDA目标添加到融合结果中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 如权利要求2所述的方法，其中，基于DDA方法提取输入网页的网 页内容包括：提取输入网页的文档对象模型（DOM)树，并至少保存DOM树中每个 节点的父节点、字节点、标签名称、内部文字和位置的属性信息；利用DOM树分别提取输入网页中的文字目标、图片目标和表格目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求9所述的方法，其中，利用DOM树提取文字目标包括： 对于 DOM 树中的每个节点， 如果该节点的内部文字属性不为空，而且该节点的子节点中不包含块节点，则确定该节点表示的元素为候选文字目标； 参考候选文字目标的属性信息对所确定的候选文字区域执行合并操作， 以得到文字目标，其中，如果节点的标签名称不是"INPUT"、 "!"、 "A"、 "B"、 "U"、 'T，、 "BIG"、 "SMALL" 、 "FONT"、 "HR"、 "BR"、 "PRE"、 "TT"、 "S"、 "BLOCKQUOTE" 、 "ADDRESS" 、 "DFN" 、 "SAMP"、 "KBD"、 "VAR"、 "CODE"、 "CITE"、 "ABBR"、 "ACRONYM" 、 "SUB"、 "SUP"、 "INS"、 "DF&#19972;"、"P"、 "EM，'、 "TEXT"、 "STRONG"、 7A，，之一，则该节点为块节 点。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11、 如权利要求10所述的方法，其中，对候选文字目标执行合并操作包括：如果两个文字目标在位置上重叠，则将它们合并为一个文字目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 如权利要求10所述的方法，其中，对候选文字目标执行合并操作包 括：如果一个文字目标被另外一个文字目标包含，则删除被包含的文字目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、 如权利要求10所述的方法，其中，对候选文字目标执行合并操作包括：如果两个文字目标所对应的矩形区域在垂直方向上位置相邻，并且它们 的字体和文字高度属性相同，它们的左边缘相近，而且宽度相似，则将它们 合并为一个文字区域。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14、 如权利要求9所述的方法，其中，利用DOM树提取图片目标包括: 如果DOM树节点的标签名称是"IMG",并且其尺寸大于第三预定阈值，则确定该节点为图片目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15、 如权利要求9所述的方法，其中，利用DOM树提取表格目标包括： 如果DOM树节点的标签名称为"TABLE",并且该DOM树节点包含至少3个"TR"子节点，而且多数的"TR"子节点包含多于一个的"TD"子 节点，则确定该节点为表格区域。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">16、 一种用于提取网页内容的装置，包括：数字文档分析（DDA)网页内容提取单元，其基于DDA方法提取输入 网页的网页内容，产生DDA提取结果；文档图像识别（DIR)网页内容提取单元，其基于DIR方法提取输入网 页的网页内容，产生DIR提取结果；融合单元，其融合所述DDA提取结果和DIR提取结果，产生融合结果。1</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17、 如权利要求16所述的装置，其中，提取结果表示为至少一个目标的包含相应矩形区域的位置信息和类型信息，并且所述类型包括文字、图片和 表格。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18、 如权利要求17所述的装置，其中，所述融合单元包括：对应关系确定单元，其确定DDA目标与DIR目标之间的对应关系； 融合执行单元，其基于DDA目标和DIR目标之间的对应关系以及DDA目标和DIR目标的类型执行DDA提取结果与DIR提取结果的融合，以生成融合结果。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19、 如权利要求18所述的装置，其中，所述对应关系确定单元通过计算 DDA目标与DIR目标的重叠尺度来确定DDA目标和DIR目标之间的对应关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20、 如权利要求19所述的装置，其中，DIR提取结果表示为G: (G,，G2，…， GM}， DDA提取结果表示为DHD,，D2， ...，DN}，则DDA目标D;与DIR目 标G」的重叠尺度通过下式计算：一~^&#31777;(G,)^以及&#12316;       爿履(Z),)    ,   ,'二1,2，…，M,"1,2,…，A^ ，其中，Area(Dj)是D」对应的矩形区域的面积，Area(Gi)是Gi对应的矩形区域 的面积，Area(Gi门Di)是Dj对应的矩形区域与G;对应的矩形区域之间的重叠 面积，并且N和M分别是DDA提取结果和DIR提取结果中的目标个数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="21" class="claim">
      <div class="claim-text">21、 如权利要求18所述的装置，其中，所述融执行合单元包括： 分类单元，其基于DDA目标和DIR目标之间的对应关系以及目标类型对DDA目标和DIR目标进行分类；以及选择单元，其按照DDA目标和DIR目标的类别来确定所述融合结果中 包含的目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="22" class="claim">
      <div class="claim-text">22、 如权利要求21所述的装置，其中，所述分类单元按照以下规则对 DDA目标和DIR目标进行分类：对于一个DIR目标G,,如果存在DDA目标D」，使得「, ftl并且&#12316;"1 ,而 且Gi和Dj的类型相同，则将该Gj和该D,分类到匹配类；对于一个DIR目标Gj,如果存在DDA目标Dj,使得U1并且&#12316;w1 ，而 且G,和Dj的类型不同，则将该Gi和该Di分类到类型错误类；对于一个DIR目标Gi，如果对于所有DDA目标均有&#12316;"0 ,则将该G, 分类到漏检类；对于一个DDA目标Dp如杲对于所有DIR目标均有、-0,则将该D, 分类到&#34395;警类；对于一个DIR目标Gi,如果|&gt;,, &gt;7i ，并且将与之重叠的DDA目标合并后得到的合并目标与该Gi匹配，则将该Gi以及与该Gi重叠的DDA目标分类 到分割类，其中，T,是第一预定阈值；对于一个DDA目标D」，如果|&gt;,,『2,并且将与之重叠的DIR目标合并后得到的合并目标与该Dj匹配，则将该D,以及与之重叠的DIR目标分类到合并类，其中，丁2是第二预定阈值；以及将不属于以上类别的DDA目标和DIR目标分类到其他类。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="23" class="claim">
      <div class="claim-text">23、如权利要求22所述的装置，其中，所述选择单元如下确定融合结果中包括的目标：将匹配类中的DDA目标添加到融合结果中；将类型错误类中的DIR目标的位置信息和相应的DDA目标的类型信息 结合产生一个新的目标，并把该新的目标添加到融合结果；将&#34395;警类中所有的目标都添加到融合结果中； 将分割类中的DIR目标添加到融合结果中；对于合并类，如果与DDA目标重叠的DIR目标都是图片类型的目标， 则将相应的DIR目标添加到融合结果中；如果与DDA目标重叠的DIR目标 中既包括图片类型的目标又包括文字类型的目标，则将相应的DDA目标添加 到融合结果中；如果与DDA目标重叠的DIR目标都是文字类型的目标，则 将与DDA目标重叠的DIR目标合并而成的合并目标添加到融合结果中。；以 及将其他类中的DDA目标添加到融合结果中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="24" class="claim">
      <div class="claim-text">24、 如权利要求18所述的装置，其中，所述DDA网页内容提取单元包括：文档对象模型（DOM)树提取单元，其提取输入网页的DOM树，并至 少保存DOM树中每个节点的父节点、字节点、标签名称、内部文字和位置 的属性信息；文字目标提取单元，其利用DOM树提取输入网页中的文字目标；图片目标提取单元，其利用DOM树提if又输入网页中的图片目标；以及表格目标提取单元，其利用DOM树提取输入网页中的表格目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="25" class="claim">
      <div class="claim-text">25、 如权利要求24所述的装置，其中，根据所述文字目标提取单元包括： 候选文字目标提取单元，对于DOM树中的每个节点，如果该节点的内部文字属性不为空，而且该节点的子节点中不包含块节点，则其确定该节点 表示的元素为候选文字目标；合并单元，其参考候选文字目标的属性信息对所确定的候选文字区域执行合并操作，以得到文字目标，其中，如果节点的标签名称不是"INPUT" 、 "!"、 "A"、 "B"、 "U"、 T、 "BIG"、 "SMALL" 、 "FONT"、 "HR"、 "BR" 、 "PRE"、 "TT"、 "S"、 "BLOCKQUOTE" 、 "ADDRESS", "DFN，， 、 "SAMP"、 "KBD，'、 "VAR"、 "CODE"、 "CITE"、 "ABBR"、 "ACRONYM" 、 "SUB"、 "SUP"、 "INS"、 "DEL'，、 "P"、 "EM"、 "TEXT"、 "STRONG"、 "/A"之一，则该节点为块节,泉。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="26" class="claim">
      <div class="claim-text">26、 如权利要求25所述的装置，其中，如果两个文字目标在位置上重叠， 则所述合并单元将它们合并为一个文字目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="27" class="claim">
      <div class="claim-text">27、 如权利要求25所述的装置，其中，如果一个文字目标被另夕l、一个文 字目标包含，则所述合并单元删除被包含的文字目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="28" class="claim">
      <div class="claim-text">28、 如权利要求25所述的装置，其中，如果两个文字目标所对应的矩形 区域在垂直方向上位置相邻，并且它们的字体和文字高度属性相同，它们的 左边缘相近，而且宽度相似，则所述合并单元将它们合并为一个文字区域。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="29" class="claim">
      <div class="claim-text">29、 如权利要求24所述的装置，其中，如果DOM树节点的标签名称是 "IMG",并且其尺寸大于第三预定阈值，则所述图片目标提取单元确定该节 点为图片目标。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="30" class="claim">
      <div class="claim-text">30、 如权利要求24所述的装置，其中，如果DOM树节点的标签名称为 "TABLE",并且该DOM树节点包含至少3个"TR"子节点，而且多数的 "TR"子节点包含多于一个的"TD"子节点，则所述表4^目标确定单元确定该节点为表格区域。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES27956125" lang="ZH" load-source="patent-office" class="description">
    <p>提^F又网页内容的方法和装置</p>
    <p>技术领域</p>
    <p>本发明涉及网页处理，更具体地说，本发明涉及^是取网页内容的装置和方法。</p>
    <p>背景技术</p>
    <p>如今，因特网已经成为最大的信息来源，人们的日常生活越来越依赖于网络。随着网络的普及，网页内容提取（也称为网页分割）的应用越来越广泛。</p>
    <p>举例来说，网页内容提取可以使得网页搜索的速度更快，结果更加精确。和传统的文本文档相比，网页的内容更加多样化，同一个网页的不同区域可以包含不同的主题。而且，出于浏览和发布的需要，网页中往往包含很多和主题无关的内容，如广告、导航条、装饰、版权信息以及联系方法等。由于网页的以上特征，相较于把整个网页作为一个信息检索单元，通过对网页进行分割，把每个分割单元作为独立的信息检索单元会使网页搜索结果更加精确。并且，通过网页分割可以排除与网页主题无关的内容，从而使网页搜索的速度更快，结果更加精确。</p>
    <p>再例如，网页内容提取也可用于在手持设备上浏览网页。近年来，手持</p>
    <p>设备，如掌上电脑、个人数字助理（PDA)、移动电话等发展迅速。但是使用手持设备上网仍然很大程度上受到显示器过小的限制。传统的网页都是针对个人计算机设计的，对于手持设备用户来说，如果需要不停地滚动网页来寻找所需的信息，上网将变得枯燥和费事。通过网页分割，可以将网页的内容一块一块地显示在手持设备上，从而解决了这一问题。</p>
    <p>此外，如果用户需要使用已有文档来产生新的文档，则对已有的版面进行分割是必不可少的步骤。</p>
    <p>由于其广泛的应用背景，用户对于网页内容提取的需求很大。研究人员已经提出了一些用于网页内容提取的系统和方法。</p>
    <p>例如，美国专利申请公开No. 2006/0149775A1 7&gt;开了 一种基于文档的可视模型分割文档的方法。在该方法中，根据文档中可视的空白或间隙来确定可视模型，利用该可视模型确定文档的层次结构，并利用所确定的层次结构进行文档分割。但是对于那些逻辑结构和物理结构不一致的文档，该方法容易造成错误分割。</p>
    <p>再例如，美国专利申请公开No. 2006/0106798A1公开了 一种自上而下的、和标签树无关的用于检测网页结构的方法。该方法基于目标的尺寸、位置、颜色以及背景等，通过投影的方法把文档分成若干块，之后，通过比较块之间的视觉相似程度来判断是否继续分为更小的块或与其他块合并。</p>
    <p>现有的文档内容提取方法主要可以分为两类。第 一类方法专注于文档图像处理，通过图像处理的方法来实现文档内容提取，本文中将其称为文档图像处理（DIR)方法。第二类方法专注于文档文件格式分析，通过分析输入文件描述的文档结构来提取内容，本文中将这类方法称为数字文档分析(DDA )。但是无论是DDA方法还是DIR方法都有其自己的局限性。</p>
    <p>参考文献</p>
    <p>专利文献1:美国专利申请公开No. 2003/0215136A1, METHOD ANDSYSTEM FOR DOCUMENT SEGMENTATION, Hui Chao等，2003年11月20曰；</p>
    <p>专利文献2:美国专利申请公开No. 2006/0149775A1, DOCUMENTSEGMENTATION BASED ON VISUAL GAPS, Daniel Egnor, 2006年7月6</p>
    <p>曰；</p>
    <p>专利文献3:美国专利申请公开No. 2006/0106798A1, VISION-BASEDDOCUMENT SEGMENTATION, Ji-Rong Wen等，2006年5月18日；</p>
    <p>非专矛J文南夂1: JL Fisher, SC Hinds and DP D，amato, "A rule-based systemfor document image segmentation" , Proc. 10th ICPR,第567-572页，1990年7</p>
    <p>月；</p>
    <p>非专利文献2: Deng Cai, Shipeng Yu, Ji-Rong Wen and Wei&#8212;Ying Ma，"Extracting Content Structure for Web Pages based on Visual Representation" ，■The Fifth Asia Pacific Web Conference (APWeb2003), 2003年。</p>
    <p>发明内容</p>
    <p>本发明提出了 一种网页内容提取方法，其融和DDA和DIR方法的网页提取结果，从而产生比两种方法都更优的网页提取结果。本发明可用于网页检索，以及涉及网页分割、网页信息重用的文档解决方案。</p>
    <p>根据本发明的一个方面， 一种用于提取网页内容的方法包括：基于数字文档分析（DDA)方法提取输入网页的网页内容，产生DDA提取结果；基于文档图像识别（DIR)方法提取输入网页的网页内容，产生DIR提取结果；融合所述DDA提取结果和DIR提取结果，产生融合结果。其中，提取结果可以表示为至少一个目标的集合，所述目标代表与网页中的矩形区域相对应的网页内容，所述目标至少包含相应矩形区域的位置信息和该目标的类型信息，并且所迷类型包括文字、图片和表格。</p>
    <p>根据本发明的一方面，所述融合DDA提取结果和DIR提取结果包括：</p>
    <p>确定DDA目标与DIR目标之间的？十应关系；基于DDA目标和DIR目标之</p>
    <p>间的对应关系以及DDA目标和DIR目标的类型执行DDA提取结果与DIR</p>
    <p>提取结果的融合。其中，确定DDA目标和DIR目标之间的对应关系包括计</p>
    <p>算DDA目标与DIR目标的重叠尺度。如果DIR提取结果表示为G={G,，</p>
    <p>G2, ...,GM}， DDA提取结果表示为D= {D!， D2,      DN}，则DDA目标与</p>
    <p>DIR目标Gj的重叠尺度通过下式计算：</p>
    <p>j&#32893;(G, n Z),) &#8212;爿&#20874;(G,nD》</p>
    <p>一~以及" ' ，   / = 1,2,.",A/J = l,2,...,;v ,</p>
    <p>其中，Area(Dj)是Dj对应的矩形区域的面积，Area(Gj)是对应的矩形区域的面积，Area(G.,nDj)是D:l对应的矩形区域与G;对应的矩形区域之间的重叠面积，并且N和M分&#21029;是DDA提取结果和DIR提取结果中的目标个数。</p>
    <p>根据本发明的一方面，执行DDA提取结果与DIR提取结果的融合包括：基于DDA目标和DIR目标之间的对应关系以及目标类型对DDA目标和DIR目标进行分类；以及按照目标的类别来融合DDA提取结果和DIR提取结果，从而产生融合结果。</p>
    <p>才艮据本发明的以方面，对于一个DIR目标Gi,如果存在DDA目标Dp使得、^并且&#12316;"1,而且Gi和Dj的类型相同，则将该Gi和该Dj分类到匹配类；对于一个DIR目标Gj,如果存在DDA目标Dj,使得几*1并且&#12316;"1,而且G,和Dj的类型不同，则将该Gj和该Dj分类到类型错误类；对于一个DIR目标G,,如果对于所有DDA目标均有&#12316;"Q,则将该Gj分类到漏检类；对于一个DDA目标Dj，如果对于所有DIR目标均有、*0 ,则将该Dj分类到&#34395;警</p>
    <p>ii类；对于一个DIR目标Gi,如果Z&#12316;〉；，并且将与之重叠的DDA目标合并 后得到的合并目标与该Gi匹配，腐'将该Gi以及与该Gi重叠的DDA目标分类 到分割类，其中，T,是第一预定阈值；对于一个DDA目标D,，如果^&gt;,/&gt;7^, 并且将与之重叠的DIR目标合并后得到的合并目标与该D」匹配，j^'将该Dj 以及与之重叠的DIR目标分类到合并类，其中，丁2是第二预定阈值；以及将 不属于以上类别的DDA目标和DIR目标分类到其他类。</p>
    <p>根据本发明的一方面，将匹配类中的DDA目标添加到融合结果中；将 类型错误类中的DIR目标的位置信息和相应的DDA目标的类型信息结合产 生一个新的目标，并把该新的目标添加到融合结果；将&#34395;警类中所有的目标 都添加到融合结果中；将分割类中的DIR目标添加到融合结果中；对于合并 类，如果与DDA目标重叠的DIR目标都是图片类型的目标，则将相应的DIR 目标添加到融合结果中；如果与DDA目标重叠的DIR目标中既包括图片类 型的目标又包括文字类型的目标，则将相应的DDA目标添加到融合结果中； 如果与DDA目标重叠的DIR目标都是文字类型的目标，则将与DDA目标重 叠的DIR目标合并而成的合并目标添加到融合结果中；以及将其他类中的 DDA目标添加到融合结果中。</p>
    <p>根据本发明的一方面，基于DDA方法提取输入网页的网页内容包括： 提取输入网页的文档对象模型 (DOM)树，并至少保存DOM树中每个节点 的父节点、字节点、标签名称、内部文字和位置的属性信息；利用DOM树 分别提取输入网页中的文字目标、图片目标和表格目标。利用DOM树提取 文字目标包括：对于DOM树中的每个节点，如果该节点的内部文字属性不 为空，而且该节点的子节点中不包含块节点，则确定该节点表示的元素为候 选文字目标；参考候选文字目标的属性信息对所确定的候选文字区域执行合 并操作，以得到文字目标，其中，如果节点的标签名称不是"INPUT"、 "!"、 "A'，、 "B"、 "U"、 T、 "BIG"、 "SMALL" 、 "FONT" 、 "HR"、 "BR"、 "PRE"、 "TT，'、 "S"、 "BLOCKQUOTE" 、 "ADDRESS" 、 "DFN，， 、 "SAMP"、 "KBD"、 "VAR"、 "CODE"、 "CITE"、 "ABBR"、 "ACRONYM" 、 "SUB"、 "SUP"、 "INS"、 "DEL"、 "P"、 "EM"、 "TEXT"、 "STRONG"、 7A，，之一， 则该节点为块节点。对候选文字目标执行合并操作包括：如果两个文字目标 在位置上重叠，则将它们合并为一个文字目标；如果一个文字目标被另夕l、一 个文字目标包含，则删除被包含的文字目标；如果两个文字目标所对应的矩形区域在垂直方向上位置相邻，并且它们的字体和文字高度属性相同，它们 的左边缘相近，而且宽度相似，则将它们合并为一个文字区域。</p>
    <p>根据本发明的一方面，如果DOM树节点的标签名称是"IMG"，并且其 尺寸大于第三预定阈值，则确定该节点为图片目标。如果DOM树节点的标 签名称为"TABLE",并且该DOM树节点包含至少3个"TR"子节点，而 且多数的"TR"子节点包含多于一个的"TD"子节点，则确定该节点为表格 区域。</p>
    <p>根据本发明的另一方面，提供一种用于提取网页内容的装置，包括：数 字文档分析■ ( DDA )网页内容提取单元，其基于DDA方法冲是取输入网页的 网页内容，产生DDA提取结果；文档图像识别（DIR)网页内容提取单元， 其基于DIR方法提取输入网页的网页内容，产生DIR提取结果；融合单元， 其融合所述DDA提取结果和DIR提取结果，产生融合结果。</p>
    <p>附图说明</p>
    <p>图1是示出根据本发明实施例的网页内容提取装置的示例结构的框图；</p>
    <p>图2是示出根据本发明实施例的网页内容提取方法的流程图。</p>
    <p>图3是示出图1中的DDA网页内容提取单元的示例结构的框图；</p>
    <p>图4示出了网页文件源码及其对应的DOM杉十的例子；</p>
    <p>图5是示出根据本发明示例实施例的DDA网页内容提取方法的流程图；</p>
    <p>图6是示出图1中的结果融合单元的示例结构的框图；</p>
    <p>图7是示出根据本发明实施例的融合DDA和DIR提取结果的方法流程</p>
    <p>图；</p>
    <p>图8A-8C分别示出了 DDA网页内容提取结果、DIR网页内容提取结果 和融合结果的示例；</p>
    <p>具体实施方式</p>
    <p>下面将参照附图详细描述本发明的示例实施例。附图中，相似的附图标 记始终指代相似的元素。</p>
    <p>图1是示出根据本发明实施例的网页内容提取装置100的示例性结构的 框图。根据本发明的示例实施例，网页内容提取装置100包括输入单元110、 DDA网页内容提取单元120、网页到图像转换单元130、 DIR网页内容提取单元以及DDA和DIR提取结果融合单元150。输入单元110用于输入网 页。在本发明的示例实施例中，输入的网页例如可以是超文本标记语言 (HTML )格式的网页文件。DDA网页内容提取单元120对输入网页进行基 于DDA方法的网页内容提取处理，产生并输出DDA网页内容提取结果。下 文中将参照图3对DDA网页内容提取单元进行更具体地描述。网页到图像转 换单元130接收输入网页，将其转换成具有与输入网页相同外观的图像文件 并输出。DIR网页内容提取单元140对该图像文件进行处理，产生并输出DIR 网页内容提取结果。这里，DIR网页内容提取单元可以使用任意的基于图像 处理的文档内容提取方法来进行提取。鉴于基于图像处理的文档内容提取方 法为公知技术，在此省略对DIR网页内容提取单元的详细描述。结果融合单 元150接收DDA和DIR网页内容提取结果，对两个结果进行比较，产生并 输出融合后的网页内容提取结果。下文中将参照图6对结果融合单元150进 行更详细地描述。在本发明的示例实施例中，网页内容提取结果可以表示为 目标集合，该集合中的每一个目标代表网页中一个矩形区域内的网页内容， 并且该目标可以包含该相应的网页内矩形区域的位置信息以及类型信息。在 本发明的示例实施例中，所述类型可以包括文字、表格和图片。</p>
    <p>图2是示出根据本发明示例实施例的网页内容提取方法的流程图。参照 图2,在步骤S210输入网页文件，在步骤S220基于DDA方法提取输入网页 的内容，产生并输出包括至少一个目标（称为DDA目标）的DDA网页内容 提取结果。在步骤S230将输入网页转换成具有与输入网页相同外观的图像文 件，并在步骤S240基于DIR方法提取该图像文件的内容，产生并输出包括 至少一个目标（称为DIR目标）的DIR网页内容提取结果。最后，在步骤 S250将DDA提取结果和DIR提取结果进行比较，基于DDA目标与DIR目 标的对应关系以及目标类型来融合DDA提取结果和DIR提取结果，产生新 的目标集合作为最终的网页内容提取结果。应当注意，步骤S220与步骤 S230-S240可以以任意次序顺序执行，也可以并行执行。</p>
    <p>下面，参照图3对DDA网页内容"R取单元120进行具体描述。图3是 示出根据本发明实施例的DDA网页内容提取单元120的示例结构的框图。</p>
    <p>格和图片类型的网页内容（下文中称为文字区域、表格区域和图片区域），并 输出DDA网页内容提取结果。参照图3， DDA网页内容提取单元120包括</p>
    <p>14文档目标模型（DOM)树提取单元310、文字区域提取单元320、图片区域 提取单元340、表格区域提取单元350和输出单元360。</p>
    <p>DOM树提取单元310接收输入网页，-提取输入网页的DOM树。如上所 述，在本发明的示例实施例中，输入的网页可以是超文本标记语言（HTML) 格式的网页文件。DOM树是对应于输入网页的树形结构。网页中的每个元素 都被表示为该树形结构中的一个节点，并通过不同的路径连接到根节点。图 4示出了网页文件源码及其对应的DOM树的例子。DOM树提取单元310在 提取DOM树之后，保存网页中每个元素的父节点、子节点、标签名称、内 部文字以及位置信息等属性，并使所述属性可以被后续单元访问。注意，在 网页的源码中，元素的位置信息并没有被记录，DOM树提取单元310可以考 虑特定的网页浏览器，例如微软公司的Internet Explorer,计算出元素的位置 信息。在本发明的示例实施例中，DOM树提取单元310可以借助于微软公司 提供的COM接口 MSHTML来计算元素的位置信息。</p>
    <p>文字区域提取单元320利用DOM树提取单元310提取的DOM树来提 取文字区域，并将所提取的文字区域输出给输出单元360。具体来说，文字 区域提取单元320包括候选文字区域提取单元321和候选文字区域合并单元 322。候选文字区域提取单元321通过DOM树访问每个网页元素，如果该元 素的内部文字属性不为空，而且该元素的子节点中不包含块节点，则候选文 字区域提取单元321确定（提取）该元素为候选文字区域，并将其添加到候 选文字区域序列中。这里，如果一个节点的标签名称不是"INPUT"、 "!"、 "A"、 "B"、 "U"、 T'、 "BIG"、 "SMALL" 、 "FONT"、 "HR"、 "BR"、 "PRE" 、 "TT"、 "S"、 "BLOCKQUOTE" 、 "ADDRESS" 、 "DFN"、 "SAMP"、 "KBD"、 "VAR"、 "CODE" 、 "CITE" 、 "ABBR" 、 "ACRONYM" 、 "SUB" 、 "SUP" 、 "INS" 、 "DEL"、 "P"、 "EM"、 "TEXT"、 "STRONG"、 "/A，，之一，则该节点被定义为块节点。 在访问了每一个网页元素之后，候选文字区域提取单元321将生成的候选文 字区域序列输出到候选文字区域合并单元322。候选文字区域合并单元322 参考候选文字区域的属性信息，对候选文字区域执行合并操作。例如，如果 两个文字区域在位置上重叠，则可以将它们合并为一个更大的文字区域。或 者，如果一个文字区域被另外一个文字区域包含，则可以删除较小的文字区 域。再例如，如果两个文字区域在垂直方向上位置相邻，字体以及文字高度 等属性相同，左边缘相近，并且宽度相似，则可以将它们合并为一个更大的文字区域。以上给出了合并单元执行合并操作所遵循的规则的例子，然而本</p>
    <p>发明不限于此，也可以使用其它规则。文字区域合并单元322将合并后的文 字区域输出到输出单元360以作为文字类型的DDA目标。</p>
    <p>图片区域提取单元340利用DOM树提取单元310提取的DOM树来提 取图片区域。在本发明的示例实施例中，图片区域提取单元340也可以对提 取文字区域之后DOM树中剩余的元素进行处理来提取图片区域。如果一个 元素的标签名称是"IMG"，并且它的尺寸大于预定阈值，则确定该元素为图 片区域，并将所确定的图片区域输出到输出单元360以作为图片类型的DDA 目标。</p>
    <p>表格区域提取单元350利用DOM树提取单元310提取的DOM树来提 取表格区域。在本发明的示例实施例中，表格区域提取单元350也可以对提 取文字区域和图片区域之后DOM树中剩余的元素进行处理来提取表格区域。 表格区域提取单元350可以将标签名称是"TABLE"的元素确定为表格区域。 或者，考虑到网页文件中"TABLE"元素经常被用来规范版面，而不是表示 真正的表格区域，因此，表格区域提取单元350也可以对标签名称为"TABLE" 的元素进行进一步地判断以确定表4各区域。例如，如果一个元素的标签名称 是"TABLE",并且包含至少3个"TR"子节点，而且多数的"TR"子节点 包含多于一个的"TD"子节点，则确定该元素为表格区域。表格区域提取单 元350将所提取的表格区域输出到输出单元360,以作为表格类型的DDA目 标。</p>
    <p>输出单元360集合文字区域提取单元320、图片区域提取单元340和表 格区域提取单元350提取的DDA目标，以作为DDA网页内容提取结果输出。</p>
    <p>以上，参照图3对DDA网页内容提取单元进行了详细描述。然而应当 理解，以上描述仅仅是示例性的，而非限制性的。本发明的DDA网页内容提 取单元也可以具有其它结构，或者采用其它的基于DDA的方法来提取网页内 容。</p>
    <p>图5是示出根据本发明示例实施例的DDA网页内容提取方法的流程图。 参照图5，该DDA网页内容提取方法首先在步骤S510提取输入网页的DOM 树。在步骤S520,利用DOM树提取候选文字区域，并在步骤S530参考候选 文字区域的属性信息对候选文字区域执行合并操作，产生类型为文字的DDA 目标。在步骤S540,利用DOM树提取图片区域作为图片类型的DDA目标。在步骤S550,利用DOM树提取表格区域作为表格类型的DDA目标。在步 骤S560,集合文字、图片和表格类型的DDA目标以作为DDA网页内容提取 结果输出。注意，上述步骤S520 -S530、步骤S540和步骤S550被示为并行 执行。然而本发明不限于此，以上步骤也可以以任意次序顺序执行。</p>
    <p>下面，参考图6对结果融合单元150进行详细描述。图6是示出根据本 发明示例实施例的结果融合单元150的示例结构的框图。结果融合单元150 接收DDA网页内容提取单元120输出的DDA网页内容提取结果（以下称为 DDA提取结果）和DIR网页内容提取单元140输出的DIR网页内容提取结 果（以下称为DIR提取结果），确定DDA目标和DIR目标之间的对应关系， 基于该对应关系和目标类型融合DDA提取结果和DIR提取结果，由此产生 更优的融合的网页内容提取结果（以下称为融合结果）。如图6所示，根据本 发明示例实施例的结果融合单元150可以包括对应关系确定单元610和融合 执行单元620。对应关系确定单元610接收DDA提取结果和DIR提取结果并 确定DDA目标和DIR目标之间的对应关系。在一种实现方式中，DDA目标 和DIR目标之间的对应关系可以表示为DDA目标和DIR目标所对应的矩形 区域的重叠尺度。如上所述，网页内容提取结果可以表示为代表网页内容的 目标的集合。在这里，将DIR提取结果表示为目标集合G:(G,，G2，…，GM〉， 将DDA提取结果表示为目标集合D-{D,, D2，…，DN}，其中，每个目标G, 和每个目标Dj均对应于网页中的矩形区域，并且至少包含相应矩形区域的位 置信息和类型信息，M和N分别为DIR网页内容提取单元120和DDA网页 内容提取单元140提取的目标个数。则重叠尺度可以定义如下：</p>
    <p>&lt;formula&gt;formula see original document page 17&lt;/formula&gt;</p>
    <p>这里Area(Dj)是第j个DDA目标对应的矩形区域的面积，Area(Gi)是第i 个DIR目标对应的矩形区域的面积，Area(GinDj)是第i个DIR目标和第j个 DDA目标所对应的矩形区域之间的重叠面积。也就是说，对应关系确定单元 610计算任意Dj与Gi之间的重叠尺度。</p>
    <p>融合执行单元620根据DDA目标和DIR目标之间的对应关系以及目标 类型来融合DDA提取结果和DIR提取结果。在一种实现方式中，融合执行 单元621可以包括分类单元621和选择单元622。分类单元根据重叠尺度和目标类型对DDA目标和DIR目标进行分类。如上所述，目标类型包括 文字、图片以及表格。在本发明的示例实施例中，分类单元620可以将DDA 目标和DIR目标分成如下7类：</p>
    <p>1) 、对于一个DIR目标Gi,如果存在DDA目标Dj，使得、"1并且&#12316;"1 ， 而且Gi和Dj的类型相同（同为文字，图片或表格），则Gi和Dj被分类到匹 配类。</p>
    <p>2) 、对于一个DIR目标Gi,如果存在一个DDA目标Dj，使得、^并且</p>
    <p>而且Gi和Dj的类型不同，则将Gi和Di分类到类型错误类。</p>
    <p>3) 、对于一个DIR目标Gi，如果对于所有DDA目标，均有&#12316;"0,也就 是说不存在与之重叠的DDA目标，则该Gi被分类到漏检类。</p>
    <p>4) 、对于一个DDA目标Dj，如果对于所有DIR目标，均有、-0，也就 是说不存在与之重叠的DIR目标，则该Dj被分类到虚警类。</p>
    <p>5) 、对于一个DIR目标Gi，如果^&gt;,, 〉A,并且将与之重叠的DDA目标</p>
    <p>合并后得到的合并目标与该Gi匹配，则将该Gi以及与该Gj重叠的DDA目标 分类到分割类，并将与该G,重叠的DDA目标定义为该Gi的分割。其中，T, 是可以由用户根据输入网页的特性以及用户的需求来预先确定的预定阈值， L越小，分类到分割类的目标越多。</p>
    <p>6) 、对于一个DDA目标Dj,如果IX &gt;r2,并且将与之重叠的DIR目标</p>
    <p>合并后得到的合并目标与该Dj匹配，则将该D」以及与之重叠的DIR目标分 类到合并类，并将D,称为与Dj重叠的DIR目标的合并。其中，丁2是可以由 用户根据输入网页的特性以及用户的需求来预先确定的预定阈值，丁2越小， 分类到合并类的目标越多。</p>
    <p>7) 、将剩余的不属于以上6类的DDA目标和DIR目标分类为其他类。 选择单元622根据分类单元621的分类结果选择目标以构成融合结果R</p>
    <p>={Rh R2,…，R。并输出，其中，L为融合结果中目标的个数，从而实现对 DDA和DIR提取结果的融合。在本发明的示例实施例中，选择单元622可以 对不同的类别采取不同的融合策略。举例来说，对于匹配类中的每对目标， 选择单元622可以选择对应的DDA目标并将其添加到融合结果中；对于类型 错误类中的每对目标，选择单元622可以将DIR目标的位置信息和DDA目 标的类型信息结合产生一个新的目标，并把该新的目标添加到融合结果中。再例如，选择单元622可以简单地忽略漏;险类中所有的目标；并且将&#34395;警类 中所有的目标都添加到融合结果中。此外，对于分割类，选择单元622可以 将其中的DIR目标添加到融合结果中。对于合并类中的每组目标，可以根据 目标类型来选择添加到融合结果中的目标。例如，如果与DDA目标（例如 Dj )重叠的至少一个DIR目标都是图片类型的目标，则将相应的至少一个DIR 目标添加到融合结果中；如果与DDA目标重叠的至少一个DIR目标中既包 括图片类型的目标又包括文字类型的目标，则将相应的DDA目标（例如Dj) 添加到融合结果中；如果与DDA目标（例如Dj)重叠的至少一个DIR目标 都是文字类型的目标，则将相应的至少一个DIR目标合并为新的目标，并将 该新的目标添加到融合结果中。对于其他类中的目标，选择单元622可以将 其中的DDA目标添加到融合结果中。</p>
    <p>图7是示出根据本发明实施例的融合DDA提取结果和DIR提取结果的 方法流程图。在本发明实施例中，基于DDA目标和DIR目标的对应关系和 类型来对DDA提取结果和DIR提取结果进行融合。参照图7，首先，在步骤 S710接收DDA提取结果和DIR提取结果。然后在步骤S720确定DDA目标 和DIR目标之间的对应关系，该对应关系可以通过计算DDA目标和DIR目 标之间的重叠尺度来确定。在步骤S730,基于重叠尺度和目标类型来对DDA 目标和DIR目标进行分类。在步骤S740，基于类别和目标类型来确定包括在 最终的融合网页内容提取结果中的目标。</p>
    <p>图8A-8C分别示出了 DDA网页内容提取结果、DIR网页内容提取结果 和融合结果的示例。例如，从图中可以看出，DDA提取结果中的D2到D5 过于精细，对应的DIR提取结果G2更好；而DIR提取结果漏掉了右下角的 页码信息，该信息被DDA方法检测到，为D13。本发明的网页内容提取装置 将DDA提取结果和DIR提取结果进行融合，从而能够得到更好的网页内容 提取结果，如图8C所示。</p>
    <p>以上参照附图对本发明进行了描述。应当理解，以上内容仅仅是示例性 的，而非限制性的。本领域技术人员可以在不偏离权利要求书所限定的本发 明的精神和范围的前提下，对这里公开的装置和方法进行形式和细节上的各 种变更。</p>
    <p>19</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101944109A?cl=zh">CN101944109A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月6日</td><td class="patent-data-table-td patent-date-value">2011年1月12日</td><td class="patent-data-table-td ">华南理工大学;广州数园网络有限公司</td><td class="patent-data-table-td ">一种基于页面分块的图片摘要提取系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101944109B?cl=zh">CN101944109B</a></td><td class="patent-data-table-td patent-date-value">2010年9月6日</td><td class="patent-data-table-td patent-date-value">2012年6月27日</td><td class="patent-data-table-td ">华南理工大学</td><td class="patent-data-table-td ">一种基于页面分块的图片摘要提取系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102411475A?cl=zh">CN102411475A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年10月8日</td><td class="patent-data-table-td patent-date-value">2012年4月11日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">一种对数据进行操作的方法及移动终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102622333A?cl=zh">CN102622333A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年1月17日</td><td class="patent-data-table-td patent-date-value">2012年8月1日</td><td class="patent-data-table-td ">微软公司</td><td class="patent-data-table-td ">提取文本以转换成音频</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8819028">US8819028</a></td><td class="patent-data-table-td patent-date-value">2009年12月14日</td><td class="patent-data-table-td patent-date-value">2014年8月26日</td><td class="patent-data-table-td ">Hewlett-Packard Development Company, L.P.</td><td class="patent-data-table-td ">System and method for web content extraction</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2011072434A1?cl=zh">WO2011072434A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年12月14日</td><td class="patent-data-table-td patent-date-value">2011年6月23日</td><td class="patent-data-table-td ">Hewlett-Packard Development Company,L.P.</td><td class="patent-data-table-td ">System and method for web content extraction</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=zq9sBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年8月26日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年4月13日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年10月24日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/9e80f4a2187f5ef5e369/CN101515272A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E6%8F%90%E5%8F%96%E7%BD%91%E9%A1%B5%E5%86%85%E5%AE%B9%E7%9A%84%E6%96%B9%E6%B3%95%E5%92%8C%E8%A3%85%E7%BD%AE.pdf?id=zq9sBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U19U5x199h68O-p2Sv5Wr3WDBKogA"},"sample_url":"https://www.google.com/patents/reader?id=zq9sBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>