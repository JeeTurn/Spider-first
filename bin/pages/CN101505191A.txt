<!DOCTYPE html><html><head><title>专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_5115ea495017d9115e613207d3810e5a/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_5115ea495017d9115e613207d3810e5a__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种以太网无源光网络的故障处理方法及系统"><meta name="DC.contributor" content="张世瞳" scheme="inventor"><meta name="DC.contributor" content="磊 石" scheme="inventor"><meta name="DC.contributor" content="胡军波" scheme="inventor"><meta name="DC.contributor" content="赵学刚" scheme="inventor"><meta name="DC.contributor" content="赵文涛" scheme="inventor"><meta name="DC.contributor" content="北京讯风光通信技术开发有限责任公司" scheme="assignee"><meta name="DC.date" content="2009-4-1" scheme="dateSubmitted"><meta name="DC.description" content="本发明涉及一种以太网无源光网络的故障处理方法及系统，光线路终端与光分配网络中的所有无源分光器通过链路相连接，建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器均与备份组内的至少一个其他无源分光器通过备份链路相连；建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网络单元均与备份组内的至少一个其他光网络单元通过备份链路相连；网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，当检测到无源分光器或光网络单元发生故障后，备份组内的其它无源分光器或光网络单元承担转发所述发生故障无源分光器或光网络单元的业务。"><meta name="DC.date" content="2009-8-12"><meta name="citation_patent_publication_number" content="CN:101505191:A"><meta name="citation_patent_application_number" content="CN:200910131750"><link rel="canonical" href="https://www.google.com/patents/CN101505191A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101505191A?cl=zh"/><meta name="title" content="专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统"/><meta name="description" content="本发明涉及一种以太网无源光网络的故障处理方法及系统，光线路终端与光分配网络中的所有无源分光器通过链路相连接，建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器均与备份组内的至少一个其他无源分光器通过备份链路相连；建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网络单元均与备份组内的至少一个其他光网络单元通过备份链路相连；网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，当检测到无源分光器或光网络单元发生故障后，备份组内的其它无源分光器或光网络单元承担转发所述发生故障无源分光器或光网络单元的业务。"/><meta property="og:title" content="专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101505191A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101505191A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=W05sBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101505191A&amp;usg=AFQjCNGxMajIL_HlQluxibB7UYLPguFLOA" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/504139db4337a2591899/CN101505191A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/504139db4337a2591899/CN101505191A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101505191A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101505191A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101505191A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101505191B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101505191A?cl=zh" style="display:none"><span itemprop="description">本发明涉及一种以太网无源光网络的故障处理方法及系统，光线路终端与光分配网络中的所有无源分光器通过链路相连接，建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器均与备份组内...</span><span itemprop="url">https://www.google.com/patents/CN101505191A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统" title="专利 CN101505191A - 一种以太网无源光网络的故障处理方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101505191 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200910131750</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年8月12日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2009年4月1日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2009年4月1日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101505191B?hl=zh-CN&amp;cl=zh">CN101505191B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200910131750.1, </span><span class="patent-bibdata-value">CN 101505191 A, </span><span class="patent-bibdata-value">CN 101505191A, </span><span class="patent-bibdata-value">CN 200910131750, </span><span class="patent-bibdata-value">CN-A-101505191, </span><span class="patent-bibdata-value">CN101505191 A, </span><span class="patent-bibdata-value">CN101505191A, </span><span class="patent-bibdata-value">CN200910131750, </span><span class="patent-bibdata-value">CN200910131750.1</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E4%B8%96%E7%9E%B3%22">张世瞳</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%A3%8A+%E7%9F%B3%22">磊 石</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%83%A1%E5%86%9B%E6%B3%A2%22">胡军波</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B5%B5%E5%AD%A6%E5%88%9A%22">赵学刚</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%B5%B5%E6%96%87%E6%B6%9B%22">赵文涛</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E4%BA%AC%E8%AE%AF%E9%A3%8E%E5%85%89%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%BC%80%E5%8F%91%E6%9C%89%E9%99%90%E8%B4%A3%E4%BB%BB%E5%85%AC%E5%8F%B8%22">北京讯风光通信技术开发有限责任公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101505191A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101505191A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101505191A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (15),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (5)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=W05sBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200910131750&amp;usg=AFQjCNEpF1tK4gU60cUjrS5y1WKlPWG7sA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=W05sBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101505191A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHJlvDlGAxrP-A0vSUmcR6sE22_IA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT85340294" lang="ZH" load-source="patent-office">一种以太网无源光网络的故障处理方法及系统</invention-title>
      </span><br><span class="patent-number">CN 101505191 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA61521681" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明涉及一种以太网无源光网络的故障处理方法及系统，光线路终端与光分配网络中的所有无源分光器通过链路相连接，建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器均与备份组内的至少一个其他无源分光器通过备份链路相连；建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网络单元均与备份组内的至少一个其他光网络单元通过备份链路相连；网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，当检测到无源分光器或光网络单元发生故障后，备份组内的其它无源分光器或光网络单元承担转发所述发生故障无源分光器或光网络单元的业务。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(10)</span></span></div><div class="patent-text"><div mxw-id="PCLM22735101" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种以太网无源光网络的故障处理系统，其特征在于，包括：光线路终端，与光分配网络中的所有无源分光器相连，用于处理用户业务数据和对光分配网络中的无源分光器和光网络终端进行管理和控制；光分配网络，包括至少一个无源分光器，光分配网络与光线路终端和光网络终端相连，用于将从光网络终端接收的用户业务数据汇聚并发送给光线路终端；无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器与备份组内的至少一个其它无源分光器通过备份链路相连，当检测到光线路终端和无源分光器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障链路的业务；光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网络单元均与备份组内的至少一个其它光网络单元通过备份链路相连；所述光网络单元备份组所包括的光网络单元具有以下两个条件之一：与相同无源分光器备份组的不同无源分光器相连接，与不同无源分光器备份组的不同无源分光器相连接。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 根据权利要求1所述的系统，其特征在于，还包括网络管理器，所述网络管理器具有 光时域反射仪测试单元，在网络管理器检测到光线路终端和无源分光器之间的连接出现故障 后，启动光时域反射仪测试单元，光时域反射仪测试单元发起带外测试脉冲，使用拉曼放大 和窄带滤波技术对接收波形进行处理，结合网络初始测试波形判断故障位置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 根据权利要求1所述的系统，其特征在于，还包括网络管理器，所述网络管理器通过 检测离线光网络单元上报的故障告警消息来进行故障定位，包括-当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源 分光器发生故障；当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无源分光器端口下的 光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所述无源分光器之间 的链路发生故障；当未检测到光网络单元的故障告警信息，且与所述离线光网络单元在相同无源分光器端 口下的光网络单元中存在在线光网络单元时，则判断所述离线光网络单元发生故障。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 根据权利要求3所述的系统，其特征在于，当检测到无源分光器发生故障后，向与该 发生故障的无源分光器组成备份关系的无源分光器发送业务请求消息，无源分光器收到所述 业务请求消息，承担转发所述发生故障的无源分光器的业务；当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网络单元组成备份关系的光网络单元发送ik务请求消息，网络单元收到所述业务请求消息，承担转发所述链路故障的发光网络单元的业务；当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络 单元发送业务请求消息。光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 根据权利要求1所述的系统，其特征在于，还包括终端管理器，在光网络单元与所述 无源分光器之间的链路发生故障后，终端管理器将用户应用程序发送数据的请求注册到网络； 等待预定的时间间隔，如果没有收到对所述请求的响应消息，则向用户应用程序发送预防性 数据来防止超时；然后重复等待步骤；如果接收到对所述请求的响应消息，修改所述响应消 息，从响应消息中去除终端管理器已经发送到用户应用程序的预防性数据，并将修改的响应 消息发送到用户应用程序。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6、 一种以太网无源光网络的故障处理方法，其特征在于，包括以下步骤：A. 光线路终端与光分配网络中的所有无源分光器通过链路相连接；B. 建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源 分光器与备份组内的至少一个其它无源分光器通过备份链路相连，当检测到光线路终端和无 源分光器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障链路的业务；C. 建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网 络单元均与备份组内的至少一个其它光网络单元通过备份链路相连；所述光网络单元备份组所包括的光网络单元具有以下两个条件之一：与相同无源分光器备份组的不同无源分光器相 连接，与不同无源分光器备份组的不同无源分光器相连接；D. 网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，包括： Dl.当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源分光器发生故障；D2.当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无源分光器端口 下的光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所述无源分光器 之间的链路发生故障；D3.当未检测到光网络单元的故障告警信息，且与所述离线光网络单元在相同无源分光 器端口下的光网络单元中存在在线光网络单元时，则判断所述离线光网络单元发生故障；E. 当检测到无源分光器发生故障后，向与该发生故障的无源分光器组成备份关系的无源分光器发送业务请求消息，无源分光器收到所述业务请求消息，承担转发所述发生故障的无 源分光器的业务；当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网 络单元组成备份关系的光网络单元发送业务请求消息，网络单元收到所述业务请求消息，承 担转发所述链路故障的发光网络单元的业务；当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络 单元发送业务请求消息，光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 根据权利要求6所述的方法，其特征在于，在所述步骤B的网络管理器检测到光线路 终端和无源分光器之间的连接出现故障后，还包括：网络管理器启动光时域反射仪测试单元， 光时域反射仪测试单元发起带外测试脉冲，使用拉曼放大和窄带滤波技术对接收波形进行处 理，结合网络初始测试波形判断故障位置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8、 根据权利要求6所述的方法，其特征在于，在光网络单元与所述无源分光器之间的链 路发生故障后，执行以下步骤-511. 终端管理器将用户应用程序发送数据的请求注册到网络；512. 等待预定的时间间隔，如果没有收到对所述请求的响应消息，则向用户应用程序发 送预防性数据来防止超时；513. 重复步骤S12;514. 如果接收到对所述请求的响应消息，修改所述响应消息，从响应消息中去除终端管 理器已经发送到用户应用程序的预防性数据，并将修改的响应消息发送到用户应用程序。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 根据权利要求6所述的方法，其特征在于，随机字符串判断单元调用光网络单元中的 通信处理单元产生随机字符串，如果连续M次从所述通信处理单元得到的随机字符串相同， 则判定该通信处理单元的应用程序发生故障，其中M大于1;如果超过预定的时间没有从所 述通信处理单元得到随机字符串，则判定通信处理单元的应用程序发生故障。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 根据权利要求9所述的方法，其特征在于，判定通信处理单元的应用程序发生故障 后，执行以下步骤：S21.在应用程序中涉及数据接收、数据转发和配置信息管理的位置添加调试信息，通过 输出函数的处理，对不同的调试信息赋予不同的输出标记，并在调试信息上添加其所在任务 的ID,将调试信息重定向到telnet socket,根据调试信息跟踪数据的接收过程和在不同任务中 数据的转发过程，对发送数据、接收数据和转发数据进行分析来确定数据的接收和转发是否正确，同时分析配置信息，确定发送数据是否正确；822.在应用程序运行所涉及的函数调用返回错误，if和switch的分支错误以及内存分配 错误产生处添加异常处理程序并设置调试信息，确定应用程序的错误类型；S23J1过建立socket描述符表来更改应用程序中调试信息的输出方向，将调试信息通过 函数重定向到所述描述符表中的socket描述符，调试信息通过串口和/或telnet端口输出；通 过对不同任务设置不同的调试输出方向，来对单个任务进行调试查看；同时建立多个telnet 连接，针对不同任务进行调试信息的输出，对应用程序进行分段分任务调试；S24.通过telnet登录到光网络单元的通信处理单元，将连接socket描述符添加到telnet重 定向输出的socket描述符表中，全程监控应用程序的运行情况，通过信息分类和管理数据来 确定错误类型和错误位置，通过对单任务的调试跟踪确定故P章情况。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES27929780" lang="ZH" load-source="patent-office" class="description">
    <p>一种以太网无源光网络的故障处理方法及系统</p>
    <p>技术领域</p>
    <p>本发明涉及无源光网络PON领域，具体涉及一种以太网无源光网络EPON的故障处理方 法及系统。</p>
    <p>背景技术</p>
    <p>以太网无源光网络EPON(Ethernet Passive Optical System)是一种点到多点结构的无源光 网络，具有易维护、高带宽、低成本等优点，是目前应用较为广泛的一种光接入技术。以太 网无源光网络EPON在物理层上采用了无源光网络PON(Passive Optical System)技术，在链路 层使用以太网协议，利用PON的拓扑结构实现了以太网的接入，在以太网之上提供多种业务。 EPON综合了 PON技术和以太网技术的优点。</p>
    <p>图l示出了以太网无源光网络EPON的典型配置， 一个典型的EPON系统由光线路终端 OLT (Optical Line Termination)、光分配网络ODN (Optical Distribution Network)、光网络单 元ONU (Optical Network Unit)和网元管理系统EMS (Element Management System)组成。 其中，OLT是EPON的中心接入设备，既是一个交换机或路由器，又是一个多业务提供平台， 提供EPON系统与业务节点的核心数据、视频和电话网络间的接口，它通过一个EMS链接到 业务供应节点的网络上。ODN由无源分光器POS(Passive Optical Splitter)和光纤构成，POS是 一个连接OLT和ONU的无源设备，可以置于全天候的环境中，它分发下行数据并集中上行 数据， 一般一个POS的分线比为8、 16、 32或64，并可有多连接。ONU位于用户端，放在 一个住户、企业或MDU/MTU处。ONU提供客户的数据、视频和电话网络与EPON间的接 口。 ONU的主要功能是接收光信号并将其转换为客户需要的形式，如以太网、IP多播、POTS、 Tl等。EPON的独特之处是，ONU除了终接和转换光信号外，还提供第二层和第三层交换功 能，允许在ONU上实现企业数据流的内部路由。EMS管理EPON的不同元素，提供进入业 务供应商的核心运营网络的接口，其管理职责包括全程故障&#26619;找、配置、计费、性能和安全 功能。</p>
    <p>通常约定从光线路终端OLT到光网络单元ONU的光信号传送方向为下行方向，在下行 方向上，来自IP网络，ATM网络和PCM/PSTN网络的数据从OLT发出，经光纤传送给各个ONU;将从ONU到OLT的光信号传送方向为上行方向，在上行方向上，来自各个ONT设备 的业务数据流或时分复用业务流从ONU发出，经过光纤发送至OLT，并经过OLT汇聚后发 送至IP网络，ATM网络和PCM/PSTN网络。</p>
    <p>如图1所示，EPON网络具有单纤传输双向数据和点到多点的特性，在这种情况下，如 果光线路终端OLT与光分配网络ODN的无源分光器POS之间的主干光纤发生故障，那么就 必然会造成大量ONU业务中断。为了解决上述问题，提高EPON网络的可靠性，EPON引入 了光纤保护倒换机制，艮卩：冗余另外一根光纤作为备份光纤，当主光纤发生故障时，会自动 或手动将EPON切换到备份光纤上，保证EPON的正常运行。现有技术的故障保护措施是通 过增加大量的冗余设备来保证网络的畅通和业务的正常运行，但是这种故障保护措施建设成 本高，需要两套完全一样的传输设备，且每个ONU都需要增加一个光接口，增加了系统的成 本，且无法定位故障和指出故障类型。</p>
    <p>现有技术的以太网无源光网络故障检测手段包括：（l)OLT检测ONU是否有上行光，如 果有，则确定光纤正常；否则，确定光或ONU纤故障；（2) OLT每隔一段时间给ONU分配 一个发现窗口，如果OLT在此窗口内没有收到ONU的注册请求，则确定光或ONU纤故障； (3) OLT检测是否有ONU因某种原因不停地发送上行光信号，如果有，则确定所输ONU 出现常发光故障。</p>
    <p>但是，对于第一种检测手段，当OLT检测不到上行光时，无法确定是光纤故障还是ONU 故障；对于第二种检测手段，如果在发现窗口内没有新的ONU向OLT发送注册请求，很容 易出现将正常光纤误判为故障光纤的情况，同时，也无法确定是光纤故障还是ONU故障；对 于第三种检测手段，当OLT下挂的多个ONU在物理位置上比较分散时，各个ONU与OLT 的距离比较远并且操作起来十分繁琐。</p>
    <p>另外，当网络出现故障后，EPON系统立即进行故障处理，但是在故障处理期间，连接 在ONU的用户设备的应用程序很容易会超时，这样降低了用户体验该应用程序的质量。在一 般情况下，用户都希望防止浏览器的超时而不会增加响应浏览器请求来向浏览器传输额外的 数据量。</p>
    <p>发明内容</p>
    <p>本发明目的在于提供一种以太网无源光网络EPON的故障处理系统，该系统调试方便， 速度快，大大提高了EPON系统故障处理的效率。</p>
    <p>一种以太网无源光网络的故障处理系统，其特征在于，包括：光线路终端，与光分配网络中的所有无源分光器相连，用于处理用户业务数据和对光分 配网络中的无源分光器和光网络终端进行管理和控制；</p>
    <p>光分配网络，包括至少一个无源分光器，光分配网络与光线路终端和光网络终端相连， 用于将从光网络终端接收的用户业务数据汇聚并发送给光线路终端；</p>
    <p>无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器 与备份组内的至少一个其它无源分光器通过备份链路相连，当检测到光线路终端和无源分光 器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障链路的业务；</p>
    <p>光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网络单元</p>
    <p>均与备份组内的至少一个其它光网络单元通过备份链路相连；所述光网络单元备份组所包括 的光网络单元具有以下两个条件之一：与相同无源分光器备份组的不同无源分光器相连接或 与不同无源分光器备份组的不同无源分光器相连接。</p>
    <p>还包括网络管理器，所述网络管理器具有光时域反射仪测试单元，在网络管理器检测到 光线路终端和无源分光器之间的连接出现故障后，启动光时域反射仪测试单元，光时域反射 仪测试单元发起带外测试脉冲，使用拉曼放大和窄带滤波技术对接收波形进行处理，结合网</p>
    <p>络初始测试波形判断故障位置。</p>
    <p>网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，包括： 当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源</p>
    <p>分光器发生故障；</p>
    <p>当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无源分光器端口下的 光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所述无源分光器之间 的链路发生故障；</p>
    <p>当未检测到光网络单元的故障告警信息，且与所述离线光网络单元在相同无源分光器端 口下的光网络单元中存在在线光网络单元时，则判断所述离线光网络单元发生故障。</p>
    <p>当检测到无源分光器发生故障后，向与该发生故障的无源分光器组成备份关系的无源分 光器发送业务请求消息，无源分光器收到所述业务请求消息，承担转发所述发生故障的无源 分光器的业务。</p>
    <p>当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网 络单元组成备份关系的光网络单元发送业务请求消息，网络单元收到所述业务请求消息，承 担转发所述链路故障的发光网络单元的业务。</p>
    <p>当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络单元发送业务请求消息，光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。</p>
    <p>网络管理器还包括端口倒换单元，端口倒换单元在主光线路终端和从光线路终端组成的 双光线路终端备份方式中进行光线路终端的倒换控制。</p>
    <p>还包括，终端管理器，在光网络单元与所述无源分光器之间的链路发生故障后，终端管 理器将用户应用程序发送数据的请求注册到网络；等待预定的时间间隔，如果没有收到对所 述请求的响应消息，则向用户应用程序发送预防性数据来防止超时；然后重复等待步骤；如 果接收到对所述请求的响应消息，修改所述响应消息，从响应消息中去除终端管理器已经发 送到用户应用程序的预防性数据，并将修改的响应消息发送到用户应用程序。</p>
    <p>进一步，终端管理器通过IP层网管协议&#26619;询光网络单元的IP层以及IP层以上的信息， 光网络单元将所述查询的信息发送给终端管理器，终端管理器基于所述查询的信息动态配置 光网络单元链路层以上的信息，光网络单元将配置结果反馈给终端管理器。</p>
    <p>进一步，终端管理器向网络管理器发起测试请求，网络管理器将所述测试请求通过网络 管理协议发送给光线路终端，所述光线路终端通过二层链路协议向光网络单元发送测试命令， 光网络单元根据测试命令执行测试。</p>
    <p>进一步，终端管理器向网络管理器发起复位光网络单元或升级光网络单元的请求，网络 管理器将所述复位或升级请求通过网络管理协议发送给光线路终端，所述光线路终端通过二 层链路协议向光网络单元发送复位或升级命令，光网络单元根据复位或升级命令执行复位或 升级。</p>
    <p>网络管理器还包括随机字符串判断单元，调用光网络单元中的通信处理单元产生随机字 符串，如果连续M次从所述通信处理单元得到的随机字符串相同，则判定该通信处理单元的 应用程序发生故障，其中M大于1;如果超过预定的时间没有从所述通信处理单元得到随机 字符串，则判定通信处理单元的应用程序发生故障；</p>
    <p>如果判定通信处理单元的应用程序发生故障，则执行以下步骤-</p>
    <p>521. 在应用程序中涉及数据接收、数据转发和配置信息管理的位置添加调试信息，通过 输出函数的处理，对不同的调试信息赋予不同的输出标记，并在调试信息上添加其所在任务 的ID，将调试信息重定向到telnet socket,根据调试信息跟踪数据的接收过程和在不同任务中 数据的转发过程，对发送数据、接收数据和转发数据进行分析来确定数据的接收和转发是否 正确，同时分析配置信息，确定发送数据是否正确；</p>
    <p>522. 在应用程序运行所涉及的函数调用返回错误，if和switch的分支错误以及内存分配错误产生处添加异常处理程序并设置调试信息，确定应用程序的错误类型；</p>
    <p>523. 通过建立socket描述符表来更改应用程序中调试信息的输出方向，将调试信息通过 函数重定向到所述描述符表中的socket描述符，调试信息通过串口和/或telnet端口输出；通 过对不同任务设置不同的调试输出方向，来对单个任务进行调试&#26619;看；同时建立多个telnet 连接，针对不同任务进行调试信息的输出，对应用程序进行分段分任务调试；</p>
    <p>524. 通过telnet登录到光网络单元的通信处理单元，将连接socket描述符添加到telnet重 定向输出的socket描述符表中，全程监控应用程序的运行情况，通过信息分类和管理数据来 确定错误类型和错误位置，通过对单任务的调试跟踪确定故障情况。</p>
    <p>一种以太网无源光网络的故障处理方法，其特征在于，包括以下步骤：</p>
    <p>A. 光线路终端与光分配网络中的所有无源分光器通过链路相连接；</p>
    <p>B. 建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源 分光器与备份组内的至少一个其它无源分光器通过备份链路相连，当检测到光线路终端和无 源分光器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障链路的业务；</p>
    <p>C. 建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网 络单元均与备份组内的至少一个其它光网络单元通过备份链路相连；所述光网络单元备份组</p>
    <p>所包括的光网络单元具有以下两个条件之一：与相同无源分光器备份组的不同无源分光器相 连接，与不同无源分光器备份组的不同无源分光器相连接；</p>
    <p>D. 网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，包括-Dl.当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源 分光器发生故障；D2.当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无 源分光器端口下的光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所 述无源分光器之间的链路发生故障；D3.当未检测到光网络单元的故障告警信息，且与所述 离线光网络单元在相同无源分光器端口下的光网络单元中存在在线光网络单元时，则判断所 述离线光网络单元发生故障；</p>
    <p>E. 当检测到无源分光器发生故障后，向与该发生故障的无源分光器组成备份关系的无源 分光器发送业务请求消息，无源分光器收到所述业务请求消息，承担转发所述发生故障的无 源分光器的业务；</p>
    <p>当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网 络单元组成备份关系的光网络单元发送业务请求消息，网络单元收到所述业务请求消息，承 担转发所述链路故障的发光网络单元的业务；当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络 单元发送业务请求消息，光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。</p>
    <p>还包括，在所述步骤B的网络管理器检测到光线路终端和无源分光器之间的连接出现故 障后，还包括：网络管理器启动光时域反射仪测试单元，光时域反射仪测试单元发起带外测 试脉冲，使用拉曼放大和窄带滤波技术对接收波形进行处理，结合网络初始测试波形判断故 障位置。</p>
    <p>还包括，在光网络单元与所述无源分光器之间的链路发生故障后，执行以下步骤：</p>
    <p>511. 终端管理器将用户应用程序发送数据的请求注册到网络；</p>
    <p>512. 等待预定的时间间隔，如果没有收到对所述请求的响应消息，则向用户应用程序发 送预防性数据来防止超时；</p>
    <p>513. 重复步骤S12;</p>
    <p>514. 如果接收到对所述请求的响应消息，修改所述响应消息，从响应消息中去除终端管 理器已经发送到用户应用程序的预防性数据，并将修改的响应消息发送到用户应用程序。</p>
    <p>网络管理器还包括端口倒换单元，端口倒换单元在主光线路终端和从光线路终端组成的 双光线路终端备份方式中进行光线路终端的倒换控制。。</p>
    <p>还包括，终端管理器通过IP层网管协议&#26619;询光网络单元的IP层以及IP层以上的信息， 光网络单元将所述&#26619;询的信息发送给终端管理器，终端管理器基于所述&#26619;询的信息动态配置 光网络单元链路层以上的信息，光网络单元将配置结果反馈给终端管理器。</p>
    <p>还包括，终端管理器向网络管理器发起测试请求，网络管理器将所述测试请求通过网络 管理协议发送给光线路终端，所述光线路终端通过二层链路协议向光网络单元发送测试命令， 光网络单元根据测试命令执行测试。</p>
    <p>还包括，终端管理器向网络管理器发起复位光网络单元或升级光网络单元的请求，网络 管理器将所述复位或升级请求通过网络管理协议发送给光线路终端，所述光线路终端通过二 层链路协议向光网络单元发送复位或升级命令，光网络单元根据复位或升级命令执行复位或 升级。</p>
    <p>还包括，随机字符串判断单元调用光网络单元中的通信处理单元产生随机字符串，如果 连续M次从所述通信处理单元得到的随机字符串相同，则判定该通信处理单元的应用程序发 生故障，其中M大于1;如果超过预定的时间没有从所述通信处理单元得到随机字符串，则 判定通信处理单元的应用程序发生故障；如果判定通信处理单元的应用程序发生故障，则执行以下步骤-</p>
    <p>521. 在应用程序中涉及数据接收、数据转发和配置信息管理的位置添加调试信息，通过 输出函数的处理，对不同的调试信息赋予不同的输出标记，并在调试信息上添加其所在任务 的ID，将调试信息重定向到telnet socket,根据调试信息跟踪数据的接收过程和在不同任务中 数据的转发过程，对发送数据、接收数据和转发数据进行分析来确定数据的接收和转发是否 正确，同时分析配置信息，确定发送数据是否正确；</p>
    <p>522. 在应用程序运行所涉及的函数调用返回错误，if和switch的分支错误以及内存分配 错误产生处添加异常处理程序并设置调试信息，确定应用程序的错误类型；</p>
    <p>523. 通过建立socket描述符表来更改应用程序中调试信息的输出方向，将调试信息通过 函数重定向到所述描述符表中的socket描述符，调试信息通过串口和/或telnet端口输出；通 过对不同任务设置不同的调试输出方向，来对单个任务进行调试&#26619;看；同时建立多个telnet 连接，针对不同任务进行调试信息的输出，对应用程序进行分段分任务调试；</p>
    <p>524. 通过telnet登录到光网络单元的通信处理单元，将连接socket描述符添加到telnet重 定向输出的socket描述符表中，全程监控应用程序的运行情况，通过信息分类和管理数据来 确定错误类型和错误位置，通过对单任务的调试跟踪确定故障情况。</p>
    <p>附图说明</p>
    <p>图1是现有技术中以太网无源光网络的拓扑结构图；</p>
    <p>图2是根据本发明具体实施方式的以太网无源光网络系统的结构示意图；</p>
    <p>图3是根据本发明另一具体实施方式的以太网无源光网络系统的结构示意图；</p>
    <p>图4是根据本发明另一具体实施方式的以太网无源光网络系统的结构示意图；</p>
    <p>图5是本发明以太网无源光网络故障处理方法的流程图；</p>
    <p>图6是本发明防止用户应用程序超时的流程图；</p>
    <p>图7是本发明调试通信处理单元应用程序的流程图。</p>
    <p>具体实施方式</p>
    <p>下面结合具体的实施方式对本发明进行详细说明：</p>
    <p>本发明提供了一种以太网无源光网络EPON的故障处理系统，该系统调试方便，速度快， 大大提高了 EPON系统故障处理的效率。</p>
    <p>如图2所示，以太网无源光网络EPON系统由光线路终端OLT、光分配网络ODN、光网 络单元ONU、网元管理系统EMS和网络管理器组成。</p>
    <p>光线路终端OLT，与光分配网络ODN中的无源分光器POS相连，用于处理用户的业务数据和对光分配网络中的无源分光器和光网络终端的管理和控制；</p>
    <p>网络管理器与网元管理系统EMS通过接口连接，网络管理器通过网元管理系统实现对光 线路终端OLT的管理，实现光网络单元ONU状态的监控和部分物理层、链路层的测试功能。 网络管理器通过OLT与ONU之间的管理控制接口完成具体的测试和设备操作。</p>
    <p>光分配网络与光线路终端和光网络终端相连，包括至少一个无源分光器，用于将从光网 络终端设备接收的用户业务数据汇聚并发送给光线路终端。在本实施方式中，光分配网络包 括5个无源分光器P0S1， POS2， POS3, POS4和POS5 (仅以5个无源分光器为例，并不 限于5个），其中POSl， POS2， POS3， POS4和POS5分别与光线路终端相连，每个无源 分光器分别连接至少一个光网络终端（部分光网络终端未示出）。</p>
    <p>将无源分光器POS划分成多个备份组，形成多个无源分光器备份组，可以根据无源分光 器的地理位置进行划分。其中，每个无源分光器备份组至少包括两个无源分光器，每个无源 分光器均与备份组内的至少一个其他无源分光器通过备份链路相连。当检测到光线路终端和 无源分光器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障线路的业务。 如图2所示，将5个无源分光器划分为两个备份组，POS备份组l和POS备份组2。 POS备 份组1包括POS1和POS2,所述POS1和POS2分别与OLT相连，并且在POS1和POS2之 间建立备份链路。当POS1或POS2与OLT的链路出现故障时，POS1或POS2通过备份链路 与OLT进行通信。POS备份组2包括POS3、 POS4和POS5，所述POS3、 POS4和POS5分 别与OLT相连，在POS3和POS4之间建立备份链路，在POS4和POS5之间建立备份链路。 当POS3、 POS4或POS5与OLT的链路出现故障时，POS3、 POS4或POS5通过备份链路与 OLT进行通信。</p>
    <p>将光网络单元ONU划分成多个备份组，形成多个光网络单元备份组，可以根据光网络单 元的地理位置进行划分。每个光网络单元备份组至少包括两个光网络单元，每个光网络单元 均与备份组内的至少一个其他光网络单元通过备份链路相连。如图2所示，ONU2和ONU3 通过备份链路组成光网络单元备份组，ONUl， ONU5和ONU7通过备份链路组成光网络单元 备份组。当OMJ与POS之伺的通信链路出现故障或ONU所连接的POS发生故障时，ONU 通过备份链路经其它POS与OLT进行通信。例如，POS1发生故障无法正常工作时，ONU1 通过与ONU5之间的备份链路经POS3与OLT进行通信，ONU2通过与ONU3之间的备份链 路经POS2与OLT进行通信。</p>
    <p>但是，仍然存在以下问题，如果ONUl和ONU2通过备份链路组成备份组，那么当POSl 出现故障时，ONUl或ONU2即使通过备份链路也无法与OLT进行通信。因此，光网络单元备份组所包括的光网络单元应该具有以下两个条件之一：与相同无源分光器备份组的不同无 源分光器相连接或与不同无源分光器备份组的不同无源分光器相连接。</p>
    <p>如图2所示，组成备份组的OMJ2和ONU3分别与POS1和POS2相连，ONU2和ONU3 所连接的POS1和POS2属于相同的POS备份组1。组成备份组的ONUl， ONU5和ONU7 分别与POSl， POS3和POS4相连，ONU1和ONU5所连接的POS1和POS3属于不同的POS 备份组，POS1属于POS备份组1， POS3属于POS备份组2;而ONU5和ONU7所连接的 POS3和POS4属于相同的POS备份组2。这样备份组建立方式可以避免POS故障所带来的 链路失效。</p>
    <p>网络管理器还包括光时域反射仪测试单元，在网络管理器检测到光线路终端和无源分光 器之间的连接出现故障后，启动光时域反射仪测试单元，光时域反射仪测试单元发起带外测 试脉冲，使用拉曼放大和窄带滤波技术对接收波形进行处理，结合网络初始测试波形判断故 障位置。通过光时域反射仪测试单元检测OLT与POS之间的主干链路是否发生故障，如果检 测OLT与POS之间的主干线路发生故障，则立即启动POS备份组内的备份链路。例如，光 时域反射仪测试单元检测到POSl与OLT之间的主干链路发生故障,则立即启动POSl和POS2 之间的备份链路，POSlSii备份链路与OLT进行通信。</p>
    <p>网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，包括：</p>
    <p>当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源 分光器发生故障。例如，网络管理器同时检测到与POS1相连的离线ONU1和ONU2发出的 故障告警消息时，则可以确定POS1发生故障。</p>
    <p>当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无源分光器端口下的 光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所述无源分光器之间 的链路发生故障。例如，网络管理器检测到与POSl相连的离线ONUl发出的故障告警消息， 且与POS1相连的ONU2正常运行，则可以确定ONU1与POS1之间的链路发生故障。</p>
    <p>当未检测到光网络单元的故障告警信息，且与所述离线光网络单元在相同无源分光器端 口下的光网络单元中存在在线光网络单元时，则判断所述离线光网络单元发生故障。例如， 网络管理器发现ONUl离线，但是没有检测到ONUl的故障告警消息，且与POSl相连的ONU2 正常运行，则可以确定ONU1发生故障。</p>
    <p>当检测到无源分光器发生故障后，向与该发生故障的无源分光器组成备份关系的无源分 光器发送业务请求消息。无源分光器收到所述业务请求消息，承担转发所述发生故障的无源 分光器的业务。例如，当检测到POSl发生故障后，向与POSl组成备份关系的POS2发送业务请求消息。POS2收到所述业务请求消息，承担转发P0S1的业务。当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网 络单元组成备份关系的光网络单元发送业务请求消息。网络单元收到所述业务请求消息，承 担转发所述链路故障的发光网络单元的业务。例如，当检测到0NU1与P0S1之间的链路发 生故障后，向与ONUl组成备份关系的ONU2发送业务请求消息。ONU2收到所述业务请求 消息，承担转发ONUl的业务。当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络 单元发送业务请求消息。光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。例如，当检测到ONUl发生故障后，向与ONUl组成备份关系的ONU2发送 业务请求消息。ONU1收到所述业务请求消息，承担转发所述发生故障的ONUl的业务。如图3所示，本发明的另一具体实施方式采用双光线路终端备份方案，OLTl和OLT2分 别与POS 1， POS 2, POS 3, POS 4和POS 5相连，网络管理器通过EMS分别与OLT1和 &#9702;LT2相连，OLTl和OLT2之间还通过备份链路相连，所述备份链路用于握手协议报文和备 份报文的通信，该备份链路可以是光链路也可以是双绞线。为了进一步保证备份链路的可靠 性，系统采用生成树协议STP(Sparming Tree Protocol)等冗余链路备份组网方案。同一个POS 的上行光纤连接在OLTl和OLT2设备的两个端口 （图出未示出），这两个端口建立一个PON 备份组，其中一个端口为主端口，另一个为从端口。例如，POSl连接到OLTl的主端口，连 接到OLT2的备端口； POS2连接到OLTl的备端口，连接到OLT2的主端口。网络管理器还包括端口倒换单元，用于在OLT设备发现故障时，向对端OLT设备发送倒 换报文，停止发送通告报文，并关闭主端口；并且在接收到对端OLT设备发送的倒换报文时， 启动对应的备端口 ，并开始周期发送通告报文；或在预设时间内没有收到对端OLT设备发送 的通告报文，将对应的备端口倒换为主端口。如图4所示，EPON系统还包括终端管理器，在光网络单元与所述无源分光器之间的链 路发生故障后，终端管理器将用户应用程序发送的数据请求注册到网络；等待预定的时间间 隔，如果没有收到对所述请求的响应消息，则向用户应用程序发送预防性数据来防止超时； 然后重复等待步骤；如果接收到对所述请求的响应消息，修改所述响应消息，从响应消息中 去除终端管理器已经发送到用户应用程序的预防性数据，并将修改的响应消息发送到用户应 用程序。终端管理器通过IP层网管协议查询光网络单元的IP层以及IP层以上的信息，光网络单 元将所述&#26619;询的信息发送给终端管理器，终端管理器基于所述查询的信息动态配置光网络单元链路层以上的信息，光网络单元将配置结果反馈给终端管理器。终端管理器向网络管理器发起测试请求，网络管理器将所述测试请求通过网络管理协议 发送给光线路终端，所述光线路终端通过二层链路协议向光网络单元发送测试命令，光网络 单元根据测试命令执行测试。终端管理器向网络管理器发起复位光网络单元或升级光网络单元的请求，网络管理器将 所述复位或升级请求通过网络管理协议发送给光线路终端，所述光线路终端通过二层链路协 议向光网络单元发送复位或升级命令，光网络单元根据复位或升级命令执行复位或升级。网络管理器还包括随机字符串判断单元，调用光网络单元中的通信处理单元产生&#38568;机字 符串，如果连续M次从所述通信处理单元得到的随机字符串相同，则判定该通信处理单元的应用程序发生故障，其中M大于1;如果超过预定的时间没有从所述通信处理单元得到随机 字符串，则判定通信处理单元的应用程序发生故障；如果判定通信处理单元的应用程序发生故障，则执行以下步骤-S21.在应用程序中涉及数据接收、数据转发和配置信息管理的位置添加调试信息，通过 输出函数的处理，对不同的调试信息赋予不同的输出标记，并在调试信息上添加其所在任务的ID，将调试信息重定向到telnet socket,根据调试信息跟踪数据的接收过程和在不同任务中 数据的转发过程，对发送数据、接收数据和转发数据进行分析来确定数据的接收和转发是否 正确，同时分析配置信息，确定发送数据是否正确；822.在应用程序运行所涉及的函数调用返回错误，if和switch的分支错误以及内存分配 错误产生处添加异常处理程序并设置调试信息，确定应用程序的错误类型；523. 通过建立socket描述符表来更改应用程序中调试信息的输出方向，将调试信息通过 函数重定向到所述描述符表中的socket描述符，调试信息通过串口和/或telnet端口输出；通 过对不同任务设置不同的调试输出方向，来对单个任务进行调试查看；同时建立多个telnet 连接，针对不同任务进行调试信息的输出，对应用程序进行分段分任务调试；524. 通过telnet登录到光网络单元的通信处理单元，将连接socket描述符添加到telnet重 定向输出的socket描述符表中，全程监控应用程序的运行情况，通过信息分类和管理数据来 确定错误类型和错误位置，通过对单任务的调试跟踪确定故障情况。图5是本发明以太网无源光网络故障处理方法的流程图，本发明提供一种以太网无源光 网络的故障处理方法，包括以下步骤：A. 光线路终端与光分配网络中的所有无源分光器通过链路相连接；B. 建立无源分光器备份组，每个无源分光器备份组至少包括两个无源分光器，每个无源分光器与备份组内的至少一个其它无源分光器通过备份链路相连，当检测到光线路终端和无 源分光器之间的连接出现故障时，利用无源分光器备份组的备份链路承担故障链路的业务；</p>
    <p>C. 建立光网络单元备份组，每个光网络单元备份组至少包括两个光网络单元，每个光网 络单元均与备份组内的至少一个其它光网络单元通过备份链路相连；所述光网络单元备份组 所包括的光网络单元具有以下两个条件之一：与相同无源分光器备份组的不同无源分光器相 连接或与不同无源分光器备份组的不同无源分光器相连接；</p>
    <p>D. 网络管理器通过检测离线光网络单元上报的故障告警消息来进行故障定位，包括： Dl.当检测到与同一无源分光器相连的所有光网络单元的故障告警消息时，则判断所述无源 分光器发生故障；D2.当检测到光网络单元的故障告警消息，且与所述光网络单元在相同无 源分光器端口下的光网络单元中存在正常运行的光网络单元时，则判断所述光网络单元与所 述无源分光器之间的链路发生故障；D3.当未检测到光网络单元的故障告警信息，且与所述 离线光网络单元在相同无源分光器端口下的光网络单元中存在在线光网络单元时，则判断所 述离线光网络单元发生故障；</p>
    <p>E. 当检测到无源分光器发生故障后，向与该发生故障的无源分光器组成备份关系的无源 分光器发送业务请求消息，无源分光器收到所述业务请求消息，承担转发所述发生故障的无 源分光器的业务；</p>
    <p>当检测到光网络单元与所述无源分光器之间的链路发生故障后，向与该链路故障的光网 络单元组成备份关系的光网络单元发送业务请求消息，网络单元收到所述业务请求消息，承 担转发所述链路故障的发光网络单元的业务；</p>
    <p>当检测到光网络单元发生故障后，向与该发生故障的光网络单元组成备份关系的光网络 单元发送业务请求消息，光网络单元收到所述业务请求消息，承担转发所述发生故障的光网 络单元的业务。</p>
    <p>还包括，在所述步骤B的网络管理器检测到光线路终端和无源分光器之间的连接出现故 障后，还包括：网络管理器启动光时域反射仪测试单元，光时域反射仪测试单元发起带外测 试脉冲，使用拉曼放大和窄带滤波技术对接收波形进行处理，结合网络初始测试波形判断故 障位置。</p>
    <p>如图6所示，在光网络单元与所述无源分光器之间的链路发生故障后，执行以下步骤-Sll.终端管理器将用户应用程序发送数据的请求注册到网络；</p>
    <p>S12.等待预定的时间间隔，如果没有收到对所述请求的响应消息，则向用户应用程序发 送预防性数据来防止超时；</p>
    <p>1513. 重复步骤S12;</p>
    <p>514. 如果接收到对所述请求的响应消息，修改所述响应消息，从响应消息中去除终端管</p>
    <p>理器已经发送到用户应用程序的预防性数据，并将修改的响应消息发送到用户应用程序。</p>
    <p>网络管理器还包括端口倒换单元，用于在OLT设备发现故障时，向对端OLT设备发送倒 换报文，停止发送通告报文，并关闭主端口；并且在接收到对端OLT设备发送的倒换报文时， 启动对应的备端口 ，并开始周期发送通告报文；或在预设时间内没有收到对端OLT设备发送 的通告报文，将对应的备端口倒换为主端口。</p>
    <p>终端管理器通过IP层网管协议查询光网络单元的IP层以及IP层以上的信息，光网络单 元将所述查询的信息发送给终端管理器，终端管理器基于所述&#26619;询的信息动态配置光网络单 元链路层以上的信息，光网络单元将配置结果反馈给终端管理器。</p>
    <p>终端管理器向网络管理器发起测试请求，网络管理器将所述测试请求通过网络管理协议 发送给光线路终端，所述光线路终端通过二层链路协议向光网络单元发送测试命令，光网络 单元根据测试命令执行测试。</p>
    <p>终端管理器向网络管理器发起复位光网络单元或升级光网络单元的请求，网络管理器将 所述复位或升级请求通过网络管理协议发送给光线路终端，所述光线路终端通过二层链路协 议向光网络单元发送复位或升级命令，光网络单元根据复位或升级命令执行复位或升级。</p>
    <p>调用光网络单元中的通信处理单元产生随机字符串，如果连续M次从所述通信处理单元 得到的随机字符串相同，则判定该通信处理单元的应用程序发生故障，其中M大于1;如果 超过预定的时间没有从所述通信处理单元得到随机字符串，则判定通信处理单元的应用程序 发生故障；</p>
    <p>如图7所示，如果判定通信处理单元的应用程序发生故障，则执行以下步骤-</p>
    <p>521. 在应用程序中涉及数据接收、数据转发和配置信息管理的位置添加调试信息，通过 输出函数的处理，对不同的调试信息赋予不同的输出标记，并在调试信息上添加其所在任务 的ID，将调试信息重定向到telnet socket,根据调试信息跟踪数据的接收过程和在不同任务中 数据的转发过程，对发送数据、接收数据和转发数据进行分析来确定数据的接收和转发是否 正确，同时分析配置信息，确定发送数据是否正确；</p>
    <p>522. 在应用程序运行所涉及的函数调用返回错误，if和switch的分支错误以及内存分配 错误产生处添加异常处理程序并设置调试信息，确定应用程序的错误类型；</p>
    <p>523. 通过建立socket描述符表来更改应用程序中调试信息的输出方向，将调试信息通过 函数重定向到所述描述符表中的socket描述符，调试信息通过串口和/或telnet端口输出；通过对不同任务设置不同的调试输出方向，来对单个任务进行调试&#26619;看；同时建立多个telnet 连接，针对不同任务进行调试信息的输出，对应用程序进行分段分任务调试；</p>
    <p>S24.通过telnet登录到光网络单元的通信处理单元，将连接socket描述符添加到telnet重 定向输出的socket描述符表中，全程监控应用程序的运行情况，通过信息分类和管理数据来 确定错误类型和错误位置，通过对单任务的调试跟踪确定故障情况。</p>
    <p>本发明通过telnet连接登录对系统进行远程调试。登录后，通过命令打开调试信息开关， 进入调试状态。</p>
    <p>命令：debug [任务][方向];任务：应用程序任务；方向：串口输出、tel加t输出；</p>
    <p>调试信息的输出，通过对输出函数printf ()改写，使用专门为调试编写的debugPrint () 函数来代替系统默认的输出函数printf ();得到输出信息并不直接输出，而添加相应信息如 [ERROR]、 [WARN]、 [TDB]等。在不同任务中的输出信息在遍历其输出字符时加入任务标记 (信息所在任务)。将消息按调试信息的格式以字符流的形式，同时或单独发送至对应建立的 socket描述符。对于由于printf ()输出中由"\n"来完成换行，但在telnet socket中输出只有 换行并不从起始位开始输出，所以在对输出的流处理时，如果存在"Xn"的字符全部换为"VXn" 以保证输出格式。</p>
    <p>通过调试设置可使系统对所有任务调试信息进行打印输出，&#26619;找、分析打印信息中的 [ERROR]标记信息。此类信息为程序处理错误，可由此信息直接或间接的分析得到系统故障 原因，同时此错误需要升级程序来解决故障。如果无[ERROR]打印信息，则可基本排除系统 运行中程序运行异常产生的故障。</p>
    <p>如果程序中无[ERROR]标记信息，出现[WARN]信息，则可对该信息进行分析，确定信息 产生原因和位置，如需要，还可对产生该信息的任务单独进行打印调试，进一步确定分析故 障。由此可以基本判断程序在处理过程中出现错误。然后结合对接受数据、接收配置命令、 发送数据、发送数据命令、转发数据、转发数据配置命令等信息进行分析。分析程序是否是 数据发送错误、数据转发错误、数据处理错误、数据接收错误、管理命令错误。通过对这些 数据的对比分析，则可基本确定系统故障产生的位置和原因。如果是管理命令错误或数据接 收错误则可以排除程序运行本身错误，即配置数据为非法数据。如果是数据发送错误、数据 转发错误、数据处理错误，则需要通过对程序进行升级来解决此故障；</p>
    <p>如果程序中既无[ERROR]标记信息也没有WARN]标记信息，则程序只能是数据发送错误、 数据转发错误、数据处理错误、数据接收错误。通过对接收数据、转发数据、发送数据在各 个程序处理部分的数据进行对比分析：如果接收数据、转发数据、发送数据在程序处理过程中数据不一致，则可确定程序故障是由数据错误引起，对此，可以先确定数据出现不一致的 位置，然后进一步针对数据流，逆向查找导致数据不一致的问题。&#26619;找到程序出错位置，如 需要可单独对该任务进行调试。结合对数据的处理，基本就可以确定错误原因。此类原因同 样需要结合故障分析对程序进行升级排除。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101867411A?cl=zh">CN101867411A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月17日</td><td class="patent-data-table-td patent-date-value">2010年10月20日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">实现无源光网络光纤保护的方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101867411B?cl=zh">CN101867411B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月17日</td><td class="patent-data-table-td patent-date-value">2016年4月13日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">实现无源光网络光纤保护的方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101917226A?cl=zh">CN101917226A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年8月23日</td><td class="patent-data-table-td patent-date-value">2010年12月15日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种在无源光网络中进行光纤故障诊断的方法及光线路终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101917226B?cl=zh">CN101917226B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年8月23日</td><td class="patent-data-table-td patent-date-value">2016年3月2日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种在无源光网络中进行光纤故障诊断的方法及光线路终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101931463A?cl=zh">CN101931463A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月15日</td><td class="patent-data-table-td patent-date-value">2010年12月29日</td><td class="patent-data-table-td ">杭州华三通信技术有限公司</td><td class="patent-data-table-td ">一种epon网络中基于多级pos的监控方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101945310A?cl=zh">CN101945310A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月16日</td><td class="patent-data-table-td patent-date-value">2011年1月12日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种onu端口能力实时上报的方法和onu</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102118193A?cl=zh">CN102118193A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年1月12日</td><td class="patent-data-table-td patent-date-value">2011年7月6日</td><td class="patent-data-table-td ">深圳市易飞扬通信技术有限公司</td><td class="patent-data-table-td ">基于光线路终端模块的无源光网络故障诊断系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102201861A?cl=zh">CN102201861A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年3月24日</td><td class="patent-data-table-td patent-date-value">2011年9月28日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">基于长距无源光网络的故障检测系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102201861B?cl=zh">CN102201861B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年3月24日</td><td class="patent-data-table-td patent-date-value">2015年8月12日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">基于长距无源光网络的故障检测系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102665195A?cl=zh">CN102665195A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月26日</td><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td ">深圳市中兴移动通信有限公司</td><td class="patent-data-table-td ">一种基于云端服务的数据终端、系统及其实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103139820A?cl=zh">CN103139820A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年3月12日</td><td class="patent-data-table-td patent-date-value">2013年6月5日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种链路检测方法及网元</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103178971A?cl=zh">CN103178971A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月20日</td><td class="patent-data-table-td patent-date-value">2013年6月26日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">Pon保护方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103297140A?cl=zh">CN103297140A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月17日</td><td class="patent-data-table-td patent-date-value">2013年9月11日</td><td class="patent-data-table-td ">苏州优康网络电子商务有限公司</td><td class="patent-data-table-td ">多接口式无源光网络装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2011157021A1?cl=zh">WO2011157021A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年10月20日</td><td class="patent-data-table-td patent-date-value">2011年12月22日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">实现无源光网络光纤保护的方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012024871A1?cl=zh">WO2012024871A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月1日</td><td class="patent-data-table-td patent-date-value">2012年3月1日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">无源光网络中进行光纤故障诊断的方法及光线路终端</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=W05sBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04B0010038000">H04B10/038</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=W05sBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04Q0011000000">H04Q11/00</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年8月12日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年10月7日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">C53</td><td class="patent-data-table-td ">Change or modification</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">COR</td><td class="patent-data-table-td ">Bibliographic change or correction in the description</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CORRECT: INVENTOR; FROM: ZHAO WENTAO ZHANG SHITONG HU JUNBO ZHAO XUEGANG SHI LEI TO: ZHAO WENTAO</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年7月11日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/504139db4337a2591899/CN101505191A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_5115ea495017d9115e613207d3810e5a.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E4%BB%A5%E5%A4%AA%E7%BD%91%E6%97%A0%E6%BA%90%E5%85%89%E7%BD%91%E7%BB%9C%E7%9A%84%E6%95%85%E9%9A%9C.pdf?id=W05sBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0JUM7fgxThfeVCdSwjm4PpWvx5kg"},"sample_url":"https://www.google.com/patents/reader?id=W05sBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>