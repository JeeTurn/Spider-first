<!DOCTYPE html><html><head><title>专利 CN103947162A - 具有消息处理功能的电子装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="具有消息处理功能的电子装置"><meta name="DC.contributor" content="亨里克&#183;本特松" scheme="inventor"><meta name="DC.contributor" content="索尼爱立信移动通讯有限公司" scheme="assignee"><meta name="DC.date" content="2012-1-26" scheme="dateSubmitted"><meta name="DC.description" content="电子装置(12)能够通过即时消息(IM)消息传送和短消息服务(SMS)消息传送来发送聊天式消息。IM消息传送是优选的，但是当用于该电子装置的IM消息传送不可用时，当用户授权时将通过SMS消息传送来发送消息。当IM消息传送不可用于消息目的地电子装置(14)时，将通知电子装置的用户发送机制是SMS消息传送并且将尝试唤醒该消息目的地电子装置中的IM消息传送。"><meta name="DC.date" content="2014-7-23"><meta name="DC.relation" content="CN:101227652:A" scheme="references"><meta name="DC.relation" content="CN:101262453:A" scheme="references"><meta name="DC.relation" content="CN:1574796:A" scheme="references"><meta name="DC.relation" content="US:20080133742:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:103947162:A"><meta name="citation_patent_application_number" content="CN:201280057176"><link rel="canonical" href="https://www.google.com/patents/CN103947162A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN103947162A?cl=zh"/><meta name="title" content="专利 CN103947162A - 具有消息处理功能的电子装置"/><meta name="description" content="电子装置(12)能够通过即时消息(IM)消息传送和短消息服务(SMS)消息传送来发送聊天式消息。IM消息传送是优选的，但是当用于该电子装置的IM消息传送不可用时，当用户授权时将通过SMS消息传送来发送消息。当IM消息传送不可用于消息目的地电子装置(14)时，将通知电子装置的用户发送机制是SMS消息传送并且将尝试唤醒该消息目的地电子装置中的IM消息传送。"/><meta property="og:title" content="专利 CN103947162A - 具有消息处理功能的电子装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN103947162A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN103947162A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN103947162A&amp;usg=AFQjCNFSywQlTjynD-9M6BpAzKQgDpct4Q" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/1ae30931fdeaccfa78e5/CN103947162A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/1ae30931fdeaccfa78e5/CN103947162A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN103947162A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN103947162A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN103947162A?cl=zh" style="display:none"><span itemprop="description">电子装置(12)能够通过即时消息(IM)消息传送和短消息服务(SMS)消息传送来发送聊天式消息。IM消息传送是优选的，但是当用于该电子装置的IM消息传送不可用时，当用户授权时将通过SMS消息传送来发送消息。当IM消息传送不可用于 ...</span><span itemprop="url">https://www.google.com/patents/CN103947162A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN103947162A - 具有消息处理功能的电子装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN103947162A - 具有消息处理功能的电子装置" title="专利 CN103947162A - 具有消息处理功能的电子装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN103947162 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201280057176</td></tr><tr><td class="patent-bibdata-heading"> 专利合作条约 (PCT) 编号</td><td class="single-patent-bibdata">PCT/IB2012/000117</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2014年7月23日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2012年1月26日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年11月22日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/EP2783488A1?hl=zh-CN&amp;cl=zh">EP2783488A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20140194151?hl=zh-CN&amp;cl=zh">US20140194151</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2013076533A1?hl=zh-CN&amp;cl=zh">WO2013076533A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201280057176.X, </span><span class="patent-bibdata-value">CN 103947162 A, </span><span class="patent-bibdata-value">CN 103947162A, </span><span class="patent-bibdata-value">CN 201280057176, </span><span class="patent-bibdata-value">CN-A-103947162, </span><span class="patent-bibdata-value">CN103947162 A, </span><span class="patent-bibdata-value">CN103947162A, </span><span class="patent-bibdata-value">CN201280057176, </span><span class="patent-bibdata-value">CN201280057176.X, </span><span class="patent-bibdata-value">PCT/2012/117, </span><span class="patent-bibdata-value">PCT/IB/12/000117, </span><span class="patent-bibdata-value">PCT/IB/12/00117, </span><span class="patent-bibdata-value">PCT/IB/2012/000117, </span><span class="patent-bibdata-value">PCT/IB/2012/00117, </span><span class="patent-bibdata-value">PCT/IB12/000117, </span><span class="patent-bibdata-value">PCT/IB12/00117, </span><span class="patent-bibdata-value">PCT/IB12000117, </span><span class="patent-bibdata-value">PCT/IB1200117, </span><span class="patent-bibdata-value">PCT/IB2012/000117, </span><span class="patent-bibdata-value">PCT/IB2012/00117, </span><span class="patent-bibdata-value">PCT/IB2012000117, </span><span class="patent-bibdata-value">PCT/IB201200117</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BA%A8%E9%87%8C%E5%85%8B%C2%B7%E6%9C%AC%E7%89%B9%E6%9D%BE%22">亨里克&#183;本特松</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E7%B4%A2%E5%B0%BC%E7%88%B1%E7%AB%8B%E4%BF%A1%E7%A7%BB%E5%8A%A8%E9%80%9A%E8%AE%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">索尼爱立信移动通讯有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN103947162A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103947162A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN103947162A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (6),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (2)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201280057176&amp;usg=AFQjCNGOzpiEpyIC3HcWw5w6zUxHzIhpQQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D103947162A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGhqIBV1x7fp9fJ3dyQG11bpKsdrQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT138591028" lang="ZH" load-source="patent-office">具有消息处理功能的电子装置</invention-title>
      </span><br><span class="patent-number">CN 103947162 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA136464774" lang="ZH" load-source="patent-office">
    <div class="abstract">电子装置(12)能够通过即时消息(IM)消息传送和短消息服务(SMS)消息传送来发送聊天式消息。IM消息传送是优选的，但是当用于该电子装置的IM消息传送不可用时，当用户授权时将通过SMS消息传送来发送消息。当IM消息传送不可用于消息目的地电子装置(14)时，将通知电子装置的用户发送机制是SMS消息传送并且将尝试唤醒该消息目的地电子装置中的IM消息传送。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(20)</span></span></div><div class="patent-text"><div mxw-id="PCLM68584415" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.一种电子装置(12)，该电子装置(12)包括:  无线电电路(116)，该无线电电路(116)通过支持短消息服务 SMS消息传送的连接和支持即时消息&#38914;消息传送的连接建立无线通信；以及  控制电路(32)，该控制电路(32)执行消息传送客户端(36)使得所述电子装置(14)被构造成:  (a)接收消息的用户输入和发送所述消息的命令；  (b)确定在接收到发送所述消息的所述命令时IM消息传送不可用；  (c)询问所述用户以确定应当立即通过SMS消息传送来发送所述消息还是等待IM消息传送变为可用；以及  (d)当在(c)中所述用户选择通过SMS消息传送来发送所述消息时，通过SMS消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的电子装置，其中，如果在(b)中IM消息传送可用，则所述电子装置被构造成通过&#38914;消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1至权利要求2中任一项所述的电子装置，其中，如果在(c)中所述用户选择等待，则所述电子装置被构造成确定&#38914;消息传送已经恢复并且通过IM消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求1至权利要求3中任一项所述的电子装置，其中，所述支持SMS消息传送的连接是与用户网络(16)的蜂窝电路交换网络连接(18-1)。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求1至权利要求4中任一项所述的电子装置，其中，所述支持IM消息传送的连接是与用户网络(16)的蜂窝分组交换网络连接(20-1)或与所述用户网络分开的到互联网(22)的分组交换数据连接(24-1)中的一种。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.一种在电子装置(12)中处理消息的方法，该电子装置(12)具有无线电电路(116)，该无线电电路(116)通过支持短消息服务SMS消息传送的连接和支持即时消息IM消息传送的连接建立无线通信，该方法包括以下步骤:  (a)接收消息的用户输入和发送所述消息的命令；  (b)确定在接收到发送所述消息的所述命令时IM消息传送不可用；  (c)询问所述用户，以确定应当立即通过SMS消息传送来发送所述消息还是等待IM消息传送变为可用；以及  (d)当在(c)中所述用户选择通过SMS消息传送来发送所述消息时，通过SMS消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的方法，其中，如果在步骤(b)中&#38914;消息传送可用，则通过&#38914;消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求6至权利要求7中任一项所述的方法，其中，如果在步骤(c)中所述用户选择等待，则确定&#38914;消息传送已经恢复并且通过&#38914;消息传送来发送所述消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求6至权利要求8中任一项所述的方法，其中，所述支持SMS消息传送的连接是与用户网络(16)的蜂窝电路交换网络连接(18-1)。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求6至权利要求9中任一项所述的方法，其中，所述支持&#38914;消息传送的连接是与用户网络(16)的蜂窝分组交换网络连接(20-1)或与所述用户网络分开的到互联网(22)的分组交换数据连接(24-1)中的一种。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11.一种电子装置(12)，该电子装置(12)包括:  无线电电路(116)，通过该无线电电路(116)通过短消息服务SMS消息传送或即时消息IM消息传送中的一种来发送针对消息目的地电子装置的消息；以及  控制电路(32)，该控制电路(32)执行消息传送客户端(36)使得所述电子装置(14)被构造成:  (a)确定打开了与所述消息目的地电子装置关联的聊天；  (b)确定所述消息目的地电子装置当前是否具有通过IM消息传送的消息接收能力；  (c)当所述消息目的地电子装置当前具有通过IM消息传送的消息接收能力时，向所述电子装置的用户指示将通过&#38914;消息传送来向所述消息目的地电子装置发送消息；以及  (d)当所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力时，向所述电子装置的所述用户指示将通过SMS消息传送来向所述消息目的地电子装置发送消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求11所述的电子装置，其中，(b)包括与消息服务服务器(28、32)通信以确定所述消息目的地电子装置通过&#38914;消息传送接收消息的可用性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求12所述的电子装置，其中，如果所述消息目的地电子装置具有与所述消息服务服务器的&#38914;消息传送服务(30)的活动会话，则所述消息目的地电子装置具有通过IM消息传送的消息接收能力。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.根据权利要求12所述的电子装置，其中，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则来自所述电子装置的通信触发所述消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.根据权利要求11所述的电子装置，其中，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则所述电子装置被进一步构造成促使所述消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">16.一种在电子装置(12)中处理消息的方法，该电子装置(12)具有无线电电路(116)，通过该无线电电路(116)通过短消息服务SMS消息传送或即时消息&#38914;消息传送中的一种来发送针对消息目的地电子装置(14)的消息，该方法包括以下步骤:  (a)确定打开了与所述消息目的地电子装置关联的聊天；  (b)确定所述消息目的地电子装置当前是否具有通过IM消息传送的消息接收能力；  (c)当所述消息目的地电子装置当前具有通过IM消息传送的消息接收能力时，向所述电子装置的用户指示将通过&#38914;消息传送来向所述消息目的地电子装置发送消息；以及  (d)当所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力时，向所述电子装置的所述用户指示将通过SMS消息传送来向所述消息目的地电子装置发送消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.根据权利要求16所述的方法，其中，步骤(b)包括与消息服务服务器(28、32)通信以确定所述消息目的地电子装置通过&#38914;消息传送接收消息的可用性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.根据权利要求17所述的方法，其中，如果所述消息目的地电子装置具有与所述消息服务服务器的IM消息传送服务(30)的活动会话，则所述消息目的地电子装置具有通过IM消息传送的消息接收能力。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.根据权利要求17所述的方法，其中，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则来自所述电子装置的通信触发所述消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.根据权利要求16所述的方法，其中，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则所述电子装置促使消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES76989867" lang="ZH" load-source="patent-office" class="description">
    <p>具有消息处理功能的电子装置</p>
    <p>技术领域</p>
    <p>[0001]	本公开的技术总体涉及电子装置，更具体地说，涉及与另一个电子装置交换消息的电子装置。</p>
    <p>背景技术</p>
    <p>[0002]	诸如移动电话等的电子装置具有很多通信特征。一个普遍特征是聊天式消息传送。在过去，仅在利用电子装置与用户网络之间的蜂窝连接性的短消息服务(SMS)平台中的一个上发送聊天式消息。另选地，在利用电子装置与用户网络之间的互联网协议(IP)数据连接性的即时消息(&#38914;)平台上或者在与用户网络分开的、通过接入点(例如，WiFi接入点)通过电子装置与互联网之间的IP数据连接性排他地发送聊天式消息。</p>
    <p>[0003]	最近，已经组合了 SMS消息传送和&#38914;消息传送。当&#38914;消息传送因电子装置的数据连接而可用时，将经由&#38914;发送消息。但是当&#38914;消息传送不可用时，将经由SMS消息传送来发送消息。当消息发送装置不具有用于IM消息传送的数据连接或用于消息的目的地装置不具有用于&#38914;消息传送的数据连接中的一个时，该排布结构导致问题。例如，根据与用户网络的运营商的相应协定，SMS消息传送的使用可能导致发送装置和/或接收装置的额外成本。作为另一个示例，在等待IP数据连接恢复为使得能够经由IM消息传送来传递消息时，可能延迟消息的传递。在一些情况下，如果通过&#38914;消息传送进行传递不在预定时间量之内发生，则在不了解发送装置的用户或接收装置的用户的情况下，将通过SMS消息传送来重新引导消息。</p>
    <p>[0004]	移动装置由于一个或更多个原因可能不具有IP数据连接，诸如这种装置不具有带有用户网络的“数据计划”订购、该装置当前经历较差的用户网络连接、该装置位于用户网络不支持IP数据连接性的位置(例如，主要在发展中国家)、该装置位于相对于装置的用户网络处于漫游模式使得不允许IP数据流量的位置、该装置位于WiFi不可用的位置或其它原因。</p>
    <p>发明内容</p>
    <p>[0005]	为了增强电子装置中聊天式消息的处理，本公开描述了用于在发送装置或接收装置中的一个或这两者不具有通过IP数据连接的&#38914;消息传送能力时进行消息传送处理的技术。</p>
    <p>[0006]	根据本公开的一个方面，一种电子装置包括无线电电路，该无线电电路通过支持短消息服务(SMS)消息传送的连接和支持即时消息(IM)消息传送的连接建立无线通信；以及控制电路，该控制电路执行消息传送客户端使得所述电子装置被构造成:(a)接收消息的用户输入和发送消息的命令；(b)确定在接收到发送所述消息的所述命令时IM消息传送不可用；(c)询问所述用户以确定所述消息应当立即通过SMS消息传送来发送还是等待IM消息传送变为可用；以及(d)当在(c)中所述用户选择通过SMS消息传送来发送所述消息时，通过SMS消息传送来发送所述消息。[0007]	根据电子装置的一个实施方式，如果在(b)中IM消息传送可用，则所述电子装置被构造成通过&#38914;消息传送来发送所述消息。</p>
    <p>[0008]	根据电子装置的一个实施方式，如果在(C)中所述用户选择等待，则电子装置被构造成确定&#38914;消息传送已经恢复并且通过&#38914;消息传送来发送所述消息。</p>
    <p>[0009]	根据电子装置的一个实施方式，支持SMS消息传送的连接是与用户网络的蜂窝电路交换网络连接。</p>
    <p>[0010]	根据电子装置的一个实施方式，支持IM消息传送的连接是与用户网络的蜂窝分组交换网络连接或与用户网络分开的到互联网的分组交换数据连接中的一种。</p>
    <p>[0011]	根据本公开的另一个方面，一种在电子装置中处理消息的方法，该电子装置具有无线电电路，该无线电电路通过支持短消息服务(SMS)消息传送的连接和支持即时消息(IM)消息传送的连接建立无线通信，该方法包括以下步骤:(a)接收消息的用户输入和发送所述消息的命令；(b)确定在接收到发送所述消息的所述命令时IM消息传送不可用；(C)询问所述用户，以确定应当立即通过SMS消息传送来发送所述消息还是等待IM消息传送变为可用；以及(d)当在(c)中所述用户选择通过SMS消息传送来发送所述消息时，通过SMS消息传送来发送所述消息。</p>
    <p>[0012]	根据该方法的一个实施方式，如果在步骤(b)中&#38914;消息传送可用，则通过&#38914;消息传送来发送所述消息。</p>
    <p>[0013]	根据该方法的一个实施方式，如果在步骤(C)中所述用户选择等待，则确定IM消息传送已经恢复并且通过&#38914;消息传送来发送所述消息。</p>
    <p>[0014]	根据该方法的一个实施方式，支持SMS消息传送的连接是与用户网络的蜂窝电路交换网络连接。</p>
    <p>[0015]	根据该方法的一个实施方式，支持IM消息传送的连接是与用户网络的蜂窝分组交换网络连接或与所述用户网络分开的到互联网的分组交换数据连接中的一种。</p>
    <p>[0016]	根据本公开的另一个方面，一种电子装置包括无线电电路，通过该无线电电路通过短消息服务(SMS)消息传送或即时消息(IM)消息传送中的一种来发送针对消息目的地电子装置的消息；以及控制电路，该控制电路执行消息传送客户端使得所述电子装置被构造成:(a)确定打开了与所述消息目的地电子装置关联的聊天；(b)确定所述消息目的地电子装置当前是否具有通过&#38914;消息传送的消息接收能力；(C)当所述消息目的地电子装置当前具有通过IM消息传送的消息接收能力时，向所述电子装置的用户指示将通过IM消息传送来向所述消息目的地电子装置发送消息；以及(d)当所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力时，向所述电子装置的所述用户指示将通过SMS消息传送来向所述消息目的地电子装置发送消息。</p>
    <p>[0017]	根据电子装置的一个实施方式，(b)包括与消息服务服务器通信以确定所述消息目的地电子装置通过&#38914;消息传送接收消息的可用性。</p>
    <p>[0018]	根据电子装置的一个实施方式，如果所述消息目的地电子装置具有与所述消息服务服务器的&#38914;消息传送服务具有的活动会话，则所述消息目的地电子装置具有通过IM消息传送的消息接收能力。</p>
    <p>[0019]	根据电子装置的一个实施方式，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则来自所述电子装置的通信触发所述消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</p>
    <p>[0020]	根据电子装置的一个实施方式，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则所述电子装置被进一步构造成促使消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</p>
    <p>[0021]	根据本公开的另一个方面，一种在电子装置(12)中处理消息的方法，该电子装置具有无线电电路，通过该无线电电路通过短消息服务(SMS)消息传送或即时消息(IM)消息传送中的一种来发送针对消息目的地电子装置的消息，该方法包括以下步骤:(a)确定打开了与所述消息目的地电子装置关联的聊天；(b)确定所述消息目的地电子装置当前是否具有通过IM消息传送的消息接收能力；(c)当所述消息目的地电子装置当前具有通过IM消息传送的消息接收能力时，向所述电子装置的用户指示将通过&#38914;消息传送来向所述消息目的地电子装置发送消息；以及⑷当所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力时，向所述电子装置的所述用户指示将通过SMS消息传送来向所述消息目的地电子装置发送消息。</p>
    <p>[0022]	根据该方法的一个实施方式，步骤(b)包括与消息服务服务器通信以确定所述消息目的地电子装置通过&#38914;消息传送接收消息的可用性。</p>
    <p>[0023]	根据电子装置的一个实施方式，如果所述消息目的地电子装置具有与所述消息服务服务器的&#38914;消息传送服务的活动会话，则所述消息目的地电子装置具有通过IM消息传送的消息接收能力。</p>
    <p>[0024]	根据该方法的一个实施方式，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则来自所述电子装置的通信触发所述消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的&#38914;消息传送组件。</p>
    <p>[0025]	根据该方法的一个实施方式，如果所述消息目的地电子装置当前不具有通过IM消息传送的消息接收能力，则所述电子装置驱使消息服务服务器向所述消息目的地电子装置发送唤醒消息，以唤醒所述消息目的地电子装置的消息传送客户端的IM消息传送组件。</p>
    <p>附图说明</p>
    <p>[0026]	图1是包括消息发送电子装置和消息目的地电子装置的通信系统的示意图；</p>
    <p>[0027]	图2是消息发送电子装置的示意性框图；</p>
    <p>[0028]	图3是在消息发送电子装置不具有IP数据连接性时消息发送电子装置的消息发送操作的流程图；</p>
    <p>[0029]	图4至图9是在图3的各种操作期间消息发送电子装置的示例性截屏图；</p>
    <p>[0030]	图10是在消息发送电子装置不知道消息目的地电子装置具有IP数据连接性时消息发送电子装置的消息发送操作的流程图；以及</p>
    <p>[0031]	图11至图13是在图10的各种操作期间消息发送电子装置的示例性截屏图。具体实施方式[0032]	下面参照附图，对多个实施方式进行描述，其中，贯穿全文，使用相同标号来指相同部件。应当明白，这些图不必比例化。参照一个实施方式描述和/或例示的特征可以在一个或更多个其它实施方式中或者与其它实施方式组合地或者代替其它实施方式的特征地，按相同方式或相似方式来使用。</p>
    <p>[0033]	下面结合附图对电子装置和控制电子装置的方法的各个实施方式进行描述。该电子装置通常是便携式电子装置，并且可以采取任何形状因子，包括但不限于，平板计算装置、移动电话、膝上型计算机、游戏装置、照相机、电视机以及媒体播放器。所例示的实例示出了移动电话，但本发明的多个方面的可应用性不限于移动电话。</p>
    <p>[0034]	参照图1，示意性地示出了通信系统10，其中，第一电子装置(还称作消息发送电子装置12)发送以第二电子装置(还称作消息目的地电子装置14)为地址的消息。在一个实施方式中，该消息是聊天式消息。聊天式消息的类型是文本消息和即时消息。聊天式消息含有由用户输入的字符(例如，字母、数字、符号、表情等)。聊天式消息通常具有短长度。例如，几百个字符的聊天式消息在很多情况下被认为是长的。聊天式消息往往开始或者是在两方或更多方之间共同形成“会话”的消息串(被称作聊天串或聊天会话)的一部分。</p>
    <p>[0035]	电子装置12、14被构造成进行无线通信(诸如语音呼叫、视频呼叫、数据传输等。数据传输可以包括，但不限于，接收串流内容、接收数据馈送、下载和/或上传数据(包括互联网内容)、接收或发送消息(例如，聊天式消息、电子邮件消息、多媒体消息)等。</p>
    <p>[0036]	为了促进无线通信，各种通信选项对于电子装置12、14可用。在所例示的实施方式中，电子装置12可以与用户网络16进行通信。用户网络通常是由服务提供商部署的网络，电子装置12的用户在该服务提供商订购电话和/或数据服务。电子装置12与用户网络之间的通信可以通过蜂窝电路交换网络连接18-1发生。用于蜂窝电路交换网络连接的示例性接口包括，但不限于，全球移动通信系统(GSM)、码分多址(CDMA)、宽带CDMA(WCDMA)和这些标准的高级版本。蜂窝电路交换网络连接18-1支持诸如语音通信(如，电话呼叫)等的通信和通过SMS消息传送的消息传递。</p>
    <p>[0037]	电子装置12与用户网络之间的通信也可以通过蜂窝分组交换网络连接20-1发生。蜂窝分组交换网络连接20-1支持IP数据通信，包括通过IM消息传送进行消息的传递和借助用户网络16访问互联网22。与用户网络的蜂窝分组交换网络连接通常被称为归入由用户网络的运营商提供的“数据计划(data plan)”。用于蜂窝分组交换网络连接的示例性接口包括，但不限于，通用分组无线业务(GPRS)和4G长期演进(LTE)。</p>
    <p>[0038]	在电子装置12与用户网络16之间的蜂窝电路交换网络连接18-1和蜂窝分组交换网络连接20-1可以借助用户网络16的传输媒介(未具体例示)建立。传输媒介可以是任何合适的装置或配件，但通常是通信基站(例如，蜂窝服务塔，也称作“小区”塔)的结构。</p>
    <p>[0039]	电子装置12接入互联网22并且通过&#38914;消息传送来发送消息的另一种方式是通过使用与用户网络16分开的分组交换数据连接24-1。在所例示的实施方式中，例如，电子装置12可以借助具有到互联网的连接性的IEEE802.11 (通常称作WiFi)接入点(AP) 26_1进行IP通信。</p>
    <p>[0040]	电子装置14可以以类似方式通信，诸如通过与用户网络16的蜂窝电路交换网络连接18-2、通过蜂窝分组交换网络连接20-2以及通过利用例如WiFi AP26-2与用户网络16分开的分组交换数据连接24-2。在所例示的实施方式中，电子装置14与和电子装置12相同的用户网络16通信。在其它实施方式中，电子装置12、14可以与不同的用户网络16进行通信。</p>
    <p>[0041]	为了本公开的目的，短语“数据连接在线”将指的是当电子装置12具有可用于通过IP数据连接(连接20-1或连接24-1)利用IM消息传送来传输消息的可操作数据连接时的状况。而且，短语“数据连接离线”将指的是当电子装置12不具有可用于通过IP数据连接(连接20-1或连接24-1)利用IM消息传送来传输消息的可操作数据连接时的状况。当电子装置12的数据连接离线时，有可能电子装置12的连接18-1是活动的并且通过SMS消息传送的消息的传输是可用的。</p>
    <p>[0042]	用户网络16包括服务器28 (或多个服务器28)，其用于管理由电子装置12、14呼出并且以电子装置12、14为目的地的呼叫、向电子装置12、14发送数据和从电子装置12、14接收数据以及执行任意其它支持功能。具体地，服务器28支持电子装置12、14的消息传送功能。下面描述的电子装置12、14的一些消息传送操作依赖于由服务器28进行的动作。因此，服务器28主持消息传送支持功能30，该功能执行下面描述的任务和其它消息传送支持任务。如将理解的，服务器28可以被构造成用于执行服务器功能的典型计算机系统，并且可以包括处理器，该处理器被构造成执行含有具体实施服务器28的功能(包括消息传送支持功能30)的逻辑指令的软件，和存储器，该存储器存储这种软件和相关数据。在其它实施方式中，消息传送支持功能30可以由经由互联网22可操作地接口的第三方服务器32执行。服务器32可以被构造成用于执行服务器功能的典型计算机系统，并且可以包括处理器，该处理器被构造成执行含有具体实施服务器32的功能(包括消息传送支持功能)的逻辑指令的软件，和存储器，该存储器存储这种软件和相关数据。</p>
    <p>[0043]	另外参照图2，例示了电子装置12的示意性框图。可以以相同方式或类似方式构造电子装置14。因此，将不单独描述电子装置14。</p>
    <p>[0044]	电子装置12包括负责电子装置12的整体操作的控制电路32。出于该目的，控制电路12包括执行各种应用的处理器34 (包括消息传送客户端36)。消息传送客户端36具体实施电子装置12的下述消息传送操作。在一个实施方式中，消息传送客户端36被具体实施为存储在电子装置12的永久计算机可读介质(例如，存储器)上并且由控制电路32执行的可执行逻辑(例如，代码行、软件或程序)的形式。所描述的操作可以被认为是由电子装置12执行的方法。对于所例示和描述的技术的变型是可能的，因此所公开的实施方式不应当被认为只是执行电子装置12消息传送功能的方式。而且，虽然附图示出了示例性显示的可视内容，但是内容可以与所示出的不同。将进一步理解的是，电子装置14包括其自身的消息传送客户端，其可以是与消息传送客户端36相同或不同的软件平台。</p>
    <p>[0045]	电子装置12还包括显示器38，该显示器38用于向用户显示信息；以及一个或更多个用户输入端40，这些用户输入端40用于接收用于控制电子装置12的操作的用户输入。示例性用户输入包括，但不限于，遮盖用于触摸屏功能的显示器38的触摸输入；一个或更多个按钮；运动传感器(例如，陀螺仪传感器、加速计)等。下面将描述电子装置12的附加方面。</p>
    <p>[0046]	另外参见图3，例示的是表示在电子装置12的数据连接离线时可以执行以实现电子装置12的消息管理的步骤的示例性流程图。虽然以逻辑数列进行例示，但是例示框可以以其它顺序执行和/或与两个或更多个块同时执行。因此，所例示的流程图可以改变(包括省略步骤)和/或可以以面向对象的方式或面向状态的方式来实现。</p>
    <p>[0047]	逻辑流程可以在电子装置12的数据连接离线的状态下开始。因此，电子装置12将不能进行通过&#38914;消息传送来发送聊天式消息。然而，将假定电子装置12能够通过SMS消息传送来发送聊天式消息。如果电子装置12的数据连接在线，则可以省略图3所示的操作，并且通过默认构造，从电子装置12发送的消息可以通过&#38914;消息传送来发送。</p>
    <p>[0048]	在块50中，用户撰写聊天式消息。另外参照图4，示出的是在消息撰写期间的电子装置12的截屏图。在所例示的实施方式中，显示器38示出了消息撰写区域52，该消息撰写区域52示出正在撰写消息时的消息字符。显示器38还示出键盘54，用户从该键盘54选择期望的字符。在所例示的实施方式中，打开与电子装置14的用户的聊天，使得所显示的内容包括电子装置14的用户的联系人标识符56和电子装置12与电子装置14之间交流的之前消息的消息日志58。联系人标识符56包括电子装置14的用户的电子装置12中关联的联系人姓名56-1的显示，并且，如果可用，电子装置14的用户的电子装置12中关联的照片56-2。消息日志58示出了电子装置12与14之间交换的最近消息的内容。发送到电子装置14的或从电子装置14接收到的最新消息被标记为“消息n”，发送到电子装置14的或从电子装置14接收到的最新消息的下一个消息被标记为“消息n-1”，以此类推。</p>
    <p>[0049]	另一个显示项包括连接指示符60。连接指示符60指示电子装置12是否能够通过&#38914;消息传送来发送消息。如图所示，电子装置12的当前状态是电子装置12无法通过&#38914;消息传送来发送消息。因此，在所例示的实施方式中，连接指示符60写着“数据连接离线”。如果电子装置12能够通过IM消息传送来发送消息，则连接指示符60可以写着“数据连接在线”或连接指示符60可以是空白的(例如，未示出在显示器38上)，诸如在图8和图9示出的实施方式中。</p>
    <p>[0050]	当用户已经完成期望消息的输入时，用户可以命令发送该消息。在一个实施方式中，用户可以通过按压所显示的发送按钮62来命令发送消息。在块64中，检测发送命令的输入并且使消息排队等候，以通过&#38914;消息传送来发送。但是不确定的是电子装置12何时将恢复执行&#38914;消息传送的能力。因此，在块66中，电子装置12可以询问用户想要使用的发送技术。</p>
    <p>[0051]	图5示出了示例性询问。在图5的示例中，所写消息显示在日志条目68中，用于用户参考。还显示了已成功输入发送命令的指示70。在所例示的实施方式中，指示70写着“消息排队等候”，但是将认识到可以使用其它指示符。显示了允许用户输入如何发送消息的一个或更多个选择按钮。在所例示的实施方式中，显示了通过SMS消息传送立即发送消息的按钮72。还显示了命令在发送之前等待恢复IM消息传送能力的按钮74。其它选项可以是可能的，诸如如果在经过特定时间量(例如，大约5分钟)之前未恢复&#38914;消息传送能力，则允许在该时间量中通过SMS消息传送来发送消息的按钮。</p>
    <p>[0052]	接着，在块76中，进行关于用户是否选择通过SMS消息传送选项来进行传递的确定。如果块76中进行肯定确定，则逻辑流程进行到通过SMS消息传送来发送消息的块78。另外参照图6，可以在此时更新消息日志58，以将所写消息的条目80示为聊天串中的最新消息。此时，将以指示消息正在进行发送而尚未传递到电子装置14的方式示出条目80。在图6的实施方式中，用阴影示出条目80，但是其它可视技术(诸如使所写消息的文本变灰)是可能的。在块82中接收到传递确认之后，在块84中更新消息日志，以示出已经传递了消息。例如，如图7的实施方式中所示，示出了没有阴影情况下的用于所写消息的条目80。在其它实施方式中，用与消息日志58中的其它消息类似的全彩色饱和度(未变灰)示出所写消息的文本。</p>
    <p>[0053]	如果块76中进行否定确定，则逻辑流程可以进行到块86，该块86中，电子装置12将等待直到数据连接在线(例如，恢复了&#38914;消息传送能力)为止。直到数据连接变成在线并且利用&#38914;消息传送来发送消息时，如由从块86至块76的返回箭头所示，用户可以选择通过SMS消息传送来发送消息。</p>
    <p>[0054]	假定当数据连接变成在线时尚未通过SMS发送消息，逻辑流程将从块86进行到块88。在块88中，通过&#38914;消息传送来发送消息。如图所示，图8和图9示出了数据连接在线时的消息传送画面。图8和图9相对于图6和图7的区别在于连接指不符60不再指不尚线状态。在图8中，当通过IM消息传送来发送消息时，就更新消息日志58，以将用于所写消息的条目80示为聊天串中的最新消息。此时，将以指示消息正在进行发送而尚未传递到电子装置14的方式示出条目80。在图8的实施方式中，用阴影示出条目80，但是其它可视技术(诸如使所写消息的文本变灰)是可能的。在块90中接收到传递确认之后，在块92中更新消息日志，以示出已经传递了消息。例如，如图9的实施方式中所示，示出了在没有阴影的情况下的用于所写消息的条目80。在其它实施方式中，用与消息日志58中的其它消息类似的全彩色饱和度(未变灰)示出所写消息的文本。</p>
    <p>[0055]	另外参照图10，例示了示例性流程图，该示例性流程图表示在消息目的地电子装置14不可用于通过IM消息传送接收消息时可以执行的以由电子装置12实现消息管理的步骤。消息目的地电子装置14可以因多个理由中的一个理由而不可用于通过&#38914;消息传送来接收消息。这些原因包括例如电子装置14关机、电子装置14当前不具有支持IM消息传送的通信连接(例如，蜂窝分组交换网络连接20-2和分组交换数据连接24-2不可操作)以及电子装置具有支持IM消息传送的可操作通信连接，而电子装置14的消息传送客户端36的IM消息传送组件是非活动状态。消息传送客户端36的IM消息传送组件的非活动状态是消息传送客户端36与服务器28和/或服务器32的IM消息传送服务不具有可操作会话。这节省了电子装置14中的功率并且省去了服务器28和/或服务器32上的套接字(socket)。</p>
    <p>[0056]	虽然未以逻辑数列例示，但是图10的所例示块可以以其它顺序执行和/或与两个或更多个块同时执行。因此，所例示的流程图可以改变(包括省略步骤)和/或可以以面向对象的方式或面向状态的方式来实现。</p>
    <p>[0057]	逻辑流程可以在电子装置12的用户采取行动(诸如通过打开与电子装置14关联的聊天)以示出用于消息接收电子装置14的聊天画面的块94中开始。打开聊天可以包括从位于电子装置12上的联系人列表选择电子装置14的用户。另选地，如图11所示，打开聊天可以包括用电子装置12导航到消息传送画面96 (在该电子装置12上由电子装置12存储的各个聊天示出在对应条目98中)以及选择条目98中的一个期望条目。各个条目98可以显示例如，参与聊天的其它用户的联系人标识符56和从聊天开始的最新消息。如图12所示，例如，当用户选择一个输入98时，所显示的内容可以过渡到示出用于所选聊天的消息日志58的画面。还可以显示消息撰写区域52和发送按钮62。如果用户选择消息撰写区域52，则键盘54可以添加到显示器38。另选地，通过打开聊天，可以显示键盘54。可以认为显示了聊天画面的另一个情况是在聊天画面作为当前画面的情况下电子装置10从睡眠状态唤醒。</p>
    <p>[0058]	接着，在块100中，确定打开聊天的电子装置14的IM消息传送能力(或IM状态)。可以通过与服务器28和/或服务器32通信获得该信息，以诸如通过发送状态请求消息获得用于电子装置14的可用性信息。该状态可以是可用或不可用。可用状态意味着电子装置12知道电子装置14当前能够通过IM消息传送来接收消息。如果服务器28和/或服务器32的IM消息传送服务与电子装置14的消息传送客户端36的IM消息传送组件具有可操作会话，则该状态可以被确定为可用。在所有其它情况下，该状态将被认为是不可用。在一个实施方式中，如果确定电子装置14的IM消息传送不可用，则要进行该确定的电子装置与服务器28和/或服务器32之间的通信触发服务器28和/或服务器32在用于电子装置14的消息即将来临的假定下发送唤醒消息。</p>
    <p>[0059]	如果在块100中电子装置14的&#38914;消息传送能力当前可用，则逻辑流程可以进行到块102。在块102中，电子装置12向用户指示如果用户要命令向电子装置14发送消息，则通过&#38914;消息传送来发送消息。该指示将持续，直到电子装置12知道电子装置14的消息传送状态已经改变为止。指示的变化可以以任意时间出现，包括撰写消息期间。</p>
    <p>[0060]	在图12例示的实施方式中，由发送按钮62的特征来给出指示。在该实施方式中，发送按钮62上的文本(例如，写着“通过IM发送”的文本)提供指示。以其它方式传达该指示。例如，发送按钮62可以仅写着“发送”并且发送按钮62的颜色可以被设置为与用电子装置14进行&#38914;消息传送的可用性对应的颜色(例如，发送按钮62可以是蓝色的)。用户在电子装置14的IM消息传送可用时所发送的任何消息将由IM消息传送来发送。</p>
    <p>[0061]	返回到块100，如果电子装置14的&#38914;消息传送被确定为此时不可用，则逻辑流程进行到块104。在块104中，电子装置12向用户指示如果用户要命令向电子装置14发送消息，则通过SMS消息传送来发送消息。该指示将持续，直到电子装置12知道电子装置14的消息传送状态已经改变为止。指示的变化可以以任意时间出现，包括撰写消息期间。</p>
    <p>[0062]	图13例示了该情况。在图13例示的实施方式中，由发送按钮62的特征来给出指示。在该实施方式中，发送按钮62上的文本(例如，写着“通过SMS发送”的文本)提供指示。以其它方式传达该指示。例如，发送按钮62可以仅写着“发送”并且发送按钮62的颜色可以被设置为与用电子装置14进行IM消息传送的可用性对应的颜色(例如，发送按钮62可以是黑色的)。用户在电子装置14的SMS消息传送可用时所发送的任何消息将由SMS消息传送来发送。另选地，可以给予用户选项，以通过SMS消息传送立即发送消息或者等待电子装置14的&#38914;消息传送能力恢复(与图3有关采取的方法类似)。</p>
    <p>[0063]	接着，在块106中，电子装置12确定自从最后一次试图唤醒电子装置14中的M消息传送能力起经过了多长时间。如果时间长度小于预定阈值T，则逻辑流程将继续循环。然而，如果已经超过了预定阈值T，则逻辑流程进行到块108。在块108中，促使唤醒电子装置14中的消息传送客户端36的IM消息传送组件，以与服务器28和/或服务器32的IM消息传送服务建立会话。在一个实施方式中，电子装置12请求服务器28和/或服务器32向电子装置14发送唤醒消息。在一个实施方式中，唤醒消息是云到装置(cloud to device, C2D)通知消息或推送通知服务消息(例如，在苹果计算机装置中，该类型的消息称作苹果推送通知服务(APNS)消息)。如果块108的唤醒是成功的或电子装置的IM消息传送能力因任何其它原因(例如，电子装置14恢复与服务器28和/或服务器32的IM消息传送会话)而恢复，贝1J在块100中进行肯定确定。</p>
    <p>[0064]	在一个实施方式中，预定阈值T可以是自最后一次唤醒尝试或电子装置12、14之间的消息活动起的大约一分钟至大约十分钟。因此，如果电子装置12使电子装置14的聊天日志58在没有活动的情况下打开一段时间(例如，一个小时)，则有可能电子装置14的&#38914;状态是不可用的。如果电子装置12的用户开始使用该状态下的电子装置12，则用户打算撰写针对电子装置14的消息并且电子装置12将开始确定电子装置14的状态的过程，并且如果合适，则促使唤醒电子装置14的&#38914;消息传送组件。但是如果电子装置12和14在活动聊天(例如，往来发送消息)，则在每个消息的传输之后尝试唤醒电子装置14的IM消息传送组件可能是过分的。因此，等待经过预定时间段将阻止在从电子装置12向电子装置14发送每个消息之后尝试唤醒电子装置14的&#38914;消息传送组件。</p>
    <p>[0065]	返回到图2，将描述电子装置12的附加细节。电子装置12包括通信电路，该通信电路使得电子装置12能够建立上述通信连接。在示例性实施方式中，通信电路包括无线电电路116。无线电电路116包括一个或更多个射频收发器和天线组件(或多个组件)。因为电子装置12能够利用超过一个标准进行通信，所以无线电电路116表示针对各种所支持的连接类型而需要的各种无线电收发器和天线。无线电电路116还表示用于与电子装置直接进行局域无线通信(诸如通过蓝牙接口)的任何无线电收发器和天线。</p>
    <p>[0066]	如上所指示，该电子装置12包括主控制电路32，该主控制电路32被设置成，执行对电子装置12的功能和操作的总体控制。控制电路32的处理器34可以是中央处理单元(CPU)、微控制器或微处理器。处理器34执行存储在控制电路32内的存储器(未示出)中的和/或单独存储器(如存储器76)中的代码，以便执行电子装置12的操作。存储器118例如可以是以下中的一种或更多种:缓冲器、闪速存储器、硬盘驱动器、可去除介质、易失性存储器、非易失性存储器、随机存取存储器(RAM)，或其它合适装置。在典型排布结构中，存储器118包括用于长期数据存储的非易失性存储器和充任用于控制电路32的系统存储器的易失性存储器。该存储器118可以通过数据总线与控制电路32交换数据。存储器118与控制电路32之间还可以存在附随控制线路和地址总线。存储器118被认为非瞬时计算机可读介质。</p>
    <p>[0067]	该电子装置12可以还包括用于处理音频信号的声音电路120。耦接至声音电路120的是扬声器122和麦克风124，使得用户能够经由电子装置12收听和讲话，并且收听结合装置12的其它功能而生成的声音。该声音电路120可以包括任何合适的缓冲器、编码器、解码器、放大器等。</p>
    <p>[0068]	显示器38可以通过视频电路126耦接至控制电路32，该视频电路将视频数据转换成用于驱动显示器38的视频信号。该视频电路126可以包括任何合适的缓冲器、解码器、视频数据处理器等。</p>
    <p>[0069]	该电子装置12还可以包括一个或更多个输入/输出(I/O)接口 128。I/O接口128可以采用典型电子装置I/O接口形式，并且可以包括一个或更多个电连接器，该电连接器用于经由线缆将电子装置12可操作地连接至另一装置(例如，计算机)或附件(例如，个人免提(PHF)装置)。而且，可以通过I/O接口 128接收工作电力，并且可以通过I/O接口 128接收用于对电子装置12内的电源单元(PSU) 130的电池进行充电的电力。PSU130可以提供电力以使电子装置12在缺乏外部电源的情况下工作。</p>
    <p>[0070]	电子装置12还可以包括各种其它组件。例如，可以存在摄像头132，用于拍摄数字照片和/或电影。与照片和/或电影对应的图像和/或视频文件可以存储在存储器118中。作为另一个示例，可以存在位置数据接收器134(诸如全球定位系统(GPS)接收器)，以辅助确定电子装置12的位置。</p>
    <p>[0071]	尽管已经示出并描述了特定实施方式，但应当明白，本领域其它技术人员通过阅读并且理解本说明书，将想到落入所附权利要求书的范围内的等同物和变型例。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1574796A?cl=zh">CN1574796A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年6月4日</td><td class="patent-data-table-td patent-date-value">2005年2月2日</td><td class="patent-data-table-td ">捷讯研究有限公司</td><td class="patent-data-table-td ">消息传输选择的系统和方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101227652A?cl=zh">CN101227652A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年2月4日</td><td class="patent-data-table-td patent-date-value">2008年7月23日</td><td class="patent-data-table-td ">中国移动通信集团公司;中国移动通信集团北京有限公司</td><td class="patent-data-table-td ">一种即时通信方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101262453A?cl=zh">CN101262453A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年4月23日</td><td class="patent-data-table-td patent-date-value">2008年9月10日</td><td class="patent-data-table-td ">中国电信股份有限公司</td><td class="patent-data-table-td ">下一代网络中的智能聊天业务实现方法、系统和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20080133742">US20080133742</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年11月27日</td><td class="patent-data-table-td patent-date-value">2008年6月5日</td><td class="patent-data-table-td ">Oz Communications Inc.</td><td class="patent-data-table-td ">Presence model for presence service and method of providing presence information</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012580000">H04L12/58</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L12/5835">H04L12/5835</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L12/581">H04L12/581</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L12/589">H04L12/589</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04W4/14">H04W4/14</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=wacTCQABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L51/04">H04L51/04</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2014年7月23日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年8月20日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/1ae30931fdeaccfa78e5/CN103947162A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%85%B7%E6%9C%89%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%E5%8A%9F%E8%83%BD%E7%9A%84%E7%94%B5%E5%AD%90%E8%A3%85%E7%BD%AE.pdf?id=wacTCQABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2I9xzhxvtUMdmB24JsJWbNCr2-CA"},"sample_url":"https://www.google.com/patents/reader?id=wacTCQABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>