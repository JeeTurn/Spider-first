<!DOCTYPE html><html><head><title>专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种实现电子书签的方法、用户终端和书签服务器"><meta name="DC.contributor" content="冯科学" scheme="inventor"><meta name="DC.contributor" content="卢城" scheme="inventor"><meta name="DC.contributor" content="宋世杰" scheme="inventor"><meta name="DC.contributor" content="庄磊" scheme="inventor"><meta name="DC.contributor" content="张勉" scheme="inventor"><meta name="DC.contributor" content="朱永浩" scheme="inventor"><meta name="DC.contributor" content="林飞" scheme="inventor"><meta name="DC.contributor" content="王俊" scheme="inventor"><meta name="DC.contributor" content="王涛" scheme="inventor"><meta name="DC.contributor" content="陈曦" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2009-9-29" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种实现电子书签的方法、用户终端和书签服务器，用于解决加密电子书中无法使用电子书签，以及不同用户终端无法对电子书内容准确定位的问题。其中，所述方法包括：获取用户设置的电子书签在电子书中的偏移量；存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书签信息作为独立于电子书的文件进行保存。本发明实施例的实现电子书签的方法、用户终端和书签服务器能够在加密的电子书中使用电子书签功能，并且能够使不同用户终端通过电子书签对电子书签准确定位。"><meta name="DC.date" content="2011-4-27"><meta name="citation_patent_publication_number" content="CN:102033887:A"><meta name="citation_patent_application_number" content="CN:200910179906"><link rel="canonical" href="https://www.google.com/patents/CN102033887A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102033887A?cl=zh"/><meta name="title" content="专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器"/><meta name="description" content="本发明公开了一种实现电子书签的方法、用户终端和书签服务器，用于解决加密电子书中无法使用电子书签，以及不同用户终端无法对电子书内容准确定位的问题。其中，所述方法包括：获取用户设置的电子书签在电子书中的偏移量；存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书签信息作为独立于电子书的文件进行保存。本发明实施例的实现电子书签的方法、用户终端和书签服务器能够在加密的电子书中使用电子书签功能，并且能够使不同用户终端通过电子书签对电子书签准确定位。"/><meta property="og:title" content="专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102033887A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102033887A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=2vlxBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102033887A&amp;usg=AFQjCNG1OF8n9-k6tp-7Zob9TQXaWlQEdg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/1e21017fdd34790bd986/CN102033887A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/1e21017fdd34790bd986/CN102033887A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102033887A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102033887A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102033887A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种实现电子书签的方法、用户终端和书签服务器，用于解决加密电子书中无法使用电子书签，以及不同用户终端无法对电子书内容准确定位的问题。其中，所述方法包括：获取用户设置的电子书签在电子书中的偏...</span><span itemprop="url">https://www.google.com/patents/CN102033887A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器" title="专利 CN102033887A - 一种实现电子书签的方法、用户终端和书签服务器"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102033887 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200910179906</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年4月27日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2009年9月29日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2009年9月29日</td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200910179906.3, </span><span class="patent-bibdata-value">CN 102033887 A, </span><span class="patent-bibdata-value">CN 102033887A, </span><span class="patent-bibdata-value">CN 200910179906, </span><span class="patent-bibdata-value">CN-A-102033887, </span><span class="patent-bibdata-value">CN102033887 A, </span><span class="patent-bibdata-value">CN102033887A, </span><span class="patent-bibdata-value">CN200910179906, </span><span class="patent-bibdata-value">CN200910179906.3</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%86%AF%E7%A7%91%E5%AD%A6%22">冯科学</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%8D%A2%E5%9F%8E%22">卢城</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AE%8B%E4%B8%96%E6%9D%B0%22">宋世杰</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BA%84%E7%A3%8A%22">庄磊</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E5%8B%89%22">张勉</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9C%B1%E6%B0%B8%E6%B5%A9%22">朱永浩</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9E%97%E9%A3%9E%22">林飞</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E4%BF%8A%22">王俊</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E6%B6%9B%22">王涛</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%99%88%E6%9B%A6%22">陈曦</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102033887A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102033887A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102033887A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (19),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (2)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=2vlxBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200910179906&amp;usg=AFQjCNGCJbzZxu9cBzcuniD7P6wRkjz5Rw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=2vlxBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102033887A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNExYBtOvj7ms_Y2tiaMfqIIdEkuFg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT102787314" lang="ZH" load-source="patent-office">一种实现电子书签的方法、用户终端和书签服务器</invention-title>
      </span><br><span class="patent-number">CN 102033887 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA84703276" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种实现电子书签的方法、用户终端和书签服务器，用于解决加密电子书中无法使用电子书签，以及不同用户终端无法对电子书内容准确定位的问题。其中，所述方法包括：获取用户设置的电子书签在电子书中的偏移量；存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书签信息作为独立于电子书的文件进行保存。本发明实施例的实现电子书签的方法、用户终端和书签服务器能够在加密的电子书中使用电子书签功能，并且能够使不同用户终端通过电子书签对电子书签准确定位。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(19)</span></span></div><div class="patent-text"><div mxw-id="PCLM35734699" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种实现电子书签的方法，其特征在于，包括： 获取用户设置的电子书签在电子书中的偏移量；存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书签信 息作为独立于电子书的文件进行保存。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的方法，其特征在于，所述获取电子书签的偏移量具体为：用户终端获取所述用户设置的电子书签在电子书 中的偏移量；所述存储书签信息具体为：用户终端存储包括所述电子书的电子书标识和所述电子书 签的偏移量的第一书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求2所述的方法，其特征在于，所述方法还包括： 用户终端向书签服务器发送设置电子书签的设置请求；书签服务器存储包括所述设置请求中的用户标识、电子书标识和电子书签的偏移量的第二书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求3所述的方法，其特征在于，在用户打开所述电子书时，所述方法还包括：书签服务器对第二书签信息和用户终端上的第一书签信息进行同步更新。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求1所述的方法，其特征在于，所述获取电子书签的偏移量具体为：书签服务器接收用户终端发送的携带有用户标 识、电子书标识和所述电子书签的偏移量的设置请求；所述书签信息还包括所述用户的用户标识，则所述存储书签信息具体为：书签服务器 存储包括所述设置请求中的用户标识、电子书标识和电子书签的偏移量的第二书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求5所述的方法，其特征在于，当用户在用户终端上打开所述电子书后，所 述方法还包括：书签服务器接收用户终端发送的书签获取请求；书签服务器将与所述书签获取请求中的用户标识和电子书标识对应的第二书签信息 返回给所述用户终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求5所述的方法，其特征在于，在用户终端向书签服务器发送设置请求后， 所述方法还包括：用户终端存储包括所述设置请求中的电子书标识和电子书签的偏移量的第一书签信息；在用户终端发送设置请求前，还包括：书签服务器对第二书签信息和用户终端上的第 一书签信息进行同步更新。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求4或7所述的方法，其特征在于，所述同步更新的具体实现为：书签服务器接收用户终端发送的携带有所述用户标识、电子书标识和第一书签信息的 同步请求；书签服务器对第二书签信息中的电子书签的偏移量和所述同步请求中的电子书签的 偏移量进行合集运算；书签服务器使用合集运算后的结果更新第二书签信息，并将所述合集运算后的结果返 回给用户终端以更新第一书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求1-7任一项所述的方法，其特征在于，所述偏移量具体为：电子书签数据 区块相对于电子书文件起始位置的偏移字数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求1-7任一项所述的方法，其特征在于，所述电子书标识还包括区域标 识，则所述偏移量为电子书签数据区块相对于区域标识位置的偏移字数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.如权利要求2-7任一项所述的方法，其特征在于，所述方法还包括：当用户选择某 个电子书签时，用户终端从所述电子书签的偏移量对应的位置对电子书进行展示。</div>
    </div>
    </div> <div class="claim"> <div num="12" class="claim">
      <div class="claim-text">12.	&#8212;种用户终端，其特征在于，所述用户终端包括：获取模块，用于获取用户设置的电子书签在电子书中的偏移量；第一存储模块，用于存储包括所述电子书的电子书标识和所述电子书签的偏移量的第 一书签信息，所述第一书签信息作为独立于电子书的文件进行保存。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求12所述的用户终端，其特征在于，所述用户终端还包括：发送模块，用于向书签服务器发送设置电子书签的设置请求；所述设置请求携带有所 述用户的用户标识、所述电子书标识和电子书签的偏移量。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.如权利要求13所述的用户终端，其特征在于，所述发送模块还用于：在发送所述设置请求前，向书签服务器发送携带有所述用户标识、电子书标识和第一 书签信息的同步请求；则所述用户终端还包括第一更新模块，用于使用书签服务器根据所述同步请求返回的 书签信息更新第一书签信息。</div>
    </div>
    </div> <div class="claim"> <div num="15" class="claim">
      <div class="claim-text">15.	一种用户终端，其特征在于，所述用户终端包括：发送模块，用于当用户在所述用户终端上打开电子书后，向书签服务器发送携带有所 述用户的用户标识和所述电子书的电子书标识的书签获取请求；第一接收模块，用于接收书签服务器返回的第二书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16.如权利要求15所述的用户终端，其特征在于，所述用户终端还包括：获取模块，用于获取用户设置的电子书签在电子书中的偏移量；所述发送模块还用于：向书签服务器发送设置电子书签的设置请求；所述设置请求携 带有所述用户的用户标识、所述电子书的电子书标识和所述电子书签的偏移量。</div>
    </div>
    </div> <div class="claim"> <div num="17" class="claim">
      <div class="claim-text">17.	&#8212;种书签服务器，其特征在于，所述书签服务器包括：第二接收模块，用于接收用户终端发送的携带有用户标识、电子书标识和所述电子书 签的偏移量的设置请求；第二存储模块，用于存储包括所述设置请求中的用户标识、电子书标识和电子书签的 偏移量的第二书签信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.如权利要求17所述的书签服务器，其特征在于，所述第二接收模块还用于：接收用 户终端发送的书签获取请求；则所述书签服务器还包括返回模块，用于将与所述书签获取请求中的用户标识和电子 书标识对应的第二书签信息返回给所述用户终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.如权利要求17所述的书签服务器，其特征在于，所述第二接收模块还用于：接收用 户终端发送的携带有所述用户标识、电子书标识和第一书签信息的同步请求；则所述书签服务器还包括：运算模块，用于对第二书签信息中的电子书签的偏移量和所述同步请求中的电子书签的偏移量进行合集运算；第二更新模块，用于使用合集运算后的结果更新第二书签信息；返回模块，用于将所述合集运算后的结果返回给用户终端以更新第一书签信息。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES41517004" lang="ZH" load-source="patent-office" class="description">
    <p>一种实现电子书签的方法、用户终端和书签服务器技术领域[0001]	本发明涉及电子文件处理领域，尤其是一种实现电子书签的方法、用户终端和书 签服务器。背景技术[0002]	在阅读传统的纸质书籍的时候，用户可以根据自己的阅读习惯使用书签、折角或 划记号来记录自己上次阅读的位置或喜欢的章节，以便下次阅读时可以直接找到相应的 页。[0003]	同样，在电子书的阅读场合，使用书签也可以帮助用户实现在电子书中的快速定 位。现有的添加书签的方式是在电子书的源文件上添加书签标记，用户通过书签标记进行 导航定位。如源文件是如下所示的文件名为ebooLhtml的电子书：[0004]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033887A/CN102033887AD00051.png"> <img id="idf0001" file="CN102033887AD00051.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033887A/CN102033887AD00051.png" class="patent-full-image" alt="Figure CN102033887AD00051"> </a> </div>
    <p>[0005]	用户在添加书签后，源文件对应的书签位置处会追加生成一个书签标记&lt;a name ="bookmark" &gt;&lt;/a&gt;。之后，用户可以在浏览器的地址栏通过输入fiIe: ///D ： /My % 20work/patent/ebook. html#bookmark直接访问ebook. html中书签标记的位置，由此达到 普通书签的效果。浏览器的书签功能其实就是记录网页的url (Uniform Resoure Locator, 统一资源定位器），这也等同于记录电子书的页码和行号。[0006]	发明人在实施本发明的过程中，发现现有技术至少存在如下问题：[0007]	商用电子书由于版权等原因会被加密，不支持对源文件的修改，因此无法使用修 改源文件的方法实现书签功能；而且，由于电子书在不同的用户终端上展示时，用户终端的 排版参数（如显示区域大小、分页策略和字体等）可能都不相同，因此现有电子书签依靠记录页码和行号的方法无法对电子书的内容进行准确定位。 发明内容[0008]	有鉴于此，本发明实施例的目的是提供一种实现电子书签的方法、用户终端和书 签服务器，以解决现有添加电子书签的方法无法适用于加密的电子书、以及在不同用户终 端上对电子书内容不能准确定位的问题。[0009]	本发明实施例提供了一种实现电子书签的方法，包括：[0010]	获取用户设置的电子书签在电子书中的偏移量；[0011]	存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书 签信息作为独立于电子书的文件进行保存。[0012]	本发明实施例还提供了一种用户终端，所述用户终端包括：[0013]	获取模块，用于获取用户设置的电子书签在电子书中的偏移量；[0014]	第一存储模块，用于存储包括所述电子书的电子书标识和所述电子书签的偏移量 的第一书签信息，所述第一书签信息作为独立于电子书的文件进行保存。[0015]	本发明实施例还提供了一种用户终端，所述用户终端包括：[0016]	发送模块，用于当用户在所述用户终端上打开电子书后，向书签服务器发送携带 有所述用户的用户标识和所述电子书的电子书标识的书签获取请求；[0017]	第一接收模块，用于接收书签服务器返回的第二书签信息。[0018]	本发明实施例还提供了一种书签服务器，所述书签服务器包括：[0019]	第二接收模块，用于接收用户终端发送的携带有用户标识、电子书标识和所述电 子书签的偏移量的设置请求；[0020]	第二存储模块，用于存储包括所述设置请求中的用户标识、电子书标识和电子书 签的偏移量的第二书签信息。[0021]	本发明实施例的方法、用户终端和书签服务器通过将电子书和书签信息进行分开 管理，因而可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书签进行定 位，不受用户终端上排版参数的影响，使不同用户终端通过电子书签对电子书内容进行准 确定位。附图说明[0022]	图1是本发明实施例实现电子书签的方法的第一实施例的流程示意图；[0023]	图2是本发明实施例实现电子书签的方法的第二实施例的流程示意图；[0024]	图3是本发明实施例实现电子书签的方法的第二实施例的一个实例流程示意图；[0025]	图4是本发明实施例实现电子书签的方法的第三实施例的流程示意图；[0026]	图5是本发明实施例实现电子书签的方法的第四实施例的流程示意图；[0027]	图6是本发明实施例的用户终端的第一实施例的框架示意图；[0028]	图7是本发明实施例的用户终端的第二实施例的框架示意图；[0029]	图8是本发明实施例的书签服务器的框架示意图。具体实施方式[0030]	为使本发明实施例的上述目的、特征和优点能够更加明显易懂，下面结合附图和 具体实施方式对本发明实施例作进一步详细的说明。[0031]	第一实施例[0032]	如图1所示，本实施例的实现电子书签的方法包括：[0033]	S101，获取用户设置的电子书签在电子书中的偏移量；[0034]	S102，存储包括所述电子书的电子书标识和所述电子书签的偏移量的书签信息， 所述书签信息作为独立于电子书的文件进行保存。[0035]	所述书签信息包括所述电子书的电子书标识ID和所述电子书签的偏移量。[0036]	对书签信息的存储可以是为每个电子书签都存储电子书ID和该电子书签的偏移 量，也可以是为每个电子书ID建立一个专用的存储空间，与该电子书ID对应的电子书签的 偏移量都存在该存储空间中，本发明实施例对具体采用什么样的存储方式不做限定。[0037]	所述偏移量具体可以为：电子书签数据区块相对于电子书文件起始位置的偏移字 数，如从电子书第一个字开始的第bookmarkoffset个字；所述电子书ID还可以包括区域标 识ID，所述区域ID可以为章节ID或内容ID等（相邻两个内容ID之间可以包含若干个章 节，也可以是包含一个章节中的若干个小节），章节ID和内容ID的设置更便于对电子书签 的定位。其中，设置章节ID是为了方便读者的阅读，设置内容ID可以进一步方便电子书提 供商对电子书分区域计费，而不是对整个电子书计费。所述区域ID可以在电子书制作的时 候固化在电子书中；区域ID的位置也是采用从电子书第一个字开始的偏移字数进行定位， 则所述偏移量为电子书签数据区块相对于区域ID位置的偏移字数。[0038]	所述偏移量也可以为：电子书签数据区块相对于电子书文件起始位置的段落数、 句子数或标点数，或电子书签数据区块相对于电子书文件结束位置的偏移字数等。[0039]	现有的加入电子书签的方式都是针对固定排版的，即排版参数是确定的。所述排 版参数包括用户终端的本地分页方式、字体设置及显示区域大小等参数；所述本地分页方 式包括按字数分页，按段落分页，按章节分页，按显示区域尺寸、用户设置的字体、字体间距 和行间距综合分页等分页方式。但对于移动的电子书而言，排版参数是不确定的，传统的记 录页码和行号的方式无法对电子书内容进行准确定位。[0040]	本发明实施例对电子书内容的定位使用的是偏移量，无论电子书的排版参数怎样 变化，电子书内容在整个电子书中的偏移量是不会改变的，由此保证电子书签对电子书内 容的精确导航。[0041]	现有技术中直接在电子书中进行电子书签编辑，然后将电子书签作为电子书的一 部分对整个电子书进行保存；本实施例的实现电子书签的方法，将书签信息作为一个独立 于电子书的文件进行保存。[0042]	本实施例的方法通过将电子书和书签信息进行分开管理，因而可以在加密的电子 书中使用电子书签功能；而且，使用偏移量对电子书签进行定位，不受用户终端上排版参数 的影响，使不同用户终端通过电子书签对电子书内容进行准确定位。[0043]	第二实施例[0044]	如图2所示，本实施例的实现电子书签的方法包括：[0045]	S201，用户终端获取所述用户设置的电子书签在电子书中的偏移量；[0046]	用户终端接收到用户设定的电子书签后，会获取所述电子书签在该电子书中的偏 移量，并存储包括所述电子书的电子书ID和所述电子书签的偏移量的第一书签信息。[0047]	所述偏移量具体可以为：电子书签数据区块相对于电子书文件起始位置的偏移字 数，如从电子书第一个字开始的第bookmarkoffset个字；；所述电子书ID还可以包括区域 标识ID，所述区域ID可以为章节ID或内容ID等；则所述偏移量为电子书签数据区块相对 于区域ID位置的偏移字数；所述偏移量也可以为：电子书签数据区块相对于电子书文件起 始位置的段落数、句子数或标点数，或电子书签数据区块相对于电子书文件结束位置的偏 移字数等。[0048]	S202，用户终端存储包括所述电子书的电子书ID和所述电子书签的偏移量的第 “““"书[曰息ο[0049]	用户终端按照其存储的第一书签信息展示电子书和电子书签。若电子书中有预置 书签，如自动目录等，则用户终端把预置书签当作电子书的一部分进行展示。[0050]	现有的加入电子书签的方式都是针对固定排版的，即排版参数是确定的。所述排 版参数包括用户终端的本地分页方式、字体设置及显示区域大小等参数；所述本地分页方 式包括按字数分页，按段落分页，按章节分页，按显示区域尺寸、用户设置的字体、字体间距 和行间距综合分页等分页方式。但对于移动的电子书而言，排版参数是不确定的，传统的记 录页码和行号的方式无法对电子书内容进行准确定位。[0051]	本发明实施例对电子书内容的定位使用的是偏移量，无论电子书的排版参数怎样 变化，电子书内容在整个电子书中的偏移量是不会改变的，由此保证电子书签对电子书内 容的精确导航。[0052]	由于用户终端对电子书和第一书签信息分开管理，第一书签信息作为独立于电子书 的文件进行保存，因而可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书 签进行定位，不受用户终端上排版参数的影响，使用户终端能够对电子书签进行准确定位。[0053]	优选的，还包括步骤S203和S204 ：[0054]	S203，用户终端向书签服务器发送设置电子书签的设置请求；[0055]	S204，书签服务器存储包括所述设置请求中的用户ID、电子书ID和电子书签的偏移量的第二书签信息。[0056]	当用户设置了电子书签后，用户终端会向网络侧的书签服务器发送设置电子书签 的设置请求，所述设置请求中可以携带用户ID、电子书ID和所述电子书签的偏移量等。若 电子书签ID是由用户自行命名的，则所述设置请求和书签服务器的第二书签信息还需包 括电子书签ID。所述设置请求具体可以为SIP请求或HTTP请求等。[0057]	书签服务器负责管理和存储所有用户订阅的电子书的第二书签信息，书签服务器 上存储的信息包括多条第二书签信息，每条第二书签信息可以包括：用户ID、电子书ID和 电子书签的偏移量等。当用户终端发送过来一个电子书签的设置请求后，书签服务器会存 储包括所述设置请求中的用户ID、电子书ID和电子书签的偏移量的第二书签信息。[0058]	每个电子书签对应一个电子书签标识ID，电子书签ID可以由书签服务器和/或用 户终端根据电子书签的时间或位置的先后顺序进行自动命名或编号，也可以由用户为电子 书签命名名称或编号等，以方便用户识别查找感兴趣的阅读点。若电子书签ID是由用户自 行设定的，则书签信息中还需包括电子书签ID，所述设置请求中也需携带该电子书签ID。[0059]	其中，步骤S202中用户终端存储第一书签信息和步骤S203中用户终端向书签服 务器发送设置请求没有先后顺序，可以是用户终端存储完第一书签信息后再向书签服务器 发送设置请求，或用户终端收到书签服务器返回书签设置成功消息后再存储第一书签信 息，或用户终端存储第一书签信息和发送设置请求同步进行，本发明实施例对此不做限定。[0060]	优选的，在用户打开所述电子书时，还包括步骤S205:书签服务器对第二书签信 息和用户终端上的第一书签信息进行同步更新。[0061]	所述同步更新的具体实现为：书签服务器接收用户终端发送的携带有所述用户 ID、电子书ID和第一书签信息的同步请求；书签服务器对第二书签信息中的电子书签的偏 移量和所述同步请求中的电子书签的偏移量进行合集运算；书签服务器使用合集运算后 的结果更新第二书签信息，并将所述合集运算后的结果返回给用户终端以更新第一书签信 肩、ο[0062]	在同步更新时，用户终端会将所述用户ID和与电子书ID对应的全部第一书签信 息携带在同步请求中发送给书签服务器；书签服务器对本地存储的与所述用户ID、电子书 ID对应的所述第二书签信息中的电子书签的偏移量和所述同步请求中的电子书签的偏移 量进行合集运算；书签服务器使用合集运算后的结果更新全部所述第二书签信息，并将所 述合集运算后的结果返回给用户终端以更新用户终端上的全部所述第一书签信息。[0063]	所述同步更新在合集运算前，优选还包括：书签服务器判断所述第一书签信息中 的电子书签的偏移量和第二书签信息中的电子书签的偏移量是否一致，若否，则执行所述 合集运算。[0064]	在用户阅览所述电子书前，还包括步骤S206 ：用户终端将电子书从电子书服务器 下载到本地。[0065]	将电子书签的偏移量同时存储到网络侧的书签服务器上，使用户在更换另一部用 户终端阅读同一本电子书的情况下，还可以使用以前设置的电子书签，对同一电子书的阅 读更连贯、方便。电子书服务器随时向用户提供电子书的订阅和下载服务，用户更换用户终 端时，不需再将原用户终端上的电子书复制到新用户终端上，满足了用户使用不同用户终 端阅读电子书的需求，使用户阅读电子书更简单便捷。[0066]	本实施例的方法还包括步骤S207 ：当用户选择某个电子书签时，用户终端从所述 电子书签的偏移量对应的位置对电子书进行展示。[0067]	在用户退出电子书时，优选的，书签服务器和用户终端对所述电子书的书签信息 再次进行保存。[0068]	下面通过一个具体的例子对本实施例的实现电子书签的方法进行详细说明，请参 见图3。[0069]	S301，用户通过用户终端从电子书服务器订购某个电子书；[0070]	S302，用户终端下载所述电子书；[0071]	S303，用户打开所述电子书；[0072]	S304，书签服务器对其存储的第二书签信息和用户终端上的第一书签信息进行同 步更新；[0073]	S305，用户终端展示所述电子书和电子书签；[0074]	S306，用户选择电子书签并进行阅读；[0075]	S307，用户设置电子书签；[0076]	S308，用户终端向书签服务器发送设置电子书签的设置请求；[0077]	S309，书签服务器存储包括设置请求中的用户ID、电子书ID和电子书签的偏移量 的第二书签信息；[0078]	S310，用户终端存储包括设置请求中的电子书ID和电子书签的偏移量的第一书签信息；[0079]	S311，用户关闭电子书。[0080]	其中，步骤S308和S310不分先后顺序。[0081]	本实施例的实现电子书签的方法，由于用户终端对电子书和书签信息分开管理， 因而可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书签进行定位， 不受用户终端上排版参数的影响，使不同用户终端通过电子书签对电子书内容进行准确定 位；另外，通过将书签信息保存在网络侧的书签服务器上，使用户在更换另一部用户终端阅 读同一本电子书的情况下，还可以使用以前设置的电子书签，对同一电子书的阅读更连贯、 方便；使用电子书服务器随时向用户提供电子书的订阅和下载服务，满足了用户使用不同 用户终端阅读电子书的需求，使用户阅读电子书更简单便捷。[0082]	第三实施例[0083]	如图4所示，本实施例的实现电子书签的方法包括：[0084]	S401，书签服务器接收用户终端发送的携带有用户ID、电子书ID和所述电子书签 的偏移量的设置请求；[0085]	当用户在用户终端上阅读电子书并在电子书中添加电子书签时，用户终端将所述 用户的用户ID、所述电子书的电子书ID和所述电子书签的偏移量携带在设置请求中发送 给网络侧的书签服务器。[0086]	S402，书签服务器存储包括所述设置请求中的用户ID、所述电子书的电子书ID和 电子书签的偏移量的第二书签信息。[0087]	书签服务器负责管理和存储所有用户订阅的电子书的第二书签信息，书签服务器 上存储的信息包括多条第二书签信息，每条第二书签信息可以包括：用户ID、电子书ID和 电子书签的偏移量等。当用户终端发送过来一个电子书签的设置请求后，书签服务器会存 储包括所述设置请求中的用户ID、电子书ID和电子书签的偏移量的第二书签信息。[0088]	优选的，当用户在用户终端上打开所述电子书后，还包括步骤S403和S404 ：[0089]	S403，书签服务器接收用户终端发送的书签获取请求；[0090]	S404，书签服务器将与所述书签获取请求中的用户ID和电子书ID对应的第二书 签信息返回给所述用户终端。[0091]	所述书签获取请求具体可以为SIP请求或HTTP请求等。[0092]	优选的，在用户阅览所述电子书前，还包括步骤S405:用户终端将电子书从电子 书服务器下载到本地。[0093]	本实施例的方法还包括步骤S406 ：当用户选择某个电子书签时，用户终端从所述 电子书签的偏移量对应的位置对电子书进行展示。[0094]	本实施例的实现电子书签的方法，由于用户终端和书签服务器分别对电子书和书 签信息进行管理，因而可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书签进行定位，不受用户终端上排版参数的影响，使不同用户终端通过电子书签对电子书 内容进行准确定位；另外，通过将书签信息保存在网络侧的书签服务器上，使用户在更换另 一部用户终端阅读同一本电子书的情况下，还可以使用以前设置的电子书签，对同一电子 书的阅读更连贯、方便；使用电子书服务器随时向用户提供电子书的订阅和下载服务，满足 了用户使用不同用户终端阅读电子书的需求，使用户阅读电子书更简单便捷。[0095]	第四实施例[0096]	如图5所示，本实施例的实现电子书签的方法包括：[0097]	S501，书签服务器接收用户终端发送的携带有用户ID、电子书ID和所述电子书签 的偏移量的设置请求；[0098]	S502，书签服务器存储包括所述设置请求中的用户ID、电子书ID和电子书签的偏移量的第二书签信息。[0099]	在用户终端向书签服务器发送设置请求后，还包括步骤S503 ：用户终端存储包括 所述设置请求中的电子书ID和电子书签的偏移量的第一书签信息。[0100]	在用户终端发送书签获取请求前，还包括步骤S504 ：书签服务器对第二书签信息 和用户终端上的第一书签信息进行同步更新。[0101]	所述同步更新的具体实现为：书签服务器接收用户终端发送的携带有所述用户 ID、电子书ID和第一书签信息的同步请求；书签服务器对第二书签信息中的电子书签的偏 移量和所述同步请求中的电子书签的偏移量进行合集运算；书签服务器使用合集运算后 的结果更新第二书签信息，并将所述合集运算后的结果返回给用户终端以更新第一书签信 肩、ο[0102]	优选的，在用户阅览所述电子书前，还包括步骤S505:用户终端将电子书从电子 书服务器下载到本地。[0103]	其中，步骤S501和S503不分先后顺序。[0104]	本实施例的方法还包括步骤S506 ：当用户选择某个电子书签时，用户终端从所述 电子书签的偏移量对应的位置对电子书进行展示。[0105]	与第三实施例相比，本实施例在用户终端上也存储书签信息，能够使用户在网络 故障的情况下也可以使用电子书签功能，当网络恢复后书签服务器再对书签服务器和用户 终端上的书签信息进行同步更新，提高了用户的阅读体验。[0106]	本实施例的实现电子书签的方法，由于对电子书和书签信息进行分开管理，因而 可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书签进行定位，不受用 户终端上排版参数的影响，使不同用户终端通过电子书签对电子书内容进行准确定位；另 外，通过将书签信息保存在用户终端上，能够使用户在网络故障的情况下也可以使用电子 书签功能，当网络恢复后书签服务器再对书签服务器和用户终端上的书签信息进行同步更 新，提高了用户的阅读体验；使用电子书服务器随时向用户提供电子书的订阅和下载服务， 满足了用户使用不同用户终端阅读电子书的需求，使用户阅读电子书更简单便捷。[0107]	第五实施例[0108]	本发明实施例提供了一种用户终端，如图6所示，所述用户终端10包括：[0109]	获取模块101，用于获取用户设置的电子书签在电子书中的偏移量；[0110]	第一存储模块102，用于存储包括所述电子书的电子书ID和所述电子书签的偏移量的第一书签信息，所述第一书签信息作为独立于电子书的文件进行保存。[0111]	所述用户终端10还包括：发送模块103，用于向书签服务器20发送设置电子书签 的设置请求；所述设置请求携带有所述用户的用户ID、所述电子书ID和电子书签的偏移量。[0112]	所述发送模块103还用于：在发送所述设置请求前，向书签服务器20发送携带有 所述用户ID、电子书ID和第一书签信息的同步请求；则所述用户终端10还包括第一更新 模块104，用于使用书签服务器20根据所述同步请求返回的书签信息更新第一书签信息。[0113]	本实施例的用户终端，通过对电子书和书签信息分开管理，实现在加密的电子书 中使用电子书签功能；而且，使用偏移量对电子书签进行定位，不受用户终端上排版参数的 影响，使不同用户终端通过电子书签对电子书内容进行准确定位。[0114]	第六实施例[0115]	本发明实施例还提供了一种用户终端，如图7所示，所述用户终端10’包括：[0116]	发送模块101’，用于当用户在所述用户终端10’上打开电子书后，向书签服务器 20发送携带有所述用户的用户ID和所述电子书的电子书ID的书签获取请求；[0117]	第一接收模块102’，用于接收书签服务器20返回的第二书签信息。[0118]	所述用户终端10’还包括：获取模块103’，用于获取用户设置的电子书签在电子 书中的偏移量；[0119]	所述发送模块101’还用于：向书签服务器20发送设置电子书签的设置请求；所述 设置请求携带有所述用户的用户ID、所述电子书的电子书ID和所述电子书签的偏移量。[0120]	本实施例的用户终端，通过用户终端和书签服务器分别对电子书和书签信息进行 管理，因而可以在加密的电子书中使用电子书签功能；而且，使用偏移量对电子书签进行定 位，不受用户终端上排版参数的影响，使不同用户终端通过电子书签对电子书内容进行准 确定位；另外，通过将书签信息保存在网络侧的书签服务器上，使用户在更换另一部用户终 端阅读同一本电子书的情况下，还可以使用以前设置的电子书签，对同一电子书的阅读更 连贯、方便。[0121]	第七实施例[0122]	本发明实施例提供了一种书签服务器，如图8所示，所述书签服务器20包括：[0123]	第二接收模块201，用于接收用户终端发送的携带有用户ID、电子书ID和所述电 子书签的偏移量的设置请求；[0124]	第二存储模块206，用于存储包括所述设置请求中的用户ID、电子书ID和电子书签的偏移量的第二书签信息。[0125]	所述第二接收模块201还用于：接收用户终端10发送的书签获取请求；[0126]	则所述书签服务器20还包括返回模块204，用于将与所述书签获取请求中的用户 ID和电子书ID对应的第二书签信息返回给所述用户终端10。[0127]	所述第二接收模块201还用于：接收用户终端10发送的携带有所述用户ID、电子 书ID和第一书签信息的同步请求；[0128]	则所述书签服务器20还包括：[0129]	运算模块202，用于对第二书签信息中的电子书签的偏移量和所述同步请求中的 电子书签的偏移量进行合集运算；[0130]	第二更新模块203，用于使用合集运算后的结果更新第二书签信息；[0131]	则所述返回模块204还用于：将所述合集运算后的结果返回给用户终端10以更新第一书签信息。[0132]	本实施例的书签服务器，通过存储所有用户电子书的书签信息，为用户终端提供 电子书签的相关服务；通过将书签信息与用户终端上的电子书分开管理，实现在加密的电 子书中使用电子书签功能；而且，使用偏移量对电子书签进行定位，不受用户终端上排版参 数的影响，使不同用户终端通过电子书签对电子书内容进行准确定位；在用户更换另一部 用户终端阅读同一本电子书的情况下，还可以使用以前设置的电子书签，对同一电子书的 阅读更连贯、方便。[0133]	由于本发明的用户终端实施例和书签服务器实施例与方法实施例相似内容较多， 因此描述的比较简略，相关之处请参见方法实施例部分，此处不再赘述。[0134]	本领域普通技术人员可以理解实现上述实施例方法中的全部或部分步骤是可以 通过程序来指令相关的硬件来完成，所述的程序可以存储于一计算机可读存储介质中，该 程序在执行时，包括如下步骤：获取用户设置的电子书签在电子书中的偏移量；存储包括 所述电子书的电子书标识和所述电子书签的偏移量的书签信息，所述书签信息作为独立于 电子书的文件进行保存。所述存储介质，如：R0M/RAM、磁碟、光盘等。[0135]	需要说明的是，在本文中，诸如第一和第二等之类的关系术语仅仅用来将一个实 体或者操作与另一个实体或操作区分开来，而不一定要求或者暗示这些实体或操作之间存 在任何这种实际的关系或者顺序。而且，术语“包括”、“包含”或者其任何其他变体意在涵 盖非排他性的包含，从而使得包括一系列要素的过程、方法、物品或者设备不仅包括那些要 素，而且还包括没有明确列出的其他要素，或者是还包括为这种过程、方法、物品或者设备所固有的要素。在没有更多限制的情况下，由语句“包括一个......”限定的要素，并不排除在包括所述要素的过程、方法、物品或者设备中还存在另外的相同要素。[0136]	以上所述仅为本发明的较佳实施例而已，并非用于限定本发明的保护范围。凡在 本发明的精神和原则之内所作的任何修改、等同替换、改进等，均包含在本发明的保护范围 内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102184168A?cl=zh">CN102184168A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年5月11日</td><td class="patent-data-table-td patent-date-value">2011年9月14日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">电子书签实现装置及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102520847A?cl=zh">CN102520847A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月25日</td><td class="patent-data-table-td patent-date-value">2012年6月27日</td><td class="patent-data-table-td ">鸿富锦精密工业（深圳）有限公司</td><td class="patent-data-table-td ">电子阅读器及其页面处理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102761575A?cl=zh">CN102761575A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年4月28日</td><td class="patent-data-table-td patent-date-value">2012年10月31日</td><td class="patent-data-table-td ">南京中兴新软件有限责任公司</td><td class="patent-data-table-td ">一种数据同步方法及系统、便携式移动采集设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102768656A?cl=zh">CN102768656A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年5月5日</td><td class="patent-data-table-td patent-date-value">2012年11月7日</td><td class="patent-data-table-td ">中国移动通信集团上海有限公司</td><td class="patent-data-table-td ">一种阅读记录的处理方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102819716A?cl=zh">CN102819716A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年7月20日</td><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">腾讯科技（深圳）有限公司</td><td class="patent-data-table-td ">一种加密图片、解密图片的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102819716B?cl=zh">CN102819716B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年7月20日</td><td class="patent-data-table-td patent-date-value">2015年2月4日</td><td class="patent-data-table-td ">腾讯科技（深圳）有限公司</td><td class="patent-data-table-td ">一种加密图片、解密图片的方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855106A?cl=zh">CN102855106A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月29日</td><td class="patent-data-table-td patent-date-value">2013年1月2日</td><td class="patent-data-table-td ">汉王科技股份有限公司</td><td class="patent-data-table-td ">上位机与电子阅读设备通信的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855106B?cl=zh">CN102855106B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月29日</td><td class="patent-data-table-td patent-date-value">2016年1月27日</td><td class="patent-data-table-td ">汉王科技股份有限公司</td><td class="patent-data-table-td ">上位机与电子阅读设备通信的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855226A?cl=zh">CN102855226A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月21日</td><td class="patent-data-table-td patent-date-value">2013年1月2日</td><td class="patent-data-table-td ">广州市渡明信息技术有限公司</td><td class="patent-data-table-td ">一种同步阅读方法、阅读设备及服务器</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103092822A?cl=zh">CN103092822A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月7日</td><td class="patent-data-table-td patent-date-value">2013年5月8日</td><td class="patent-data-table-td ">汉王科技股份有限公司</td><td class="patent-data-table-td ">在电子文档中添加批注的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103106206A?cl=zh">CN103106206A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月10日</td><td class="patent-data-table-td patent-date-value">2013年5月15日</td><td class="patent-data-table-td ">北大方正集团有限公司</td><td class="patent-data-table-td ">处理网络图书链接的方法、客户端和服务器</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103164419A?cl=zh">CN103164419A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月12日</td><td class="patent-data-table-td patent-date-value">2013年6月19日</td><td class="patent-data-table-td ">联想(北京)有限公司</td><td class="patent-data-table-td ">文件内容输出方法和电子设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103167008A?cl=zh">CN103167008A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月19日</td><td class="patent-data-table-td patent-date-value">2013年6月19日</td><td class="patent-data-table-td ">方正国际软件(北京)有限公司</td><td class="patent-data-table-td ">一种多终端同步阅读的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103186991A?cl=zh">CN103186991A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月28日</td><td class="patent-data-table-td patent-date-value">2013年7月3日</td><td class="patent-data-table-td ">北京中文在线数字出版股份有限公司</td><td class="patent-data-table-td ">实现多设备无缝阅读的电子书阅读系统及设备间切换方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103488423A?cl=zh">CN103488423A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年9月18日</td><td class="patent-data-table-td patent-date-value">2014年1月1日</td><td class="patent-data-table-td ">百度在线网络技术（北京）有限公司</td><td class="patent-data-table-td ">实现电子阅读器中书签功能的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103678033A?cl=zh">CN103678033A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月19日</td><td class="patent-data-table-td patent-date-value">2014年3月26日</td><td class="patent-data-table-td ">三星电子（中国）研发中心</td><td class="patent-data-table-td ">终端备份快照的方法及终端</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9235713">US9235713</a></td><td class="patent-data-table-td patent-date-value">2013年9月27日</td><td class="patent-data-table-td patent-date-value">2016年1月12日</td><td class="patent-data-table-td ">Tencent Technology (Shenzhen) Company Limited</td><td class="patent-data-table-td ">Method, device, and system for encrypting and decrypting image</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013189412A2?cl=zh">WO2013189412A2</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月22日</td><td class="patent-data-table-td patent-date-value">2013年12月27日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种数据查询的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013189412A3?cl=zh">WO2013189412A3</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月22日</td><td class="patent-data-table-td patent-date-value">2014年2月13日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种数据查询的方法和系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=2vlxBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年4月27日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年7月27日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/1e21017fdd34790bd986/CN102033887A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0%E7%94%B5%E5%AD%90%E4%B9%A6%E7%AD%BE%E7%9A%84%E6%96%B9%E6%B3%95_%E7%94%A8%E6%88%B7.pdf?id=2vlxBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0YDdYwzpROQ0ug3pGyaRFEeu1iHQ"},"sample_url":"https://www.google.com/patents/reader?id=2vlxBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>