<!DOCTYPE html><html><head><title>专利 CN101441621A - 一种版式文件自动成文的方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种版式文件自动成文的方法及系统"><meta name="DC.contributor" content="徐剑波" scheme="inventor"><meta name="DC.contributor" content="辉 王" scheme="inventor"><meta name="DC.contributor" content="宁 董" scheme="inventor"><meta name="DC.contributor" content="北大方正集团有限公司;北京方正阿帕比技术有限公司" scheme="assignee"><meta name="DC.date" content="2008-11-26" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种版式文件中自动成文的方法及系统，用于进行文字块的自动类型识别，还原版面文章的引题，标题，副题以及正文等信息，本发明提供的自动成文方法包括：从文字块集合{S}中筛选出标题块集合{T}，根据所述标题块集合{T}得到文章集合{A}；从文字块集合{S}中获取与文章集合{A}中匹配的文字块，设置为文章正文；获取文章集合{A}中的每篇文章，设置所述文章的其他组成信息。采用本发明，可以提高标引人员的工作效率，节省数据加工成本。"><meta name="DC.date" content="2009-5-27"><meta name="citation_patent_publication_number" content="CN:101441621:A"><meta name="citation_patent_application_number" content="CN:200810227302"><link rel="canonical" href="https://www.google.com/patents/CN101441621A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101441621A?cl=zh"/><meta name="title" content="专利 CN101441621A - 一种版式文件自动成文的方法及系统"/><meta name="description" content="本发明公开了一种版式文件中自动成文的方法及系统，用于进行文字块的自动类型识别，还原版面文章的引题，标题，副题以及正文等信息，本发明提供的自动成文方法包括：从文字块集合{S}中筛选出标题块集合{T}，根据所述标题块集合{T}得到文章集合{A}；从文字块集合{S}中获取与文章集合{A}中匹配的文字块，设置为文章正文；获取文章集合{A}中的每篇文章，设置所述文章的其他组成信息。采用本发明，可以提高标引人员的工作效率，节省数据加工成本。"/><meta property="og:title" content="专利 CN101441621A - 一种版式文件自动成文的方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101441621A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101441621A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=SitqBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101441621A&amp;usg=AFQjCNFfdcMyTqfnRJuWKY1BsSeirEOMhw" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/31d5a2e544891503e8a5/CN101441621A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/31d5a2e544891503e8a5/CN101441621A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101441621A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101441621A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101441621A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101441621B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101441621A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种版式文件中自动成文的方法及系统，用于进行文字块的自动类型识别，还原版面文章的引题，标题，副题以及正文等信息，本发明提供的自动成文方法包括：从文字块集合{S}中筛选出标题块集合{T}，根据所述标...</span><span itemprop="url">https://www.google.com/patents/CN101441621A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101441621A - 一种版式文件自动成文的方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101441621A - 一种版式文件自动成文的方法及系统" title="专利 CN101441621A - 一种版式文件自动成文的方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101441621 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810227302</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2009年5月27日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年11月26日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年11月26日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101441621B?hl=zh-CN&amp;cl=zh">CN101441621B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810227302.7, </span><span class="patent-bibdata-value">CN 101441621 A, </span><span class="patent-bibdata-value">CN 101441621A, </span><span class="patent-bibdata-value">CN 200810227302, </span><span class="patent-bibdata-value">CN-A-101441621, </span><span class="patent-bibdata-value">CN101441621 A, </span><span class="patent-bibdata-value">CN101441621A, </span><span class="patent-bibdata-value">CN200810227302, </span><span class="patent-bibdata-value">CN200810227302.7</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BE%90%E5%89%91%E6%B3%A2%22">徐剑波</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%BE%89+%E7%8E%8B%22">辉 王</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%AE%81+%E8%91%A3%22">宁 董</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8C%97%E5%A4%A7%E6%96%B9%E6%AD%A3%E9%9B%86%E5%9B%A2%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%3B%E5%8C%97%E4%BA%AC%E6%96%B9%E6%AD%A3%E9%98%BF%E5%B8%95%E6%AF%94%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">北大方正集团有限公司;北京方正阿帕比技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101441621A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101441621A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101441621A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (10),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=SitqBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810227302&amp;usg=AFQjCNFawg5jZpPFNAn0DpPlKDqovNuZVg"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=SitqBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101441621A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFEAfRdLAY2_t75zdF__eqjDPE6Ig"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT75721482" lang="ZH" load-source="patent-office">一种版式文件自动成文的方法及系统</invention-title>
    </span><br><span class="patent-number">CN 101441621 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA53476483" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种版式文件中自动成文的方法及系统，用于进行文字块的自动类型识别，还原版面文章的引题，标题，副题以及正文等信息，本发明提供的自动成文方法包括：从文字块集合{S}中筛选出标题块集合{T}，根据所述标题块集合{T}得到文章集合{A}；从文字块集合{S}中获取与文章集合{A}中匹配的文字块，设置为文章正文；获取文章集合{A}中的每篇文章，设置所述文章的其他组成信息。采用本发明，可以提高标引人员的工作效率，节省数据加工成本。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(13)</span></span></div><div class="patent-text"><div mxw-id="PCLM13473159" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种版式文件自动成文的方法，其特征在于，该方法包括：A：从文字块集合{S}中筛选出标题块集合{T}，根据所述标题块集合{T}得到文章集合{A}；B：从文字块集合{S}中获取与文章集合{A}中匹配的文字块，设置为文章正文；C：获取文章集合{A}中的每篇文章，设置所述文章的其他组成信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求1所述的版式文件自动成文方法，其特征在于：步骤A具 体为：Al:从版式文件中获取的文字块集合(S)中筛选出文字块属性为标题的文 字块，设置为标题块集合{丁},并将其从原集合(S)中去除；A2:创建文章集合(A);按文字块的信息，对标题块集合(T)进行比较、 聚类；筛选出属于同一文章的标题块，得到文字块集合；验证筛选文字块集合 中的文字块是否属于同一篇文章；创建相应的文章，将文字块集合^:置为文章 的标题块集合；将创建的文章添加到文章集合(A〉中；最后得到文章集合(A〉。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求2所述的版式文件自动成文方法，其特征在于：按文字块 的信息，对标题块集合(T)进行比较、聚类的具体实现方法为：A21:创建一个新的文字块集合{11},选取标题块集合{丁}中第一个文字块， 设为Tl,将文字块T1添加到集合{11}中，并从标题块集合{丁}中删除；A22:以文字块T1为依据，对标题块集合{丁}进行遍历，筛选出标题块集 合(T)中与文字块T1的近邻的文字块；筛选出来的文字块放置在文字块集合(R〉 中，并从标题块集合{丁}中删除筛选出来的文字块；依次获取筛选出来的文字 块，设置为Tl,再次执行本步骤，直至文字块集合(R》中的文字块取完为止； 最终得到文字块集合(R);A23:创建一篇文章；筛选文字块集合(R)，筛选出不属于同一篇文章的文字块并重新添加到标题块集合{丁}中，并从文字块集合(R)中删除；检索完之 后，将该文字块集合(R)设置成为文章的标题块集合；将创建的文章添加到文 章集合(A)中；A24:重复步骤A21和A23;直至标题块集合{丁}中文字块取完为止；最 后得到文章的集合(A)。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、如权利要求3所述的版式文件自动成文方法，其特征在于：判断两个 文字块近邻的操作为：设取到的文字块T1的左上角坐标为（X1,Y1)，右下角坐标为（X1，，Y1，)； 文字块T1的宽度为Wl-Xl，-Xl,文字块T1的高度H卜Y1，-Y1 ，文字块T1 的字体大小为fl ;被遍历到的文字块T2左上角坐标为（X2,Y2)，右下角坐标为（X2，，Y2，)； 文字块T2的宽度为W2-X2，-X2 ，文字块T2的高度112= Y2，-Y2 ，文字块 T2的字体大小为f2 ;版面平均字体大小为所有的文字块的字号的平均值，设置为AvgFontSize; 然后进行如下操作：(4.1) 通过如下公式计算文字块Tl与文字块T2紧邻的有效距离： DistThreshold  = Cl*AvgFontSize + max(fl ,f2)/C2;其中Cl为两个文字块之间的间距系数,C2为文字块的均分系数；(4.2) 计算文字块T1与文字块T2最小重叠度： 水平方向上的最小重叠度：OverlapXMin = (min(Xl，，X2，）-max(Xl，X2)))/min(Xr&#22283;Xl ,X2，墨X2); 垂直方向上的最小重叠度：OverlapYMin = (min(Yl，， Y2，） &#8212; max(Yl, Y2) ))/min(Yl，- Yl ,Y2，- Y2》；(4.3) 计算文字块与文字块的重叠距离： 水平方向上的重叠距离DistX:DistX - max (Xl， X2) - min (XI,, X2，)；垂直方向上的重叠距离DistY: DistY = max (Yl, Y2)&#22283;min (Yl ，， Y2，）；以上max(a，b)表示取两者的较大值，min(a，b)表示取两者的较小值； (4.4)判定如下条件是否其中一项成立：AA.文字块T1对应的文字块的排版类型为从左到右的横排或者从右到左 的4黄排时，且OverlapXMin 〉Dxmin且DistY〈DistThreshold ;BB.文字块Tl对应的文字块的排版类型不是从左到右的横排或者从右到 左的横排时，且OverlapYMin 〉Dymin且DistX〈DistThreshold ;其中Dxmin和Dymin为两个文字块之间水平和垂直方向上的最小近邻重叠系数；如果以上任何一项成立，那么文字块T1与文字块T2近邻，将文字块T2 从标题块集合(T〉中删除，添加到文字块集合(R〉中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、如权利要求3所述的版式文件自动成文方法，其特征在于：筛选出不 属于同一文章的文字块，得到文章的标题块集合步骤如下：(5.1) 获取最大字号的文字块的排版类型，若为从左到右的横排或者从右 到左的横排时，按照"从低到高，从左到右"排序文字块集合(R)中的文字块； 若不是，按照"从左到右，从低到高"排序文字块集合{11}中的文字块；获 取文章的标题块集合{11}中最大字号的文字块；(5.2) 以最大字号的文字块为分界点，如果最大字号以前存在多个文字块 那么从后往前遍历最大字号以前的多个文字块的字号是否相等；从后往前遍历 的比较过程是：以最大字号的文字块前一个文字块作为当前块，遍历当前块和 它前一个文字块字号是否相等；相等则将前一个块设置为当前块，继续同它的 前一个文字块进行比较；不等则从集合{11}中第一个文字块到当前块的前一个 文字块从集合(R〉中删除，并添加到标题块集合{丁}中，以保证最大字号前的文 字块的字号大小相等； '(5.3) 以最大字号的文字块为分界点，如果最大字号以后存在多个文字块那么从前往后遍历最大字号以后的多个文字块的字号是否相等；从前往后遍历 的比较过程是：以最大字号的文字块后一个文字块作为当前块，遍历当前块和 它后一个文字块字号是否相等；相等则将后一个块设置为当前块，继续同它的 后一个文字块进行比较；不等则将集合(R)中当前块以后的文字块从集合(R》 中删除，并添加到标题块集合(T)中，以保证最大字号后的文字块的字号大小 相等。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求1所述的版式文件自动成文方法，其特征在于：步骤B具 体操作为：Bl:将文字块集合(S)中的每一个文字块与文章集合(A)进行聚类比较， 找到能跟文章集合(A)中文章匹配的文字块，设置该文字块为该文章的正文， 并从文字块集合（S)中删除该文字块；B2:查看文字块集合(S)中是否存在文字块，若存在，为该文字块创建一篇 文章，并将文字块设置为该文章的正文，将此文章添加到文章集合(A)中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求6所述的版式文件自动成文方法，其特征在于，所述其他 组成信息包括但不限于：引题，标题，副题中的一种或者全部信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8、 如权利要求6-7任一所述的版式文件自动成文方法，其特征在于：从 文字块集合(S)中获取与文章集合(A〉中匹配的文字块，具体包括以下步骤：(8.1) 从文字块集合(S〉中取第一个文字块，文字块设为Tl(8.2) 从文章集合(A)中依次获取文章，设置为A，从文章A中获取该文 章的标题块集合；(8.3) 依次获取文章标题块集合中的文字块，设为T2，查看文字块T1是 否与文字块T2是否是近邻；近邻条件成立，记录文字块与文章的重叠度，之 后重新获取文章，执行（8.2)步骤；近邻条件不成立，获取文章标题块集合中 的下一个文字块继续同文字块Tl比较是否为近邻关系；如果文章标题块集合 依次遍历结束后，重新获取文章，执行（8.2)步骤；文章集合遍历结束后，执 行以下步骤；(8.4) 获取与文字块Tl重叠度最大的文章，设置该文字块到文章对象的 正文块集合中，并且从文字块集合(S)中删除；(8.5) 从文字块集合（S)中取下一个文字块，设文字块为Tl ,再次从步 骤（8.2)开始执行，直至文字块集合(S)中对应的文字块取完为止；(8.6) 依次从文章集合中获取每篇文章的正文块集合，如果文章的正文块 集合包含多个文字块时将其合并成为一个文字块，文章正文块集合中所有文字 块成为合并文字块的子块，将此合并文字块设置为文章的正文；如果文章的正 文块集合只包含一块则将该正文块设置为文章的正文。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、如权利要求8所述的版式文件自动成文方法，其特征在于，判断两个 文字块近邻的方法如下：(9.1) 利用权利4中的4.2步骤计算两个文字块垂直方向上的最小重叠度 OverlapYMin以及水平方向上的最小重叠度OverlapXMin;(9.2) 计算文字块T1与文字块T2重叠度： 垂直方向上的重叠度：OverlapY = (min(Yl，， Y2，） &#8212; max(Yl， Y2) ))/( max(Yl，， Y2，)- min(Yl, Y2)); 水平方向上的重叠度：OverlapX= (min(X1，， X2，） &#8212; max(Xl， X2)))/(max(X1，， X2,)- min(Xl， X2)); 以上max(a，b)表示取两者的较大值，min(a,b)表示取两者的较小值； (9.3 )计算文字块Tl与文字块T2紧邻的有效距离DistThreshold: DistThreshold = Cl*AvgFontSize + f2/ C2 ;其中Cl为两个文字块之间的间距系数，C2为文字块T2均分系数； AvgFontSize为版面的平均字体大小；f2为T2文字块的字体大小；(9.4) 利用权利4中的4.3步骤中计算文字块与文字块的重叠距离DistX 和DistY;(9.5) 判定如下条件是否其中一项成立： A. OverlapX&gt;Dx且OverlapY&gt;Dy;B. OverlapXMin 〉Dxmin且OverlapY〉Dy;C. OverlapYMin〉Dymin且OverlapX 〉Dx;D. OverlapYMin〉Dymin 且 OverlapXMin &gt;Dxmin 且 (X2，-X2)&gt;C*AvgFontSize;E. 文章的标题块集合中最大字号的文字块的排版类型为从左到右的横排 或者从右到左的横排时，且OverlapX &gt;0且OverlapXMin&gt;Dxmin且DistY&lt; DistThreshold且Y2&lt; Yl;F. 文章的标题块集合中最大字号的文字块的排版类型不是从左到右的横 排或者从右到左的横排时,且OverlapY &gt;0且OverlapYMin&gt;Dymin且DistX&lt; DistThreshold;上述中Dx和Dy为两个文字块之间水平和垂直方向上的近邻重叠系数， Dxmin和Dymin为两个文字块之间水平和垂直方向上的最小近邻重叠系数， 其中C为字体的放大系数；如果以上条件任何一项都成立，则表示两个块近邻；近邻成立的时候记录 两个文字块的重叠度；文章的标题块集合中最大字号的文字块的排版类型若为 从左到右的横排或者从右到左的横排时，那么文字块T1与文章对象的重叠度 为OverlapX;若不是，文字块Tl与文章对象的重叠度为OverlapY。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、如权利要求9所述的版式文件自动成文方法，其特征在于：设置文章 其他组成信息的步骤具体如下：(10.1) 从文章集合中依次获取文章；获取每篇文章的标题块集合(R);获 取标题块集合(R)中最大字号的文字块，将此文字块i殳置为文章A的标题；(10.2) 获取文章标题对应的文字块的排版类型，若为从左到右的横排或者 从右到左的横排时，按照"从低到高，从左到右"排序文字块集合(R)中的文 字块；若不是从左到右的横排或者从右到左的横排时，按照"从左到右，从 低到高"排序文字块集合(R)中的文字块；(10.3 )以最大字号的文字块为分界点，最大字号以前的文字块只有一个的时候，直接将该文字块设置为文章的引题；若存在多个文字块的时需合并成为 一个文字块，将多个文字块设置为合并文字块的子块，并将合并文字块设置为 文章的引题；最大字号以后的文字块只有一个的时候，直接将该文字块设置为 文章的副题；若存在多个文字块的时需合并成为一个文字块，将多个文字块i殳 置为合并文字块的子块，并将合并文字块设置为文章的副题；(10.4)文章标题对应的文字块的排版类型为竖排无方向的文章，验证文章 的引题，副题是否需要互换。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11、 如权利要求10所述的版式文件自动成文方法，其特征在于：验证文 章的引题，副题是否需要互换按照如下标准进行：文章标题对应的文字块的排版类型为竖排无方向时，若以下任何一个条件 成立的话，文章的引题，副题需要互换；文章的引题成为文章的副题，副题成 为文章的引题；(A) 获取文章引题，副题对应文字块的排版类型；如果任一文字块的排版 类型为"从右到左的竖排"，那么文章的引题和副题互换；(B) 设文章的正文对应的文字块为Tl,左上角坐标为（X1，Y1),右下角 坐标为（X1，,Y1，)；标题对应的文字块为T2，左上角坐标为（X2,Y2),右下角 坐标为（X2，，Y2，)；若(X1 +&#20034;1，)&lt;(&#20034;2 + &#20034;2，)成立,那么文章的引题和副题互换；(C) 设文章存在引题，对应的文字块为Tl,左上角坐标为（X1,Y1),右 下角坐标为（X1，，Y1，）；文章的标题对应的文字块为T2 ，左上角坐标为(X2，Y2)，右下角坐标为（X2，，Y2，)；若Y1〉Y2成立，那么文章的引题和副 题互换；(D) 设文章存在副题，对应的文字块为Tl,左上角坐标为（X1,Y1),右 下角坐标为（X1，,Y1，）；文章的标题对应的文字块为T2 ，左上角坐标为(X2,Y2)，右下角坐标为（X2，，Y2，)；若YKY2成立，那么文章的引题和副 题互换。</div>
    </div>
    </div> <div class="claim"> <div num="12" class="claim">
      <div class="claim-text">12、 一种版式文件自动成文系统，其特征在于，该成文系统包括：文字块集合生成器，用于从版式文件中生成文字块集合； 标题块集合筛选器，用于从文字块集合中筛选出属性为标题的文字块； 文章集合生成器，用于得到文章集合，所述文章集合按文字块的信息，对标题块集合进行比较、聚类得到；文章正文生成器，用于从文字块集合中获取与文章集合中匹配的文字块，并将此设置为文章正文；文章其他组成信息生成器，用于从文章集合中获取文章其他信息，并进行设置。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13、如权利要求11所述的版式文件自动成文系统，其特征在于，所述文 章其他信息，包括但不限于：引题，标题，副题中的一种或者全部信息。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES18860172" lang="ZH" load-source="patent-office" class="description">
    <p>一种;f反式文^f牛自动成文的方法及系统</p>
    <p>技术领域</p>
    <p>本发明涉及信息技术处理领域，尤其涉及一种版式文件中自动成文的方法 及系统。</p>
    <p>种方法的优点是根据版式文件的版面信息结构提取版面信息和所有的稿件信</p>
    <p>息；缺点是：a)不同的版式文件都需要花时间理解其内部的信息存储格式，. 导致了不同的版式文件需要开发不同的插件，开发难度大且易用性和扩展性不 是很好；b)版式文件的必须存储稿件内部之间的关联关系；通过分析PS文件 以及Fit等文件，发现版式文件中记录的稿件关系并不能够有效的还原版式文 件中文章中上下文的关系，造成了后端标引的时候工作量很大。</p>
    <p>根据目前可以基于版式文件记录的信息来提取稿件的方法；这种方法的优 点是高效的利用了版式文件提供的公共的信息，实现了自动化成块操作；缺点 是该方法没有实现自动成文，需要在结合人工标引的方式来实现文章上下文的 正确的组合。</p>
    <p>综上，从版式文件中获取的文字块、图片块等数据信息并没有有效的组织 在一起，而是^t开来的，比如一篇文章的引题，标题，副题是分离开的，标 题和文章的正文之间也是分离开的；这样就需要人工进行相应的关联操作，还 原文章的引题，标题，副题以及正文，以保证数据信息的正确性和完备性。</p>
    <p>针对现有技术中存在的缺陷，本发明的目的是提供一种反解版式文件后自</p>
    <p>背景技术</p>
    <p>^文章的方法。这</p>
    <p>发明内容动成文的方法，该方法能够实现将反解任何版式文件后获得的文字块自动关联</p>
    <p>起来，还原成为一篇文章；该篇文章可能包含着引题，标题，副题，正文，附 图等相关内容，还原了原有的文章内容之间上下文关系，这样就减少了人工操 作的工作量，提高了效率。 本发明的具体实现方法为：</p>
    <p>A:从文字块集合（S)中筛选出标题块集合(T),根据所述标题块集合(T〉 得到文章集合(A〉；</p>
    <p>B:从文字块集合(S〉中获取与文章集合(A)中匹配的文字块，设置为文章 正文；</p>
    <p>C:获取文章集合(A)中的每篇文章，设置所述文章的其他组成信息。</p>
    <p>进一步，从文字块集合{8}中筛选出标题块集合{丁}，根据所述标题块集合 {T}得到文章集合{A}具体为：</p>
    <p>从版式文件中获取的文字块集合（S)中筛选出文字块属性为标题的文字 块，设置为标题块集合{丁},并从原集合(S)中去除；</p>
    <p>创建文章集合{八};按文字块的信息，对标题块集合{丁}进行比较、聚类； 筛选出属于同一文章的标题块，得到文字块集合；验证筛选文字块集合中的文 字块是否属于同一篇文章；创建相应的文章，将文字块集合设置为文章的标题 块集合；将创建的文章添加到文聿集会（A)中；最后将到文章集^{八}。</p>
    <p>进一步，从文字块集合{8}中获取与文章集合{八}中匹配的文字块具体包</p>
    <p>括：</p>
    <p>将文字块集合(S)中的每一个文字块与文章集合(A)进行聚类，找到能跟丈 章集合(A)中文章匹配的文字块，设置该文字块为该文章的正文，并从文字块 集合(S)中删除该文字块；</p>
    <p>查看文字块集合(S》中是否存在文字块，若存在，为该文字块创建一篇文 章，并将文字块设置为该文章的正文，将此文章添加到文章集合{八}中。</p>
    <p>所述文章其他信息，包括但不限于：引题，标题，副题中的一种或者全部信息。</p>
    <p>本发明还提供一种版式文件自动成文系统，该成文系统包括： 文字块集合生成器，用于从版式文件中生成文字块集合； 标题块集合筛选器，用于从文字块集合中筛选出属性为标题的文字块； 文章集合生成器，用于得到文章集合，所述文章集合按文字块的信息，对</p>
    <p>标题块集合进行比较、聚类得到；</p>
    <p>文章正文生成器，用于从文字块集合中获取与文章集合中匹配的文字块，</p>
    <p>并将此设置为文章正文；</p>
    <p>文章其他组成信息生成器，用于从文章集合中获取文章其他信息，并进行设置。</p>
    <p>进一步，所述文章其他信息，包括但不限于：引题，标题，副题中的一种 或者全部信息。</p>
    <p>通过本发明提供的技术方案，能够找到属于同一篇文章的引题，标题，副 题以及正文等文字块，能够还原原有的文章内容之间上下文关系。另外，还可 以提高标引人员的工作效率，节省数据加工成本。</p>
    <p>附图说明</p>
    <p>图1为本发明自动成文的流程图；</p>
    <p>图2是从标题块集合中提取近邻的文字块示意图；</p>
    <p>图3是从标题块集合中提取近邻的文字块，同时也实现了标题和引题的互 换示意图；</p>
    <p>图4是从新创建的文字块集合中筛选出不属于同一篇文章的文字块示意</p>
    <p>图；</p>
    <p>图5为文字块匹配文章之后的示意图； 图6为引题和副题互换之后的示意图。具体实施方式</p>
    <p>下面结合具体实施方式和附图对本发明进行详细描述。</p>
    <p>如图1所示，版式文件的自动成文的方法包括以下步骤：</p>
    <p>第一步：从版式文件中获取的文字块集合（S)中筛选出文字块属性为标题 的文字块，设置为标题块集合m,并从原集合(S)中去除；</p>
    <p>第二步：创建文章集合(A);按文字块的信息，对标题块集合{丁}进行比较、 聚类；筛选出属于同一文章的文字块，得到文字块集合；验证筛选文字块集合 中的文字块是否属于同一篇文章；创建相应的文章，将文字块集合设置为文章 的标题块集合；将创建的文章添加到文章集合(A)中；最后得到文章集合{八};</p>
    <p>第三步：将文字块集合(S)中的每一个文字块与文章集合(A)进行聚类，找 到能跟文章集合(A》中文章匹配的文字块，设置该文字块为该文章的正文，并 从文字块集合（S)中删除该文字块； '</p>
    <p>第四步：查看文字块集合(S)中是否存在文字块，若存在，为该文字块创 建一篇文章，并将文字块设置为该文章的正文，将此文章添加到文章集合{八} 中；</p>
    <p>第五步：依次获取文章集合(A)中的每篇文章，设置每篇文章的其他组成 信息。</p>
    <p>根据每篇文章的不同，该篇文章可能包含着引题，标题，副题，正文，附 图等相关内容，因此，其他组成信息为引题，标题，副题，附图中的一种或者 全部信息。</p>
    <p>下面结合附图2和图3对具体实施方式进行阐述：</p>
    <p>文字块集合(S)中筛选出文字块属性为标题的文字块是现有技术中的一般 操作，在此不再详述，如图2所述的文字块中，"4同胞在尼遭武装劫匪抢劫"、 "中国参演部队开始回撤"、"我国铁路最大机车采购项目签订"、"质检总局</p>
    <p>工作组进驻14省区市"等都是其中的标题块。形成标题块集合(T)之后，需要 按文字块的信息，对标题块集合(T)进行比较、聚类；得到文章集合(A〉。本实施例中按文字块的信息，对标题块集合{丁}进行比较、聚类的具体实</p>
    <p>现方法为：</p>
    <p>A21:创建一个新的文字块集合(R)，选取标题块集合(T)中第一个文字块， 设为Tl,将文字块T1添加到集合(R〉中，并从标题块集合(T〉中删除；</p>
    <p>A22:以文字块T1为依据，对标题块集合{丁}进行遍历，筛选出标题块集 合(T)中与文字块T1的近邻的文字块；筛选出来的文字块放置在文字块集合(R) 中，并从标题块集合{丁}中删除筛选出来的文字块；依次获取筛选出来的文字 块，设置为Tl,再次执行本步骤，直至文字块集合(R)中的文字块取完为止； 最终得到文字块集合(R〉；</p>
    <p>A23:创建一篇文章；筛选文字块集合{11},筛选出不属于同一篇文章的 文字块并重新添加到标题块集合{丁}中，并从文字块集合(R〉中删除；检索完之 后，将该文字块集合(R)设置成为文章的标题块集合；将创建的文章添加到文 章集合(A)中；</p>
    <p>A24:重复步骤A21和A23;直至标题块集合{丁}中文字块取完为止；最 后得到文章的集合{八}。</p>
    <p>在本实施例中，"4同胞在尼遭武装劫匪抢劫"和"其中l名女子被枪杀" 的两个属性为标题的文字块分别为Tl和T2，需要计算他们之间是否近邻。 判断这两个文字块近邻的才&#21951;作为： 在本实施方式中，取到的"4同胞在尼遭武装劫匪抢劫"文字块T1的左上 角坐标为（31,584)，右下角坐标为（271,605);文字块Tl的宽度为Wl= 240， 文字块T1的高度Hl-21 ,文字块T1的字体大小为fl=20 ;</p>
    <p>被遍历到的"其中1名女子被枪杀"文字块T2左上角坐标为（31，611), 右下角坐标为（156,624);文字块T2的宽度为W2= 125 ，文字块T2的高度 H2=13 ,文字块T2的字体大小为&#163;2=13 ;</p>
    <p>版面平均字体大小为所有的文字块的字号的平均值，设置为AvgFontSize; 现在该版面的平均字体大小为8.47;然后进行如下操作：(4.1 )通过如下公式计算文字块T1与文字块T2紧邻的有效距离： DistThreshold   = C1 * AvgFontSize + max(f 1 ,f2)/ C2; 其中Cl为两个文字块之间的间距系数,C2为文字块的均分系数；</p>
    <p>(4.2) 计算文字块T1与文字块T2重叠度： 水平方向上的最小重叠度：</p>
    <p>OverlapXMin = (min(Xl，， X2，） &#8212; max(Xl, X2) ))/min(Xl,- XI ,X2，画X2); 垂直方向上的最小重叠度：</p>
    <p>OverlapYMin = (min(Yl ，， Y2，） &#8212; max(Yl, Y2) ))/min(Yl ，&#35494;Yl ,Y2，- Y2));</p>
    <p>(4.3) 计算文字块与文字块的重叠距离： 水平方向上的重叠3巨离DistX:</p>
    <p>DistX = max (XI， X2)&#33144;min (Xl，， X2，）； 垂直方向上的重叠距离DistY: DistY = max (Yl, Y2) - min (Yl，， Y2，）；</p>
    <p>以上max(a，b)表示取两者的较大值，min(a，b)表示取两者的较小值；</p>
    <p>(4.4) 判定如下条件是否其中一项成立：</p>
    <p>AA.文字块T1对应的文字块的排版类型为从左到右的横排或者从右到左 的横排时，且OverlapXMin &gt; Dxmin且DistY&lt;DistThreshold ;</p>
    <p>BB.文字块T1对应的文字块的排版类型不是从左到右的横排或者从右到 左的4黄排时，且OverlapYMin &gt;Dymin且DistX〈DistThreshold ;</p>
    <p>其中Dxmin和Dymin为两个文字块之间水平和垂直方向上的最小近邻重 叠系数；</p>
    <p>如果以上任何一项成立，那么文字块T1与文字块T2近邻，将文字块T2 从文字块集合中删除，添加到文字块集合{11}中。</p>
    <p>在实际的应用中，可以根据实际的需要来调整Dxmin和Dymin取值的大 小。在本实施方式中，此时C1取值为1.5, C2取值为4; Dxmin和Dymin取 值都为0. 8;计算得出的DistThreshold =17.92; OverlapXMin = 9.9; DistY =6.78;经过上面方法的计算，在图2中"4同胞在尼遭武装劫匪抢劫"和"其中l名 女子被枪杀，，的两个属性为标题的文字块满足以上条件的AA条件；因此，计 算出来的文字块T1与文字块T2是近邻的。将文字块T2从标题块(T)集合中 删除，添加到文字块集合(R〉中。</p>
    <p>同样在图2中"我国铁路最大机车&#37318;购项目签订"和"总金额近300亿元 其中500台机车签订合同"两个属性为标题的文字块满足以上条件的AA条件； 在图3中"送去新春的间候"和"省委省政府举行外企新春联欢会王儒林走访 慰问侨界知名人士"两个属性为标题的文字块满足以上条件的BB条件。都是 相近邻的文字块。</p>
    <p>对于不属于同一文章的文字块，需要进行筛选，筛选出不属于同一文章的 文字块，得到文章的标题块集合步骤如下：</p>
    <p>(5.1) 获取最大字号的文字块的排版类型，若为从左到右的横排或者从右 到左的横排时，按照"从低到高，从左到右"排序文字块集合(R〉中的文字块； 若不是，按照"从左到右，从底到高"排序文字块集合(R〉中的文字块；创建 一篇文章，获取文章的标题块集合(R)中最大字号的文字块；</p>
    <p>(5.2) 以最大字号的文字块为分界点，如果最大字号以前存在多个文字块 那么从后往前遍历最大字号以前的多个文字块的字号是否相等；从后往前遍历 的比较过程是：以最大字号的文字块前一个文字块作为当前块，遍历当前块和 它前一个文字块字号是否相等；相等则将前一个块设置为当前块，继续同它的 前一个文字块进行比较；不等则从集合(R)中第一个文字块到当前块的前一个 文字块从集合(R)中删除，并添加到标题块集合{丁}中，以保证最大字号前的文 字块的字号大小相等；</p>
    <p>(5.3) 以最大字号的文字块为分界点，如果最大字号以后存在多个文字块 那么从前往后遍历最大字号以后的多个文字块的字号是否相等；从前往后遍历 的比较过程是：以最大字号的文字块后一个文字块作为当前块，遍历当前块和 它后一个文字块字号是否相等；相等则将后一个块设置为当前块，继续同它的后一个文字块进行比较；不等则将集合(R〉中当前块以后的文字块从集合(R〉 中删除，并添加到标题块集合{丁}中，以保证最大字号后的文字块的字号大小 相等。</p>
    <p>经过上面的验证标题块集合是否属于同一篇文章，在图4中将属性为标题 的"补贴4成成本缺口依然大，，的文字块从标题块集合中筛选了出来，保证了 标题块集合中的文字块属于同一篇文章的正确性。在实际的应用过程中，可以 根据实际的情况和应用的需要来分析是否需要执行此步骤。</p>
    <p>得到文章集合(A》后，从文字块集合(S)中获取与文章集合(A〉中匹配的文 字块，具体操作如下：</p>
    <p>如图5所述的"4同胞在尼遭武装劫匪抢劫"为标题的文章中，包括：标题 块、副题块以及正文块，其正文块是否属于该篇文章，需要进行判断，同样， 本实施例采用以下方法进4亍：</p>
    <p>(8.1) 从文字块集合（S)中取第一个文字块，文字块设为T1</p>
    <p>(8.2) 从文章集合(A〉中依次获取文章，设置为A,从文章A中获取该文 章的标题块集合；</p>
    <p>(8.3) 依次获取文章标题块集合中的文字块，设为T2，查看文字块T1是 否与文字块T2是否是近邻；近邻条件成立，记录文字块与文章的重叠度，之 后重新获取文章，执行（8.2)步骤；近邻条件不成立，获取文章标题块集合中 的下一个文字块继续同文字块Tl比较是否为近邻关系；文章标题块集合依次 遍历结束后，重新获取文章，执行（8.2)步骤；文章集合遍历结束后，执行以 下步骤；</p>
    <p>(8.4) 获取与文字块Tl重叠度最大的文章，设置该文字块到文章对象的 正文块集合中，并且从文字块集合(S)中删除；</p>
    <p>(8.5) 从文字块集合(S)中取下一个文字块，设文字块为Tl ，再次从步 骤（8,2)开始执行，直至文字块集合(S)中对应的文字块取完为止；</p>
    <p>(8.6) 依次从文章集合中获取每篇文章的正文块集合，如果文章的正文块集合包含多个文字块时将其合并成为一个文字块，文章正文块集合中所有文字</p>
    <p>块成为合并文字块的子块，将此合并文字块设置为文章的正文；如果文章的正 文块集合只包含一块则将该正文块设置为文章的正文。 判断两个文字块近邻的方法如下：</p>
    <p>(9.1 )计算两个文字块垂直方向上的最小重叠度OverlapYMin以及水平方 向上的最小重叠度OverlapXMin;</p>
    <p>此实施例中采用以下公式进行计算： 水平方向上的最小重叠度：</p>
    <p>OverlapXMin = (min(Xr， X2，） &#8212; max(Xl, X2) ))/min(Xl，- XI ，X2，- X2); 垂直方向上的最小重叠度：</p>
    <p>OverlapYMin = (min(Yl，， Y2，） &#8212; max(Yl, Y2)》/min(Yl,画Yl ，Y2，画Y2)); 以上max(a，b)表示取两者的较大值，min(a,b)表示取两者的较小值； (9.2 )计算两个文字块垂直方向上的重叠度OverlapY和水平方向上的重叠 度OverlapX;</p>
    <p>此实施例中采用以下公式进行计算： 垂直方向上的重叠度：</p>
    <p>OverlapY = (min(Yl，， Y2，） &#8212; max(Yl, Y2) ))/( max(Yl,, Y2,)曙min(Yl, Y2)); 水平方向上的重叠度：</p>
    <p>OverlapX= (min(Xl，， X2，） &#8212; max(Xl, X2)))/(max(Xl'， X2，)画min(Xl， X2));</p>
    <p>(9.3) 计算两个文字块之间近邻的距离DistThreshold; DistThreshold = CI*AvgFontSize + f2/ C2 ;</p>
    <p>其中Cl为两个文字块之间的间距系数，C2为文字块T2均分系数； AvgFontSize为版面的平均字体大小；f2为T2文字块的字体大小。在本实施 方式中此时Cl取值为2， C2取值为5;</p>
    <p>(9.4) 计算文字块与文字块的重叠距离DistX和DistY; 计算文字块与文字块的重叠距离：</p>
    <p>18水平方向上的重叠距离DistX: DistX = max (XI, X2) - min (Xl'， X2，）； 垂直方向上的重叠3巨离DistY: DistY = max (Yl, Y2) - min (Yl'， Y2，）；</p>
    <p>以上max(a,b)表示取两者的较大值，min(a，b)表示取两者的较小值； (9.5)判定如下条件是否其中一项成立：</p>
    <p>A. OverlapX&gt;Dx且OverlapY&gt;Dy;</p>
    <p>B. OverlapXMin &gt;Dxmin且OverlapY〉Dy;</p>
    <p>C. OverlapYMin&gt;Dymin且OverlapX &gt;Dx;</p>
    <p>D. OverlapYMin&gt;Dymin 且 OverlapXMin &gt;Dxmin 且 （X2'-X2)&gt;C*AvgFontSize;</p>
    <p>E. 文章的标题块集合中最大字号的文字块的排版类型为从左到右的横排 或者从右到左的横排时，且OverlapX &gt;0且OverlapXMin&gt;Dxmin且DistY&lt; DistThreshold且Y2&lt; Yl;;</p>
    <p>F. 文章的标题块集合中最大字号的文字块的排版类型不是从左到右的横 排或者从右到左的横排时,且OverlapY &gt;0且OverlapYMin&gt;Dymin且DistX&lt; DistThreshold;</p>
    <p>上述中Dx和Dy为两个文字块之间水平和垂直方向上的近邻重叠系数, Dxmin和Dymin为两个文字块之间7K平和垂直方向上的最小近邻重叠系数， 其中C为字体的放大系数；</p>
    <p>如杲以上条件任何一项都成立，则表示两个块近邻；近邻成立的时候记录 两个文字块的重叠度；文章的标题块集合中最大字号的文字块的排版类型若为 从左到右的横排或者从右到左的横排时，那么文字块T1与文章对象的重叠度 为OverlapX;若不是，文字块Tl与文章对象的重叠度为OverlapY。</p>
    <p>在本实施例中，其中A条件中Dx-0.8和Dy=0.8; B条件中Dxmin=0.95， Dy =0. 2; C条件中Dymin=0. 95, Dx =0. 2; D条件中Dxmin=0. 95， Dymin=0. 95,C=6; E条件中Dx-O. 8; F条件中Dy-O. 8;经过上面方法的计算，在图5中， 正文块找到最佳的匹配的文章，该文字块成为了文章的正文。</p>
    <p>同样，查看文字块集合（S)中是否存在文字块，若存在，为该文字块创建 一篇文章，并将文字块设置为该文章的正文，将此文章添加到文章集合(A)中。</p>
    <p>文章正文确定后，需要设置文章的其他组成信息，设置文章其他组成信息 的步骤具体如下：</p>
    <p>(10.1) 从文章集合中依次获取文章；获取每篇文章的标题块集合{11};获 取标题块集合(R)中最大字号的文字块，将此文字块设置为文章A的标题;</p>
    <p>(10.2) 获取文章标题对应的文字块的排版类型，若为从左到右的横排或者 从右到左的横排时，按照"从低到高，从左到右，，排序文字块集合(R〉中的文 字块；若不是从左到右的横排或者从右到左的横排时，按照"从左到右，从 底到高"排序文字块集合(R)中的文字块；</p>
    <p>(10.3 )以最大字号的文字块为分界点，最大字号以前的文字块只有一个的 时候，直接将该文字块设置为文章的引题；若存在多个文字块的时需合并成为 一个文字块，将多个文字块设置为合并文字块的子块，并将合并文字块设置为 文章的引题；最大字号以后的文字块只有一个的时候，直接将该文字块设置为 文章的副题；若存在多个文字块的时需合并成为一个文字块，将多个文字块设 置为合并文字块的子块，并将合并文字块设置为文章的副题；</p>
    <p>(10.4)文章标题对应的文字块的排版类型为竖排无方向的文章，验证文章 的引题，副题是否需要互换。</p>
    <p>验证文章的引题，副题是否需要互换按照如下标准进行： 文章标题对应的文字块的排版类型为竖排无方向时，若以下任何一个条件 成立的话，文章的引题，副题需要互换；文章的引题成为文章的副题，副题成 为文章的引题；</p>
    <p>(A)获取文章引题，副题对应文字块的排版类型；如果任一文字块的排版 类型为"从右到左的竖排"，那么文章的引题和副题互换；(B) 设文章的正文对应的文字块为Tl，左上角坐标为（X1，Y1)，右下角 坐标为（X1，，Y1，)；标题对应的文字块为T2，左上角坐标为（X2,Y2),右下角 坐标为（X2，，Y2，)；若(X1 +&#20034;1，)&lt;(&#20034;2 + &#20034;2，)成立,那么文章的引题和副题互换；</p>
    <p>(C) 设文章存在引题，对应的文字块为Tl,左上角坐标为（X1，Y1),右 下角坐标为（X1，,Y1，）；文章的标题对应的文字块为T2 ,左上角坐标为</p>
    <p>(X2，Y2),右下角坐标为（X2，，Y2，)；若Y1〉Y2成立，那么文章的引题和副 题互换；</p>
    <p>(D)设文章存在副题，对应的文字块为T1，左上角坐标为（X1,Y1)，右 下角坐标为（X1，，Y1，）；文章的标题对应的文字块为T2 ,左上角坐标为 (X2，Y2)，右下角坐标为（X2，，Y2，）；若Y1〈Y2成立，那么文章的引题和副 题互换。</p>
    <p>在图3和图6中，文章标题对应的文字块的排版类型为竖排无方向，经过</p>
    <p>上面的计算，实现了引题和副题的互换，保证了提取的文章标题的正确性。 本发明通过自动成文的方法，找到属于同一篇文章的引题，标题，副题以</p>
    <p>及正文等文字块，能够还原原有的文章内容之间上下文关系。</p>
    <p>同样，本发明还提供一种版式文件自动成文系统，该成文系统包括： 文字块集合生成器，用于从版式文件中生成文字块集合； 标题块集合筛选器，用于从文字块集合中筛选出属性为标题的文字块； 文章集合生成器，用于得到文章集合，所述文章集合按文字块的信息，对</p>
    <p>标题块集合进行比较、聚类得到；</p>
    <p>文章正文生成器，用于从文字块集合中获取与文章集合中匹配的文字块，</p>
    <p>并将此设置为文章正文；</p>
    <p>文章其他组成信息生成器，用于从文章集合中获取文章其他信息，并进行设置。</p>
    <p>所述文章其他信息，包括但不限于：引题，标题，副题中的一种或者全部</p>
    <p>信息进行匹配以及是否近邻的操作与本发明方法实施例的实现方式是&#8212;&#8212;对 应的，在》匕不再重复名又述。</p>
    <p>通过本发明提供的技术方案，能够找到属于同一篇文章的引题，标题，副 题以及正文等文字块，能够还原原有的文章内容之间上下文关系，另外，还可以 提高标引人员的工作效率，节省数据加工成本。</p>
    <p>明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及 其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102479326A?cl=zh">CN102479326A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年11月30日</td><td class="patent-data-table-td patent-date-value">2012年5月30日</td><td class="patent-data-table-td ">方正国际软件(北京)有限公司</td><td class="patent-data-table-td ">一种图文识别人工校对辅助方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102479326B?cl=zh">CN102479326B</a></td><td class="patent-data-table-td patent-date-value">2010年11月30日</td><td class="patent-data-table-td patent-date-value">2013年7月24日</td><td class="patent-data-table-td ">方正国际软件(北京)有限公司</td><td class="patent-data-table-td ">一种图文识别人工校对辅助方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102567302A?cl=zh">CN102567302A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年12月27日</td><td class="patent-data-table-td patent-date-value">2012年7月11日</td><td class="patent-data-table-td ">北京方正阿帕比技术有限公司</td><td class="patent-data-table-td ">排版方式识别方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102567302B?cl=zh">CN102567302B</a></td><td class="patent-data-table-td patent-date-value">2010年12月27日</td><td class="patent-data-table-td patent-date-value">2014年4月16日</td><td class="patent-data-table-td ">北大方正集团有限公司</td><td class="patent-data-table-td ">排版方式识别方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102591845A?cl=zh">CN102591845A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年1月6日</td><td class="patent-data-table-td patent-date-value">2012年7月18日</td><td class="patent-data-table-td ">北京方正阿帕比技术有限公司</td><td class="patent-data-table-td ">一种重叠文字的处理方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102591845B?cl=zh">CN102591845B</a></td><td class="patent-data-table-td patent-date-value">2011年1月6日</td><td class="patent-data-table-td patent-date-value">2014年6月4日</td><td class="patent-data-table-td ">北大方正集团有限公司</td><td class="patent-data-table-td ">一种重叠文字的处理方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102841888A?cl=zh">CN102841888A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月14日</td><td class="patent-data-table-td patent-date-value">2012年12月26日</td><td class="patent-data-table-td ">《中国学术期刊(光盘版)》电子杂志社</td><td class="patent-data-table-td ">一种快速排版系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102841888B?cl=zh">CN102841888B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月14日</td><td class="patent-data-table-td patent-date-value">2015年10月14日</td><td class="patent-data-table-td ">《中国学术期刊（光盘版）》电子杂志社有限公司</td><td class="patent-data-table-td ">一种快速排版系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855264A?cl=zh">CN102855264A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年7月1日</td><td class="patent-data-table-td patent-date-value">2013年1月2日</td><td class="patent-data-table-td ">富士通株式会社</td><td class="patent-data-table-td ">文档处理方法及其装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102855264B?cl=zh">CN102855264B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年7月1日</td><td class="patent-data-table-td patent-date-value">2015年11月25日</td><td class="patent-data-table-td ">富士通株式会社</td><td class="patent-data-table-td ">文档处理方法及其装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=SitqBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017220000">G06F17/22</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2009年5月27日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年7月22日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年12月1日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/31d5a2e544891503e8a5/CN101441621A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E7%89%88%E5%BC%8F%E6%96%87%E4%BB%B6%E8%87%AA%E5%8A%A8%E6%88%90%E6%96%87%E7%9A%84%E6%96%B9%E6%B3%95.pdf?id=SitqBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0xdZbrYyXIRmtZpcsyl5Aczgwqog"},"sample_url":"https://www.google.com/patents/reader?id=SitqBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>