<!DOCTYPE html><html><head><title>专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="应用软件的安装方法和应用软件的安装装置"><meta name="DC.contributor" content="王奇飞" scheme="inventor"><meta name="DC.contributor" content="成都市华为赛门铁克科技有限公司" scheme="assignee"><meta name="DC.date" content="2011-11-22" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种应用软件的安装方法和应用软件的安装装置，用以解决现有应用软件的安装过程操作复杂，实施难度大的问题。该方法包括：挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将镜像数据映射为本地文件系统中的一个虚拟磁盘；根据应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据；根据所述文件变更记录数据、应用软件包包含的安装过程中增加或修改的文件，更新虚拟磁盘中的文件结构，从而实现在虚拟机中安装所述应用软件。在安装应用软件的过程中，无需虚拟机用户进行复杂的操作，降低了软件安装难度。"><meta name="DC.date" content="2012-4-4"><meta name="DC.relation" content="CN:101425016:A" scheme="references"><meta name="DC.relation" content="CN:101454765:A" scheme="references"><meta name="DC.relation" content="CN:102214118:A" scheme="references"><meta name="DC.relation" content="US:20050235281:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102402446:A"><meta name="citation_patent_application_number" content="CN:201110372932"><link rel="canonical" href="https://www.google.com/patents/CN102402446A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102402446A?cl=zh"/><meta name="title" content="专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置"/><meta name="description" content="本发明公开了一种应用软件的安装方法和应用软件的安装装置，用以解决现有应用软件的安装过程操作复杂，实施难度大的问题。该方法包括：挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将镜像数据映射为本地文件系统中的一个虚拟磁盘；根据应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据；根据所述文件变更记录数据、应用软件包包含的安装过程中增加或修改的文件，更新虚拟磁盘中的文件结构，从而实现在虚拟机中安装所述应用软件。在安装应用软件的过程中，无需虚拟机用户进行复杂的操作，降低了软件安装难度。"/><meta property="og:title" content="专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102402446A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102402446A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102402446A&amp;usg=AFQjCNE-94sCTq8wXron_rrrfUvudz4AoQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/2910d0c48cd8df348cd7/CN102402446A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/2910d0c48cd8df348cd7/CN102402446A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102402446A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102402446A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102402446A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102402446B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102402446A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种应用软件的安装方法和应用软件的安装装置，用以解决现有应用软件的安装过程操作复杂，实施难度大的问题。该方法包括：挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将镜像数据映射为...</span><span itemprop="url">https://www.google.com/patents/CN102402446A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置" title="专利 CN102402446A - 应用软件的安装方法和应用软件的安装装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102402446 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110372932</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年4月4日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年11月22日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年11月22日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102402446B?hl=zh-CN&amp;cl=zh">CN102402446B</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2765508A1?hl=zh-CN&amp;cl=zh">EP2765508A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2765508A4?hl=zh-CN&amp;cl=zh">EP2765508A4</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2765508B1?hl=zh-CN&amp;cl=zh">EP2765508B1</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2013075514A1?hl=zh-CN&amp;cl=zh">WO2013075514A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110372932.5, </span><span class="patent-bibdata-value">CN 102402446 A, </span><span class="patent-bibdata-value">CN 102402446A, </span><span class="patent-bibdata-value">CN 201110372932, </span><span class="patent-bibdata-value">CN-A-102402446, </span><span class="patent-bibdata-value">CN102402446 A, </span><span class="patent-bibdata-value">CN102402446A, </span><span class="patent-bibdata-value">CN201110372932, </span><span class="patent-bibdata-value">CN201110372932.5</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E5%A5%87%E9%A3%9E%22">王奇飞</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%88%90%E9%83%BD%E5%B8%82%E5%8D%8E%E4%B8%BA%E8%B5%9B%E9%97%A8%E9%93%81%E5%85%8B%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">成都市华为赛门铁克科技有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102402446A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102402446A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102402446A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (12),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (5)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110372932&amp;usg=AFQjCNGTd9Sd4coFc-vi5webEFKiAlrlZw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102402446A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGgZ8n8PFM250A0-13N2RuEsN55jw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT112104525" lang="ZH" load-source="patent-office">应用软件的安装方法和应用软件的安装装置</invention-title>
      </span><br><span class="patent-number">CN 102402446 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA95572541" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种应用软件的安装方法和应用软件的安装装置，用以解决现有应用软件的安装过程操作复杂，实施难度大的问题。该方法包括：挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将镜像数据映射为本地文件系统中的一个虚拟磁盘；根据应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据；根据所述文件变更记录数据、应用软件包包含的安装过程中增加或修改的文件，更新虚拟磁盘中的文件结构，从而实现在虚拟机中安装所述应用软件。在安装应用软件的过程中，无需虚拟机用户进行复杂的操作，降低了软件安装难度。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(13)</span></span></div><div class="patent-text"><div mxw-id="PCLM40906662" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种应用软件的安装方法，其特征在于，包括：挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将所述镜像数据映射为本地文件系统中的一个虚拟磁盘；根据所述应用软件的应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是根据安装所述应用软件前后主机操作系统环境的差异获得的；根据所述文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件， 更新所述虚拟磁盘中的文件结构，从而实现在所述虚拟机中安装所述应用软件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的方法，其特征在于，所述挂载虚拟机的镜像数据，包括： 确定所述虚拟机的镜像数据的类型；根据所述镜像数据的类型，调用对应的挂载程序挂载所述虚拟机镜像数据的存储位置上的虚拟机镜像数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求2所述的方法，其特征在于，所述确定所述虚拟机镜像数据的类型，包括：根据所述虚拟机镜像数据的存储位置，测试是否能够成功读取镜像数据的数据头； 若能够成功读取镜像数据的数据头，则根据所述数据头中的数据格式类型字段，确定所述镜像数据的数据格式类型；若不能成功读取镜像数据的数据头，则测试按照RAW格式是否能够成功解析所述镜像数据，若能成功解析所述镜像数据，则确定所述镜像数据的数据格式类型为RAW格式。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求2所述的方法，其特征在于，所述确定所述虚拟机镜像数据的类型，包括：向弹性计算控制器发送携带有虚拟机标识或虚拟机镜像数据的存储位置的类型确认请求消息；接收弹性计算控制器返回的类型确认响应消息；从所述类型确认响应消息中提取携带的镜像数据的类型，所述镜像数据的类型是弹性计算控制器根据类型确认请求消息中的虚拟机标识，从虚拟机镜像文件创建时保存的虚拟机标识与镜像数据类型的对应关系中查找到的；或者是弹性计算控制器根据类型确认请求消息中的存储位置，从虚拟机镜像数据创建时保存的虚拟机镜像数据的存储位置与镜像数据类型的对应关系中查找到的。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求1至4任一所述的方法，其特征在于，所述更新所述虚拟磁盘中的注册表文件、以及更新所述虚拟磁盘中的文件结构后，还包括：取消挂载所述虚拟机的镜像数据。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.	一种应用软件包的创建方法，其特征在于，包括： 获取安装应用软件前后主机操作系统环境的差异；根据所述差异，确定注册表变更记录数据和文件变更记录数据； 生成包含所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中所述主机中增加或修改的文件的应用软件包。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求6所述的方法，其特征在于，所述获取安装应用软件前后主机操作系统环境的差异，包括：将应用软件提供商提供的所述应用软件安装包复制到主机操作系统环境中，所述安装包中包含可执行程序格式的安装程序；在运行所述安装程序前后，分别对所述主机操作系统环境建立快照； 通过对比运行安装程序前后所述主机操作系统环境的快照，获得安装所述应用软件前后所述主机操作系统环境的差异。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求6或7所述的方法，其特征在于，所述生成包含所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中所述主机中增加或修改的文件的应用软件包， 包括：将所述注册表变更记录数据和文件变更记录数据写入变更记录文件； 对所述变更记录文件，和安装程序过程中所述主机中增加或修改的文件进行打包处理，生成所述应用软件的应用软件包。</div>
    </div>
    </div> <div class="claim"> <div num="9" class="claim">
      <div class="claim-text">9.	一种应用软件的安装装置，其特征在于，包括：挂载模块，用于挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将所述镜像数据映射为本地文件系统中的一个虚拟磁盘；第一更新模块，用于根据所述应用软件的应用软件包所包含的注册表变更记录数据， 更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、 注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是根据安装所述应用软件前后主机操作系统环境的差异获得的；第二更新模块，用于根据所述文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件，更新所述虚拟磁盘中的文件结构，从而实现在所述虚拟机中安装所述应用软件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求9所述的装置，其特征在于，所述挂载模块包括： 确定单元，用于确定所述虚拟机的镜像数据的类型；挂载单元，用于根据确定单元确定出的镜像数据的类型，调用对应的挂载程序挂载所述虚拟机镜像数据的存储位置上的虚拟机镜像数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.如权利要求10所述的装置，其特征在于，所述确定单元包括：第一测试子单元，用于根据所述虚拟机镜像数据的存储位置，测试是否能够成功读取镜像数据的数据头；第一确定子单元，用于若第一测试子单元能够成功读取镜像数据的数据头，则根据所述数据头中的数据格式类型字段，确定所述镜像数据的数据格式类型；第二测试子单元，用于若第一测试子单元不能成功读取镜像数据的数据头，则测试按照RAW格式是否能够成功解析所述镜像数据；第二确定子单元，用于若第二测试子单元能成功解析所述镜像数据，则确定所述镜像数据的数据格式类型为RAW格式。</div>
    </div>
    </div> <div class="claim"> <div num="12" class="claim">
      <div class="claim-text">12.	&#8212;种应用软件包的创建装置，其特征在于，包括：获取单元，用于获取安装应用软件前后主机操作系统环境的差异； 确定单元，用于根据获取单元获得的所述差异，确定注册表变更记录数据和文件变更记录数据；创建单元，用于生成应用软件包，该应用软件包包含确定单元确定出的所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中所述主机中增加或修改的文件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求12所述的装置，其特征在于，所述创建单元包括： 写入子单元，用于将所述注册表变更记录数据和文件变更记录数据写入变更记录文件；生成子单元，用于对所述变更记录文件，和安装程序过程中增加或修改的文件进行打包处理，生成所述应用软件的应用软件包。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES46369056" lang="ZH" load-source="patent-office" class="description">
    <p>应用软件的安装方法和应用软件的安装装置</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及计算机及通信技术领域，尤其涉及一种应用软件的安装方法及一种应用软件的安装装置。</p>
    <p>背景技术</p>
    <p>[0002]	硬件虚拟化技术在一台物理主机上虚拟出一台或多台虚拟机，从而使得几个甚至几十个虚拟机可以共用一个物理主机的硬件资源。云计算是硬件虚拟化技术的一个重要应用场景。云计算是指一种信息技术基础设施的交付和使用模式，用户通过网络以按需、易扩展的方式来获得所需资源。云计算也被推广为服务的交付和使用模式，用户通过网络以按需、易扩展的方式来获得所需服务。云计算的核心思想，是将大量用网络连接的资源（这里的资源包括存储资源、计算资源、各种应用软件）统一管理和调度，构成一个资源池向用户按需提供服务。提供资源的网络被称为“云”。</p>
    <p>[0003]	在云计算场景下，在“云”根据用户的申请，分配一个虚拟机供用户使用的情况下， 如果用户想要在虚拟机中安装应用软件，则安装过程包括：</p>
    <p>[0004]	用户启动虚拟机，进入操作系统后，手动触发浏览器或客户端工具连接能够提供应用软件的资源服务器，请求下载应用软件；虚拟机在从资源服务器下载到应用软件后进行安装，或者；</p>
    <p>[0005]	用户启动虚拟机后，在虚拟机操作系统后台会自动运行资源更新客户端，该客户端会向资源服务器发送上线提示消息。接收到上线提示消息后，资源服务器会根据预先配置的推送策略，将应用软件推送到虚拟机上。</p>
    <p>[0006]	发明人在实现本发明过程中，发现现有技术至少存在以下问题：需要在虚拟机中预先安装浏览器或客户端工具，以获得需要安装的应用软件。并且，如何选择安全、适宜的应用软件的版本、及安装包，需要用户具备较高的信息技术知识和技能。因此现有技术存在着应用软件的安装过程操作复杂，实施难度大的问题。</p>
    <p>发明内容</p>
    <p>[0007]	本发明实施例提供一种应用软件的安装方法，用以解决现有应用软件的安装过程操作复杂，实施难度大的问题。</p>
    <p>[0008]	对应地，本发明实施例还提供了一种应用软件包的创建方法、一种应用软件的安装装置和一种应用软件包的创建装置。</p>
    <p>[0009]	本发明实施例提供的技术方案如下：</p>
    <p>[0010]	一种应用软件的安装方法，包括：</p>
    <p>[0011]	挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将所述镜像数据映射为本地文件系统中的一个虚拟磁盘；</p>
    <p>[0012]	根据所述应用软件的应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是根据安装所述应用软件前后主机操作系统环境的差异获得的；</p>
    <p>[0013]	根据所述文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件，更新所述虚拟磁盘中的文件结构，从而实现在所述虚拟机中安装所述应用软件。</p>
    <p>[0014]	一种应用软件包的创建方法，包括：</p>
    <p>[0015]	获取安装应用软件前后主机操作系统环境的差异；</p>
    <p>[0016]	根据所述差异，确定注册表变更记录数据和文件变更记录数据；</p>
    <p>[0017]	生成包含所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中所述主机中增加或修改的文件的应用软件包。</p>
    <p>[0018]	一种应用软件的安装装置，包括：</p>
    <p>[0019]	挂载模块，用于挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机， 将所述镜像数据映射为本地文件系统中的一个虚拟磁盘；</p>
    <p>[0020]	第一更新模块，用于根据所述应用软件的应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是根据安装所述应用软件前后主机操作系统环境的差异获得的；</p>
    <p>[0021]	第二更新模块，用于根据所述文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件，更新所述虚拟磁盘中的文件结构，从而实现在所述虚拟机中安装所述应用软件。</p>
    <p>[0022]	一种应用软件包的创建装置，包括：</p>
    <p>[0023]	获取单元，用于获取安装应用软件前后主机操作系统环境的差异；</p>
    <p>[0024]	确定单元，用于根据获取单元获得的所述差异，确定注册表变更记录数据和文件变更记录数据；</p>
    <p>[0025]	创建单元，用于生成应用软件包，该应用软件包包含确定单元确定出的所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中所述主机中增加或修改的文件。</p>
    <p>[0026]	本发明实施例先通过挂载待安装应用软件的虚拟机的镜像数据，将其映射为软件安装服务器文件系统中的一个虚拟磁盘；然后根据应用软件包的注册表变更记录数据，更新所述驱动器中的注册表文件；根据应用软件包中安装过程中增加或修改的文件、以及文件变更记录数据，更新所述虚拟磁盘中的文件结构，从而实现安装应用软件的目的。在安装应用软件的过程中，无需预先在虚拟机中安装浏览器或客户端工具，也无需虚拟机用户进行复杂的操作，对用户而言降低了软件安装难度。</p>
    <p>附图说明</p>
    <p>[0027]	为了更清楚地说明本发明实施例或现有技术中的技术方案，下面将对实施例或现有技术描述中所需要使用的附图作一简单地介绍，显而易见地，下面描述中的附图是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动的前提下，还可以根据这些附图获得其他的附图。</p>
    <p>[0028]	图1为本发明实施例的主要实现原理流程图；[0029]	图加为本发明实施例提供的应用软件包的创建过程的流程图；</p>
    <p>[0030]	图2b为本发明实施例提供的一种获取安装应用软件前后主机操作系统环境的差异的方式的流程图；</p>
    <p>[0031]	图2c为本发明实施例提供的生成应用软件包的流程图；</p>
    <p>[0032]	图2d为本发明实施例提供的应用软件包的示意图；</p>
    <p>[0033]	图3a为本发明实施例提供的软件安装系统的部署环境示意图；</p>
    <p>[0034]	图北为本发明实施例提供的镜像数据在存储区域网络（SAN，Storage Area Network)中存储的示意图；</p>
    <p>[0035]	图3c为本发明实施例提供的镜像数据在网络附属存储（NAS，Network Attached Storage)中存储的示意图；</p>
    <p>[0036]	图4为本发明实施例提供的一种应用软件安装方法的流程图；</p>
    <p>[0037]	图5为本发明实施例提供的另一种应用软件安装方法的流程图；</p>
    <p>[0038]	图6a为本发明实施例提供的另一种软件安装系统的部署环境示意图；</p>
    <p>[0039]	图6b为本发明实施例提供的另一种应用软件安装方法的流程图；</p>
    <p>[0040]	图7为本发明实施例提供的一种应用软件的安装装置的结构示意图；</p>
    <p>[0041]	图8为本发明实施例提供的挂载模块的结构示意图；</p>
    <p>[0042]	图9a为本发明实施例提供的第一种确定单元的结构示意图；</p>
    <p>[0043]	图9b为本发明实施例提供的第二种确定单元的结构示意图；</p>
    <p>[0044]	图10为本发明实施例提供的一种应用软件包的创建装置的结构示意图；</p>
    <p>[0045]	图11为本发明实施例提供的创建单元的结构示意图。</p>
    <p>具体实施方式</p>
    <p>[0046]	现有技术除了存在安装过程操作复杂，实施难度大的问题之外，由于各虚拟机中防火墙配置的差异，用户采用类似的安装过程可能出现在有的虚拟机中能够安装成功，而在其他虚拟机中安装失败的情况。</p>
    <p>[0047]	另外，如果出于安全、可靠性等方面的考虑，需要对一定范围内的大量虚拟机都安装应用软件时，采用现有的安装方法还存在着效率较低、不可控的缺陷。</p>
    <p>[0048]	下面结合各个附图对本发明实施例技术方案的主要实现原理、具体实施方式及其对应能够达到的有益效果进行详细的阐述。</p>
    <p>[0049]	如图1所示，本发明实施例的主要实现原理流程如下：</p>
    <p>[0050]	步骤10，挂载待安装应用软件的虚拟机的镜像数据，将所述镜像数据映射为本地文件系统中的一个虚拟磁盘。</p>
    <p>[0051]	其中，镜像数据是指虚拟机实例的静态存储形式，其中包含虚拟机操作系统文件和用户文件等。在云计算基础设施构架中，虚拟机的存储资源和运行资源可能分布在不同的物理实体中。当分配某个用户使用一个虚拟机时，用于启动虚拟机的物理主机通过加载该虚拟机的镜像数据，实现启动虚拟机的目的。</p>
    <p>[0052]	镜像数据载荷内容（包括虚拟机操作系统文件和用户文件等）的存储方式与个人计算机中数据的存储方式相同，即用于存储数据的物理磁盘扇区中的字段定义等相同。差别之处在于不同的虚拟机厂商在载荷内容的基础上进行了封装，增加了数据头，或者有的厂商还对镜像数据进行了压缩等处理。</p>
    <p>[0053]	挂载具体来说，在不同操作系统中，挂载操作结果的形式也会有所不同。在本实施例中，虚拟磁盘是指可被软件安装服务器的操作系统识别出的存储对象。在软件安装服务器为Windows系列操作系统的情况下，挂载完成后，镜像数据被映射为软件安装服务器文件系统中的一个驱动器；在软件安装服务器为Linux、UNIX系列操作系统的情况下，挂载完成后，镜像数据被映射为软件安装服务器文件系统中的一个块设备。无论是驱动器还是块设备，后续的操作原理基本类似。</p>
    <p>[0054]	步骤20，根据所述应用软件的应用软件包中的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件。</p>
    <p>[0055]	本领域技术人员可以理解，数据的组织方式千变万化，不可能将其进行一一列举。 可选地，本实施例给出了应用软件包所包含的注册表变更记录数据、文件变更记录数据、以及安装过程中增加或修改的文件，这三类数据的一种组织方式：</p>
    <p>[0056]	所述应用软件包中包括变更记录文件、以及安装过程中增加或修改的文件。</p>
    <p>[0057]	所述变更记录文件至少包含注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是预先在主机（例如，一台物理主机）中执行所述应用软件的安装程序，通过对比运行安装程序前后所述主机操作系统环境快照间的差异获得的。具体来说：所述注册表变更记录数据是通过对比执行软件安装程序前后快照中，注册表文件之间的差异获得的；所述注册表变更记录数据包括增加、删除或修改的键，增加、删除或修改的值。所述文件变更记录数据是通过对比运行软件安装程序前后快照中，文件结构之间的差异获得的，所述文件变更记录数据包括磁盘中增加、删除或修改文件的记录，或增加、删除或修改目录的记录。</p>
    <p>[0058]	步骤30，根据应用软件包中的文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件，更新所述虚拟磁盘中的文件结构。</p>
    <p>[0059]	在步骤10中，待安装应用软件的虚拟机的镜像数据可以是根据用户申请虚拟机时，输入的硬件配置参数和操作系统版本标识生成的，即该镜像数据是在创建虚拟机的过程中生成的，在这种情况下，应用软件包是根据申请虚拟机时，输入的预装软件标识从应用软件资源库中获取的；待安装应用软件的虚拟机的镜像数据也可以是虚拟机创建完成后， 接收到用户指定的待安装的软件标识后，获取虚拟机镜像数据的存储位置，并根据获取的存储地址获得的，在这种情况下，应用软件包是根据用户输入的预装软件标识，或者虚拟机管理系统指示的需要安装的软件标识，从应用软件资源库中查找到的。</p>
    <p>[0060]	需要说明的是，上述步骤20和步骤30并无执行顺序上的限制，当步骤20和步骤 30执行完成后，可以实现在所述虚拟机中安装所述应用软件的目的。</p>
    <p>[0061]	下面将依据本发明上述发明原理，详细介绍四个实施例来对本发明方法的主要实现原理进行详细的阐述和说明。</p>
    <p>[0062]	实施例一</p>
    <p>[0063]	附图加是本发明实施例提供的应用软件包的创建过程的流程图。</p>
    <p>[0064]	步骤200，应用软件包的创建装置获取安装应用软件前后主机操作系统环境的差</p>
    <p>巳</p>
    <p>[0065]	步骤210，应用软件包的创建装置根据所述差异，确定注册表变更记录数据和文件变更记录数据。</p>
    <p>[0066]	所述注册表变更记录数据中包含在安装所述应用软件后，主机注册表中增加、删除或修改的键，或者增加、删除或修改的值。当然注册表变更记录数据可以既包含注册表中增加、删除或修改的键，也包含增加、删除或修改的值。</p>
    <p>[0067]	所述文件变更记录数据中包含在安装所述应用软件后，磁盘中增加、删除或修改文件的记录，或增加、删除或修改目录的记录。</p>
    <p>[0068]	步骤220，应用软件包的创建装置生成包含所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中增加或修改的文件的应用软件包。</p>
    <p>[0069]	可选地，在上述步骤200中获取安装应用软件前后主机操作系统环境的差异的方式，包括但不限于以下三种：</p>
    <p>[0070]	方式一：参照附图2b ：</p>
    <p>[0071]	步骤201，应用软件包的创建装置将应用软件提供商提供的待安装应用软件的安装包复制到主机hostO的操作系统环境中。</p>
    <p>[0072]	可选地，为了便于在后续生成快照时减少不必要的垃圾信息，提高快照对比效率， 此时应用软件包的创建装置应根据注册表文件中的信息，选择一个具有“干净”的操作系统环境的主机作为用于创建应用软件包的专用主机，“干净”的操作系统环境是指安装有尽可能少的非必要应用软件的操作系统，例如未安装任何其他应用软件时的操作系统。</p>
    <p>[0073]	步骤202，应用软件包的创建装置对当前主机操作系统环境建立第一快照。所述主机操作系统环境包含注册表和磁盘。</p>
    <p>[0074]	其中，注册表（Registry)是操作系统中的一个重要数据库，用于存储系统和应用程序的配置信息。</p>
    <p>[0075]	对注册表建立快照是指通过枚举方式记录注册表中的所有键和值。对磁盘建立快照是指通过枚举方式记录磁盘上的文件结构信息，即所有目录和文件、以及目录和文件的存储路径、修改时间和大小等信息。</p>
    <p>[0076]	此时建立的第一快照反映了在安装所述应用软件之前，hostO注册表和磁盘的状</p>
    <p>态fe息。</p>
    <p>[0077]	步骤203，应用软件包的创建装置在所述主机hostO中安装所述应用软件。</p>
    <p>[0078]	例如，通常现有的应用软件包中都包含可执行文件格式的安装程序，如setup, exe，运行该安装程序即可实现实现安装应用软件的目的。</p>
    <p>[0079]	步骤204，应用软件包的创建装置对当前主机操作系统环境建立第二快照。</p>
    <p>[0080]	建立快照的方法参照步骤202中的介绍。此时建立的第二快照反映了在安装所述应用软件之后，hostO注册表和磁盘的状态信息。</p>
    <p>[0081]	步骤205，应用软件包的创建装置对比第一快照和第二快照，根据第一快照和第二快照的差异，确定安装应用软件前后主机操作系统环境的差异，并继而从中获得注册表变更记录数据和文件变更记录数据。可选地，为了加快对比的效率，可以预先指定磁盘中的对比范围，例如指定只对比预定磁盘扇区中、或者存储路径下的文件、目录的改变。</p>
    <p>[0082]	方式二 ：预先选择两个操作系统环境完全相同的主机，分别为hostl和host2。应用软件包的创建装置将待安装应用软件提供商提供的安装包复制到主机host2的操作系统环境中，并在host2中运行所述安装包中的安装程序；应用软件包的创建装置对比此时hostl和host2操作系统环境的差异，从而获得安装应用软件前后主机操作系统环境的差</p>
    <p>已</p>
    <p>[0083]	方式三：应用软件包的创建装置对应用软件提供商提供的安装包中的安装程序进行反向编译，从反向编译结果中获得对操作系统环境所做的操作符，例如修改注册表文件的操作符，以及在文件系统中增加或修改文件的操作符，从而推断安装应用软件前后主机操作系统环境预期应有的差异。</p>
    <p>[0084]	可选地，参照附图2c，上述步骤220生成应用软件包的过程包括：</p>
    <p>[0085]	步骤221，将所述注册表变更记录数据和文件变更记录数据写入变更记录文件；</p>
    <p>[0086]	可选地，可以使用描述语言，如可扩展标记语言（XML，Extensible Markup Language)，来描述注册表变更记录数据和文件变更记录数据，并将使用描述语言描述的注册表变更记录数据和文件变更记录数据写入变更记录文件。变更记录文件的格式不限，可以是文本格式文件。</p>
    <p>[0087]	步骤222，对所述变更记录文件，和安装程序过程中增加或修改的文件进行打包处理，生成所述应用软件的应用软件包。</p>
    <p>[0088]	附图2d为本发明实施例提供的应用软件包的示意图，其中变更记录文件中记录了在路径C ；/programe file/abc/下，增加一个名为fileA的文件，在注册表中增加一个值 keyl. valuel ；应用软件包中还包括增加的文件fileA。</p>
    <p>[0089]	可选地，通过打包程序，例如rar (Roshal ARchive)、zip，将变更记录文件和安装程序过程中增加或修改的文件进行打包封装，从而生成应用软件包。</p>
    <p>[0090]	需要说明的是：上述第一快照和第二快照并不是表示顺序关系，而是为了区别不同的快照，下文中提到的第一、第二等也是为了区别不同的信息、数据、请求、消息或单元模块等。</p>
    <p>[0091]	本发明实施例提供了一种应用软件包的创建方案，利用采用该创建方案创建的应用软件包，可用于对虚拟机的镜像数据进行修改，从而实现在虚拟机中安装应用软件的目的。</p>
    <p>[0092]	实施例二</p>
    <p>[0093]	附图3a为本发明实施例提供的软件安装系统的部署环境示意图，是一种较为典型的云计算基础实施构架。该系统中包含至少一个软件安装服务器，至少一个弹性计算控制器，至少一个物理主机、以及分布式存储设备。其中，弹性计算控制器是现有云计算基础设施构架中的一个核心组成部分，是管理存储资源、计算资源、以及其他资源的中枢。弹性计算控制器根据用户的申请为用户分配存储资源、计算资源，控制在分布式存储设备中创建虚拟机的镜像数据。在本实施例中，每个虚拟机的镜像数据存储于分布式存储设备中，其中分布式存储设备以SAN和NAS分别为例进行说明。软件安装服务器与应用软件资源库连接，应用软件资源库中存储有至少一个采用附图加所示方法创建的应用软件包。</p>
    <p>[0094]	需要说明的是：附图3a所示的只是一种云计算基础实施构架的示例，本发明实施例提供的软件安装方法也适用于其他构架场景。</p>
    <p>[0095]	本发明实施例提供了一种应用软件的安装方法，该安装方法是基于附图加所示方法创建的应用软件包，在附图3a所示的场景中进行的，用于实现在用户申请虚拟机的过程中安装软件，具体流程请参照附图4。[0096]	步骤410，弹性计算控制器接收用户申请虚拟机时输入的硬件配置参数、操作系统版本标识、和预装软件标识。</p>
    <p>[0097]	用户在申请虚拟机时，可以根据虚拟机申请页面中提供的虚拟机管理系统能够支持的若干配置选项中，选择出所申请的虚拟机应具备的硬件配置参数、操作系统版本标识、 和预装软件标识等；用户可以通过物理主机中的客户端工具发送虚拟机申请请求消息，该请求消息中携带选择出的硬件配置参数、操作系统版本标识、和预装软件标识。</p>
    <p>[0098]	当然，上述硬件配置参数、操作系统版本标识、和预装软件标识也可以是虚拟机管理系统提供的默认配置选项，例如，用户在选择典型安装时，根据默认的配置参数、操作系统版本标识、和预装软件标识生成镜像数据。</p>
    <p>[0099]	步骤420，弹性计算控制器根据用户申请虚拟机时，输入的硬件配置参数和操作系统版本标识，控制在分布式存储设备中创建虚拟机镜像数据。</p>
    <p>[0100]	具体地，根据硬件配置参数配置虚拟机硬件规格，根据操作系统版本标识从操作系统模板集合中选择对应的操作系统模板；然后根据虚拟机硬件规格和操作系统模板创建虚拟机镜像数据。本实施例中，根据用户申请创建虚拟机WMl的镜像数据WMdatal。</p>
    <p>[0101]	镜像数据在分布式存储设备中的存储方式与分布式存储设备的类型有关。例如对于SAN来说，虚拟机镜像数据为指定存储空间（即虚拟机镜像数据区）内的硬盘扇区数据。 其他设备，例如用于启动虚拟机的物理主机，可以用在访问请求中携带“IP地址+端口号” 的方式来访问SAN上的待启动虚拟机对应的虚拟机镜像数据区，“IP地址+端口号”对应着 SAN中的一块存储区。如附图北所示。</p>
    <p>[0102]	对于NAS来说，虚拟机镜像数据为指定存储路径下的镜像文件。其他设备，例如用于启动虚拟机的物理主机，可以通过网络文件系统（NFS，Network File Svstem)来访问NAS 上的待启动虚拟机对应的虚拟机镜像文件。如附图3c所示。</p>
    <p>[0103]	在表1中虚拟机VMl和丽2的镜像数据存储在NAS中，而虚拟机VM3的镜像数据存储在NAS中。</p>
    <p>[0104]	需要说明的是：附图3a所示的只是一种云计算基础实施构架的示例，本发明实施例提供的应用软件的安装方法也适用于其他构架场景，例如在其他构架场景中是由管理数据库来维护虚拟机标识和镜像数据地址的对应关系。</p>
    <p>[0105]	表 1</p>
    <p>[0106]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00111.png"> <img id="idf0001" file="CN102402446AD00111.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00111.png" class="patent-full-image" alt="Figure CN102402446AD00111"> </a> </div>
    <p>[0107][0108]	步骤430，软件安装服务器确定所述虚拟机镜像数据的类型。</p>
    <p>[0109]	可选地，确定镜像数据类型的方式包括但不限于：</p>
    <p>[0110]方式一：</p>
    <p>[0111]	软件安装服务器先测试是否能够从虚拟机镜像数据的存储位置，成功读取镜像数据的数据头，所述虚拟机镜像数据的存储位置可以是SAN或NAS通知软件安装服务器的。</p>
    <p>[0112]	若能够成功读取镜像数据的数据头，则根据所述数据头，确定所述镜像数据的类型。例如，根据镜像数据格式的定义，读取数据头中的文件类型字段，将读取的字段与各类型标识进行比较，若一致，则确定虚拟机镜像数据的类型为与读取的字段一致的类型标识对应的文件类型。镜像数据的类型包括QCOW(QEMU Copy-on-write)、VMDK(VMWare Virtual Machine Disk Format) &gt; VHD (Microsoft Virtual Hard Disk format) &gt; VDI (Sun xVM VirtualBox Virtual Disk Images)等等，一种虚拟机系统可以兼容多种镜像数据类型。</p>
    <p>[0113]	若不能成功读取镜像数据的数据头，则测试按照RAW格式是否能够成功解析所述镜像数据，若解析操作成功，则确定所述镜像数据的类型为RAW格式。RAW格式存储镜像数据的方式与个人计算机中存储数据的方式相同，即与物理磁盘数据是1 ： 1的对应关系，未在物理磁盘数据上进行封装，因此按照物理磁盘数据格式进行解析，物理磁盘数据格式的特征包括但不限于：第0扇区（首个512字节）是主引导记录（MBR，Main Boot Record)， 该扇区末尾存在签名字“55AA” ；以第0扇区初始位置为基准，偏移量为01BEH-01FDH的数据是磁盘分区表，其中包含描述各分区文件系统标识的字段，等等。</p>
    <p>[0114]方式二	：</p>
    <p>[0115]	当根据用户的虚拟机申请，创建虚拟机实例对应的镜像数据时，将每个虚拟机的镜像数据的类型标识记录在数据库中，在本实施例中，可以将类型标识记录在弹性计算控制器维护的管理列表中，如表2所示。当软件安装服务器需要获知某个虚拟机镜像数据的类型时，如需要获知虚拟机WMl的镜像数据类型时，通过与弹性计算控制器进行消息交互， 来获得弹性计算控制器管理列表中存储的镜像数据的类型。例如软件安装服务器向弹性计算控制器发送携带有虚拟机标识“WM1”或虚拟机镜像数据的存储位置“192. 168. 0.1:/ vmimages/vml. QC0W”的类型确认请求消息，弹性计算控制器根据携带的虚拟机标识或虚拟机镜像数据的存储位置，查询管理列表，并将查找到的镜像数据的类型“raw”携带在类型确认响应消息中返回给软件安装服务器。软件安装服务器从类型确认响应消息中提取携带的镜像数据的类型即可。</p>
    <p>[0116]表	2</p>
    <p>[0117]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00131.png"> <img id="idf0002" file="CN102402446AD00131.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00131.png" class="patent-full-image" alt="Figure CN102402446AD00131"> </a> </div>
    <p>[0118]	在本实施例中，为用户创建的虚拟机镜像数据WMdatal的类型为QC0W。</p>
    <p>[0119]	步骤440，软件安装服务器根据所述镜像数据类型，调用对应的挂载程序挂载虚拟机镜像数据。</p>
    <p>[0120]	在本实施例中，软件安装服务器根据镜像数据WMdatal的类型QC0W，调用文件类型QCOW对应的挂载程序挂载镜像数据WMdatal。</p>
    <p>[0121]	现有操作系统大多都提供能够实现挂载功能的命令或命令集合，如Iinux系统中的 mount、kpartx 等命令。</p>
    <p>[0122]	挂载过程中，根据镜像数据类型与文件系统类型的对应关系，确定虚拟机镜像数据内部的文件系统类型（即虚拟机的文件系统类型）。镜像数据内部的文件系统类型可以为16位文件分配表（FAT16，File Allocation Table)、FAT32、第二扩展文件系统 (EXT2, Second extended file system)、第三扩展文件系统(EXT3, Third extended file system)、网络文件系统（NTFS，Network File System)等，在挂载过程中需要使用文件系统类型对应的驱动程序来实现对文件系统的支持。</p>
    <p>[0123]	对于SAN来说，指定存储空间内的硬盘扇区数据经驱动程序的处理被映射为驱动器，驱动器中包含若干文件。</p>
    <p>[0124]	对于NAS来说，指定存储路径下的镜像文件经驱动程序的处理被映射为驱动器， 驱动器中包含若干文件。</p>
    <p>[0125]	挂载完成后，镜像数据被映射为软件安装服务器文件系统中的一个驱动器，后续对该驱动器中文件的操作等价于对虚拟机内文件的操作。</p>
    <p>[0126]	软件安装服务器挂载镜像数据WMdatal后，将镜像数据映射为驱动器DriverWl。</p>
    <p>[0127]	步骤450，软件安装服务器根据所述预装软件标识，从应用软件资源库中获取对应的应用软件包。</p>
    <p>[0128]	在本实施例中，以安装定时器软件对应的应用软件包clock-Package为例进行说明。应用软件包中包括变更记录文件，以及安装过程中修改或增加的文件。变更记录文件中包括注册表变更记录数据和文件变更记录数据。</p>
    <p>[0129]	步骤460，软件安装服务器根据应用软件包所包含的变更记录文件中的注册表变更记录数据，更新所述驱动器中的注册表文件。</p>
    <p>[0130]	在本实施例中，以用户申请虚拟机时输入的操作系统版本标识为WindowsXP为例，挂载镜像文件后驱动器DriverWl中包含的注册表文件包括：</p>
    <p>[0131]	Driverffl：\WIND0WS\system32\config\SAM</p>
    <p>[0132]	Driverffl：\WIND0WS\system32\config\SECURITY[0133]	Driverffl：\WIND0WS\system32\config\software</p>
    <p>[0134]	Driverffl：\WIND0WS\system32\config\system</p>
    <p>[0135]	Driverffl：\WIND0WS\system32\config\default</p>
    <p>[0136]	Driverffl：\Documents and Settings\LocalService\NTUSER. DAT</p>
    <p>[0137]	Driverffl：\Documents and Settings\LocalService\Local Sett ings\ Application Data\Microsoft\ffindows\UsrClass. dat</p>
    <p>[0138]	Driverffl:\Documents and Settings\NetworkService\NTUSER. DAT</p>
    <p>[0139]	Driverffl:\Documents and Settings\NetworkService\Local Settings\ Application Data\Microsoft\ffindows\UsrClass. dat</p>
    <p>[0140]	Driverffl:\Documents and Settings\Administrator\NTUSER. DAT</p>
    <p>[0141]	Driverffl:\Documents and Settings\Administrator\Local Settings\ Application Data\Microsoft\ffindows\UsrClass. dat</p>
    <p>[0142]	注册表文件的格式为HIVE格式，一个HIVE文件由多个巢箱（BIN)组成。HIVE文件的首部有一个文件头（基本块），用于描述这个HIVE文件的一些全局信息。一个BIN由多个巢室（CELL)组成，CELL可以分为具体的5种（键巢室、值巢室、子键列表巢室、值列表巢室、安全描述符巢室），用于存储不同的注册表数据，上述注册表文件中的内容从逻辑上可以被映射成注册表树。具体说明可以参考相关文档，在这里不再详述。</p>
    <p>[0143]	变更记录文件中的注册表变更记录数据包含上述至少一个注册表文件中一个 CELL的内容（即至少一个键或值），以及对该CELL所需执行的操作类型，如增加、删除或修</p>
    <p>以寸寸。</p>
    <p>[0144]	根据注册表变更记录数据中包含的CELL的内容、及对该CELL所需执行的操作类型，以及CELL对应的键或值的位置，对驱动器DriverWl中注册表文件进行更新。</p>
    <p>[0145]	步骤470，软件安装服务器根据应用软件包中包含的安装过程中增加或修改的文件、以及变更记录文件中的文件变更记录数据，更新所述驱动器中的文件结构。</p>
    <p>[0146]	软件安装服务器根据变更记录文件中的文件变更记录数据，在所述驱动器中增加、删除或修改文件，或增加、删除或修改目录，从而更新所述驱动器中的文件结构。具体地，根据文件变更记录数据中删除文件的记录，在磁盘中删除对应路径下的文件；或者根据文件变更记录数据中增加、或修改文件的记录，以及应用软件包中安装过程中增加或修改的文件，在磁盘中修改已有文件或增加文件。其中，增加、删除或修改的文件都有对应的路径信息，文件操作可以使用脚本程序来实现文件操作。</p>
    <p>[0147]	步骤480，软件安装服务器取消挂载虚拟机的镜像数据。</p>
    <p>[0148]	后续需要启动虚拟机时，用于启动该虚拟机的物理主机，从该虚拟机镜像数据的存储地址中读取经过步骤430&#12316;步骤480处理的镜像数据进行加载后，所启动的虚拟机上已安装有应用软件。</p>
    <p>[0149]	本发明实施例提供了另一种应用软件的安装方法，该安装方法是基于附图加所示方法创建的应用软件包，在附图3a所示的场景中进行的，用于实现在已为用户分配虚拟机后，安装软件，具体流程请参照附图5。</p>
    <p>[0150]	在本实施例中，弹性计算控制器存储的管理列表中存储有用于启动每个虚拟机的物理主机的标识、每个虚拟机的镜像数据的存储地址等信息，如表1所示，表1描述了镜像数据存储于SAN中的情况。当分配某个用户使用一个虚拟机时，通过读取该管理列表，指示用于启动该虚拟机的物理主机，从该虚拟机镜像数据的存储地址中读取镜像数据进行加载，从而启动虚拟机。</p>
    <p>[0151]	步骤510，弹性计算控制器接收软件安装请求消息，该软件安装请求消息可以是用户发送的，也可以是虚拟机管理系统发送的，如需要对指定范围内的每个虚拟机安装一个杀毒软件等等。软件安装请求消息中携带虚拟机标识和待安装应用软件标识。</p>
    <p>[0152]	步骤520，软件安装服务器获得所述虚拟机标识对应的虚拟机镜像数据的存储位置。</p>
    <p>[0153]	可选地，在本实施例中，软件安装服务器与弹性计算控制器进行消息交互，来获得弹性计算控制器管理列表中虚拟机WMl对应的镜像数据的存储位置。</p>
    <p>[0154]	步骤530，软件安装服务器确定所述虚拟机镜像数据的类型。</p>
    <p>[0155]	具体确定镜像数据类型的方法可参照步骤430中的介绍，在这里不再重复。</p>
    <p>[0156]	步骤M0，软件安装服务器根据所述镜像数据类型，调用对应的挂载程序挂载虚拟机镜像数据，将所述镜像数据映射为软件安装服务器文件系统中的一个虚拟磁盘。</p>
    <p>[0157]	步骤550，软件安装服务器根据所述待安装应用软件标识，从应用软件资源库中获取对应的应用软件包。</p>
    <p>[0158]	步骤560，软件安装服务器根据应用软件包所包含的变更记录文件中的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件。</p>
    <p>[0159]	步骤570，软件安装服务器根据应用软件包中安装过程中增加或修改的文件、以及变更记录文件中的文件变更记录数据，更新所述虚拟磁盘中的文件结构。</p>
    <p>[0160]	步骤580，软件安装服务器取消挂载虚拟机的镜像数据。</p>
    <p>[0161]	步骤540&#12316;步骤580的具体处理方式与附图4中的步骤440&#12316;步骤480相类似， 在这里不再重复。</p>
    <p>[0162]	本发明实施例提供的应用软件的安装方法，先挂载待安装应用软件的虚拟机的镜像数据，挂载完成之后，该虚拟机的镜像数据被映射为软件安装服务器文件系统中的一个虚拟磁盘。根据应用软件包的注册表变更记录数据，更新所述驱动器中的注册表文件；根据应用软件包中安装过程中增加或修改的文件、以及文件变更记录数据，更新所述虚拟磁盘中的文件结构，从而实现安装应用软件的目的。在安装应用软件的过程中，无需预先在虚拟机中安装浏览器或客户端工具，从而节约了存储资源，同时也无需虚拟机用户进行复杂的操作，对用户而言降低了软件安装难度。</p>
    <p>[0163]	在需要对大范围内数目较多的虚拟机同步安装应用软件时，本发明实施例提供的软件安装方案能够从软件安装服务器的角度，控制每个虚拟机安装应用软件的进程，从而确保软件安装范围的可控性。</p>
    <p>[0164]	实施例三</p>
    <p>[0165]	本发明实施例提供的应用软件的安装方法除了可应用于附图3a所示的云计算基础实施构架中之外，还适用于其他较为简单的虚拟机应用场景。在这种情况下附图4所示的各步骤可以由同一个实体设备来实现，但基本原理与附图4相类似。</p>
    <p>[0166]	附图6a为本发明实施例提供的应用场景的示意图，需要在物理主机host上创建 3个虚拟机VM1、VM2、VM3以实现并行计算或软件测试。物理主机的安装管理模块根据用户输入的虚拟机创建需求创建虚拟机。</p>
    <p>[0167]	附图6b为本发明实施例提供的应用软件安装方法的流程图。</p>
    <p>[0168]	步骤610，物理主机的安装管理模块接收用户输入的硬件配置参数、操作系统版本标识、和预装软件标识。</p>
    <p>[0169]	可选地，用户可以通过安装管理模块的用户界面来输入创建需求。</p>
    <p>[0170]	步骤620，物理主机的安装管理模块根据硬件配置参数和操作系统版本标识，在该物理主机中创建虚拟机镜像数据。</p>
    <p>[0171]	在创建虚拟机镜像数据的过程中，可以维护一个存储有虚拟机标识和虚拟机镜像数据存储位置的对应关系表，如表3所示。</p>
    <p>[0172]表	3</p>
    <p>[0173]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00161.png"> <img id="idf0003" file="CN102402446AD00161.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102402446A/CN102402446AD00161.png" class="patent-full-image" alt="Figure CN102402446AD00161"> </a> </div>
    <p>[0174]	步骤630，安装管理模块确定所述虚拟机镜像数据的类型。</p>
    <p>[0175]	具体确定镜像数据类型的方法可参照步骤430中的介绍，在这里不再重复。</p>
    <p>[0176]	可选地，安装管理模块在步骤620中创建指定格式的虚拟机镜像数据，如QC0W，则在本步骤中可以确定虚拟机镜像数据的类型为所述指定格式。</p>
    <p>[0177]	步骤640，安装管理模块根据所述镜像数据类型，调用对应的挂载程序挂载虚拟机镜像数据，将所述镜像数据映射为物理主机文件系统中的一个虚拟磁盘。</p>
    <p>[0178]	步骤650，安装管理模块根据所述待安装应用软件标识，从存储的至少一个应用软件包中查找到该待安装应用软件标识对应的应用软件包。</p>
    <p>[0179]	应用软件包中包括变更记录文件，以及安装过程中修改或增加的文件。变更记录文件中包括注册表变更记录数据和文件变更记录数据。</p>
    <p>[0180]	步骤660，安装管理模块根据应用软件包所包含的变更记录文件中的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件。</p>
    <p>[0181]	步骤670，安装管理模块根据应用软件包中包含的安装过程中增加或修改的文件、 以及变更记录文件中的文件变更记录数据，更新所述虚拟磁盘中的文件结构。</p>
    <p>[0182]	步骤680，安装管理模块取消挂载虚拟机的镜像数据。</p>
    <p>[0183]	步骤640&#12316;步骤680的具体处理方式与附图4中的步骤440&#12316;步骤480相类似， 在这里不再重复。</p>
    <p>[0184]	本发明实施例提供了一种附图1所示的应用软件的安装方法，在同一实体设备上的应用实例。该方案能够简化用户在虚拟机中安装应用软件时的操作步骤。</p>
    <p>[0185]	实施例四[0186]	相应地，本发明实施例还提供了一种应用软件的安装装置，如图7所示，该装置包括挂载模块701、第一更新模块702和第二更新模块703，具体如下：</p>
    <p>[0187]	挂载模块701，用于挂载虚拟机的镜像数据，所述虚拟机为待安装应用软件的虚拟机，将所述镜像数据映射为本地文件系统中的一个虚拟磁盘；</p>
    <p>[0188]	第一更新模块702，用于根据所述应用软件的应用软件包所包含的注册表变更记录数据，更新所述虚拟磁盘中的注册表文件，所述应用软件包包含安装过程中增加或修改的文件、注册表变更记录数据和文件变更记录数据，所述注册表变更记录数据和文件变更记录数据是根据安装所述应用软件前后主机操作系统环境的差异获得的；</p>
    <p>[0189]	第二更新模块703，用于根据所述文件变更记录数据、以及应用软件包包含的安装过程中增加或修改的文件，更新所述虚拟磁盘中的文件结构，从而实现在所述虚拟机中安装所述应用软件。</p>
    <p>[0190]	可选地，附图7所示的装置还包括：</p>
    <p>[0191]	取消挂载单元704，用于在第一更新模块702更新所述虚拟磁盘中的注册表文件和第二更新模块703更新所述虚拟磁盘中的文件结构后，取消挂载所述虚拟机的镜像数据。</p>
    <p>[0192]	可选地，如附图8所示，所述挂载模块701包括：</p>
    <p>[0193]	确定单元801，用于确定所述虚拟机的镜像数据的类型；</p>
    <p>[0194]	挂载单元802，用于根据确定单元801确定出的镜像数据的类型，调用对应的挂载程序挂载所述虚拟机镜像数据的存储位置上的虚拟机镜像数据。</p>
    <p>[0195]	可选地，如附图9a所示，所述确定单元801包括：</p>
    <p>[0196]	第一测试子单元901，用于根据所述虚拟机镜像数据的存储位置，测试是否能够成功读取镜像数据的数据头；</p>
    <p>[0197]	第一确定子单元902，用于若第一测试子单元901能够成功读取镜像数据的数据头，则根据所述数据头中的数据格式类型字段，确定所述镜像数据的数据格式类型；</p>
    <p>[0198]	第二测试子单元903，用于若第一测试子单元901不能成功读取镜像数据的数据头，则测试按照RAW格式是否能够成功解析所述镜像数据；</p>
    <p>[0199]	第二确定子单元904，用于若第二测试子单元903能成功解析所述镜像数据，则确定所述镜像数据的数据格式类型为RAW格式。</p>
    <p>[0200]	可选地，如附图9b所示，所述确定模块801包括：</p>
    <p>[0201]	发送子单元905，用于向弹性计算控制器发送携带有虚拟机标识或虚拟机镜像数据的存储位置的类型确认请求消息；</p>
    <p>[0202]	接收子单元906，用于接收弹性计算控制器返回的类型确认响应消息；</p>
    <p>[0203]	第三确定子单元907，用于从接收子单元906接收到的所述类型确认响应消息中提取携带的镜像数据的类型，所述镜像数据的类型是弹性计算控制器根据类型确认请求消息中的虚拟机标识，从虚拟机镜像文件创建时保存的虚拟机标识与镜像数据类型的对应关系中查找到的；或者是弹性计算控制器根据类型确认请求消息中的存储位置，从虚拟机镜像数据创建时保存的虚拟机镜像数据的存储位置与镜像数据类型的对应关系中查找到的。</p>
    <p>[0204]	请参照附图10，本发明实施例还提供了一种应用软件包的创建装置，该装置包括获取单元110、确定单元120和创建单元140，其中：[0205]	获取单元110，用于获取安装应用软件前后主机操作系统环境的差异；</p>
    <p>[0206]	确定单元120，用于根据获取单元110获得的所述差异，确定注册表变更记录数据和文件变更记录数据；</p>
    <p>[0207]	创建单元140，用于生成应用软件包，该应用软件包包含确定单元120确定出的所述注册表变更记录数据和文件变更记录数据、以及安装程序过程中增加或修改的文件。</p>
    <p>[0208]	可选地，请参照附图11，创建单元140包括：</p>
    <p>[0209]	写入子单元111，用于将所述注册表变更记录数据和文件变更记录数据写入变更记录文件；例如，可以采用XML，将所述注册表变更记录数据和文件变更记录数据写入文本格式的写入变更记录文件；</p>
    <p>[0210]	生成子单元112，用于对所述变更记录文件，和安装程序过程中增加或修改的文件进行打包处理，生成所述应用软件的应用软件包。</p>
    <p>[0211]	本领域普通技术人员可以理解实现上述实施例方法中的全部或部分步骤是可以通过程序来指令相关的硬件来完成，该程序可以存储于一计算机可读取存储介质中，如： ROM/RAM、磁碟、光盘等。</p>
    <p>[0212]	显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101425016A?cl=zh">CN101425016A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年11月1日</td><td class="patent-data-table-td patent-date-value">2009年5月6日</td><td class="patent-data-table-td ">珠海金山软件股份有限公司</td><td class="patent-data-table-td ">运行安装软件的方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101454765A?cl=zh">CN101454765A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年3月15日</td><td class="patent-data-table-td patent-date-value">2009年6月10日</td><td class="patent-data-table-td ">微软公司</td><td class="patent-data-table-td ">用补丁等来更新虚拟机</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102214118A?cl=zh">CN102214118A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年4月8日</td><td class="patent-data-table-td patent-date-value">2011年10月12日</td><td class="patent-data-table-td ">中国移动通信集团公司</td><td class="patent-data-table-td ">一种虚拟机控制方法、系统及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20050235281">US20050235281</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年4月19日</td><td class="patent-data-table-td patent-date-value">2005年10月20日</td><td class="patent-data-table-td ">Telefonaktiebolaget L M Ericsson (Publ)</td><td class="patent-data-table-td ">Combined software installation package</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102662727A?cl=zh">CN102662727A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月5日</td><td class="patent-data-table-td patent-date-value">2012年9月12日</td><td class="patent-data-table-td ">北京天地云箱科技有限公司</td><td class="patent-data-table-td ">虚拟机的创建方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102662727B?cl=zh">CN102662727B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月5日</td><td class="patent-data-table-td patent-date-value">2015年10月14日</td><td class="patent-data-table-td ">北京天地云箱科技有限公司</td><td class="patent-data-table-td ">虚拟机的创建方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102707971A?cl=zh">CN102707971A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月26日</td><td class="patent-data-table-td patent-date-value">2012年10月3日</td><td class="patent-data-table-td ">广东电子工业研究院有限公司</td><td class="patent-data-table-td ">一种在虚拟机中自动获取和安装软件的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102819470A?cl=zh">CN102819470A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年8月13日</td><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">广州杰赛科技股份有限公司</td><td class="patent-data-table-td ">基于私有云计算平台的虚拟机修复方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102981868A?cl=zh">CN102981868A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月5日</td><td class="patent-data-table-td patent-date-value">2013年3月20日</td><td class="patent-data-table-td ">广州杰赛科技股份有限公司</td><td class="patent-data-table-td ">一种云计算在实现虚拟机批量部署的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102999369A?cl=zh">CN102999369A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月25日</td><td class="patent-data-table-td patent-date-value">2013年3月27日</td><td class="patent-data-table-td ">杭州华三通信技术有限公司</td><td class="patent-data-table-td ">虚拟机升级的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103455365A?cl=zh">CN103455365A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年5月28日</td><td class="patent-data-table-td patent-date-value">2013年12月18日</td><td class="patent-data-table-td ">联想(北京)有限公司</td><td class="patent-data-table-td ">一种获得软件资源的方法及电子设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103514023A?cl=zh">CN103514023A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年10月22日</td><td class="patent-data-table-td patent-date-value">2014年1月15日</td><td class="patent-data-table-td ">中国科学院信息工程研究所</td><td class="patent-data-table-td ">一种虚拟机离线自动软件安装的方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8924954">US8924954</a></td><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td patent-date-value">2014年12月30日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">Application software installation method and application software installation apparatus</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013075514A1?cl=zh">WO2013075514A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年7月30日</td><td class="patent-data-table-td patent-date-value">2013年5月30日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">应用软件的安装方法和应用软件的安装装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015062217A1?cl=zh">WO2015062217A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年4月17日</td><td class="patent-data-table-td patent-date-value">2015年5月7日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">虚拟桌面系统中外设的接入处理方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015078333A1?cl=zh">WO2015078333A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年11月21日</td><td class="patent-data-table-td patent-date-value">2015年6月4日</td><td class="patent-data-table-td ">中国银联股份有限公司</td><td class="patent-data-table-td ">虚拟机镜像离线升级方法</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009445000">G06F9/445</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F8/61">G06F8/61</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=Q7eKBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F9/45558">G06F9/45558</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年4月4日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年6月13日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">C53</td><td class="patent-data-table-td ">Correction of patent for invention or patent application</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年12月12日</td><td class="patent-data-table-td ">COR</td><td class="patent-data-table-td ">Change of bibliographic data</td><td class="patent-data-table-td "><div class="nested-key-value"><span class="nested-key">Free format text: </span><span class="nested-value">CORRECT: APPLICANT; FROM: CHENGDU HUAWEI SYMANTEC TECHNOLOGIES CO., LTD. TO: HUAWEI DIGITAL TECHNOLOGY (CHENGDU) CO., LTD.</span></div></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年12月17日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/2910d0c48cd8df348cd7/CN102402446A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%BA%94%E7%94%A8%E8%BD%AF%E4%BB%B6%E7%9A%84%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95%E5%92%8C%E5%BA%94%E7%94%A8%E8%BD%AF.pdf?id=Q7eKBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U1kH40ErBrmnWsfOlNA8iMpUwU85A"},"sample_url":"https://www.google.com/patents/reader?id=Q7eKBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>