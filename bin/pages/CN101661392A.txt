<!DOCTYPE html><html><head><title>专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="在移动终端上运行专用界面工具的方法、装置及设备"><meta name="DC.contributor" content="侯清富" scheme="inventor"><meta name="DC.contributor" content="鑫 张" scheme="inventor"><meta name="DC.contributor" content="张庆伟" scheme="inventor"><meta name="DC.contributor" content="彭青立" scheme="inventor"><meta name="DC.contributor" content="朱春梅" scheme="inventor"><meta name="DC.contributor" content="程宝平" scheme="inventor"><meta name="DC.contributor" content="中国移动通信集团公司" scheme="assignee"><meta name="DC.date" content="2008-8-29" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种在移动终端上运行专用界面工具Widget的方法、装置及移动终端设备，提高了在移动终端上运行Widget时的系统响应速度，降低了CPU和内存占用率。所述方法包括：加载Widget的进程根据接收到的携带文件路径的Widget加载请求，向本进程创建的运行Widget的线程发送加载Widget的通知以及所述文件路径；所述运行Widget的线程根据接收到的通知为需要加载的Widget创建对象，在Widget的对象中加载所述文件路径指向的Widget文件并启动所述Widget的对象运行，在移动终端上展现所述Widget的用户界面。"><meta name="DC.date" content="2010-3-3"><meta name="citation_patent_publication_number" content="CN:101661392:A"><meta name="citation_patent_application_number" content="CN:200810119227"><link rel="canonical" href="https://www.google.com/patents/CN101661392A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101661392A?cl=zh"/><meta name="title" content="专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备"/><meta name="description" content="本发明公开了一种在移动终端上运行专用界面工具Widget的方法、装置及移动终端设备，提高了在移动终端上运行Widget时的系统响应速度，降低了CPU和内存占用率。所述方法包括：加载Widget的进程根据接收到的携带文件路径的Widget加载请求，向本进程创建的运行Widget的线程发送加载Widget的通知以及所述文件路径；所述运行Widget的线程根据接收到的通知为需要加载的Widget创建对象，在Widget的对象中加载所述文件路径指向的Widget文件并启动所述Widget的对象运行，在移动终端上展现所述Widget的用户界面。"/><meta property="og:title" content="专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101661392A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101661392A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=Sq13BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101661392A&amp;usg=AFQjCNG4CvFIFrctO8ZstoKzh5Z1NcPlBw" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/44d663fec21ef05d5f26/CN101661392A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/44d663fec21ef05d5f26/CN101661392A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101661392A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101661392A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101661392A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101661392B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101661392A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种在移动终端上运行专用界面工具Widget的方法、装置及移动终端设备，提高了在移动终端上运行Widget时的系统响应速度，降低了CPU和内存占用率。所述方法包括：加载Widget的进程根据接收到的携带文件路径的Widget...</span><span itemprop="url">https://www.google.com/patents/CN101661392A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备" title="专利 CN101661392A - 在移动终端上运行专用界面工具的方法、装置及设备"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101661392 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810119227</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2010年3月3日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年8月29日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年8月29日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101661392B?hl=zh-CN&amp;cl=zh">CN101661392B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810119227.2, </span><span class="patent-bibdata-value">CN 101661392 A, </span><span class="patent-bibdata-value">CN 101661392A, </span><span class="patent-bibdata-value">CN 200810119227, </span><span class="patent-bibdata-value">CN-A-101661392, </span><span class="patent-bibdata-value">CN101661392 A, </span><span class="patent-bibdata-value">CN101661392A, </span><span class="patent-bibdata-value">CN200810119227, </span><span class="patent-bibdata-value">CN200810119227.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BE%AF%E6%B8%85%E5%AF%8C%22">侯清富</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%91%AB+%E5%BC%A0%22">鑫 张</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BC%A0%E5%BA%86%E4%BC%9F%22">张庆伟</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%BD%AD%E9%9D%92%E7%AB%8B%22">彭青立</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9C%B1%E6%98%A5%E6%A2%85%22">朱春梅</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%A8%8B%E5%AE%9D%E5%B9%B3%22">程宝平</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E9%9B%86%E5%9B%A2%E5%85%AC%E5%8F%B8%22">中国移动通信集团公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101661392A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101661392A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101661392A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (6),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Sq13BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810119227&amp;usg=AFQjCNG1_XFUJsCk8DfItvoLe79ARmWcKQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=Sq13BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101661392A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNG38APl2bJ3iGdOVhaiEEYJ7XA8nQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT92754363" lang="ZH" load-source="patent-office">在移动终端上运行专用界面工具的方法、装置及设备</invention-title>
      </span><br><span class="patent-number">CN 101661392 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA73877802" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种在移动终端上运行专用界面工具Widget的方法、装置及移动终端设备，提高了在移动终端上运行Widget时的系统响应速度，降低了CPU和内存占用率。所述方法包括：加载Widget的进程根据接收到的携带文件路径的Widget加载请求，向本进程创建的运行Widget的线程发送加载Widget的通知以及所述文件路径；所述运行Widget的线程根据接收到的通知为需要加载的Widget创建对象，在Widget的对象中加载所述文件路径指向的Widget文件并启动所述Widget的对象运行，在移动终端上展现所述Widget的用户界面。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(12)</span></span></div><div class="patent-text"><div mxw-id="PCLM29293733" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1、一种在移动终端上运行专用界面工具的方法，其特征在于，包括：    加载专用界面工具的进程根据接收到的携带文件路径的专用界面工具加载请求，向本进程创建的运行专用界面工具的线程发送加载专用界面工具的通知以及所述文件路径；    所述运行专用界面工具的线程根据接收到的通知为需要加载的专用界面工具创建对象，在专用界面工具的对象中加载所述文件路径指向的专用界面工具文件并启动所述专用界面工具的对象运行，在移动终端上展现所述专用界面工具的用户界面。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2、 如权利要求1所述的方法，其特征在于，还包括专用界面工具加载请 求的生成方法，具体包括步骤：界面工具文件目录中每一个专用界面工具文件对应一个已下载的专用界面工 具；专用界面工具文件所存储的文件路径，生成携带所述文件路径的专用界面工具 加载请求。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3、 如权利要求l所述的方法，其特征在于，还包括： 如果在移动终端上展现所述专用界面工具的用户界面时，所述移动终端上正在展现其它专用界面工具的用户界面，则隐藏该其它专用界面工具的用户界 面。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4、 如权利要求3所述的方法，其特征在于，如果用户选择将当前在移动 终端上展现的第一专用界面工具的用户界面切换为已隐藏的第二专用界面工 具的用户界面，所述方法还包括：加载专用界面工具的进程根据接收到的第一专用界面工具与第二专用界 面工具之间的切换请求，向所述运行专用界面工具的线程发送切换第二专用界面工具到前台的通知；运行专用界面工具的线程根据接收到的通知将所述第一专用界面工具的 对象切换到后台，所述第二专用界面工具的对象切换到前台。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5、 如权利要求3或4所述的方法，其特征在于，还包括： 管理专用界面工具的线程接收第一专用界面工具的对象发送的第二专用界面工具的事件的订阅请求以及传递的回调函数的指针，并将所述订阅请求发 送给处理专用界面工具通信的对象，所述管理专用界面工具的线程和处理专用 界面工具通信的对象由所述加载专用界面工具的进程创建；所述处理专用界面工具通信的对象接收第二专用界面工具的对象在所述 第二专用界面工具的事件发生时发送的通知，并根据接收到的订阅请求将第二 专用界面工具的事件发生的通知回传给所述管理专用界面工具的线程；所述管理专用界面工具的线程根据所述回调函数的指针，向第一专用界面 工具的对象返回所述回调函数，通知所述第二专用界面工具的事件发生。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6、 如权利要求l、 2或3所述的方法，其特征在于，还包括： 调度专用界面工具系统功能的线程接收专用界面工具的对象发送的系统功能申请以及传递的回调函数的指针，所述调度专用界面工具系统功能的线程 由所述运行专用界面工具的线程创建；所述调度专用界面工具系统功能的线程向操作系统传入所申请系统功能 的调用参数，并等待接收操作系统根据所述调用参数执行所申请系统功能之后 返回的调用结果；以及根据回调函数的指针，向所述专用界面工具的对象返回携带调用结果的回 调函数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7、 如权利要求l、 2或3所述的方法，其特征在于，还包括：调度专用界面工具系统功能的线程接收专用界面工具的对象发送的系统 功能申请以及传递的回调函数的指针，所述调度专用界面工具系统功能的线程 由所述运行专用界面工具的线程创建；所述调度专用界面工具系统功能的线程向操作系统传入所申请系统功能的调用参数并立即返回；以及接收操作系统根据所述调用参数执行所申请系统功能之后返回的携带调 用结果的通知，并根据回调函数的指针，向所述专用界面工具的对象返回携带 调用结果的回调函数。</div>
    </div>
    </div> <div class="claim"> <div num="8" class="claim">
      <div class="claim-text">8、 一种在移动终端上运行专用界面工具的装置，其特征在于，包括： 加载专用界面工具的进程模块，用于根据接收到的携带文件路径的专用界面工具加载请求，向本进程模块创建的运行专用界面工具的线程模块发送加载 专用界面工具的通知以及所述文件路径；所述运行专用界面工具的线程模块，用于根据接收到的通知为需要加载的 专用界面工具创建对象，在专用界面工具的对象中加载所述文件路径指向的专 用界面工具文件并启动所述专用界面工具的对象运行，在移动终端上展现所述 专用界面工具的用户界面。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9、 如权利要求8所述的装置，其特征在于，还包括： 专用界面工具管理用户界面模块，用于向用户展现专用界面工具文件目专用界面工具文件所存储的文件路径，生成携带所述文件;洛径的专用界面工具 加载请求，所述专用界面工具文件目录中每一个专用界面工具文件对应一个已下载的专用界面工具。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10、 如权利要求8或9所述的装置，其特征在于，还包括管理专用界面工 具的线程模块和处理专用界面工具通信的对象模块，所述管理专用界面工具的 线程模块和处理专用界面工具通信的对象模块由所述加载专用界面工具的进 程模块创建，其中：所述管理专用界面工具的线程模块，用于接收第一专用界面工具的对象发 送的第二专用界面工具的事件的订阅请求以及传递的回调函数的指针，并将所述订阅请求发送给处理专用界面工具通信的对象模块，以及接收到所述处理专用界面工具通信的对象模块回传的第二专用界面工具的事件发生的通知时，根 据所述回调函数的指针，向第一专用界面工具的对象返回所述回调函数，通知所述第二专用界面工具的事件发生；所述处理专用界面工具通信的对象模块，用于接收第二专用界面工具的对 象在所述第二专用界面工具的事件发生时发送的通知，并才艮据接收到的订阅请 求将第二专用界面工具的事件发生的通知回传给所述管理专用界面工具的线程模块。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11、 如权利要求8或9所述的装置，其特征在于，还包括调度专用界面工 具系统功能的线程模块，所述调度专用界面工具系统功能的线程模块由所述运 行专用界面工具的线程模块创建，其中：所述调度专用界面工具系统功能的线程模块，用于接收专用界面工具的对 象发送的系统功能申请以及传入的回调函数的指针，向操作系统传入所申请系 统功能的调用参数，并等待接收操作系统根据所述调用参数执行所申请系统功 能之后返回的调用结果，以及根据回调函数的指针，向所述专用界面工具的对 象返回携带调用结果的回调函数；或者，所述调度专用界面工具系统功能的线程才莫块，用于接收专用界面工 具的对象发送的系统功能申请以及传入的回调函数的指针，向操作系统传入所 申请系统功能的调用参数并立即返回，以及接收操作系统根据所述调用参数执 行所申请系统功能之后返回的携带调用结果的通知，并根据回调函数的指针， 向所述专用界面工具的对象返回携带调用结果的回调函数。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12、 一种移动终端设备，其特征在于，包括权利要求8至11任一所述的 装置。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES35757295" lang="ZH" load-source="patent-office" class="description">
    <p>在移动终端上运行专用界面工具的方法、装置及设备</p>
    <p>技术领域</p>
    <p>本发明涉及移动通信领域，尤其涉及一种在移动终端上运行专用界面工具</p>
    <p>(Widget)的技术。 背景技术</p>
    <p>专用界面工具（Widget)是一种轻量级的Web应用，向用户展现为桌面上 的小窗口或网页。用户安装负责运行Widget的《1擎之后^f更能使用各种Widget 以实现不同的功能，例如时钟Widget可以显示当前时间；天气Widget可以显 示定制地区的天气预报；CPUWidget可以显示CPU占用率；等等。Widget使 用可扩展的超文本标记语言（Extensible Hyper-Text Markup Language, XHTML) 和层叠样式表（Cascading Style Sheets, CSS)等技术展现用户界面，使用 JavaScript语言描述用户行为逻辑。出色的界面展现能力以及方便的用户使用 功能，使得Widget在传统互联网上广泛流行。</p>
    <p>随着移动互联网的发展和普及，在移动终端上也出现了负责运行Widget 的解决方案。该解决方案将传统互联网中在个人计算才几（Personal Computer, PC)上运行Widget的方案移植到移动互联网的移动终端上。结构框图如图1 所示，在移动终端应用平台上包括专用界面工具管理（WidgetManagement)、 JavaScript语言核心（JavaScript Core)、 Web核心（WebCore )、 Web工具箱 (Webkit )、用户界面展现（User Interface Feature, Ul Feature )、 HTTP架构（HTTP Framework)和操作系统（Operating System, OS)等功能模块，实现了在移动 终端上运行Widget的功能。JavaScript Core负责JavaScript语言的解析；WebCore 负责XHTML和CSS的解析和展现；Webkit负责JavaScript Core、 WebCore以 及其它功能模块之间的联系；Widget Management负责加载和卸载Widget; UIFeature负责Widget在桌面上的展现；HTTP Framework负责HTTP通信。</p>
    <p>进程为应用程序的运行实例，是应用程序的一次动态执行。基于图l提供 的结构框图，该解决方案在移动终端上的文件部署组件图如图2所示，内存中 的运4亍实例主要包4舌Widget Management进程、OS和由Widget Management 进程创建的各个Widget应用进程。当Widget Management进程加载不同的 Widget时，首先创建Widget应用进程，然后解析对应的Widget文件。具体的 加载时序请参见图3,以加载Widgetl为例进行说明，Widget Management进程 指示OS创建Widgetl应用进程，OS为Widgetl应用进程分配资源，并创建对 象WidgetAppl，然后在创建的对象WidgetAppl中加载Webkit库文件、加载 WebCore库文件、加栽JavaScript Core库文件、加载并解析Widgetl文件，启 动对象WidgetAppl运行，之后通过UI Feature便可以在移动终端上向用户展 现Widgetl的用户界面。当用户需要切换到其它Widget时，Widget Management 进程通过OS的系统调用，实现Widget应用进程之间的切换，具体的切换时序 请参见图4,以从Widgetl切换到Widget2为例进行说明，Widget Management 进程指示OS从Widgetl切换到Widget2， OS将Widgetl应用进程切换到后台， 将Widget2应用进程切换到前台。成功切换之后，便可以在移动终端上向用户 展现Widget2的用户界面。</p>
    <p>现有技术中提供的在移动终端上运行Widget的解决方案，简单的将在PC 上运行Widget的方案移植到移动终端上，没有考虑移动终端与PC之间的差异 性。移动终端相比PC，在CPU和内存资源、显示屏幕、网络带宽以及计算能 力等方面性能大大降低，使得采用现有技术的解决方案在移动终端上运行 Widget时系统响应速度较慢，CPU和内存占用率较高，严重影响了用户感受。</p>
    <p>发明内容</p>
    <p>本发明提供一种在移动终端上运行专用界面工具的方法、装置及设备，用 以解决现有技术中在移动终端上运行专用界面工具时系统响应速度较慢，CPU和内存占用率较高的问题。本发明提供一种在移动终端上运行专用界面工具的方法，包括：加载专用界面工具的进程根据接收到的携带文件路径的专用界面工具加 载请求，向本进程创建的运行专用界面工具的线程发送加载专用界面工具的通 知以及所述文件路径；所述运行专用界面工具的线程根据接收到的通知为需要加载的专用界面 工具创建对象，在专用界面工具的对象中加载所述文件路径指向的专用界面工 具文件并启动所述专用界面工具的对象运行，在移动终端上展现所述专用界面 工具的用户界面。本发明提供一种在移动终端上运行专用界面工具的装置，包括：加载专用界面工具的进程模块，用于根据接收到的携带文件路径的专用界 面工具加载请求，向本进程创建的运行专用界面工具的线程模块发送加载专用 界面工具的通知以及所述文件;洛径；所述运行专用界面工具的线程模块，用于根据接收到的通知为需要加载的 专用界面工具创建对象，在专用界面工具的对象中加载所述文件路径指向的专 用界面工具文件并启动所述专用界面工具的对象运行，在移动终端上展现所述 专用界面工具的用户界面。本发明提供一种移动终端设备，包括该在移动终端上运行专用界面工具的 装置。本发明提供的在移动终端上运行专用界面工具的方法，系统运行过程只启 动一个独立的加载专用界面工具的进程，当需要启动一个新的专用界面工具 时，并不创建新的专用界面工具应用进程，而是由该进程创建的运行专用界面 工具的线程进行处理，由于仍然在该独立的进程中进4亍解析和执行，从而解决 了启动专用界面工具时，系统响应速度较慢的问题，同时解决了启动多个专用 界面工具时内存占用率较高的问题，以及多个专用界面工具在移动终端上运行 时，CPU占用率较高的问题；从而提高了在移动终端上运行专用界面工具时的8系统响应速度，降低了 CPU和内存占用率。</p>
    <p>附图说明</p>
    <p>图1为现有技术中在移动终端上运行Widget解决方案的结构框图；</p>
    <p>图2为现有^l支术中在移动终端上的文件部署组件图；</p>
    <p>图3为现有技术中Widget的加载时序示意图；</p>
    <p>图4为现有技术中Widget之间的切换时序示意图；</p>
    <p>图5为本发明实施例中在移动终端上运行Widget解决方案的结构框图；</p>
    <p>图6为本发明实施例中在移动终端上的文件部署组件图；</p>
    <p>图7为本发明实施例中Widget的加载时序示意图；</p>
    <p>图8为本发明实施例中Widget之间的切换时序示意图；</p>
    <p>图9为本发明实施例中Widget之间通信的时序示意图；</p>
    <p>图IO为本发明实施例中Widget调用系统功能的时序示意图。</p>
    <p>具体实施方式</p>
    <p>首先简单分析现有解决方案中存在的主要技术问题及其产生原因：</p>
    <p>现有解决方案中，系统运行过程会先启动一个专用界面工具管理（Widget Management)进程，当启动一个新的专用界面工具（Widget)时，会通过操作 系统（OS)创建一个独立的Widget应用进程，使得启动Widget时，系统响应 速度较慢；当启动多个Widget时通过OS创建多个独立的Widget应用进程， 会造成内存占用率较高；当多个Widget同时在移动终端上运行时，需要处理 多个Widget应用进程的管理和并发运行，会造成CPU占用率较高。</p>
    <p>现有解决方案中，当用户切换不同的Widget时，Widget Management进程 通过OS进行处理，会造成Widget切换时系统响应速度较慢。</p>
    <p>现有解决方案中，多个独立的Widget应用进程在OS中运行时，没有通信 机制，各个Widget之间无法通信。现有解决方案中，采用的文件部署方式使得内存中的运行实例主要包括</p>
    <p>Widget Management进禾呈，OS和由AVidget Management进禾呈创建的各个Widget 应用进程，因此需要多个可执行文件以及相应的库文件，使得安装包过大，不 利于通过空口在移动终端上进行文件部署，并且文件安装后占用移动终端的空 间过大。</p>
    <p>基于对现有解决方案中存在的主要技术问题及其产生原因的分析，本发明 实施例提出了在移动终端上运行Widget的解决方案，下面将结合说明书附图 对本发明实施例提供的解决方案进行详细描述。</p>
    <p>如图5所示，为本发明实施例提供解决方案的结构框图，在移动终端应用 平台上，包括加载Widget的进程模块，具体称为Widget引擎进程（Widget Engine),具备统一的调度和管理功能，在本进程模块启动之后创建运行Widget 的线程模块、管理Widget的线程模块以及处理Widget通信的对象模块；运行 Widget的线程模块，具体称为Widget运行线程（Widget Runtime Thread),在 本线程模块启动之后创建调度Widget系统功能的线程模块，并且可以为每一 个请求加载的Widget创建对象（即Widget的对象），所有的Widget将在该线 程模块上运行；管理Widget的线程模块，具体称为Widget管理线程（Widget Management Thread),在本线程模块启动之后建立Widget管理用户界面模块 (Widget Management UI )在内存中的运行实例，即启动Widget Management UI 模块的运行；处理Widget通信的对象模块，具体称为Widget通信（Widget Communication),负责处理Widget之间通信的具体操作；调度Widget系统功 能的线程模块，具体称为Widget调度线程（Widget Schedule Thread),具备统 一的系统功能调度功能，通过该线程模块统一的系统功能调度，当不同的 Widget使用花费时间很长的同步调用或异步调用时，可以在系统功能未完成之 前不影响现有Widget的运行，从而有效解决了多个Widget在一个进程中并发 时可能产生的死锁问题；Widget管理用户界面模块，具备与用户进行交互，并 根据用户选择生成对应的请求消息的功能；Widget的对象，具体称为Widget播放器（Widget Player )，负责解释和执行对应的Widget。为了实现Widget的 用户界面在移动终端上的展现，加载Widget的进程模块在启动时还会同时加 载负责解析XHTML的XHTML解析器（XHTML Parser )、负责解析JavaScript 语言的JavaScript语言解析器（JavaScriptParser);同时，在移动终端应用平台 上还包括绑定模块（Bind Module )，负责建立XHTML和JavaScript的关联； 用户界面展现模块（UI Render),负责Widget最终在桌面上的展现，Widget 的对象运行之后将触发该用户界面展现模块；HTTP架构（HTTP Framework )， 负责HTTP通信；以及操作系统（OS)。</p>
    <p>为了在移动终端上运行Widget,以对一个Widget的处理进行说明，其中： 加载Widget的进程模块，用于根据接收到的携带文件路径的Widget加载 请求，向本进程创建的运行Widget的线程发送加载Widget的通知以及文件路</p>
    <p>径；</p>
    <p>运行Widget的线程模块，用于根据接收到的加载Widget的通知为需要加 载的Widget创建对象，在Widget的对象中加载文件路径指向的Widget文件并 启动Widget的对象运行，在移动终端上展现Widget的用户界面。</p>
    <p>其中，Widget加载请求由Widget管理用户界面模块生成并发送，Widget 管理用户界面模块，用于向用户展现Widget文件目录，根据用户在Widget文 件列表中选择的Widget文件，查询Widget文件所存储的文件路径，生成携带 文件路径的Widget加载请求，Widget文件目录中每一个Widget文件对应一个 已下载的Widget。</p>
    <p>如果在移动终端上展现所述专用界面工具的用户界面时，移动终端上正在 展现其它专用界面工具的用户界面，则隐藏该其它专用界面工具的用户界面； 如果用户选择将当前在移动终端上展现的第一 Widget的用户界面切换为已隐 藏的第二 Widget的用户界面，贝'J:</p>
    <p>Widget管理用户界面模块，还用于生成并发送第一 Widget与第二 Widget 之间的切换请求；</p>
    <p>ii加载Widget的进程模块，还用于根据接收到的第一 Widget与第二 Widget 之间的切换请求，向运行Widget的线程模块发送切换第二 Widget到前台的通 知；</p>
    <p>运行Widget的线程模块，还用于根据接收到的通知将第一 Widget的对象 切换到后台，第二 Widget的对象切换到前台。</p>
    <p>如果已经加载了至少两个Widget，为了实现Widget之间的通信，以第一 Widget订阅第二 Widget的某一事件为例说明，其中：</p>
    <p>管理Widget的线程模块，用于接收第一 Widget的对象发送的第二 Widget 的事件的订阅请求以及传递的回调函数的指针，并将订阅请求发送给处理 Widget通信的对象模块，以及接收到处理Widget通信的对象模块回传的第二 Widget的事件发生的通知时，根据回调函数的指针，向第一 Widget的对象返 回该回调函数，通知第二 Widget的事件发生；</p>
    <p>处理Widget通信的对象模块，用于接收第二 Widget的对象在第二 Widget 的事件发生时发送的通知，并根据接收到的订阅请求将第二 Widget的事件发 生的通知回传给管理Widget的线程模块。</p>
    <p>为了实现Widget对系统功能的调用，其中：</p>
    <p>调度Widget系统功能的线程模块，用于接收Widget的对象发送的系统功 能申请以及传递的回调函数的指针，向操作系统传入所申请系统功能的调用参 数，并等待接收操作系统根据所述调用参数执行所申请系统功能之后返回的调 用结果，以及根据回调函数的指针向Widget的对象返回携带调用结果的回调 函数；</p>
    <p>或者，</p>
    <p>调度Widget系统功能的线程模块，用于接收Widget的对象发送的系统功 能申请以及传递的回调函数的指针，向操作系统传入所申请系统功能的调用参 数并立即返回，以及接收操作系统根据所述调用参数执行所申请系统功能之后 返回的携带调用结果的通知，并根据回调函数的指针向Widget的对象返回携带调用结果的回调函数。</p>
    <p>基于图5提供的结构框图，本发明实施例所提供解决方案在移动终端上的文件部署组件图如图6所示，由于运行实例仅包括一个独立的WidgetEngine进程，所以加载Widget的进程模块以可执行文件的形式发布，其它模块包括管理Widget的线程模块、运行Widget的线程模块、Widget的对象、XHTML解析器和JavaScript语言解析器都以库文件的形式发布，由于可执行文件只有一个，使得安装包和安装后的文件占用移动终端的空间比较小。</p>
    <p>在移动终端上运行Widget时，启动Widget Engine进程以及启动由WidgetEngine进程直接或间接创建的Widget Management线程、Widget Runtime线程和Widget Scheduler线程，各线程负责不同的调度功能。由于所有的Widget都在同 一个Widget Engine进程中的同 一个Widget Runtime线程上运行，使得对各个Widget的操作都是在一个进程内的操作，极大的提高了系统响应速度。当加载Widget时，无需创建一个新的Widget应用进程，而是在Widget Engine进程中直接创建Widget的运行实例，也就是对象Widget Player的运行实例，同时将该运行实例部署到Widget Runtime线程上。具体的加载时序请参见图7,同样以加载Widgetl为例进行说明，如果用户需要在移动终端上显示Widgetl的用户界面，首先浏览文件目录，Widget文件目录中记录至少 一个Widget文件（例如包括Widgetl文件/Widget2文件/Widget3文件，等等），每一个Widget文件对应一个已下载的Widget,假设用户选择Widgetl对应的Widgetl文件，则包括如下步骤：</p>
    <p>S701 、 Widget Management UI根据用户选择的Widget文件（此处具体为Widgetl文件）查询该Widget文件所存储的文件路径，生成携带Widget文件的文件路径（此处具体为Widgetl文件的文件路径）的Widget加载请求，并发送给Widget Engine进程；</p>
    <p>S702、 Widget Engine进程根据接收到的Widget加载请求，向WidgetRuntime线程发送加载Widget的通知以及Widgetl文件的文件路径；</p>
    <p>135703、 WidgetRuntime线程根据接收到的加载Widget的通知，为需要加载 的Widgetl创建对象，Widgetl的对象可以称为Widget Player 1;</p>
    <p>5704、 Widget Runtime线程在创建的对象Widget Playerl中加载文件路径 所指向的Widgetl文件；</p>
    <p>5705、 Widget Runtime线程根据Widgetl文件，进行对象Widget Playerl 在内存中的初始化，以启动对象Widget Playerl运行，然后对象Widget Playerl 便可解释和执行Widgetl,通过UI Render便可以在移动终端的桌面上向用户 展现Widgetl的用户界面。</p>
    <p>需要指出的是，如果S705中在移动终端上展现Widgetl的用户界面时， 移动终端上同时运行着其它Widget (例如Widget2 )，并正在展现Widget2的用 户界面，则隐藏该Widget2的用户界面，以展现Widgetl的用户界面。</p>
    <p>以 一 个实际应用场景为例进行说明。假设用户在移动终端上下载了两个 Widget，曰历Widget和天气Widget。如果用户需要在移动终端的桌面上显示 曰历Widget的用户界面，首先浏览文件目录，选择对应的日历Widget文件， Widget Management Ul根据用户选择生成Widget加载请求并携带日历Widget 文件的文件路径；Widget Engine进程根据接收到的Widget加载请求，向Widget Runtime线程发送加载Widget的通知以及日历Widget文件的文件路径；Widget Runtime线程在本线程中为需要加载的日历Widget创建一个对象Widget Player,该对象在内存中代表了日历Widget,可以称为日历Widget Player;对 象曰历Widget Player创建完成之后，在该对象中加载文件路径指向的曰历 Widget文件，根据加载的日历Widget文件进行对象日历Widget Player在内存 中的初始化，以启动对象日历Widget Player在Widget Runtime线程中的运行， 至此就完成了加载日历Widget的流程，可以在移动终端上展现日历Widget的 用户界面。如果移动终端的桌面上当前显示日历Widget的用户界面，而用户 需要在桌面上显示天气Widget的用户界面，则处理流程与日历Widget的处理 流程基本一致，不同的是，用户在文件目录中选择对应的天气Widget文件，Widget加载请求中携带天气Widget文件的文件路径，并且，在移动终端上展 现天气Widget的用户界面时，隐藏日历Widget的用户界面。</p>
    <p>可以看出，由于加载Widget是在一个独立的进程中所作的操作，不需要 创建新的Widget应用进程，也不需要加载其它的库文件，所以系统开销占用 的内存资源比较少，同时整个过程不需要OS的支持，OS不需要管理多个 Widget应用进程，使得CPU的占用率大大降低。并且各Widget在同一个线程 中运行，避免了不同Widget运行在不同线程中引起的线程数量增长过快，系 统调度线程速度较慢的情况产生。同理，在启动Widget时，同一进程内同一 线程的操作使得系统响应速度大大提高。</p>
    <p>本发明实施例中，Widget之间的切换时序如图8所示，以从Widgetl切换 到Widget2为例进行说明，如果用户需要将移动终端上显示的Widgetl的用户 界面切换为已隐藏的Widget2的用户界面，则包括如下步骤：</p>
    <p>S801 、 Widget Management UI根据用户选择生成Widgetl与Widget2之间 的切换请求，并发送给Widget Engine进程；</p>
    <p>5802、 Widget Engine进程根据接收到的切换请求，向Widget Runtime线 程发送切换Widget2到前台的通知；</p>
    <p>5803、 Widget Runtime线程将Widgetl的对象Widget Playerl切换到后台；</p>
    <p>5804、 Widget Runtime线程将Widget2的对象Widget Player2切换到前台； Widget Runtime线程将对象Widget Playerl切换到后台，将对象Widget</p>
    <p>Player2切换到前台，是通过调用操作系统的应用编程接口 （API)实现的。 与现有解决方案相比，本发明实施例在进行Widget之间的切换时，不需</p>
    <p>要通过OS发送消息，通知将相应的Widget应用进程切换到前台或者后台，所</p>
    <p>以Widget切换的系统响应速度大大提高。</p>
    <p>本发明实施例可以实现Widget之间的通信，进程内的通信与进程间的通</p>
    <p>信相比，实现简单，且通信效率有很大提高提高。Widget之间通信的时序图，</p>
    <p>如图9所示，以Widgetl和Widget2进行通信为例进行说明，假设Widgetl需要得知Widget2的某个事件，则包括如下步骤：</p>
    <p>5901、 Widget Runtime线程中Widgetl的对象Widget Playerl向Widget Management线程发送Widget2的事件的订阅请求，并传递回调函数的指针；</p>
    <p>5902、 Widget Management线程将该Widget2的事件的订阅请求发送给对 象Widget Communication,以订阅Widget2的该事件；</p>
    <p>S卯3、当Widget 2的该事件发生时，Widget Runtime线程中Widget2的对 象Widget Player2通知对象Widget Communication并立即返回，以不影响 Widget 2的正常运行；</p>
    <p>本发明实施例中，对象Widget Communication向每一个Widget的对象 Widget Player发送回调函数的指针，使得每一个Widget的事件发生时均会通 过返回回调函数的方式通知对象Widget Communication;</p>
    <p>S904、对象Widget Communication由于接收到Widget Management线程发 送的Widget2的事件的订阅请求，则将Widget 2的该事件发生的通知发送给 Widget Management线程；</p>
    <p>S卯5、 Widget Management线程处于激活状态时，根据Widgetl的对象 Widget Playerl发送的回调函数的指针，向对象Widget Playerl返回该回调函数， 通知Widget 2的该事件发生。</p>
    <p>这样就完成了 Widget在进程内的通信。</p>
    <p>本发明实施例中，所有的Widget都在一个独立的线程Widget Runtime中 运行，所以多个Widget的并发操作是本发明实施例需要解决的一个重要问题， 本发明实施例通过另 一个独立的线程Widget Scheduler进行处理。因为所有的 Widget都是需要在桌面上展现用户界面的应用，因而在大部分时间内，Widget 处于空闲状态。Widget处于非空闲状态要么会立刻返回运行结果，要么会由于 调用了某些系统功能而进行等待。当某一 Widget的对象Widget Player调用一 个需要等待的系统功能时，对象Widget Player会向Widget Scheduler线程申请 该系统功能，并传入相应的回调函数，然后立刻返回，以继续该Widget的后</p>
    <p>16续操作。Widget Scheduler线程用于统一处理系统功能的调用，在线程处于激 活状态时调用系统功能。系统功能的调用分为同步调用和异步调用两种，如图 IO所示，假设对象Widget Playerl调用的系统功能，Widget Scheduler线程采 用同步调用的处理方式，对象Widget Player2的系统功能，Widget Scheduler 线程采用异步调用的处理方式，其中，S1001-S1004为同步调用处理流程， S1005 ~ S1008为异步调用处理流程，分别进行介绍：</p>
    <p>51001、 对象Widget Player 1向Widget Scheduler线程申请操作系统（OS) 的系统功能l,并传入相应的回调函数的指针；</p>
    <p>51002、 Widget Scheduler线程向OS传入系统功能1的调用参数之后等待， 等待期间Widget Scheduler线程不再进行其它处理；</p>
    <p>S1003 、 OS根据Widget Scheduler线程发送的调用参数执行相应的系统功 能，即系统功能1,系统功能1完成后，OS将调用结果返回给Widget Scheduler</p>
    <p>线程；</p>
    <p>S1004、 Widget Scheduler线程根据回调函数的指针，向对象Widget Playerl 返回携带调用结果的回调函数。</p>
    <p>S1005 、对象Widget Player2向Widget Scheduler线程申请操作系统（OS ) 的系统功能2，并传入相应的回调函数的指针；</p>
    <p>51006、 Widget Scheduler线程向OS传入该系统功能2的调用参数之后立 即返回，返回之后Widget Scheduler线程可以进行其它处理；</p>
    <p>51007、 OS将根据Widget Scheduler线程发送的调用参数执行相应的系统 功能，即系统功能2，系统功能2完成后，OS向Widget Scheduler线程返回携 带调用结果的通知；</p>
    <p>51008、 Widget Scheduler线程根据接收到的通知，向对象Widget Player2 返回携带调用结果的回调函数。</p>
    <p>由于需要等待的系统功能调用都统一放置到Widget Scheduler线程中，所 以多个Widget在同 一进程中实现了并发操作。本发明实施例中，系统运行过程只启动一个独立的加载Widget的进程， 当启动一个新的Widget时，并不创建新的Widget应用进程，而是由该进程创 建的运行Widget的线程进行处理，由于仍然在该独立的进程中进行解析和执 行，从而解决了启动Widget时，系统响应速度较慢的问题，同时解决了启动 多个Widget时内存占用率较高的问题，以及多个Widget在移动终端中运行时， CPU占用率较高的问题。</p>
    <p>本发明实施例中，由于只启动了一个独立的加载Widget的进程，当用户 切换不同的Widget时，只需进行进程内的用户界面切换，从而解决了 Widget 切换时系统响应速度较慢的问题。</p>
    <p>本发明实施例中，多个Widget运行在一个独立的加载Widget的进程中， 同时创建了 一个独立的管理Widget的线程，使得各个Widget之间的通信得以 实现，并且通信效率较高；并且还创建一个独立的调度Widget系统功能的线 程来解决各个Widget的多任务并发问题。</p>
    <p>本发明实施例中，只需部署一个可执行文件，其它均以库文件的形式发布， 从而解决了文件部署时安装包过大和文件安装后占用移动终端的空间过大的 问题。</p>
    <p>显然，本领域的技术人员可以对本发明进行各种改动和变型而不脱离本发 明的精神和范围。这样，倘若本发明的这些修改和变型属于本发明权利要求及 其等同技术的范围之内，则本发明也意图包含这些改动和变型在内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101969457A?cl=zh">CN101969457A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月25日</td><td class="patent-data-table-td patent-date-value">2011年2月9日</td><td class="patent-data-table-td ">浙江大学</td><td class="patent-data-table-td ">基于赫夫曼树的服务器端移动widget管理及查找方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101969457B?cl=zh">CN101969457B</a></td><td class="patent-data-table-td patent-date-value">2010年9月25日</td><td class="patent-data-table-td patent-date-value">2012年9月5日</td><td class="patent-data-table-td ">浙江大学</td><td class="patent-data-table-td ">基于赫夫曼树的服务器端移动widget管理及查找方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102141912A?cl=zh">CN102141912A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月4日</td><td class="patent-data-table-td patent-date-value">2011年8月3日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种处理多类引擎Widget的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102141912B?cl=zh">CN102141912B</a></td><td class="patent-data-table-td patent-date-value">2010年6月4日</td><td class="patent-data-table-td patent-date-value">2013年12月18日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种处理多类引擎Widget的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102724169A?cl=zh">CN102724169A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月30日</td><td class="patent-data-table-td patent-date-value">2012年10月10日</td><td class="patent-data-table-td ">上海亿动信息技术有限公司</td><td class="patent-data-table-td ">一种用于移动广告系统的后台架构及控制系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2011127683A1?cl=zh">WO2011127683A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月11日</td><td class="patent-data-table-td patent-date-value">2011年10月20日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种基于buiw平台的信息条显示方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=Sq13BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009445000">G06F9/445</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2010年3月3日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年4月28日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年7月25日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/44d663fec21ef05d5f26/CN101661392A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9C%A8%E7%A7%BB%E5%8A%A8%E7%BB%88%E7%AB%AF%E4%B8%8A%E8%BF%90%E8%A1%8C%E4%B8%93%E7%94%A8%E7%95%8C%E9%9D%A2%E5%B7%A5.pdf?id=Sq13BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2dp44bNWJmsr--jv82PRR4I8BwjQ"},"sample_url":"https://www.google.com/patents/reader?id=Sq13BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>