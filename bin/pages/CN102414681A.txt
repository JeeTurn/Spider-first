<!DOCTYPE html><html><head><title>专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="用于处理文档对象模型(dom)以处理视频内容的方法和系统"><meta name="DC.contributor" content="C&#183;莫雷诺" scheme="inventor"><meta name="DC.contributor" content="E&#183;D&#183;温兹" scheme="inventor"><meta name="DC.contributor" content="G&#183;J&#183;阿萨斯" scheme="inventor"><meta name="DC.contributor" content="T&#183;E&#183;海奥诗" scheme="inventor"><meta name="DC.contributor" content="T&#183;J&#183;查博特" scheme="inventor"><meta name="DC.contributor" content="李刚" scheme="inventor"><meta name="DC.contributor" content="诺基亚公司" scheme="assignee"><meta name="DC.date" content="2010-3-30" scheme="dateSubmitted"><meta name="DC.description" content="提供了用于处理文档对象模型(DOM)以及处理视频内容的方法和系统。接收信息内容，其由DOM表示并且包括与该信息内容相关联的脚本语言；并且在脚本语言的执行之后DOM的原始内容被保存。此外，针对客户端设备而对视频内容进行适配。与信息内容相关联的脚本语言可以随同经修改的DOM和经处理的视频内容被发送到客户端设备。例如，对脚本语言进行预处理，以标识与视频相关的节点，并且保持所有其他原始节点。"><meta name="DC.date" content="2012-4-11"><meta name="DC.relation" content="CN:1564974:A" scheme="references"><meta name="DC.relation" content="US:20060224690:A1" scheme="references"><meta name="DC.relation" content="US:20080139191:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102414681:A"><meta name="citation_patent_application_number" content="CN:201080019015"><link rel="canonical" href="https://www.google.com/patents/CN102414681A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102414681A?cl=zh"/><meta name="title" content="专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统"/><meta name="description" content="提供了用于处理文档对象模型(DOM)以及处理视频内容的方法和系统。接收信息内容，其由DOM表示并且包括与该信息内容相关联的脚本语言；并且在脚本语言的执行之后DOM的原始内容被保存。此外，针对客户端设备而对视频内容进行适配。与信息内容相关联的脚本语言可以随同经修改的DOM和经处理的视频内容被发送到客户端设备。例如，对脚本语言进行预处理，以标识与视频相关的节点，并且保持所有其他原始节点。"/><meta property="og:title" content="专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102414681A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102414681A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=qsKKBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102414681A&amp;usg=AFQjCNE18_y0hV_9qYzhrKmJjLM91SCWog" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/7b196b33134bfefaac49/CN102414681A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/7b196b33134bfefaac49/CN102414681A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102414681A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102414681A?cl=en&amp;hl=zh-CN"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102414681A?cl=zh" style="display:none"><span itemprop="description">提供了用于处理文档对象模型(DOM)以及处理视频内容的方法和系统。接收信息内容，其由DOM表示并且包括与该信息内容相关联的脚本语言；并且在脚本语言的执行之后DOM的原始内容被保存。此外，针对客户端设备而对视频内容进 ...</span><span itemprop="url">https://www.google.com/patents/CN102414681A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统" title="专利 CN102414681A - 用于处理文档对象模型(dom)以处理视频内容的方法和系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102414681 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201080019015</td></tr><tr><td class="patent-bibdata-heading"> 专利合作条约 (PCT) 编号</td><td class="single-patent-bibdata">PCT/US2010/029269</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年4月11日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年3月30日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2009年3月30日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/EP2414970A1?hl=zh-CN&amp;cl=zh">EP2414970A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20100306643?hl=zh-CN&amp;cl=zh">US20100306643</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2010117814A1?hl=zh-CN&amp;cl=zh">WO2010117814A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201080019015.2, </span><span class="patent-bibdata-value">CN 102414681 A, </span><span class="patent-bibdata-value">CN 102414681A, </span><span class="patent-bibdata-value">CN 201080019015, </span><span class="patent-bibdata-value">CN-A-102414681, </span><span class="patent-bibdata-value">CN102414681 A, </span><span class="patent-bibdata-value">CN102414681A, </span><span class="patent-bibdata-value">CN201080019015, </span><span class="patent-bibdata-value">CN201080019015.2, </span><span class="patent-bibdata-value">PCT/2010/29269, </span><span class="patent-bibdata-value">PCT/US/10/029269, </span><span class="patent-bibdata-value">PCT/US/10/29269, </span><span class="patent-bibdata-value">PCT/US/2010/029269, </span><span class="patent-bibdata-value">PCT/US/2010/29269, </span><span class="patent-bibdata-value">PCT/US10/029269, </span><span class="patent-bibdata-value">PCT/US10/29269, </span><span class="patent-bibdata-value">PCT/US10029269, </span><span class="patent-bibdata-value">PCT/US1029269, </span><span class="patent-bibdata-value">PCT/US2010/029269, </span><span class="patent-bibdata-value">PCT/US2010/29269, </span><span class="patent-bibdata-value">PCT/US2010029269, </span><span class="patent-bibdata-value">PCT/US201029269</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22C%C2%B7%E8%8E%AB%E9%9B%B7%E8%AF%BA%22">C&#183;莫雷诺</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22E%C2%B7D%C2%B7%E6%B8%A9%E5%85%B9%22">E&#183;D&#183;温兹</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22G%C2%B7J%C2%B7%E9%98%BF%E8%90%A8%E6%96%AF%22">G&#183;J&#183;阿萨斯</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22T%C2%B7E%C2%B7%E6%B5%B7%E5%A5%A5%E8%AF%97%22">T&#183;E&#183;海奥诗</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22T%C2%B7J%C2%B7%E6%9F%A5%E5%8D%9A%E7%89%B9%22">T&#183;J&#183;查博特</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E6%9D%8E%E5%88%9A%22">李刚</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E8%AF%BA%E5%9F%BA%E4%BA%9A%E5%85%AC%E5%8F%B8%22">诺基亚公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102414681A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102414681A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102414681A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (3),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=qsKKBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201080019015&amp;usg=AFQjCNGUmEuEWvn0zqdGP6axeotth1rMKA"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=qsKKBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102414681A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHw-un4gzF-zN0BCUEypKkXwKjLrA"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT112128526" lang="ZH" load-source="patent-office">用于处理文档对象模型(dom)以处理视频内容的方法和系统</invention-title>
      </span><br><span class="patent-number">CN 102414681 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA95596542" lang="ZH" load-source="patent-office">
    <div class="abstract">提供了用于处理文档对象模型(DOM)以及处理视频内容的方法和系统。接收信息内容，其由DOM表示并且包括与该信息内容相关联的脚本语言；并且在脚本语言的执行之后DOM的原始内容被保存。此外，针对客户端设备而对视频内容进行适配。与信息内容相关联的脚本语言可以随同经修改的DOM和经处理的视频内容被发送到客户端设备。例如，对脚本语言进行预处理，以标识与视频相关的节点，并且保持所有其他原始节点。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(23)</span></span></div><div class="patent-text"><div mxw-id="PCLM40925657" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种提供信息内容以供显示的方法，包括：接收信息内容，所述信息内容由文档对象模型（DOM)表示，并且包括与所述信息内容相关联的脚本语言；在所述DOM上运行所述脚本语言，导致对所述DOM执行修改； 在所述脚本语言修改所述DOM的位置向所述DOM插入切换节点，所述切换节点具有指示所述DOM的原始内容的第一分支以及指示所述脚本语言所执行的修改的第二分支； 如果所述切换节点具有指示第一数据内容的分支，则标记所述切换节点； 通过遵循所述切换节点的分支来处理所述D0M，使得对于已标记的切换节点，经修改分支被遍历，并且对于未标记的切换节点，原始分支被遍历；以及输出经处理的DOM。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的方法，还包括：在每个切换节点上提供指示要使用哪个分支的属性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求1所述的方法，其中在所述DOM上运行所述脚本语言将所述DOM转换为所述DOM的经修改版本，并且所述方法还包括：对所述DOM与所述DOM的所述经修改版本进行比较；以及在所述脚本语言修改所述DOM的位置向所述DOM插入所述切换节点。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求1所述的方法，其中标记所述切换节点包括：如果所述切换节点包括 &lt;embed&gt;或〈object〉标签，则在所述切换节点上提供属性。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求1所述的方法，其中所述第一数据内容是视频内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求5所述的方法，其中所述视频内容包括选自包括如下项的组的内容: flash内容和MPEG内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求5所述的方法，其中针对已标记的切换节点处理所述DOM包括：处理所述视频内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求7所述的方法，还包括：在所述经处理的DOM中，在包括经处理视频内容的节点上提供标识符，所述标识符向所述脚本语言指示当所述脚本语言在客户端设备上被执行时不对所述节点执行修改。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求7所述的方法，其中处理所述视频内容包括：将所述视频内容替换为预览图像和链接。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求9所述的方法，还包括： 接收对所述链接的用户选择；对所述视频内容进行转码；以及提供经转码的视频内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.根据权利要求1所述的方法，其中输出所述经处理的DOM包括：提供与所述信息内容相关联的所述脚本语言。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求1所述的方法，还包括：从客户端设备接收针对所述信息内容的请求；以及从信息源获取所述信息内容。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求1所述的方法，还包括： 确定所述信息内容是否包括视频内容；以及基于所述确定，在所述DOM上执行所述脚本语言。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.根据权利要求1所述的方法，还包括：标识包括所述第一数据内容的分支中的所有祖先切换节点；以及在所述祖先切换节点上设置属性，以指示使用经修改分支。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.根据权利要求1所述的方法，其中所述DOM的节点是script节点，并且其中向所述 DOM插入所述切换节点包括：利用所述切换节点替换所述script节点；将所述script节点置于所述切换节点的第一分支中，作为所述切换节点的第一子节点；以及将“空”置于所述切换节点的第二分支中，作为所述切换节点的第二子节点。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16.根据权利要求1所述的方法，其中所述DOM的节点被脚本语言修改，并且其中向所述DOM插入所述切换节点包括：利用所述切换节点替换所述节点；将所述节点置于所述切换节点的第一分支中，作为所述切换节点的第一子节点；以及将所述节点的拷贝置于所述切换节点的第二分支中，作为所述切换节点的第二子节点ο</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.根据权利要求16所述的方法，还包括：向所述节点的所述拷贝附加所述节点的子节点。</div>
    </div>
    </div> <div class="claim"> <div num="18" class="claim">
      <div class="claim-text">18.	一种计算机可读介质，其中存储有计算设备可执行的指令，使所述计算设备执行功能：接收信息内容，所述信息内容由文档对象模型（DOM)表示，并且包括与所述信息内容相关联的脚本语言；在所述DOM上运行所述脚本语言，导致对所述DOM执行修改； 在所述脚本语言修改所述DOM的位置向所述DOM插入切换节点，所述切换节点具有指示所述DOM的原始内容的第一分支以及指示所述脚本语言所执行的修改的第二分支； 如果所述切换节点具有指示第一数据内容的分支，则标记所述切换节点； 通过遵循所述切换节点的分支来处理所述D0M，使得对于已标记的切换节点，经修改分支被遍历，并且对于未标记的切换节点，原始分支被遍历；以及输出经处理的DOM。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.根据权利要求18所述的计算机可读介质，其中所述指令还可执行以执行功能：在每个切换节点上提供指示要使用哪个分支的指令。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.根据权利要求18所述的计算机可读介质，其中所述第一数据内容是视频内容，其中针对已标记的切换节点而处理所述DOM包括处理所述视频内容，并且其中处理所述视频内容包括将所述视频内容替换为预览图像和链接。</div>
    </div>
    </div> <div class="claim"> <div num="21" class="claim">
      <div class="claim-text">21.	一种服务器，包括： 处理器；存储器，包括所述处理器可执行的机器语言指令，用以执行功能，包括： 接收信息内容，所述信息内容由文档对象模型（DOM)表示， 并且包括与所述信息内容相关联的脚本语言；在所述DOM上运行所述脚本语言，导致对所述DOM执行修改； 在所述脚本语言修改所述DOM的位置向所述DOM插入切换节点，所述切换节点具有指示所述DOM的原始内容的第一分支以及指示所述脚本语言所执行的修改的第二分支； 如果所述切换节点具有指示第一数据内容的分支，则标记所述切换节点； 规格化器，用于通过遵循所述切换节点的分支来处理所述D0M，使得对于已标记的切换节点，经修改分支被遍历，并且对于未标记的切换节点，原始分支被遍历，其中所述规格化器输出经处理的D0M。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="22" class="claim">
      <div class="claim-text">22.根据权利要求21所述的服务器，其中DOM的节点被所述脚本语言修改，并且其中向所述DOM插入所述切换节点包括：利用所述切换节点替换所述节点；将所述节点置于所述切换节点的第一分支中，作为所述切换节点的第一子节点；以及将所述节点的拷贝置于所述切换节点的第二分支中，作为所述切换节点的第二子节点ο</div>
    </div>
    </div> <div class="claim-dependent"> <div num="23" class="claim">
      <div class="claim-text">23.根据权利要求21所述的服务器，其中所述第一数据内容是视频内容，并且其中所述规格化器通过将所述视频内容替换为预览图像和链接来处理所述视频内容，其中响应于对所述链接的用户选择，所述规格化器对所述视频内容进行转码。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES46388051" lang="ZH" load-source="patent-office" class="description">
    <p>用于处理文档对象模型（DOM)以处理视频内容的方法和系</p>
    <p>统</p>
    <p>[0001]	相关申请的交叉引用</p>
    <p>[0002]	本专利申请要求2009年3月30日提交的美国临时专利申请序列号61/164，625 的优先权，其全部内容通过弓丨用结合于此，如同其完全记载在本说明书中一样。</p>
    <p>技术领域</p>
    <p>[0003]	本申请总体上涉及web浏览和网络通信的领域。更具体地，本申请涉及一种用于对来自web页面的信息进行适配和呈现以显示在客户端设备上的系统和方法。</p>
    <p>背景技术</p>
    <p>[0004]	现在，有很多万维网web页面（超文本标记语言（HTML)文档）可提供各种各样的文本和非文本内容类型。如已知的，Web页面通常是通过诸如HTML的标准页面描述语言来格式化的，其通常包含文本，并且可以引用图形、声音、动画和视频数据。HTML提供了基本文档格式化，并且允许Web内容提供者指定去往其他Web服务器和文件的锚或者超文本链接。 当用户选择一个特定超文本链接时，web浏览器读取并且转译地址（该地址称为与该链接相关的统一资源定位符（URL))，与该地址处的web服务器连接，并且发起对链接中标识的文件的超文本传输协议（HTTP)请求。然后Web服务器向Web浏览器发送所请求的文件，以解释该文件并且向用户显示。</p>
    <p>[0005]	在运行标准web浏览器的、带有大屏幕的传统桌面计算机或膝上型个人计算机上，HTML内容类型容易地被布置和显示以供查看。例如，用于查找房地产经纪人房产列表的网站通常传送大量的图像和文本用于观众快速浏览感兴趣的房产。当用户找到感兴趣的房产时，用户然后可以阅读与该特定房产相关的细节并选择该图像用于关于该房产的进一步细节。</p>
    <p>[0006]	这时，通信（更具体地，无线电信）领域现在正在扩展。这种技术扩展允许诸如移动个人数字助理（PDA)、手机、寻呼机、移动计算机的电子设备以及其他电子设备连接到例如web服务器或数据库之类的相同信息源，这就与传统个人计算机（PC)和基于PC的浏览器一样。若干小型设备客户端浏览器是可获得的，其可以从web向手持设备递送内容。</p>
    <p>[0007]	但是，这些小设备的屏幕空间或导航能力通常不足以显示意在显示于桌面计算机或膝上型电脑上的web内容。例如，与桌面计算机显示器相比，手持设备可具有尺寸较小的显示器，并且与桌面计算机相比可具有较少的处理功率。因此，在桌面计算机显示器上可显示的部分web内容（例如，图像和文本）可能无法显示在手持计算设备显示器上，除非对该图像和文本进行某些修改。此外，由于缺乏处理功率，手持设备可能无法显示需要较多处理的内容，例如flash内容和视频。</p>
    <p>发明内容</p>
    <p>[0008]	在一个示例方面，提供了一种提供信息内容以供显示的方法。该方法包括：接收信息内容，该信息内容由文档对象模型（DOM)表示，并且包括与该信息内容相关联的脚本语言；以及在DOM上运行该脚本语言，获得对DOM的修改。该方法还包括：在脚本语言修改 DOM的位置向DOM插入切换节点，其中该切换节点具有指示DOM的原始内容的第一分支以及指示脚本语言所执行修改的第二分支。该方法还包括：如果切换节点具有指示第一数据内容的分支，则标记所述切换节点，通过遵循切换节点的分支来处理D0M，使得对于已标记的切换节点，经修改分支被遍历，而对于未标记的切换节点，原始分支被遍历；以及输出经处理的DOM。</p>
    <p>[0009]	在另一示例方面，提供一种计算机可读介质，其中存储有计算设备可执行的指令， 使所述计算设备执行如下功能：接收信息内容，该信息内容由DOM表示并且包括与该信息内容相关联的脚本语言；，以及在DOM上执行脚本语言，获得对DOM的修改。所述功能还包括：在脚本语言修改DOM的位置向DOM插入切换节点，其中切换节点具有指示DOM的原始内容的第一分支以及指示脚本语言所执行修改的第二分支。所述功能还包括：如果切换节点具有指示第一数据内容的分支，则标记所述切换节点，通过遵循切换节点的分支来处理 D0M,使得对于已标记的切换节点，经修改分支被遍历，而对于未标记的切换节点，原始分支被遍历；以及输出处理的D0M。</p>
    <p>[0010]	在又一示例方面，提供一种服务器，包括：处理器；以及存储器，其包括所述处理器可执行的机器语言指令以执行功能，包括：接收信息内容，该信息内容由DOM表示并且包括与该信息内容相关联的脚本语言；以及在DOM上执行脚本语言以获得对DOM的修改。所述功能还包括：在脚本语言修改DOM的位置向DOM插入切换节点，其中切换节点具有指示 DOM的原始内容的第一分支以及指示脚本语言进行的修改的第二分支；以及如果切换节点具有指示第一数据内容的分支，则标记切换节点。服务器还包括规格化器（normalize!&#183;)，用于通过遵循切换节点的分支来处理D0M，使得对于已标记的切换节点，经修改分支被遍历， 而对于未标记的切换节点，原始分支被遍历；以及输出处理的D0M。</p>
    <p>[0011]	上述摘要仅是说明性的而并非任何形式的限制。除了上述说明的方面、实施方式和特征之外，其他方面、实施方式和特征将参考附图和下列详细说明变得更明白。</p>
    <p>附图说明</p>
    <p>[0012]	图1所示为用于对电子设备的信息内容进行访问、适配以及呈现的示例系统。</p>
    <p>[0013]	图2所示为示例计算设备的框图。</p>
    <p>[0014]	图3是表示为树形结构的示例示意文档对象模型（DOM)。</p>
    <p>[0015]	图4所示为提供信息内容的方法的示例步骤的流程图。</p>
    <p>[0016]	图5是另一表示为树形结构的示例示意D0M。</p>
    <p>[0017]	图6所示为表示为树形结构的示例示意DOM以及脚本语言修改script (脚本）节点的情况。</p>
    <p>[0018]	图7所示为表示为树形结构的示例示意DOM以及脚本语言修改一般节点的情况。</p>
    <p>[0019]	图8所示为表示为树形结构的示例示意DOM以及脚本语言通过移除子节点修改一般节点的情况。</p>
    <p>[0020]	图9所示为表示为树形结构的示例示意DOM以及脚本语言通过在被修改的节点之前插入新节点修改DOM的情况。[0021]	图10所示为表示为树形结构的示例示意DOM以及脚本语言通过在被修改的节点之后插入新节点修改DOM的情况。</p>
    <p>[0022]	图11所示为表示为树形结构的示例示意DOM以及脚本语言通过改变属性值修改节点的情况。</p>
    <p>[0023]	图12所示为表示为树形结构的示例示意DOM以及脚本语言替换具有指定为HTML 串的内容的给定节点的子节点的情况（例如，执行Javascript函数“setlrmerHtml”）。</p>
    <p>具体实施方式</p>
    <p>[0024]	在下列详细描述中，参考形成此处一部分的附图。在图中，类似的符号典型地标识类似的组件，除非上下文另行指示。详细描述中的描述的解释性的实施方式、图和权利要求并非要限制。可利用其他实施方式，以及可做出其他改变，而不脱离此处呈现的主体的精神和范围。将易于理解本公开的方面，如这里总体说明的和图中所示的，可按多种不同的配置被布置、替换、组合和设计，所有这些显然是被考虑到的且是本公开的一部分。</p>
    <p>[0025]	在示例实施方式中，信息内容由文档对象模型（DOM)表示，并且包括与该信息内容相关的脚本语言。方法操作以执行脚本语言，保存DOM的原始内容，以及为客户端设备适配视频内容。此外，与信息内容相关的脚本语言还可被发送到客户端设备并且由客户端设备执行，而不是由服务器执行脚本语言以及完全修改D0M，然后其可被发送到客户端设备而不带脚本语言。通过将脚本语言发送到客户端设备，客户端设备可执行网站的更多功能。而且，信息内容的视频内容可被处理，以便向客户端设备提供预览图像和链接，客户端设备的用户可选择预览图像和连接来请求显示视频。服务器可接收该请求，适配该视频以便在客户端设备上观看，并且向客户端设备发送经适配或转码的视频。</p>
    <p>[0026]	根据示例实施方式，在处理期间，可以向DOM添加切换节点，并且可以标记与视频内容相关的那些切换节点。一旦这些节点被添加到DOM并被标记，服务器（例如，自适应内容加速器（ACA))可被操作以向主文档DOM添加静态图像和实时流协议（RTSP)链接。例如， 对脚本语言进行预处理，以标识与视频下相关的节点并且保持所有其他原始节点。</p>
    <p>[0027]	现在参考图1，其示出了图示用于对电子设备的信息内容进行访问、适配以及呈现的示例系统100的高层框图。系统100包括信息源102、服务器104和客户端设备106.</p>
    <p>[0028]	信息源102包括任何类型的设备，例如web服务器、应用服务器、数据库或其他后端系统，或与信息提供者的任何接口。信息源102还可包括支持与信息内容的连接的多种设备或接口。信息源102提供用标记语言表达的信息内容，例如，那些本领域公知的标记语言包括超文本标记语言（HTML)、带有或不带可扩展样式表（XSL)的可扩展标记语言（XML)、 语音XML、可扩展超文本标记语言（XHTML)、无线标记语言（WML)或可被客户端设备106处理的其他类型的语言。而且，信息内容可以引用信息信息源102所提供的文本、图像、视频或音频。信息内容可以是例如网站或web页面，或若干web页面。</p>
    <p>[0029]	服务器104可以经由服务器浏览器108通过任何类型的网络来访问信息源102。 服务器浏览器108可在任何类型的网络中通过客户端浏览器110与客户端设备106通信。 服务器浏览器108可用作客户端浏览器110与信息源102之间的用于观看web页面内容的代理。服务器浏览器108可用作信息源102的客户端以获取信息内容。例如，使用公知的通信协议组，例如传输控制协议/因特网协议（TCP/IP)，服务器浏览器108可向信息源102</p>
    <p>7发出超文本传输协议（HTTP)请求。通过利用HTTP请求，服务器浏览器108可访问信息内容，包括在信息源102的应用、静态和动态内容。</p>
    <p>[0030]	服务器浏览器108和客户端浏览器110可以驻留在同一平台上也可相互独立。例如，服务器浏览器108可宿留在后端服务器上，而客户端浏览器110可驻留在手持电子设备上，如图1所示。备选地，客户端设备106和服务器104可共存于同一设备上，二者的功能由此可相互替换。例如，服务器浏览器108和客户端浏览器110可宿留在例如在电子设备的相同平台上（如果平台或电子设备具有适当的硬件和网络能力）。因此，在这里的很多实施方式中，功能可描述为客户端浏览器110的一部分或服务器浏览器108的一部分。客户端浏览器110可执行被解释为服务器浏览器108执行的功能，以及服务器浏览器108可执行被解释为客户端浏览器110执行的功能。通过利用服务器和客户端浏览器，具有有限硬件能力的电子设备可访问特征丰富的信息或数据。</p>
    <p>[0031]	一般地，服务器104和客户端设备106包括中央处理单元、存储器（主存储器单元和/或次存储器单元）、用于接收数据的输入接口、用于从一个或多个输入设备（例如键盘、 鼠标等）接收输入信号的输入接口以及用于与输出设备（例如监视器）通信的输出接口。 一般而言，应当理解，服务器104和客户端设备106可包括使用集成电路开发技术或通过一些其他方法开发的硬件对象，或可排序、确定参数并连接在软件环境中以实现此处所述的不同功能的硬件和软件对象的组合。而且，硬件对象可使用电信号通信，信号状态表示不同的数据。还应注意，服务器104和客户端设备106通常可在操作系统的控制下执行驻留在服务器104和客户端设备106处的应用程序。例如服务器浏览器108和客户端浏览器110 的应用程序可以存储在服务器104和客户端设备106中的存储器上，以及可使用机器语言指令或带有面向对象指令的软件来提供，例如Java编程语言。然而，也可使用其他编程语言（例如，例如C++编程语言）。</p>
    <p>[0032]	作为一个示例，客户端浏览器110可驻留在可以是电子设备的客户端设备106上， 包括：任一个人计算机（PC)、无线电话、个人数字助理（PDA)、手持计算机、网络装置以及可具有导航能力的大量其他类型的电子设备（例如键盘、触摸屏、鼠标等）以及用于观看下载的信息内容的可选的显示器。而且，客户端设备106可包括具有利用语音合成标记的能力例如万维网联盟（W3C)语音可扩展标记语言（语音XML)的任何类型的设备。计算机系统领域的技术人员将理解示例实施方式不限于用于客户端设备106的计算机的任何具体的类或模型，且将能选择适当的系统。</p>
    <p>[0033]	在该示例中，客户端浏览器110驻留在客户端设备106上而且PC宿留服务器浏览器108，并且客户端设备106和PC都连接到以太网。继而，客户端浏览器110和服务器浏览器108可在以太网中执行信息事务。这种事务可使用以太网或类似的IEEE802.3协议。但是，在这个示例中，客户端和服务器浏览器通过有线网络通信。通信可能还包括无线网络例如局域无线网（LAWN)、无线局域网（WLAN)或蜂窝无线网。而且，通信可包括使用其他公知的协议和技术例如蓝牙、无线应用协议（WAP)、时分多址（TDMA)或码分多址（CDMA)的无线网络。</p>
    <p>[0034]	再参考图1，客户端浏览器110可向服务器浏览器108发送信息请求。客户端浏览器Iio可包括事件转译器112，其将来自客户端浏览器110的例如HTTP请求（例如，WML, XHTML,cHTML等）的请求/响应协议转换为服务器浏览器108可识别的事件。转译过程可包括事件信息、内容信息和事件的上下文，使得客户端浏览器110与信息源102之间的事务 (例如，HTML表单提交)被保护。</p>
    <p>[0035]	来自信息源102的信息内容被获取，并且可被调整以便由服务器浏览器108在客户端浏览器Iio上使用。备选地，服务器浏览器108可获取信息，并且向客户端浏览器110 发送该信息，由客户端浏览器110自己适当地调整该信息以用于观看。内容转换可能是必需的，因为被请求的内容（例如web页面）可能原本被设计为在PC的大屏幕上观看，而不是在手持设备的有限尺寸的屏幕上观看。因此，服务器浏览器108和/或客户端浏览器110 可执行信息内容转译转换或应用设备专用类型的表以帮助呈现（例如，显示或语音）和导航（例如，键盘、触摸屏或滚轴），以及为电子设备接受有限数量的数据执行内容分组。</p>
    <p>[0036]	为了提供这些能力，服务器浏览器108和客户端浏览器110可包括例如用户代理、 cookie处理机、文档对象模型（DOM)、脚本执行器、规格化器以及串行器的模块（未示出）。 属于信息内容转换或定制的附加信息包括在名称为“System and method for accessing customized information over the internet using a browser for a plurality of electronic devices” 的美国专利号 7，072，984、名称为 “System and Method for Displaying Information Content with Selective Horizontal Scrolling，，的美国专利申请公布号 2004/0049737、名称为 “System and Method for Adapting Information Content for Electronic Device” 的美国专利号 7，500，188、名称为 “System and Method for Web Navigation Using Images”的美国专利申请公布号2007/0073777以及名称为 "Method and System for Converting Interactive Animated Information Content for Display on Mobile Devices”的美国专利申请公布号2008/0195692，每个文件的内容通过引用结合于此，如同其完全记载于本说明书中一样。</p>
    <p>[0037]	系统100包括用于将web内容修改为显示在客户端设备106上的格式的软件（在客户端设备106或服务器104中）。如这里所使用的，web内容可以指从信息源102接收的 web页面，或从信息源102下载的文件。例如，web内容可包括文本块、图片、音频或视频文件。修改具有一个特征的web内容以形成具有不同特征的web内容被称为web内容转译， 以及更一般地称为转译。Web内容的示例特征可包括（但不限于）字体规格、图像尺寸、视频比特率等。</p>
    <p>[0038]	图2所示为示例计算设备200的框图。在一个示例中，计算设备200可用作客户端设备，如图1所示。在另一示例中，计算设备200可用作服务器，如图1所示。计算设备 200在输入接口 202接收信息内容。例如，可从信息源或从中间代理服务器接收信息内容。 信息内容可以是网站数据的形式，以及可被转码用于在客户端设备上观看，或者备选地，可以按照本原形式被接收并且可由计算设备200转码（如果需要）。</p>
    <p>[0039]	输入接口 202连接到处理器204和浏览器206。处理器204可处理数据并控制计算设备200中组件的功能。处理器204可实现为处理器，其访问存储器208以执行其中存储的软件功能。计算机系统设计领域的技术人员将理解，示例实施方式不限于处理器的任何具体类型或模型。处理器204可根据操作系统运行，该操作系统可以是任何合适的市场上可买到的嵌入式或基于磁盘的操作系统，或任何专用操作系统。而且，处理器204可包含一个或多个较小的中央处理单元，例如包括可编程数字信号处理引擎或者也可实现为单个专用集成电路（ASIC)以提高速度并节省空间。一般而言，应当理解，处理器204可包括使用集成电路开发技术或通过一些其他方法开发的硬件对象，或可排序、确定参数并连接在软件环境中以实现此处所述的不同功能的硬件和软件对象的组合。而且，硬件对象可使用电信号通信，信号状态表示不同的数据。</p>
    <p>[0040]	例如，存储器208还存储诸如先前发送或接收的信号之类的信息。例如，存储器 208还包括随机访问存储器（RAM)、闪存或长期存储设备，例如只读存储器（ROM)或磁盘。 存储器208还存储处理器204可执行以执行此处所述功能的机器语言指令（例如，例如图 4中所示的方法）。</p>
    <p>[0041]	浏览器206可包括TCP/IP引擎210和视频播放器212。浏览器206可接收信息内容并准备显示该信息内容。为此，浏览器206可按需要对信息内容进行格式化，例如通过对内容进行转码以便显示在手持设备上。在此方面，浏览器206可用作服务器浏览器，用以对将要发送到客户端设备的信息内容进行转码。备选地，例如，浏览器206可用作客户端浏览器，其具有在从服务器收到内容之后对信息内容进行转码的完全功能。或者，例如，浏览器206可作为向具有有限功能的客户端浏览器，并且可接收信息内容以及按照接收到的形式显示该内容。</p>
    <p>[0042]	TCP/IP引擎210操作以接收和发送对信息内容的请求。计算设备200可由处理器 204操作，以将信息内容转换成请求客户端设备可访问的形式。例如，客户端设备可请求通常的web页面，计算设备200由此将接入因特网并获取所请求的web页面，继而浏览器206 可将该web页面转换成客户端设备可访问的形式。在一些情况中，web页面将包括视频、影片或flash播放器内容，因此计算设备200将获取web页面并且使用视频播放器212将其加载到浏览器206上。浏览器206继而可按照需要修改web页面或视频内容，并将经修改的内容发送到客户端设备。备选地，计算设备可用作客户端设备，并且可操作以在客户端设备处执行修改和转码。</p>
    <p>[0043]	计算设备200还可包括规格化器，其作为独立元素214或者作为处理器204或浏览器206的组件。例如，规格化器214可用于将信息内容转换或转码成显示在客户端设备上的格式。</p>
    <p>[0044]	客户端或手持浏览器可使用多种技术来辅助用户导航web页面。例如，客户端浏览器可改变web内容的布局，改变图像的定位或文本字符的尺寸，或改变web页面用于显示在客户端设备上。</p>
    <p>[0045]	Web页面通常包括一系列嵌套的对象。对象组成web页面的文档对象模型（DOM)。 例如，DOM是平台中立和语言中立的接口，允许程序和脚本动态访问和更新内容、结构以及对象的类型。例如，DOM还可被处理，并且处理结果可结合回web页面中。DOM可表示为HTML 语言的形式，并且定义用于访问和操作HTML文档的标准方式。在一个示例中，DOM可以是 HTML文档，并且可表示为树形结构。</p>
    <p>[0046]	图3是表示为树形结构的示例示意文档对象模型（DOM)。该DOM包括HTML文档。 HTML文档包含HTML元素，其一般形式具有3个组成部分：一对元素标签，带有开始标签和结束标签，给标签中的元素的元素属性，以及将呈现在显示器上的文本和图形信息内容。标签在web页面内容中被尖括号包围。HTML文档还可包括或可用例如Javascript语言加载脚本，这影响HTML处理器例如web浏览器的性能，以及层叠样式表（CSS)定义文本和其他材料的外观和布局。在图3所示的示例中，HTML文档可以是下面表1所示的形式。</p>
    <p>10</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102414681A/CN102414681AD00111.png"> <img id="idf0001" file="CN102414681AD00111.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102414681A/CN102414681AD00111.png" class="patent-full-image" alt="Figure CN102414681AD00111"> </a> </div>
    <p>[0048]	表 1</p>
    <p>[0049]	为了将HTML文档表示为树形结构，树开始于根元素“&lt;html&gt;”，并且提供去往下一次级的元素的分支，例如HTML文档的head和body元素。Head分支包括元素标题，并且以文本“title”结束。Body分支本身具有2个分支，包括锚元素“&lt;a&gt;”和头部元素“&lt;hl&gt;”。 这些分支的每一个包括文本，并且锚元素分支还包括超链接的属性。</p>
    <p>[0050]	HTML文档或web页面还可包括与web页面相关联或者包括在web页面中的脚本语言或协议。脚本语言的一个示例是Javascript，其是面向对象的脚本语言，用于支持对客户端应用和其他应用中的对象的程序访问。Javascript引擎可实现为web浏览器的组件，并且当在web页面中遇到Javascript时，例如Javascript引擎可执行该Javascript以提供增强的用户界面和动态的网站。</p>
    <p>[0051]	当执行脚本语言时，脚本语言可修改DOM以提供将要显示在web页面上的更多功能。例如，可执行脚本语言，并且当遇到web页面上的视频内容时，脚本语言可指示加载视频播放器以显示视频内容。例如，脚本语言可指示加载其他应用，或在web页面上以功能性方式显示条目。</p>
    <p>[0052]	本申请描述了用于在客户端设备上允许视频支持的系统和方法。当客户端设备请求例如web页面的信息内容时，服务器可接收该请求并获取web页面。例如，服务器继而可以执行与网站相关联的任何脚本语言并且按照所执行脚本语言的指示来修改网站的原始 D0M，或者仅在与视频内容有关或包括视频内容的方面修改网站的原始D0M。例如，服务器可执行脚本语言并修改DOM以处理所请求网站中的视频内容，并且将经修改的DOM发送给客户端设备。客户端设备继而能够显示经处理的视频内容。</p>
    <p>[0053]	可以根据客户端设备的类型和样式来执行方法。例如，在具有特定浏览器能力的类型的客户端设备上（例如，无线电话），这种浏览器能力例如与桌面计算机类似的浏览器能力（例如，高端电话（HEP)模式），视频可通过客户端浏览器在流视频过程中提供给客户端设备。每个客户端设备的浏览器能力可能不同，并且浏览器要求也可能根据要传输并显示在客户端设备上的视频的类型和数量而有所变化。</p>
    <p>[0054]	图4所示为提供信息内容的方法400的示例步骤的流程图。在一个示例中，方法 400被服务器或代理服务器执行，如图1所示。在另一示例中，方法400可被客户端设备执行，如图1所示。</p>
    <p>[0055]	图4的流程图展示了本实施方式的一个可能的实现的功能和操作。在这里，每个框可表示一个模块、段或程序代码的一部分，其包括处理器可执行的用于实现处理中的特定逻辑功能或步骤的一个或多个指令。程序代码可存储在任何类型的计算机可读介质上，例如，例如，存储设备包括盘或硬盘驱动器。此外，每个框可表示被连线以执行处理中的特定逻辑功能的电路。可替换的实现包括在本申请的示例实施方式范围中，其中可不按所示的或讨论的顺序执行功能，包括基本一致或以相反的顺序，取决于涉及的功能，这将被本领域技术人员所理解。</p>
    <p>[0056]	在这个示例中，方法400由服务器执行，服务器例如可以从客户端设备接收对信息内容的请求，并且服务器将从信息源接收信息内容，如框402所示。</p>
    <p>[0057]	接下来，服务器可以确定信息内容是否包括选定的数据（例如，视频数据），如框 404所示。例如，服务器可参考包括具有视频数据的网站的列表，如果信息内容在列表中，服务器可确定信息内容包括视频数据。示例的列表可包括用于高端电话（HEP)视频网站的操作、管理、维护和供应（OAMP)列表。备选地，服务器可在信息内容中查找指示信息内容包括视频数据的HTML标识符，例如嵌入标签或对象标签。根据所查找的数据的类型，服务器可定位并且表示信息内容是否包括此类数据。</p>
    <p>[0058]	仍是备选地，可移除框404，并且可对所有信息内容执行方法400。然而，执行框 404可以说明例如当信息内容不包括视频数据时对信息内容的处理。而且，例如，如果信息内容至少潜在地包括视频数据，可对信息内容执行框402。</p>
    <p>[0059]	仍是备选地，例如，可移除框404，并且可以仅对不支持视频的请求设备执行方法 400。</p>
    <p>[0060]	视频数据可以包括任何类型的数据，包括动画，例如Adobe Flash、Microsoft Silverlight,Sun JavaFX,W3C SVG,Windows media，RealMedia，Quicktime，MPEG 等。这些数据可被提供在具有多种形式的数据文件中，例如，例如(sw)文件扩展，（flv)文件扩展， 源材料的（fla)文件扩展，以及MPEG文件扩展。还可以根据信息内容中数据的标识符将数据认定为视频数据。例如，如果数据由HTML嵌入标签或对象标签所包含或者引用，则可以认为该数据是一种视频数据。</p>
    <p>[0061 ] 如果信息内容不包括视频数据，则在需要的情况下，服务器可对信息内容进行转码，如框406所示。例如，基于所请求web页面中存在的信息，可以进行多种不同的内容转换或转码。交互的动画内容信息特别要求适当的转换。动画和特殊效果可能使用帧驱动的可缩放矢量图文件而被包括在web页面内容中，并且此类内容将被转换以用于在客户端设备上观看。例如，动画可被呈现为包括开始帧和结束帧以及中间帧动画。在开始和结束关键帧之间，对象的尺寸、旋转、颜色或其它属性可以是变化的，以创建运动的外观。备选地， 可通过改变连续帧的内容来呈现动画。交互的动画内容文件的任何或全部帧可被服务器修改以及之后发送到请求的客户端设备。</p>
    <p>[0062]	属于信息内容转换或定制的类型的其他信息被包括在名称为“System and method for accessing customized information over the internet using a browser for a plurality of electronic devices，，的美国专利号7，072，984、名称为"System and Method for Displaying Information Content with Selective Horizontal Scrolling" 的美国专利申请公布号2004/0049737以及名称为“System and Method for Adapting Information Content for an Electronic Device”的美国专利号7，500，188 中，其全部内容通过引用结合于此，如同其被完全记载于本说明书中一样。</p>
    <p>[0063]	随后，服务器可向客户端设备发送经转码的内容，如框408所示。[0064]	如果信息内容包括视频数据，则服务器将执行可与信息内容相关联的脚本语言， 如框410所示。例如，Javascript之类的脚本语言可与信息内容相关联或被包括在信息内容中。服务器可包括脚本语言引擎，其与服务器浏览器相关联或被包括在服务器浏览器中， 并且可执行脚本语言；当该脚本语言引擎被执行时，对信息内容的DOM进行修改。例如，在获取信息内容之后，服务器可在服务器浏览器上加载信息内容，此时，服务器浏览器将执行内联（inline)脚本元素。执行脚本语言将导致对DOM的修改。例如，在视频数据的情况下， 对视频数据执行脚本语言将向视频数据节点附加新的子节点，其可以是包含视频源数据的嵌入标签或对象标签。备选地，对视频数据执行脚本语言将向视频数据节点附加子节点， 其包含文本“这个浏览器不支持视频”消息。作为另一示例，在非视频数据的情况下，执行脚本语言将增加或替换原始DOM中的非视频数据节点的子节点。作为又一示例，对于原始 DOM中的给定节点，执行脚本语言可移除指向web页面的锚标签，并且将该锚标签替换为指向不同web页面的另一锚标签。</p>
    <p>[0065]	在DOM中由于执行脚本语言而做出修改的每个位置，插入一个切换节点，如框412 所示。例如，当执行脚本语言时，如果要对DOM进行修改，当修改特定节点时，切换节点被插入。切换节点替换原始节点并包括2个分支。切换节点的第一分支通向原始节点，切换节点的第二分支通向由于执行脚本语言而对DOM做出的修改。以这种方式，切换节点用于保持DOM的原始格式，且也用于包括DOM的经修改格式。</p>
    <p>[0066]	如框414所示，如果切换节点包括第一数据内容（例如，视频内容），则切换节点被标记。切换节点是DOM的一个节点，由此，可以通过在切换节点上包括HTML属性来标记该切换节点。为了标识切换节点是否包括视频内容，可在脚本语言所修改的DOM中查找嵌入标签或对象标签或者视频数据的其他标识符。例如，预设或指定的嵌入标签或对象标签或其他标签可以指示DOM的节点包括或者引用视频数据。</p>
    <p>[0067]	在这个示例中，第一数据内容是视频内容。然而，第一数据内容可以是需要规格化器进行特定处理的任何类型的选定数据内容。例如，第一数据内容可以是可按特定方式处理的JPEG内容。备选地，第一数据内容可以是音频内容或文本内容。通过标记切换节点， 可以选择和标识任何类型的内容，使得例如在规格化期间，可以按照不同于未标记切换节点的方式来处理已标记切换节点。</p>
    <p>[0068]	接下来，修改的DOM被传递给规格化器并被相应地处理，如框416所示。例如，可以通过遵循切换节点的分支来处理D0M，使得对于已标记的切换节点，经修改分支被遍历， 而对于未标记的切换节点，原始分支被遍历。因此，在一个示例中，一旦文档解析已经完成并且脚本语言已被执行，可执行逻辑以确定在DOM的规格化期间使用所插入切换节点的哪个分支：仅原始分支，仅经修改分支，或检测切换节点上的“重载”属性。服务器继而将遵循 DOM的指定分支对信息内容进行规格化，并且将规格化的信息内容发送到客户端设备。为了对信息内容进行规格化，信息内容可按需要被转码。</p>
    <p>[0069]	例如，规格化器将遵循未标记的切换节点的原始数据分支，使得未标记的切换节点被从经修改的DOM中被基本上移除。以这种方式，通过遵循DOM的原始数据内容，由于执行脚本语言引起的DOM改变而被插入以替换原始节点的、没有包括或引用选定数据类型 (例如，视频数据）的任何切换节点将基本上被忽略。在一个示例中，对于不包括视频数据的节点，DOM的原始内容被保持。例如，DOM的修改版本被分析和处理，使得当遇到未标记的切换节点时，脚本语言所做的改变被忽略，因为包括关联的经修改分支的切换节点未被遍历，使得带有原始DOM内容的分支被保留和遍历。例如，DOM导航操作基于切换节点的属性来确定如何遍历切换节点。</p>
    <p>[0070]	以此方式，如果切换节点由于包含视频内容而被标记，则已标记切换节点的视频内容被处理。视频内容可以这样处理：标识来自该视频内容的静态图像，并且将视频内容替换为该静态图像（其可表示视频内容的预览）和链接。例如，图像和链接可以是视频数据的占位符。例如，服务器将获取或产生视频的快照，例如视频的第一帧的静态图像，以便在将要呈现给客户端设备的信息内容中包括或引用。服务器还可包括客户端设备的用户可选择的链接，以命令服务器将视频文件转码为客户端设备上可显示的格式。因此，当被提供给客户端设备时，该链接可被选择以请求对视频内容进行转码以便在客户端设备上观看。</p>
    <p>[0071]	备选地，例如，视频内容可以这样处理：对视频内容进行转码，并且在DOM中插入对经转码视频内容的引用。将来自具有一个特征的数字视频流的数字视频修改为具有不同特征的视频流一般被称为视频转码，并且可以使用多种不同技术将视频文件转码为用于在客户端设备上显示的格式。不同特征的示例包括例如受不同量化值影响的视频编码格式 (例如MPEGl和MPEG2)和数据传输率。当一个视频流的所有视频信息在转码期间被保持时， 认为进行的是视频流的无损转码。为了进行无损转码，第二视频流可用的带宽需要足够，以支持原始视频流中存在的数据。在一个示例中，视频编码格式之间的无损视频转码可以这样完成：对具有第一视频编码格式的第一视频流进行解码以生成绘制数据（图像数据），随后对绘制数据进行编码以生成具有第二视频编码格式的第二视频数据流。</p>
    <p>[0072]	转码的其他示例包括典型的MPEG2格式的视频文件，通过降低视频的分辨率或降低每秒的帧显示速率，通过移除一些帧，被转换用于在客户端设备上观看。特别地，用于电视接收机广播的MPEG2流可被转换为低分辨率流，例如，例如MPEG4流。转码器可接收MPEG2 流以及解压包含在MPEG2流中的压缩的视频数据。然后转码器可将接收的视频数据转换为，例如，分辨率360像素*240行和10帧/秒用于移动客户端设备。</p>
    <p>[0073]	此外，转码可包括将视频尺寸从一个尺寸改变成另一尺寸（也称为缩放）。这可涉及将得到较大的视频并将视频压缩到较小尺寸以减少向客户端发送该视频所需的带宽量， 以及保证客户端设备能显示产生的视频。因为当接收的视频尺寸太大时很多客户端失败， 发送太大的视频可导致完全浪费带宽。因此，对每个移动设备确定正确的缩放因子是有用的。</p>
    <p>[0074]	其他转码技术涉及压缩视频文件。视频文件使用压缩来减小尺寸。原始格式的全尺寸视频对很多设备是太大了。因此使用“编解码器”或压缩算法的类型减少视频的尺寸变成以后可解码的文件格式。然而，当执行这个过程时，质量会降低并且一些编码转码器甚至是“有损”的，从而减少显示视频所需的数据量。这通常这样来执行：将视频的第一帧数字化为称为I帧的数据，继而将第一帧与下一帧进行比较。仅将两帧之间的差异记录在P帧中。这样，仅对帧之间的差异而非所有帧进行数字化，这使得较少的数据被用于存储视频。 其他I帧也以一定间隔被发送，以允许从传输期间可能发生的任何数据损坏中进行恢复。</p>
    <p>[0075]	因为存在用于视频的多种不同编码转码器或压缩类型（对于视频文件的可视和可听的组件），了解哪些客户端支持特定的编码转码器是有帮助的。检测哪些客户端支持哪些格式允许选择要发送到特定客户端的视频质量。例如，AMR-NB(窄带）是一种音频编码转码器，它被优化为小尺寸并且对于人的声音而言是良好的，但是该编码转码器对于音乐的质量而言可能不佳。然而，MP4是一种这样的格式，其比较大并且仅被较少的客户端支持，但是对于音乐和多媒体而言是可接收的。</p>
    <p>[0076]	当被呈现给客户端设备时，转码的视频可被流式传输到客户端。流式传输允许视频开始播放而不需要整个视频文件被下载。流式传输还允许客户端释放视频已观看的部分使用的存储器。流式传输需要将视频文件切分成可被逐个发送到客户端的较小分组。将视频文件切分成分组的过程被称为“微调（hinting) ”，其包括准备要切分的分组以及通知流式传输服务器怎样将切分的分组发送到客户端。很多流式传输服务器需要视频文件在将视频流式传输到客户端之前被提示。未被提示的视频文件可能不能被流式传输以及客户端因此接收一个错误。</p>
    <p>[0077]	对于更多有关转码视频数据的信息，读者可参考名称为“Method and System for Transforming and Delivering Video File Content for Mobile Devices，，的美国专利申 it^^?^&#183; 2008/0195698 L^l^^^^j "Method and System for Converting Interactive Animated Information Content for Display on Mobile Devices，，的美国专禾丨J申请公布号2008/0195692，每个文件的内容通过引用结合于此，如同其完全被记载于本说明书中一样。</p>
    <p>[0078]	回到图4，接下来，经处理的DOM被输出，如框418所示。例如，包括经处理的视频内容的经处理的DOM可被提供给客户端设备。此外，与信息内容相关联的脚本语言也可被提供给客户端设备。以此方式，客户端设备可以显示信息内容，并且在这样做时执行脚本语言。脚本语言可执行通常的任务，诸如在例如DOM的原始内容上插入下拉菜单。经处理的视频内容还可包括重命名的标识符，使得当执行脚本语言时，脚本语言将不修改经处理的视频内容。在此方面，经处理的视频内容可对脚本语言隐藏，使得客户端设备可执行脚本语言以执行所有操作，只有经处理的视频内容例外。</p>
    <p>[0079]	例如，如果脚本语言将要执行并且要在不支持此类视频内容的客户端设备上修改经处理的视频内容，则脚本语言将把经处理的视频内容替换为图像以及文本“不支持视频”。然而，通过向脚本语言隐藏经处理的视频内容，不支持视频内容的客户端设备可执行脚本语言并且显示经处理的视频内容，例如，其可以只包括静态图像和链接。</p>
    <p>[0080]	方法400操作以保存DOM的原始内容，并且针对客户端设备而对视频内容进行适配。此外，与信息内容相关联的脚本语言仍可被发送到客户端设备并由客户端设备执行，而不是由服务器执行脚本语言并完全修改D0M，DOM之后被发送到客户端设备而不带脚本语言。通过向客户端设备发送脚本语言，客户端设备可以执行网站的更多功能。</p>
    <p>[0081]	而且，通过以预览图像和链接的格式向客户端设备发送经处理的视频数据，客户端设备的用户可选择链接以请求显示视频。服务器可接收该请求，对该视频进行适配用于在客户端设备上观看，并向客户端设备发送适配的或转码的视频。视频可以根据客户端设备的能力或客户端浏览器的能力而被转换。</p>
    <p>[0082]	备选地，在接收到对链接的用户选择之后，服务器可对视频数据进行转码，并且在视频转换完成时通知用户。服务器可以通过多种方式通知用户，例如使用短消息服务（SMS) 或推送包括链接的消息，以允许用户观看视频。通知消息可包括链接到相关联的已转码视频文件的标识符。在服务器向客户端设备发送通知消息之前，服务器可把视频文件标识符放在通知中。客户端设备转而可向服务器发送该标识符以获取相关的已转码视频文件。</p>
    <p>[0083]	因此，根据示例实施方式，服务器可向DOM添加切换节点，并且标记与视频内容相关的切换节点。一旦节点被增加到DOM并且被标记，服务器（例如，自适应内容加速器 (ACA))可操作以向DOM添加图像和实时流协议（RTSP)链接。对脚本语言进行预处理，以标识与视频有关的节点，以及保持其他原始节点。</p>
    <p>[0084]	图5是表示为树形结构的另一示例示意D0M。在这个示例中，原始DOM包括 body(体）元素，其具有到division标签（例如“div”）和script (脚本）标签的分支。在执行与DOM相关联的脚本语言时，div和script节点可被修改，切换节点由此被插入到DOM 中的原始div和script节点的位置。切换节点存储“div”和“script”节点的两个版本。例如，第一版本包括DOM的原始内容，并且第二版本包括经修改的数据。对于表示script节点的切换节点，包括表示原始节点（例如script节点）和经修改节点的2个分支。“script” 节点的经修改分支为空，因为这个节点将已被执行。</p>
    <p>[0085]	在这个示例中，div标签包括视频数据。对于表示div节点的切换节点，包括表示原始div节点和经修改节点的2个分支。经修改节点包括div标签和embed(嵌入)标签。 embed(嵌入）/object (对象）标签可包括对视频内容的静态图像和链接的引用，如上所述。</p>
    <p>[0086]	这个示例中可增加服务器检测embed/object标签的逻辑，以便在原始DOM中查找这些标签。如果找到了一个，则下一步骤可以是在该分支中找到祖先切换节点以及在那些节点上设置称为“重载”的属性。这将具有如下影响，即，对这些节点的任何进一步DOM操作使用经修改分支。服务器的规格化器继而可通过视频转码器运行embed/object标签，并且利用得到的内容更新规格化D0M。</p>
    <p>[0087]	在处理了属于已标记切换节点的div标签的视频数据之后，未标记的切换节点例如被移除，并且得到的经修改DOM可被提供给客户端设备。此外，在向客户端设备发送经修改DOM之前，标记的切换节点本身可被移除。图5中的示例允许原始DOM携带受脚本语言影响的所有节点的之前和之后的知识。而且，如果客户端设备上执行的脚本语言可能试图覆盖由服务器生成的视频内容，例如，封装视频数据的“div”标签上的“id”属性可以改变， 使得脚本语言将不覆盖该内容。</p>
    <p>[0088]	图6-12所示为表示为树形结构的示例示意DOM以及由于执行脚本语言DOM被修改的情况。</p>
    <p>[0089]	图6所示为表示为树形结构的示例示意DOM以及脚本语言修改script (脚本）节点的情况。当文档解析器执行脚本语言并且遇到script节点时，设置插入QuickDom切换状态，以所有DOM改变应当插入切换节点。如图5所示，原始script节点将被替换为具有2 个分支的切换节点。切换节点的状态属性被设置为“original”。原始script标签节点和 script标签节点的所有子节点变成切换节点的第一子节点（原始分支），并且将留下“空” 作为切换节点的经修改分支，其被设置为切换节点的最后或第二子节点。</p>
    <p>[0090]	图7所示为表示为树形结构的示例示意DOM以及脚本语言修改一般节点的情况。 如果节点A的父节点已经是切换节点，节点A的子节点可以简单地附加到节点A的拷贝。 然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点A。原始节点A变成切换节点的第一子节点，并且节点A的拷贝变成第二子节点（经修改分支）。 所有子节点则可被附加到节点A的拷贝。[0091]	图8所示为表示为树形结构的示例示意DOM以及脚本语言通过移除子节点修改一般节点的情况。如果节点A的父节点已经是切换节点，节点A的子节点可以简单地被移除。 然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点A。原始节点A和子节点变成该切换节点的第一子节点，并且节点A的拷贝变成第二子节点（例如，经修改分支）。所有子节点被从节点A的拷贝（例如，经修改分支）移除。</p>
    <p>[0092]	图9所示为表示为树形结构的示例示意DOM以及脚本语言通过在被修改的节点之前插入新节点修改DOM的情况。如果节点A的父节点已经是切换节点，新节点可被插入到节点A之前。然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点A。原始父节点变成该切换节点的第一子节点，并且父节点的拷贝及其子节点变成第二子节点（例如，经修改分支）。使用父节点的拷贝，新节点被插入到节点A之前。</p>
    <p>[0093]	图10所示为表示为树形结构的示例示意DOM以及脚本语言通过在被修改的节点之后插入新节点修改DOM的情况。如果节点A的父节点已经是切换节点，新节点可被插入到节点A之后。然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点A。原始父节点变成该切换节点的第一子节点，并且父节点的拷贝及其子节点变成第二子节点（例如，修改的分支）。使用父节点的拷贝，新节点被插入到节点A之后。</p>
    <p>[0094]	图11所示为表示为树形结构的示例示意DOM以及脚本语言通过改变属性值修改节点的情况。如果节点A的父节点已经是切换节点，可设置节点A的新属性。然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点A的位置。原始节点 A变成该切换节点的第一子节点，并且节点A的拷贝变成第二子节点（例如，经修改分支）。 使用节点A的拷贝，可设置新属性A。</p>
    <p>[0095]	图12所示为表示为树形结构的示例示意DOM以及脚本语言替换具有被指定为 HTML串的内容的给定节点的子节点的情况（例如，执行Javascript函数“setlrmerHtml”)。 如果节点A的父节点已经是切换节点，节点A的所有子节点可以被移除且新子节点可被添加。然而，如果节点A的父节点不是切换节点，则一个切换节点被创建和插入以替换节点 A。原始节点A和子节点变成该切换节点的第一子节点，并且节点A的拷贝变成第二子节点 (例如，经修改分支）。随后，子节点可从节点A的拷贝被移除，并且由输入HTML文本产生的新子节点可被添加到节点A的拷贝（例如，示为节点D和E)。</p>
    <p>[0096]	在又一示例中，如上所述，当节点的父节点或祖先是切换节点时，该节点不会被另一切换节点替换。此外，切换节点的属性将指示要遵循哪个分支。</p>
    <p>[0097]	在遇到embed或object标签的示例中，中，embed或object标签的父切换节点将具有被设置为“重载”的属性，以指示在所有将来的遍历操作中应当使用经修改分支。此外， 切换节点的所有父节点同样可具有被设置为“重载”的属性。</p>
    <p>[0098]	在切换节点被插入之后，经修改的DOM被传送到规格化器以供处理，以便处理视频数据。规格化器可以尝试对切换节点进行规格化，然而，如果“重载”属性被设置在切换节点上，则遵循经修改分支，并且经修改分支的第一子节点被拷贝和返回。规格化沿经修改分支继续，忽略原始分支。如果检测到embed或object标签，标签被传递到示例逻辑，该逻辑通过视频处理方案来运行节点，并且得到的视频内容被附加到规格化D0M。遇到的所有其他切换节点将根据切换状态对来自原始分支的子节点进行规格化。最后，例如，规格化的 DOM将不包含任何切换节点，仅包括属于切换状态所指定的分支的那些节点。[0099]	所述的示例方法可使用QuickDom规格化器功能对原始DOM执行功能。QuickDom 规格化器可具有类例如SwitchState说明对给定的切换节点遵循什么分支（例如，缺省为原始）。SwitchState的值包括原始（遵循原始分支）、插入（当前插入内容）、修改（遵循修改分支）以及覆盖（取代所有DOM切换状态设置）。</p>
    <p>[0100]	QuickDom规格化器还可包括可被下面表2中所示的那些执行的方法。所述的其他类和方法也可包括在QuickDom规格化器中。</p>
    <p>[0101]</p>
    <p>setDOMSwitch(int mode, String override)/getDOMSwitch()	设置切换节点属性getParentSwitchNode	定位父切换节点getAncestorSwitchNode/getAncestorSwitchNodes	定位祖先切换节点</p>
    <p>[0102]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102414681A/CN102414681AD00191.png"> <img id="idf0002" file="CN102414681AD00191.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102414681A/CN102414681AD00191.png" class="patent-full-image" alt="Figure CN102414681AD00191"> </a> </div>
    <p>[0103]表	2</p>
    <p>[0104]	虽然这里公开了各种方面和实施方式，其他方面和实施方式对本领域技术人员是明显的。这里公开的各种方面和实施方式是为了说明而不是要限制，真正的范围和精神由下列权利要求指明。</p>
    <p>[0105]	本公开不是要限制在本申请中所述的具体实施方式，其仅用于说明各种方面。可以做出很多修改和变更而不脱离其精神和范围，这对本领域技术人员是明显的。根据上述说明，除了此处列举的之外，本公开的范围中的功能等效的方法和装置对本领域技术人员是明显的。这些修改和变更意欲落在所附权利要求的范围内。本公开仅被所附权利要求以及这些权利要求给予的与它等效的全部范围所限制。应理解这个公开不限于具体的方法、 试剂、混合物成分或生物系统，其当然可以变更。还应理解此处使用的术语仅用于说明具体实施方式，而不是为了限制。[0106] 虽然这里公开了各种方面和实施方式，其他方面和实施方式对本领域技术人员是明显的。这里公开的各种方面和实施方式是为了说明而不是要限制，真正的范围和精神由下列权利要求指明。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1564974A?cl=zh">CN1564974A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2002年10月4日</td><td class="patent-data-table-td patent-date-value">2005年1月12日</td><td class="patent-data-table-td ">松下电器产业株式会社</td><td class="patent-data-table-td ">打印数据产生装置以及打印数据产生方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20060224690">US20060224690</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2005年4月1日</td><td class="patent-data-table-td patent-date-value">2006年10月5日</td><td class="patent-data-table-td ">Microsoft Corporation</td><td class="patent-data-table-td ">Strategies for transforming markup content to code-bearing content for consumption by a receiving device</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20080139191">US20080139191</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2006年12月8日</td><td class="patent-data-table-td patent-date-value">2008年6月12日</td><td class="patent-data-table-td ">Miguel Melnyk</td><td class="patent-data-table-td ">Content adaptation</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102789474A?cl=zh">CN102789474A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月12日</td><td class="patent-data-table-td patent-date-value">2012年11月21日</td><td class="patent-data-table-td ">北京京东世纪贸易有限公司</td><td class="patent-data-table-td ">处理网页数据的方法和装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=qsKKBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=qsKKBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F17/30861">G06F17/30861</a></span></td></tr><tr><td class="patent-data-table-td "> 欧洲专利分类号</td><td class="patent-data-table-td "><span class="nested-value">G06F17/30W</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年4月11日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年5月23日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年6月11日</td><td class="patent-data-table-td ">C02</td><td class="patent-data-table-td ">Deemed withdrawal of patent application after publication (patent law 2001)</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/7b196b33134bfefaac49/CN102414681A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86%E6%96%87%E6%A1%A3%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B_dom_%E4%BB%A5.pdf?id=qsKKBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U3oMRmbLAJ0ClLURrGWpfx7Rc2GyQ"},"sample_url":"https://www.google.com/patents/reader?id=qsKKBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>