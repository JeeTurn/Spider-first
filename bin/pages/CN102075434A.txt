<!DOCTYPE html><html><head><title>专利 CN102075434A - 一种虚拟集群中的通信方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种虚拟集群中的通信方法"><meta name="DC.contributor" content="付宇" scheme="inventor"><meta name="DC.contributor" content="吴松" scheme="inventor"><meta name="DC.contributor" content="石宣化" scheme="inventor"><meta name="DC.contributor" content="金海 " scheme="inventor"><meta name="DC.contributor" content="华中科技大学" scheme="assignee"><meta name="DC.date" content="2011-1-28" scheme="dateSubmitted"><meta name="DC.description" content="一种虚拟集群中的通信方法，属于虚拟化及集群计算领域，解决虚拟化技术下的网络通信效率性能低下、非域间通信时虚拟集群中TCP/IP通信协议过于复杂、域间通信时数据报穿越的路径过长导致域间通信性能低下的问题，以提高虚拟集群网络通信效率。本发明包括启动步骤、连接帮助步骤、非域间通信步骤、虚拟机发现步骤以及域间通信步骤。本发明对虚拟集群内非域间通信进行专门设计，可以显著提高网络通信的效率，降低处理器的负担；对域间通信采用在虚拟机之间开辟域间通信通道，大大提高网络通信的性能；本发明具有对已有应用程序的二进制兼容性，不依赖于虚拟集群使用的具体网络硬件，效率高、可用性高。"><meta name="DC.date" content="2011-5-25"><meta name="DC.relation" content="CN:101661381:A" scheme="references"><meta name="DC.relation" content="CN:101751335:A" scheme="references"><meta name="DC.relation" content="WO:2010144757:A1" scheme="references"><meta name="citation_patent_publication_number" content="CN:102075434:A"><meta name="citation_patent_application_number" content="CN:201110031925"><link rel="canonical" href="https://www.google.com/patents/CN102075434A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102075434A?cl=zh"/><meta name="title" content="专利 CN102075434A - 一种虚拟集群中的通信方法"/><meta name="description" content="一种虚拟集群中的通信方法，属于虚拟化及集群计算领域，解决虚拟化技术下的网络通信效率性能低下、非域间通信时虚拟集群中TCP/IP通信协议过于复杂、域间通信时数据报穿越的路径过长导致域间通信性能低下的问题，以提高虚拟集群网络通信效率。本发明包括启动步骤、连接帮助步骤、非域间通信步骤、虚拟机发现步骤以及域间通信步骤。本发明对虚拟集群内非域间通信进行专门设计，可以显著提高网络通信的效率，降低处理器的负担；对域间通信采用在虚拟机之间开辟域间通信通道，大大提高网络通信的性能；本发明具有对已有应用程序的二进制兼容性，不依赖于虚拟集群使用的具体网络硬件，效率高、可用性高。"/><meta property="og:title" content="专利 CN102075434A - 一种虚拟集群中的通信方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102075434A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102075434A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102075434A&amp;usg=AFQjCNFjTJ_dZv6f4kwDlqf2uzuyJ1jJCQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/8aff86adc9c4b9392900/CN102075434A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/8aff86adc9c4b9392900/CN102075434A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102075434A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102075434A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102075434A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102075434B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102075434A?cl=zh" style="display:none"><span itemprop="description">一种虚拟集群中的通信方法，属于虚拟化及集群计算领域，解决虚拟化技术下的网络通信效率性能低下、非域间通信时虚拟集群中TCP/IP通信协议过于复杂、域间通信时数据报穿越的路径过长导致域间通信性能低下的问题，以提高...</span><span itemprop="url">https://www.google.com/patents/CN102075434A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102075434A - 一种虚拟集群中的通信方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102075434A - 一种虚拟集群中的通信方法" title="专利 CN102075434A - 一种虚拟集群中的通信方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102075434 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110031925</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年5月25日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年1月28日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年1月28日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102075434B?hl=zh-CN&amp;cl=zh">CN102075434B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110031925.9, </span><span class="patent-bibdata-value">CN 102075434 A, </span><span class="patent-bibdata-value">CN 102075434A, </span><span class="patent-bibdata-value">CN 201110031925, </span><span class="patent-bibdata-value">CN-A-102075434, </span><span class="patent-bibdata-value">CN102075434 A, </span><span class="patent-bibdata-value">CN102075434A, </span><span class="patent-bibdata-value">CN201110031925, </span><span class="patent-bibdata-value">CN201110031925.9</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E4%BB%98%E5%AE%87%22">付宇</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%90%B4%E6%9D%BE%22">吴松</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%9F%B3%E5%AE%A3%E5%8C%96%22">石宣化</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E9%87%91%E6%B5%B7%EF%BF%BD%22">金海 </a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%AD%E7%A7%91%E6%8A%80%E5%A4%A7%E5%AD%A6%22">华中科技大学</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102075434A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102075434A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102075434A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (3),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (7),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (4),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110031925&amp;usg=AFQjCNGhldrrfpbdYbjLnzgux1hVA2pSHg"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102075434A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGzofo7V-Q-elFjx2U2TPy7ExyBeQ"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT103305912" lang="ZH" load-source="patent-office">一种虚拟集群中的通信方法</invention-title>
      </span><br><span class="patent-number">CN 102075434 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA85214986" lang="ZH" load-source="patent-office">
    <div class="abstract">一种虚拟集群中的通信方法，属于虚拟化及集群计算领域，解决虚拟化技术下的网络通信效率性能低下、非域间通信时虚拟集群中TCP/IP通信协议过于复杂、域间通信时数据报穿越的路径过长导致域间通信性能低下的问题，以提高虚拟集群网络通信效率。本发明包括启动步骤、连接帮助步骤、非域间通信步骤、虚拟机发现步骤以及域间通信步骤。本发明对虚拟集群内非域间通信进行专门设计，可以显著提高网络通信的效率，降低处理器的负担；对域间通信采用在虚拟机之间开辟域间通信通道，大大提高网络通信的性能；本发明具有对已有应用程序的二进制兼容性，不依赖于虚拟集群使用的具体网络硬件，效率高、可用性高。&#160;</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(3)</span></span></div><div class="patent-text"><div mxw-id="PCLM36391154" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1. 一种虚拟集群中的通信方法，包括启动步骤、连接帮助步骤、非域间通信步骤、虚拟 机发现步骤以及域间通信步骤，其特征在于：(1)启动步骤，为每台虚拟机创建虚拟字符设备，在每台虚拟机的内存中设置通道指针 数组、窗口值W和时间T，每台虚拟机在所在物理计算机的一块内存Xen Store中写入自己 的虚拟机ID和MAC地址信息；所述窗口值W为64&#12316;256个，时间T为0. 1&#12316;Ims ；(2)连接帮助步骤，包括下述子步骤：(2. DLinux内核调用截获子步骤：请求建立TCP连接的虚拟机修改Linux内核代码中 的函数指针，截获上层应用程序对TCP连接建立函数的调用指令，根据调用指令中的目标 IP地址判断网络通信是否属于虚拟集群内的非域间通信，是则请求建立一个用于建立轻量 级通信连接时交换所需信息的TCP连接，转子步骤O. 2)，否则转子步骤（2.4)；(2. 2)网络监听子步骤：TCP连接的目标虚拟机接受TCP连接请求，把TCP连接套接字 描述符写入到自身的虚拟字符设备中，转子步骤（2.3)；(2. 3)连接建立子步骤：写入TCP连接套接字描述符后，目标虚拟机在自身的内存中分 配数据缓冲区并将其初始化，在通道指针数组中为该数据缓冲区分配通道号，然后通过TCP 连接向请求建立TCP连接的虚拟机发送自身的MAC地址和通道号，接收对方的MAC地址和 通道号，完成轻量级协议连接的建立，转步骤（3)；(2. 4) TCP/IP协议子步骤：通过TCP/IP协议的三次握手过程与目标地址建立起TCP连 接，在传输数据时，TCP/IP协议采用超时重传和捎带确认机制保证数据传输的可靠性，在流 量控制上，TCP/IP协议采用滑动窗口的方式，已发送且未确认的数据的字节数最大不能超 过滑动窗口的大小，在TCP/IP协议完成数据报的处理后，转步骤；(3)非域间通信步骤，包括下述子步骤：(3. 1)数据缓冲子步骤：请求建立TCP连接的虚拟机或者目标虚拟机发送数据时，将要 发送的数据存放在自身数据缓冲区的发送缓冲区中，转子步骤（3.2)；请求建立TCP连接的 虚拟机或者目标虚拟机接收数据时，将接收到的数据存放在自身数据缓冲区的接收缓冲区 中，等待应用程序读取；(3. 2)数据传输子步骤：从发送缓冲区中取出数据组装成数据报，将数据报通过Xen的 虚拟网络接口发送给对方虚拟机，直至所要发送的数据全部发送完毕；(4)虚拟机发现步骤，包括下述子步骤：(4. 1)虚拟机扫描子步骤：请求建立TCP连接的虚拟机所在的物理计算机周期性地扫 描自身内存的Xen Store区域，获取参与域间通信的虚拟机列表信息，转子步骤（4.2)；(4. 2)虚拟机信息广播子步骤：将参与域间通信的虚拟机列表信息组成列表信息数据 报，通过网络广播到每一个参与域间通信的虚拟机中去，转步骤（5)；(5)域间通信步骤，包括下述子步骤：(5. 1)数据报截获子步骤：请求建立TCP连接的虚拟机收到列表信息数据报，将其中的 虚拟机列表信息存放在自身内存中；然后截获经过TCP/IP协议处理的数据报，查看该数据 报的目标地址是否包括在所述虚拟机列表信息中，是则转子步骤（5. 2)，否则将数据报通过 Xen的虚拟网络接口发送给目标地址；(5. 2)域间通信通道建立子步骤：请求建立TCP连接的虚拟机查看是否和目标虚拟机 之间已经建立域间通信通道，是则转子步骤（5. 4)，否则转子步骤（5.3)；(5. 3)在自身内存中分配读入缓冲区和写出缓冲区并创建一个事件通道，然后发送通 道建立数据报通知目标虚拟机将两个缓冲区的内存地址映射到目标虚拟机的内存地址空 间中并且与所创建的事件通道绑定，目标虚拟机收到通道建立数据报后完成所述映射和绑 定操作，转子步骤（5.4)；(5. 4)域间数据发送子步骤：请求建立TCP连接的虚拟机将数据报拷贝到域间通信通 道的写出缓冲区中，通过事件通道通知目标虚拟机，目标虚拟机收到通知后从自身读入缓 冲区中取出数据报，并释放读入缓冲区中的空间；通信双方重复上述过程，直至数据报发送 完毕。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的虚拟集群中的通信方法，其特征在于：所述非域间通信步骤数据的传输子步骤中，所述数据报由报头和数据构成，报头用于 在发送数据报的时候交换所需的控制信息，报头包含8个字段，从前到后依次为校验和、数 据报序列号、数据起始索引值、数据负载值、数据报序列确认号、数据报索引确认号、数据报 标识字段、通道号；校验和字段存放对报头及数据所计算出的校验和的值；数据报序列号字段用于标识数据报的先后顺序，第一个数据报序列号的值随机生成， 之后每个数据报序列号值顺序加一；数据起始索引值为所述数据在发送缓冲区中的起始索引值；数据负载值为所述数据的字节数；数据报序列确认号为下一个期待接收到数据报的序列号；数据报索引确认号为接收缓存区中数据的结束索引值；数据报标识字段存放是否要求确认的标识；通道号字段为通道指针数组中项的索引。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求1或2所述的虚拟集群中的通信方法，其特征在于： 所述非域间通信步骤中，数据传输子步骤包括下述过程：A.从发送缓冲区中根据网络最大传输单元的大小取出尽量多的数据，计算数据的校验 和并将其存放在数据报报头校验和字段中，数据报报头中再依次填入数据报序列号、数据 起始索引值、数据负载值、数据报确认序列号、数据报索引确认号、数据报标识字段、通道号 字段的值，组装成一个数据报，使得数据报的大小不超过网络最大传输单元的大小；B.将组装成的数据报通过Xen的虚拟网络接口发送给通信对方；C.发送数据报个数每达到窗口值W的四分之一时，在最后一个数据报报头中加入要求 确认标识，要求通信对方发送确认数据报；当已发送但未确认数据报个数达到窗口值W时， 停止发送数据报，判断在时间T内是否收到确认数据报，是则继续发送，否则再次在一个数 据报报头中加入要求确认标识，要求通信对方发送确认数据报；三倍时间T内仍未收到确 认数据报，则转过程A，重新组装未确认数据报；D.在发送完缓冲区中所有数据后，在最终数据报报头中加入要求确认标识，要求通信 对方发送确认数据报；判断在时间T内是否收到确认数据报，是则结束，否则再次在最终数 据报报头中加入要求确认标识，要求通信对方发送确认数据报；三倍时间T内仍未收到确 认数据报，则转过程A，重新组装未确认数据报。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES42108644" lang="ZH" load-source="patent-office" class="description">
    <p>一种虚拟集群中的通信方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明属于虚拟化及集群计算领域，具体涉及一种虚拟集群中的通信方法。 </p>
    <p>背景技术</p>
    <p>[0002]	近年来，以资源的高效组织、透明使用为目的的虚拟化技术快速发展，为计算机软 硬件产业的发展提供了一个突破点。</p>
    <p>[0003]	虚拟化是将底层物理设备与上层操作系统、软件分离的一种去耦合技术，它可以 实现计算资源的高效灵活使用。计算系统虚拟化的实质就是针对个性化需求，高效组织计 算资源，隔离具体的硬件体系结构和软件系统之间的紧密依赖关系，在动态环境中按需构 建计算系统虚拟映像，构造可以适应用户需求的协同普适化任务执行环境，从而实现透明 的可伸缩计算架构，提高计算资源的使用效率，发挥计算资源的聚合效能，使用户可以获得 高效透明的服务。</p>
    <p>[0004]	剑桥大学开发的虚拟机监视器Xen是一个开放源代码的虚拟机监视器，通过Xen， 多个操作系统可以同时在一台物理计算机上运行。运行在物理硬件和操作系统之间的虚拟 机监视器Xen虚拟化了底层的物理硬件资源并且向运行在Xen上面的操作系统提供虚拟化 的资源。运行在Xen上的操作系统被称为虚拟机，其中一个具有直接硬件访问特权的虚拟 机被称为Dom 0，其它不具有直接硬件访问特权的虚拟机被统称为Dom U。</p>
    <p>[0005]	在虚拟机管理器Xen中，提供了在虚拟机之间共享内存的机制GrantTable (通过 调用Grant Table提供的函数，一台虚拟机可以访问另一台虚拟机的内存）；还提供了事件 通道机制用于一台物理计算机上的虚拟机之间传递消息；包含了用于存储虚拟机配置信息 的内存区域Xen More(虚拟机管理器Xen中的一块特殊的内存，各虚拟机可以在其中写入 信息和读取自己写入的信息，特权虚拟机Dom O可以从中读取所有的信息）。</p>
    <p>[0006]	虚拟集群包括多台处于运行状态的物理计算机，这些物理计算机通过高速的局域 网络连接通信，每台物理计算机上运行有多个虚拟机，这些虚拟机上面运行着各种不同的 任务，包括高性能科学计算、大规模分布式数据处理等。虚拟集群中的物理计算机包括一个 或者多个物理CPU(中央处理器），虚拟机监视器以及一台或多台虚拟机（指通过软件模拟 的，具有完整硬件系统功能的，运行在一个完全隔离环境中的完整计算机系统），每台虚拟 机上运行一个客户操作系统（Guest OS)。虚拟机监视器采用灵活的处理器调度策略，以响 应各个虚拟机不断变化的负载情况。</p>
    <p>[0007]	在虚拟集群中，存在着三种类型的通信，虚拟集群内非域间通信（不同物理计算 机上虚拟机之间的网络通信）、域间通信（同一个物理计算机上虚拟机之间的网络通信）和 外部通信（虚拟集群中的虚拟机与外界计算机之间的通信）。</p>
    <p>[0008]	在虚拟集群中，虚拟化的物理计算机之间通过高速网络相连，例如千兆以太网、 VIA、Quadrics, Myrinet和InfiniBand(高速局域网络的几种类型)等，具有低延时、高带 宽的特点。通常物理计算机之间的网络通信仍旧是通过复杂的传输控制协议和网际协议 (TCP/IP)来进行通信的。TCP/IP协议是为了适应hternet网络复杂的网络环境而设计的，非常复杂，由于没有像hternet那样复杂的网络环境，所以TCP/IP协议并不太适合于 虚拟集群计算，浪费了宝贵的计算资源。TCP/IP协议是《计算机网络》课程的主要内容，见 《TCP/IP详解，卷1-卷3》，史蒂文斯（美国）著，范建华等译，机械工业出版社。</p>
    <p>[0009]	经过评测，在虚拟集群内非域间通信的情况下，测试表明Linux虚拟机的网络通 信性能远低于物理Linux计算机系统的网络通信性能。网络数据接收性能会降低为物理 Linux计算机系统的1/2到1/3，网络数据发送性能会降低到物理Linux计算机系统的1/5。</p>
    <p>[0010]	在域间通信情况下，发送端虚拟机中的数据报需要通过TCP/IP协议栈、发送端 虚拟机前端驱动（Xen虚拟网络接口驱动位于虚拟机中的一部分），然后发送到位于Dom 0(Xen中具有硬件访问特权的虚拟机）中的后端驱动（Xen虚拟网络接口驱动位于Dom O中 的一部分），经虚拟网桥（用于连接Xen中的各个虚拟机的后端驱动）转发到接收端虚拟机 的前端驱动、TCP/IP协议栈后才能达到应用程序，数据报穿越的长路径导致域间通信性能 非常低下。</p>
    <p>[0011]	如前所述，虚拟集群中虚拟机低效的网络通信性能会严重降低应用程序的效率， 提高虚拟机网络通信的性能是一个亟待解决的问题。</p>
    <p>发明内容</p>
    <p>[0012]	本发明提出一种虚拟集群中的轻量级通信方法，解决虚拟化技术下的网络通信效 率性能低下、非域间通信时虚拟集群中TCP/IP通信协议过于复杂、域间通信时数据报穿越 的路径过长导致域间通信性能低下的问题，以提高虚拟集群网络通信效率。</p>
    <p>[0013]	本发明在启动时，在虚拟机中创建一个虚拟字符设备，向该设备写TCP连接的套 接字描述符时，连接建立子步骤利用该套接字描述符完成轻量级协议连接的建立；还在虚 拟机的内存空间中分配通道指针数组，通道指针数组中的项指向轻量级通信协议的数据缓 冲区，通道号是通道指针数组中项的索引，通过通道号可以方便地找到相应的轻量级通信 协议数据缓冲区；同时会设置窗口值W和时间T，窗口值W表示已发送但未确认的数据报的 最大个数，时间T指的是等待数据报确认的最长时间。</p>
    <p>[0014]	域间通信机制在相互通信的虚拟机之间开辟域间通信通道，域间通信通道包括读 入缓冲区和写出缓冲区两个缓冲区和一个事件通道，读入和写出两个缓冲区分别负责接收 和发送数据，事件通道用于相互通信的虚拟机之间传递消息。</p>
    <p>[0015]	本发明发送的数据报和IP数据报一样，也有报头结构，用来在发送数据报的时候 交换所需的控制信息。虚拟集群内非域间通信数据报的报头大小可以为32字节，包含8个 字段，每个字段的大小可以为4个字节，从前到后分别为校验和、数据报序列号、数据起始 索引值、数据负载值、数据报确认序列号、数据报索引确认号、数据报标识字段、通道号。</p>
    <p>[0016]	本发明的一种虚拟集群中的通信方法，包括启动步骤、连接帮助步骤、非域间通信 步骤、虚拟机发现步骤以及域间通信步骤，其特征在于：</p>
    <p>[0017]	(1)启动步骤，为每台虚拟机创建虚拟字符设备，在每台虚拟机的内存中设置通道 指针数组、窗口值W和时间T，每台虚拟机在所在物理计算机的一块内存Xen Store中写入 自己的虚拟机ID和MAC地址信息；所述窗口值W为64&#12316;256个，时间T为0. 1&#12316;Ims ；</p>
    <p>[0018]	(2)连接帮助步骤，包括下述子步骤：</p>
    <p>[0019]	(2. 1) Linux内核调用截获子步骤：请求建立TCP连接的虚拟机修改Linux内核代码中的函数指针，截获上层应用程序对TCP连接建立函数的调用指令，根据调用指令中的 目标IP地址判断网络通信是否属于虚拟集群内的非域间通信，是则请求建立一个用于建 立轻量级通信连接时交换所需信息的TCP连接，转子步骤O. 2)，否则转子步骤（2.4)；</p>
    <p>[0020]	(2. 2)网络监听子步骤：TCP连接的目标虚拟机接受TCP连接请求，把TCP连接套 接字描述符写入到自身的虚拟字符设备中，转子步骤（2.3)；</p>
    <p>[0021]	(2. 3)连接建立子步骤：写入TCP连接套接字描述符后，目标虚拟机在自身的内存 中分配数据缓冲区并将其初始化，在通道指针数组中为该数据缓冲区分配通道号，然后通 过TCP连接向请求建立TCP连接的虚拟机发送自身的MAC地址和通道号，接收对方的MAC 地址和通道号，完成轻量级协议连接的建立，转步骤（3)；</p>
    <p>[0022]	(2. 4) TCP/IP协议子步骤：通过TCP/IP协议的三次握手过程与目标地址建立起 TCP连接，在传输数据时，TCP/IP协议采用超时重传和捎带确认机制保证数据传输的可靠 性，在流量控制上，TCP/IP协议采用滑动窗口的方式，已发送且未确认的数据的字节数最大 不能超过滑动窗口的大小，在TCP/IP协议完成数据报的处理后，转步骤；</p>
    <p>[0023]	(3)非域间通信步骤，包括下述子步骤：</p>
    <p>[0024]	(3. 1)数据缓冲子步骤：请求建立TCP连接的虚拟机或者目标虚拟机发送数据时， 将要发送的数据存放在自身数据缓冲区的发送缓冲区中，转子步骤（3.2)；请求建立TCP连 接的虚拟机或者目标虚拟机接收数据时，将接收到的数据存放在自身数据缓冲区的接收缓 冲区中，等待应用程序读取；</p>
    <p>[0025]	(3. 2)数据传输子步骤：从发送缓冲区中取出数据组装成数据报，将数据报通过 Xen的虚拟网络接口发送给对方虚拟机，直至所要发送的数据全部发送完毕；</p>
    <p>[0026]	(4)虚拟机发现步骤，包括下述子步骤：</p>
    <p>[0027]	(4. 1)虚拟机扫描子步骤：请求建立TCP连接的虚拟机所在的物理计算机周期 性地扫描自身内存的)(en Store区域，获取参与域间通信的虚拟机列表信息，转子步骤 (4. 2)；</p>
    <p>[0028]	(4. 2)虚拟机信息广播子步骤：将参与域间通信的虚拟机列表信息组成列表信息 数据报，通过网络广播到每一个参与域间通信的虚拟机中去，转步骤（5)；</p>
    <p>[0029]	(5)域间通信步骤，包括下述子步骤：</p>
    <p>[0030]	(5. 1)数据报截获子步骤：请求建立TCP连接的虚拟机收到列表信息数据报，将其 中的虚拟机列表信息存放在自身内存中；然后截获经过TCP/IP协议处理的数据报，查看该 数据报的目标地址是否包括在所述虚拟机列表信息中，是则转子步骤（5. 2)，否则将数据报 通过Xen的虚拟网络接口发送给目标地址；</p>
    <p>[0031]	(5. 2)域间通信通道建立子步骤：请求建立TCP连接的虚拟机查看是否和目标虚 拟机之间已经建立域间通信通道，是则转子步骤（5. 4)，否则转子步骤（5.3)；</p>
    <p>[0032]	(5. 3)在自身内存中分配读入缓冲区和写出缓冲区并创建一个事件通道，然后发 送通道建立数据报通知目标虚拟机将两个缓冲区的内存地址映射到目标虚拟机的内存地 址空间中并且与所创建的事件通道绑定，目标虚拟机收到通道建立数据报后完成所述映射 和绑定操作，转子步骤（5.4)；</p>
    <p>[0033]	(5. 4)域间数据发送子步骤：请求建立TCP连接的虚拟机将数据报拷贝到域间通 信通道的写出缓冲区中，通过事件通道通知目标虚拟机，目标虚拟机收到通知后从自身读入缓冲区中取出数据报，并释放读入缓冲区中的空间；通信双方重复上述过程，直至数据报 发送完毕。</p>
    <p>[0034]	所述的虚拟集群中的通信方法，其特征在于：</p>
    <p>[0035]	所述非域间通信步骤数据的传输子步骤中，所述数据报由报头和数据构成，报头 用于在发送数据报的时候交换所需的控制信息，报头包含8个字段，从前到后依次为校验 和、数据报序列号、数据起始索引值、数据负载值、数据报序列确认号、数据报索引确认号、 数据报标识字段、通道号；</p>
    <p>[0036]	校验和字段存放对报头及数据所计算出的校验和的值，用于保证传输的数据报的 正确性；</p>
    <p>[0037]	数据报序列号字段用于标识数据报的先后顺序，第一个数据报序列号的值随机生 成，之后每个数据报序列号值顺序加一；</p>
    <p>[0038]	数据起始索引值为所述数据在发送缓冲区中的起始索引值；</p>
    <p>[0039]	数据负载值为所述数据的字节数；</p>
    <p>[0040]	数据报序列确认号为下一个期待接收到数据报的序列号，用于对接收到的数据报 进行确认；</p>
    <p>[0041]	数据报索引确认号为接收缓存区中数据的结束索引值；</p>
    <p>[0042]	数据报标识字段存放是否要求确认的标识；</p>
    <p>[0043]	通道号字段为通道指针数组中项的索引，通过通道号可以方便地找到相应的轻量 级通信协议数据缓冲区。</p>
    <p>[0044]	所述的虚拟集群中的通信方法，其特征在于：</p>
    <p>[0045]	所述非域间通信步骤中，数据传输子步骤包括下述过程：</p>
    <p>[0046]	A.从发送缓冲区中根据网络最大传输单元（MTU)的大小取出尽量多的数据，计算 数据的校验和并将其存放在数据报报头校验和字段中，数据报报头中再依次填入数据报序 列号、数据起始索引值、数据负载值、数据报确认序列号、数据报索引确认号、数据报标识字 段、通道号字段的值，组装成一个数据报，使得数据报的大小不超过网络最大传输单元的大</p>
    <p>[0047]	B.将组装成的数据报通过Xen的虚拟网络接口发送给通信对方；</p>
    <p>[0048]	C.发送数据报个数每达到窗口值W的四分之一时，在最后一个数据报报头中加入 要求确认标识，要求通信对方发送确认数据报；当已发送但未确认数据报个数达到窗口值 W时，停止发送数据报，判断在时间T内是否收到确认数据报，是则继续发送，否则再次在一 个数据报报头中加入要求确认标识，要求通信对方发送确认数据报；三倍时间T内仍未收 到确认数据报，则转过程A，重新组装未确认数据报；</p>
    <p>[0049]	D.在发送完缓冲区中所有数据后，在最终数据报报头中加入要求确认标识，要求 通信对方发送确认数据报；判断在时间T内是否收到确认数据报，是则结束，否则再次在最 终数据报报头中加入要求确认标识，要求通信对方发送确认数据报；三倍时间T内仍未收 到确认数据报，则转过程A，重新组装未确认数据报。</p>
    <p>[0050]	本发明具有以下特点：</p>
    <p>[0051]	(1)同时对域间通信和非域间通信进行优化</p>
    <p>[0052]	本发明对非域间通信进行专门设计，避免了 TCP/IP复杂的处理过程，降低了处理器的处理负担，提高了网络通信的性能；对于域间通信，在相互通信的虚拟机之间共享内存 开辟高速通信通道，缩短了数据报穿越的路径，大幅提高域间通信的性能；可以显著提高虚 拟集群中网络通信的性能。</p>
    <p>[0053]	(2)不依赖虚拟集群使用的具体网络硬件</p>
    <p>[0054]	本发明的各个步骤可以由功能模块实现，与虚拟集群具体使用的网络硬件无关， 不依赖于底层网络基础设施。</p>
    <p>[0055]	(3)原有二进制程序可以直接运行于本发明</p>
    <p>[0056]	本发明保持了应用程序的套接字函数接口不变，具有对已有应用程序的二进制兼 容性，原有的应用程序不用重新编写或是重新编译就可以在本发明运行，提高现有应用的 网络通信的性能。</p>
    <p>附图说明</p>
    <p>[0057]	图1为本发明的工作流程图；</p>
    <p>[0058]	图2为非域间通信步骤的数据传输子步骤工作流程图。 具体实施方式</p>
    <p>[0059]	为了验证本发明的可行性和有效性，在真实环境下本发明的步骤可编写为计算机 程序，部署到虚拟集群环境中，并和没有采用本发明时虚拟集群内虚拟机非域间通信和域 间通信的性能进行比较。</p>
    <p>[0060]	本实施例共采用两台硬件配置相同的计算机，两台计算机的编号分别为PCl和 PC2，其配置如表1所示。</p>
    <p>[0061]	表1:实验配置环境</p>
    <p>[0062]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102075434A/CN102075434AD00081.png"> <img id="idf0001" file="CN102075434AD00081.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102075434A/CN102075434AD00081.png" class="patent-full-image" alt="Figure CN102075434AD00081"> </a> </div>
    <p>[0063] 在PCl上启动两台虚拟机，标号分别为VMl和VM2，在PC2上启动一台虚拟机，编号 为 VM3。[0064]	在未采用本发明的情况下，利用netperf程序（一个用于测试网络吞吐量的测试 程序）测试VMl和VM3之间TCP协议非域间通信的性能，利用netperf程序测试VMl和VM2 之间TCP协议域间通信的性能。</p>
    <p>[0065]	将本发明部署到测试环境中，启动时，为VM1、VM2和VM3中创建虚拟字符设备，在 VMU VM2和VM3的内存中分配通道指针数组，设定窗口值W的大小为128、时间T的大小为 0. 5ms，并且将虚拟机VM1、VM2的ID号和MAC地址写到PCl的Xen Store内存区域中，将 VM3的ID号和MAC地址写到PC2的Xen Store内存区域中。</p>
    <p>[0066]	在VMl和VM3之间用netperf程序测试非域间通信的性能。VMl向VM3请求建立 TCP连接时，Linux内核截获子步骤判断出该TCP连接请求目标地址属于虚拟集群内的非域 间通信，在通信对方通过网络监听子步骤的帮助下，连接建立子步骤完成轻量级协议连接 的建立；当VMl发送数据到VM2时，数据缓冲子步骤将发送的数据缓冲在发送缓冲区中，由 数据传输子步骤负责数据的发送，当VMl收到VM2发来的数据时，将接收到的数据缓冲在接 收缓冲区中，等待应用程序从接收缓冲区中读取数据。</p>
    <p>[0067]	在VMl和VM2之间用netperf程序测试域间通信的性能。VMl向VM3请求建立TCP 连接时，Linux内核截获子步骤判断出该TCP连接请求目标地址不属于虚拟集群内的非域 间通信，转由TCP协议子步骤处理；虚拟机发现子步骤从物理计算机Xen Store内存中获取 虚拟机列表信息并且通过列表信息数据报广播到VMl和VM2中去；当数据报截获子步骤截 获到目标地址为VM2的数据报时，查看VMl和VM2之间是否建立了域间通信通道，是则将数 据报拷贝到域间通信通道中向VM2传递数据的缓冲区中，并通过事件通道通知VM2读取数 据报，否则由域间通信通道建立子步骤在VMl和VM2间建立域间通信通道，然后则将数据报 拷贝到域间通信通道中向VM2传递数据的缓冲区中，并通过事件通道通知VM2读取数据报。</p>
    <p>[0068]	测试结果如表2所示。</p>
    <p>[0069]	表2 ：虚拟集群内非域间通信和域间通信吞吐量测试结果</p>
    <p>[0070]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102075434A/CN102075434AD00091.png"> <img id="idf0002" file="CN102075434AD00091.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102075434A/CN102075434AD00091.png" class="patent-full-image" alt="Figure CN102075434AD00091"> </a> </div>
    <p>[0071] 测试结果表明，在虚拟集群内非域间通信的情况下，本发明的吞吐量较TCP协议 提高约2.6% ；在域间通信的情况下，本发明的吞吐量较TCP协议提高约157%。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101661381A?cl=zh">CN101661381A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2009年9月8日</td><td class="patent-data-table-td patent-date-value">2010年3月3日</td><td class="patent-data-table-td ">华南理工大学</td><td class="patent-data-table-td ">一种基于Xen的数据共享与访问控制方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101751335A?cl=zh">CN101751335A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年11月28日</td><td class="patent-data-table-td patent-date-value">2010年6月23日</td><td class="patent-data-table-td ">国际商业机器公司</td><td class="patent-data-table-td ">调度虚拟机的垃圾收集的方法、装置和集群系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2010144757A1?cl=zh">WO2010144757A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月11日</td><td class="patent-data-table-td patent-date-value">2010年12月16日</td><td class="patent-data-table-td ">International Business Machines Corporation</td><td class="patent-data-table-td ">Method and apparatus for scalable monitoring of virtual machine environments</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102523204A?cl=zh">CN102523204A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月2日</td><td class="patent-data-table-td patent-date-value">2012年6月27日</td><td class="patent-data-table-td ">华中科技大学</td><td class="patent-data-table-td ">面向QoS的虚拟机网络带宽分配系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102523204B?cl=zh">CN102523204B</a></td><td class="patent-data-table-td patent-date-value">2011年12月2日</td><td class="patent-data-table-td patent-date-value">2014年8月27日</td><td class="patent-data-table-td ">华中科技大学</td><td class="patent-data-table-td ">面向QoS的虚拟机网络带宽分配系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103176833A?cl=zh">CN103176833A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年3月11日</td><td class="patent-data-table-td patent-date-value">2013年6月26日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">一种基于虚拟机的数据发送方法、接收方法及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8701107">US8701107</a></td><td class="patent-data-table-td patent-date-value">2011年6月14日</td><td class="patent-data-table-td patent-date-value">2014年4月15日</td><td class="patent-data-table-td ">Vmware, Inc.</td><td class="patent-data-table-td ">Decentralized management of virtualized hosts</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US8856784">US8856784</a></td><td class="patent-data-table-td patent-date-value">2011年6月14日</td><td class="patent-data-table-td patent-date-value">2014年10月7日</td><td class="patent-data-table-td ">Vmware, Inc.</td><td class="patent-data-table-td ">Decentralized management of virtualized hosts</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9026630">US9026630</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月14日</td><td class="patent-data-table-td patent-date-value">2015年5月5日</td><td class="patent-data-table-td ">Vmware, Inc.</td><td class="patent-data-table-td ">Managing resources in a distributed system using dynamic clusters</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US20120324071">US20120324071</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年6月14日</td><td class="patent-data-table-td patent-date-value">2012年12月20日</td><td class="patent-data-table-td ">Vmware, Inc.</td><td class="patent-data-table-td ">Managing resources in a distributed system using dynamic clusters</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0001180000">H04L1/18</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029080000">H04L29/08</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012861000">H04L12/861</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=GZuUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012749000">H04L12/749</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年5月25日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年7月6日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年7月4日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2016年3月23日</td><td class="patent-data-table-td ">EXPY</td><td class="patent-data-table-td ">Termination of patent right or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/8aff86adc9c4b9392900/CN102075434A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E8%99%9A%E6%8B%9F%E9%9B%86%E7%BE%A4%E4%B8%AD%E7%9A%84%E9%80%9A%E4%BF%A1%E6%96%B9%E6%B3%95.pdf?id=GZuUBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0oGtydsgx4P2MLgT69WoffiGPGSg"},"sample_url":"https://www.google.com/patents/reader?id=GZuUBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>