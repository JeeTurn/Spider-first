<!DOCTYPE html><html><head><title>专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="基于时间位置信息搜索目标用户的方法及系统"><meta name="DC.contributor" content="吴昌澍" scheme="inventor"><meta name="DC.contributor" content="夏丹宁" scheme="inventor"><meta name="DC.contributor" content="武汉若鱼网络科技有限公司" scheme="assignee"><meta name="DC.date" content="2010-12-7" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种基于时间位置信息搜索目标用户的方法，包括：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存储；接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息与存储的所有用户的时间位置信息进行匹配；显示匹配成功的目标用户信息。本发明同时公开了一种基于时间位置信息搜索目标用户的系统。利用本发明，搜索发起用户可以在地图上或者是其他方式映射到地图上的的区域、路线或具体地点来进行选择输入，避免了需要查询包含的每一地点的手动操作，进而使得搜索发起用户只需一次性的输入就能够准确迅速地搜索到所需的目标用户信息，大大节省了搜索时间。"><meta name="DC.date" content="2011-4-27"><meta name="DC.relation" content="CN:101578602:A" scheme="references"><meta name="DC.relation" content="CN:101582062:A" scheme="references"><meta name="DC.relation" content="CN:101867730:A" scheme="references"><meta name="DC.relation" content="CN:1818909:A" scheme="references"><meta name="citation_patent_publication_number" content="CN:102033918:A"><meta name="citation_patent_application_number" content="CN:201010583401"><link rel="canonical" href="https://www.google.com/patents/CN102033918A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102033918A?cl=zh"/><meta name="title" content="专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统"/><meta name="description" content="本发明公开了一种基于时间位置信息搜索目标用户的方法，包括：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存储；接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息与存储的所有用户的时间位置信息进行匹配；显示匹配成功的目标用户信息。本发明同时公开了一种基于时间位置信息搜索目标用户的系统。利用本发明，搜索发起用户可以在地图上或者是其他方式映射到地图上的的区域、路线或具体地点来进行选择输入，避免了需要查询包含的每一地点的手动操作，进而使得搜索发起用户只需一次性的输入就能够准确迅速地搜索到所需的目标用户信息，大大节省了搜索时间。"/><meta property="og:title" content="专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102033918A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102033918A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=-PlxBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102033918A&amp;usg=AFQjCNGSZn0uFbjmsp_5cpbr0-3UbrV9UQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/cf6aeb42180e4cdbda66/CN102033918A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/cf6aeb42180e4cdbda66/CN102033918A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102033918A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102033918A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102033918A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102033918B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102033918A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种基于时间位置信息搜索目标用户的方法，包括：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存储；接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息...</span><span itemprop="url">https://www.google.com/patents/CN102033918A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统" title="专利 CN102033918A - 基于时间位置信息搜索目标用户的方法及系统"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102033918 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201010583401</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年4月27日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2010年12月7日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2010年12月7日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102033918B?hl=zh-CN&amp;cl=zh">CN102033918B</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201010583401.6, </span><span class="patent-bibdata-value">CN 102033918 A, </span><span class="patent-bibdata-value">CN 102033918A, </span><span class="patent-bibdata-value">CN 201010583401, </span><span class="patent-bibdata-value">CN-A-102033918, </span><span class="patent-bibdata-value">CN102033918 A, </span><span class="patent-bibdata-value">CN102033918A, </span><span class="patent-bibdata-value">CN201010583401, </span><span class="patent-bibdata-value">CN201010583401.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%90%B4%E6%98%8C%E6%BE%8D%22">吴昌澍</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A4%8F%E4%B8%B9%E5%AE%81%22">夏丹宁</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E6%AD%A6%E6%B1%89%E8%8B%A5%E9%B1%BC%E7%BD%91%E7%BB%9C%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">武汉若鱼网络科技有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102033918A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102033918A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102033918A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (1),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=-PlxBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201010583401&amp;usg=AFQjCNGyOLjP3b_iszOTMrAN3PwVhGIGIw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=-PlxBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102033918A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNGZSE_rDLa8wsbqs7OsyizoRH2bsw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT102787283" lang="ZH" load-source="patent-office">基于时间位置信息搜索目标用户的方法及系统</invention-title>
      </span><br><span class="patent-number">CN 102033918 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA84703245" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种基于时间位置信息搜索目标用户的方法，包括：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存储；接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息与存储的所有用户的时间位置信息进行匹配；显示匹配成功的目标用户信息。本发明同时公开了一种基于时间位置信息搜索目标用户的系统。利用本发明，搜索发起用户可以在地图上或者是其他方式映射到地图上的的区域、路线或具体地点来进行选择输入，避免了需要查询包含的每一地点的手动操作，进而使得搜索发起用户只需一次性的输入就能够准确迅速地搜索到所需的目标用户信息，大大节省了搜索时间。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(30)</span></span></div><div class="patent-text"><div mxw-id="PCLM35734668" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种基于时间位置信息搜索目标用户的方法，其特征在于，该方法包括：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存储；接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息与存储 的所有用户的时间位置信息进行匹配；显示匹配成功的目标用户信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 对表示用户时间位置的信息进行分析包括：对用户以点击地图方式表示的用户时间位置信息进行分析；或者对用户以点击下拉框方式表示的用户时间位置信息进行分析；或者对用户以输入的文字方式表示的用户时间位置信息进行分析；或者对用户以移动终端定位信息方式表示的用户时间位置信息进行分析。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求2所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 用户以点击地图方式表示的用户时间位置信息包括：用户在人机界面显示的地图上以点击方式进行定位后，在地图上点击的用户待过的位 置点信息或走过的路线信息或待过的某一区域信息，以及在人机界面弹出的对话框中输入 的时间段信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要求3所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 用户在人机界面显示的地图上以点击方式进行定位后，进一步包括：对于位置点信息，选择一个视野范围，根据该视野范围计算出该点所在区域的顶点信 息；或者对于路线信息，选择一个视野范围，根据该视野范围计算出该路线所在区域的顶点信息、ο</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求4所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 对于位置点信息，以用户点击的位置为圆心，视野范围为半径的圆区域，或者是以用户点击 的位置为中心，视野范围为边长的矩形区域，设定一个视野范围。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.根据权利要求3所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 在地图上点击的用户走过的路线信息是通过以下方式获取的：连续点击若干位置，该若干位置是连续记录两点的坐标，且路线为两点间的直线距离； 或者，将点击的位置与存储的路径信息相结合，在地图上显示用户点击两点间的连线是路 径点之间最短距离的连线，所有路径点的坐标信息由最短路径算法得出；若用户进行路径选择时两点中有至少一个未点击到路径点，则计算与该未点击到的路 径点最接近的路径线，并用线段将与该路径线垂直的交点相连接，然后计算该交点路径线 上与该交点距离最短的路径点，并计算该路径点之间的最短距离，路线信息即为用户点击 的点与其最近的路径线之间的垂直距离、该垂直交点距离最短的路径点之间的距离、路径 点之间的最短距离三者之和；记录该点以及交点还有所有路径点的坐标信息，当该点在路 径线上时，则该点到该路径线的距离即为0，与其最接近的线即为该点在路径线上的线，若 有两条或多条路径线穿过该点，则之后计算与该交点各路径线上的路径点之间的距离，取 最短的，若还有一个以上路径点距离一样，则任取一个路径点进行相连；未点击到时也可以 直接计算与该点最近的路径点，最短距离即为该点与其最近的路径点之间的距离加上路径点之间的最短距离。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的基于时间位置信息搜索目标用户的方法，其特征在于，当用 户输入为路线信息以及时间段信息时，进一步对路线长度进行计算，将路线长度除以时间 得出该用户的速度，设定一阈值，若用户输入的路线速度大于该阈值则返回输入不符合要 求，小于该阈值则存储该路线信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求3所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 在地图上点击的用户待过的某一区域信息是通过以下方式获取的：依次进行顶点的标注，形成一个闭区域，这时记录各顶点坐标信息；或者挑选一个矩形 框进行区域的选择，存储各顶点的坐标，或者挑选一个圆区域进行区域的选择，先点击一点 确认圆心坐标，后点击的点确定圆的半径，存储圆心坐标及半径的长度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求3所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 在地图上点击的用户待过的位置点信息或走过的路线信息或待过的某一区域信息，是在二 维情况下进行点击的，当地图的维数为三维时，区域及路线的选择是将高度轴化为0来进 行二维化的。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求2所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 对用户以点击下拉框方式表示的用户时间位置信息进行分析包括：若用户只记录待一个地方，将下拉框一直选到最后一个下拉框并点击确认即可；进行 区域选择时下拉框选择的地理位置相当于一个区域，该区域对应的顶点信息将被自动存 储；在点击下拉框时，一个与用户输入实时体现的地图将被显示；进行路线选择时下拉框 选择的地理位置相当于在地图上该地理位置点击，用户在选择下拉框定位后再在地图中点 击下一个点，或者在点击完地图后在采用下拉框进行选择。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.根据权利要求10所述的基于时间位置信息搜索目标用户的方法，其特征在于，选 择了位置后进一步确定视野范围，以该位置坐标中心点为中心，边长为视野范围的矩形区 域，或者是以该位置坐标中心点为圆心，半径为视野范围的圆形区域。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求2所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 对用户以输入的文字方式表示的用户时间位置信息进行分析时，如果用户输入的文字在地 理位置信息中找不到对应的信息，则显示地图供用户进行查询。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求2所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 对用户以移动终端定位信息方式表示的用户时间位置信息进行分析包括：对于位置点信息，利用移动终端进行GPS定位到地图上的点来作为用户时间位置信 息，定位后还进一步进行视野范围的设置；对于路线信息，先定位一点，然后再定位另一点，以这两点确定一条路线，并存储这两 点中间点的信息；对于区域信息，先定位区域的多个端点，然后以该些端点确定一个区域，并存储该些端 点的信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.根据权利要求13所述的基于时间位置信息搜索目标用户的方法，其特征在于，所 述对用户以移动终端定位信息方式表示的用户时间位置信息时，进一步将其与地图下拉框 输入文字相互结合，先利用定位然后再在地图上点击下一点，然后再在下拉框中输入另一 点的信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.根据权利要求13所述的基于时间位置信息搜索目标用户的方法，其特征在于，所 述用户以移动终端定位信息方式表示用户时间位置信息时，移动终端定位信息是通过以下 方式获取的：移动终端采用运动模式的输入，用户无需操作，基于时间位置信息搜索目标用户的系 统自动每隔一段距离根据阈值采集一个坐标点，作为移动终端定位信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 时间位置信息包括地理坐标信息和时间段信息，所述获取所有用户的时间位置信息是获取 所有用户的地理坐标信息和时间段信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 时间位置信息进一步与地图中的地理坐标数据相结合，或者与地点位置间的路径数据相结合。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 接收搜索发起用户提供的待搜索的时间位置信息包括：接收搜索发起用户点击地图输入的地理坐标信息； 接收搜索发起用户点击下拉框输入的下拉框信息； 接收搜索发起用户文字输入的文字信息；以及 接收搜索发起用户移动终端GPS定位的地理坐标信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.根据权利要求18所述的基于时间位置信息搜索目标用户的方法，其特征在于，所 述接收搜索发起用户文字输入的文字信息包括：接收搜索发起用户提供的某一点的地理坐标； 接收搜索发起用户提供的某条折线段的多个点的地理坐标； 接收搜索发起用户提供的某个区域顶点的地理坐标；以及 接收搜索发起用户提供的某个圆区域圆心的地理坐标及其半径。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 接收搜索发起用户提供的待搜索的时间位置信息后进一步包括：判断接收的搜索发起用户提供的待搜索的时间位置信息的数据格式与存储的所有用 户的时间位置信息的数据格式是否相同，如果不同，则将待搜索的时间位置信息转换为与 所有用户的时间位置信息数据格式相同的时间位置数据。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="21" class="claim">
      <div class="claim-text">21.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 将该待搜索的时间位置信息与存储的所有用户的时间位置信息进行匹配包括：计算该待搜索的时间位置信息与存储的所有用户的时间位置信息中的时间位置信息 是否重合、包含或相交，如果是重合、包含或相交，则匹配成功；若搜索发起用户输入的搜索条件为点信息，则计算时间重合度；若输入的为线信息，则 计算线重合度与时间重合度，且取其中较小的重合度为排序比例；若输入的为区域信息，则 计算区域重合度与时间重合度，且取其中较小的一个作为排序比例；其中重合度就是重合 的部分占搜索发起输入部分的比例以及重合的部分占被搜索的用户部分的比例，取这两比 例中较小的一个作为重合度。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="22" class="claim">
      <div class="claim-text">22.根据权利要求1所述的基于时间位置信息搜索目标用户的方法，其特征在于，所述 显示匹配成功的目标用户信息包括：若搜索发起用户输入的时间位置信息为位置点信息，则首先显示与该位置点重合的用 户信息，然后再显示与该位置点相交的线段的用户信息，以及与该位置点相交的区域的用 户信息，若与点或线段或区域相交的用户信息有多个，则按时间的重合比例由大到小的顺 序进行排序并显示；若搜索发起用户输入的时间位置信息为路线信息，则计算搜索发起用户的路线长度与 数据库中路线长度重合部分占两个长度比例中最小的一个；两条路线的长度由各线段坐标 点之间的距离之和得出，当计算线段相交时，计算结果为重合的则计算两条线段的长度并 取最短的一条线段长度作为重合长度，然后将所有重合长度相加即得重合部分路线长度； 然后计算时间长度重合比例，然后取两个比例中路线长度的重合比例与时间长度重合比例 最小的一个作为最终排序的比例，然后按该比例的由大到小排序进行显示；若搜索发起用户输入的时间位置信息为区域信息，则计算区域面积重合比例；若两个 区域中都为多边形相交，则以其中任意窗口为裁剪窗口计算相交的区域，然后计算该区域 的面积，计算相交的区域占该搜索发起用户区域与该区域比例最小的一个，若两个区域相 互包含，则比例为被包含的区域占包含它的区域的比例。</div>
    </div>
    </div> <div class="claim"> <div num="23" class="claim">
      <div class="claim-text">23.	一种基于时间位置信息搜索目标用户的系统，其特征在于，该系统包括时间位置分 析器、时间位置索引器和时间位置搜索器，其中：时间位置分析器，用于对表示用户时间位置的信息进行分析，获取所有用户的时间位 置信息，并输出给所述时间位置索引器；时间位置索引器，用于接收并存储所述时间位置分析器输入的所有用户的时间位置信息；时间位置搜索器，用于接收搜索发起用户输入的待搜索的时间位置信息，并将该待搜 索的时间位置信息与所述时间位置索引器中存储的所有用户的时间位置信息进行匹配，显 示匹配成功的目标用户信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="24" class="claim">
      <div class="claim-text">24.根据权利要求23所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述时间位置分析器包括获取模块、计算模块和发送模块，其中：获取模块，用于对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息 并输出给所述计算模块，其中该表示用户时间位置的信息由各用户在登录网络时输入；计算模块，用于分析计算该时间位置信息是否符合要求，将符合要求的时间位置信息 输出给所述发送模块；发送模块，用于将该符合要求的时间位置信息发送给所述时间位置索引器。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="25" class="claim">
      <div class="claim-text">25.根据权利要求M所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述获取模块获取的表示用户时间位置的信息包括用户输入的地理坐标信息和时间段信息， 其中用户输入的地理坐标信息包括：用户点击地图输入的地理坐标信息； 用户点击下拉框输入的下拉框信息； 用户文字输入的文字信息；以及 用户移动终端GPS定位的地理坐标信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="26" class="claim">
      <div class="claim-text">26.根据权利要求25所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述用户文字输入的文字信息包括：用户提供的某一点的地理坐标；用户提供的某条折线段的多个点的地理坐标；用户提供的某个区域顶点的地理坐标；以及用户提供的某个圆区域圆心的地理坐标及其半径。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="27" class="claim">
      <div class="claim-text">27.根据权利要求M所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述计算模块在分析计算该时间位置信息是否符合要求时，对输入的路线以及其时间段做运 算，以计算其速度，然后设定一阈值，计算出的速度大于该阈值的则认为不符合要求，所述 计算模块包括判断子单元、第一计算子单元和第二计算子单元，其中：判断子单元，用于判断用户输入的时间位置信息是点的信息、线的信息或区域的信息；第一计算子单元，对于点的信息记录该点地理坐标，对于线的信息计算每一折线段端 点地理坐标，对于区域的信息计算该区域顶点的地理坐标；第二计算子单元，用于将输入的线的信息与时间段信息做速度计算，并将速度符合要 求的输出给发送模块。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="28" class="claim">
      <div class="claim-text">28.根据权利要求27所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述第二计算单元进一步用于判断用户输入信息的是否为随意输入信息，在判断用户输入信 息的是否为随意输入信息时，所述第二计算单元将用户输入的信息与数据库中在时间及区 域均不重合的用户之前输入的信息进行对比，对比方式为：计算用户输入区域或路线或点 与数据库中提取出来的区域或路线或点的最近距离，然后将该最近距离除以两用户输入的 时间信息计算出来的时间间隔，然后设定一阈值，大于该阈值的则认为是随意输入的信息， 返回不符合要求；小于或等于该阈值的则认为不是随意输入的信息，存储在数据库中。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="29" class="claim">
      <div class="claim-text">29.根据权利要求M所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述时间位置搜索器包括接收模块、匹配模块和显示模块，其中：接收模块，用于接收搜索发起用户输入的时间位置信息，并将该时间位置信息转换为 与所述时间位置索引器中存储的数据格式相同的时间位置数据；匹配模块，用于查询所述时间位置索引器中存储的所有用户的时间位置信息，将该待 搜索的时间位置信息与所述时间位置索引器中存储的所有用户的时间位置信息进行匹配， 判断搜索发起用户输入的时间位置信息与所有用户时间位置信息中的时间位置信息是否 重合、包含或相交，如果是重合、包含或相交，则匹配成功；显示模块，用于显示匹配成功的目标用户信息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="30" class="claim">
      <div class="claim-text">30.根据权利要求四所述的基于时间位置信息搜索目标用户的系统，其特征在于，所 述匹配模块在将该待搜索的时间位置信息与所述时间位置索引器中存储的所有用户的时 间位置信息进行匹配时，计算该待搜索的时间位置信息与存储的所有用户的时间位置信息 中的时间位置信息是否重合、包含或相交，若搜索发起用户输入的搜索条件为点信息，则计 算时间重合度；若输入的为线信息，则计算线重合度与时间重合度，且取其中较小的重合度 为排序比例；若输入的为区域信息，则计算区域重合度与时间重合度，且取其中较小的一个 作为排序比例；其中重合度就是重合的部分占搜索发起输入部分的比例以及重合的部分占 被搜索的用户部分的比例，取这两比例中较小的一个作为重合度；所述显示模块取时间重合度与路线重合度或区域重合度中最小的一个作为排序比例，显示结果按排序比例由大到小依次排列。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES41516973" lang="ZH" load-source="patent-office" class="description">
    <p>基于时间位置信息搜索目标用户的方法及系统技术领域[0001]	本发明涉及互联网搜索技术领域，特别涉及一种在互联网上基于时间位置信息搜 索目标用户的方法及系统。背景技术[0002]	在目前的网上交友服务和即时通讯服务以及其它类似服务中，当用户需要搜索某 些其他用户时，通常只能通过年龄、住址以及用户名称等条件进行搜索。但是，很多情况下， 用户会对过去、现在或未来某一时间段某一位置遇到的某些用户有搜索需求。[0003]	例如，用户会对过去经常活动的一个区域中的人进行搜索，比如暑假在天安门广 场玩的伙伴，不记得了他们的名字，但是又想联系到他们。或者用户对在某天的一段路程上 对街上的某个或多个行人记忆深刻，但当时却没有留下联系方式，现在想搜索到这个人或 这些人。又例如用户可能想知道将要旅游的地方碰到的用户大概具有哪些特征等。[0004]	现有技术中，为解决上述问题，当搜索发起用户需要搜索某一时间位置的目标用 户时，搜索发起用户只能手动查询每一个用户，查看每个用户记录的所有地点，查看其中是 否有与自己到过的地点重合且时间段也重合的用户，或者搜索发起用户查询自己所待过区 域包含的每一个地点、路程中途径的每一个地点或具体的某一个地点，手动地在每个地点 中进行逐一查看是否有与自己时间段重合的用户，然后利用时间段筛选出目标用户。[0005]	现有技术中，虽然可以通过按照搜索发起用户输入的文字信息搜索到相关的目标 用户，但由于搜索发起用户只能查找每个用户去过的地点或者是查看该地点所记载的所有 用户，为搜索发起用户带来了诸多不便，比如：1)地点信息有时不是一个具体的地点而是 某一个区域；幻地点信息有时不是一个具体的地点而是某一条线路；；3)查找每个用户去过 的地点或者是查找每个地点所符合要求的用户，其效率不高；4)搜索发起用户需要查询的 目标用户是搜索发起用户在某一地点所看到的位于另一地点的用户，而目标用户并未实际 到达过搜索发起用户所在的地点；5)搜索发起用户有时需要搜索与其擦肩而过的用户；6) 搜索发起用户查询某地点所有用户时对时间也有要求，而现有技术未给出利用时间筛选用 户的方法；7)没有产生地图信息（或用户信息）与搜索引擎相结合的技术效果。[0006]	可见，由于上述问题的存在，现有技术并不能满足搜索发起用户对某些目标用户 针对时间位置进行搜索的需要，也无法为搜索发起用户准确迅速地返回所需的目标用户信 肩、ο发明内容[0007](一）要解决的技术问题[0008]	本发明的主要目的在于提供一种在互联网中基于时间位置信息搜索目标用户的 系统及方法，以针对搜索发起用户对某些时间位置进行搜索的需要，准确迅速地返回所需 的目标用户信息。[0009]	( 二）技术方案8[0010]	为达到上述目的，本发明提供了一种基于时间位置信息搜索目标用户的方法，该 方法包括：[0011]	对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并进行存 储；[0012]	接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位置信息与 存储的所有用户的时间位置信息进行匹配；[0013]	显示匹配成功的目标用户信息。[0014]	为达到上述目的，本发明还提供了一种基于时间位置信息搜索目标用户的系统， 该系统包括时间位置分析器、时间位置索引器和时间位置搜索器，其中：[0015]	时间位置分析器，用于对表示用户时间位置的信息进行分析，获取所有用户的时 间位置信息，并输出给所述时间位置索引器；[0016]	时间位置索引器，用于接收并存储所述时间位置分析器输入的所有用户的时间位直fe息；[0017]	时间位置搜索器，用于接收搜索发起用户输入的待搜索的时间位置信息，并将该 待搜索的时间位置信息与所述时间位置索引器中存储的所有用户的时间位置信息进行匹 配，显示匹配成功的目标用户信息。[0018](三）有益效果[0019]	从上述技术方案可以看出，本发明具有以下有益效果：[0020]	本发明提供的这种在互联网中基于时间位置信息搜索目标用户的系统及方法，通 过时间位置分析器分析并获取用户的时间位置并将其输出给时间位置索引器，此处用户的 时间位置是基于地理坐标进行的。当搜索发起用户进行搜索时，搜索发起用户可以在地图 上或者是其他方式映射到地图上的（如文字输入，下拉框，移动终端）的区域、路线或具体 地点来进行选择输入，相对于现有技术搜索某一时间段某一位置的目标用户时，搜索技术 仅仅用于搜索地点或筛选时间段，导致搜索发起用户需要手动查询某一区域内的每一地 点、某一路线经过的每一地点或每一用户记录的地点等诸多的手动操作，本发明避免了需 要查询包含的每一地点的手动操作，进而使得搜索发起用户只需一次性的输入就能够准确 迅速地搜索到所需的目标用户信息，大大节省了搜索时间。附图说明[0021]	图1是本发明提供的基于时间位置信息搜索目标用户的方法流程图；[0022]	图2是本发明基于时间位置信息搜索目标用户的系统结构示意图；[0023]	图3是依照本发明实施例提供的基于时间位置信息搜索目标用户的方法流程图；[0024]	图4是Dijkstra算法中采用的有向图；[0025]	图5是线段与圆求交的示意图；[0026]	图6是圆与裁剪窗口的示意图；[0027]	图7是圆弧的中点检测法示意图。具体实施方式[0028]	为使本发明的目的、技术方案和优点更加清楚明白，以下结合具体实施例，并参照附图，对本发明进一步详细说明。[0029]	本发明提供的这种基于时间位置信息搜索目标用户的方法，通过对表示用户时间 位置的信息进行分析，获取所有用户的时间位置信息，然后存储所有用户的时间位置信息， 当搜索发起用户确定需要对某时间段、某个地点、某个路线或某个区域的时间位置进行搜 索后，根据搜索发起用户提供的查询条件，将该待搜索的时间位置信息与所述存储的所有 用户的时间位置信息进行匹配，返回符合搜索发起用户要求的目标用户信息并显示。[0030]	如图1所示，图1是本发明提供的基于时间位置信息搜索目标用户的方法流程图， 该方法包括以下步骤：[0031]	步骤1 ：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并 进行存储；[0032]	步骤2 ：接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间位 置信息与存储的所有用户的时间位置信息进行匹配；[0033]	步骤3 ：显示匹配成功的目标用户信息。[0034]	其中，步骤1中所述对表示用户时间位置的信息进行分析包括：对用户以点击地 图方式表示的用户时间位置信息进行分析，或者对用户以点击下拉框方式表示的用户时间 位置信息进行分析，或者对用户以输入的文字方式表示的用户时间位置信息进行分析，或 者对用户以移动终端定位信息方式表示的用户时间位置信息进行分析。时间位置信息包括 地理坐标信息和时间段信息，所述获取所有用户的时间位置信息是获取所有用户的地理坐 标信息和时间段信息。该时间位置信息进一步与地图中的地理坐标数据相结合，或者与地 点位置间的路径数据相结合。[0035]	用户以点击地图方式表示的用户时间位置信息包括：用户在人机界面显示的地图 上以点击方式进行定位后，在地图上点击的用户待过的位置点信息或走过的路线信息或待 过的某一区域信息，以及在人机界面弹出的对话框中输入的时间段信息。[0036]	用户在人机界面显示的地图上以点击方式进行定位后，进一步包括：对于位置点 信息，选择一个视野范围，根据该视野范围计算出该点所在区域的顶点信息；或者对于路线 信息，选择一个视野范围，根据该视野范围计算出该路线所在区域的顶点信息。其中，对于 位置点信息，以用户点击的位置为圆心，视野范围为半径的圆区域，或者是以用户点击的位 置为中心，视野范围为边长的矩形区域，设定一个视野范围。[0037]	在地图上点击的用户走过的路线信息是通过以下方式获取的：连续点击若干位 置，该若干位置是连续记录两点的坐标，且路线为两点间的直线距离；或者，将点击的位置 与存储的路径信息相结合，在地图上显示用户点击两点间的连线是路径点之间最短距离的 连线，所有路径点的坐标信息由最短路径算法得出；若用户进行路径选择时两点中有至少 一个未点击到路径点，则计算与该未点击到的路径点最接近的路径线，并用线段将与该路 径线垂直的交点相连接，然后计算该交点路径线上与该交点距离最短的路径点，并计算该 路径点之间的最短距离，路线信息即为用户点击的点与其最近的路径线之间的垂直距离、 该垂直交点距离最短的路径点之间的距离、路径点之间的最短距离三者之和；记录该点以 及交点还有所有路径点的坐标信息，当该点在路径线上时，则该点到该路径线的距离即为 0，与其最接近的线即为该点在路径线上的线，若有两条或多条路径线穿过该点，则之后计 算与该交点各路径线上的路径点之间的距离，取最短的，若还有一个以上路径点距离一样，则任取一个路径点进行相连；未点击到时也可以直接计算与该点最近的路径点，最短距离 即为该点与其最近的路径点之间的距离加上路径点之间的最短距离。[0038]	当用户输入为路线信息以及时间段信息时，进一步对路线长度进行计算，将路线 长度除以时间得出该用户的速度，设定一阈值，若用户输入的路线速度大于该阈值则返回 输入不符合要求，小于该阈值则存储该路线信息。[0039]	在地图上点击的用户待过的某一区域信息是通过以下方式获取的：依次进行顶点 的标注，形成一个闭区域，这时记录各顶点坐标信息；或者挑选一个矩形框进行区域的选 择，存储各顶点的坐标，或者挑选一个圆区域进行区域的选择，先点击一点确认圆心坐标， 后点击的点确定圆的半径，存储圆心坐标及半径的长度。[0040]	在地图上点击的用户待过的位置点信息或走过的路线信息或待过的某一区域信 息，是在二维情况下进行点击的，当地图的维数为三维时，区域及路线的选择是将高度轴化 为0来进行二维化的。[0041]	对用户以点击下拉框方式表示的用户时间位置信息进行分析包括：若用户只记录 待一个地方，将下拉框一直选到最后一个下拉框并点击确认即可；进行区域选择时下拉框 选择的地理位置相当于一个区域，该区域对应的顶点信息将被自动存储；在点击下拉框时， 一个与用户输入实时体现的地图将被显示；进行路线选择时下拉框选择的地理位置相当于 在地图上该地理位置点击，用户在选择下拉框定位后再在地图中点击下一个点，或者在点 击完地图后在采用下拉框进行选择。选择了位置后进一步确定视野范围，以该位置坐标中 心点为中心，边长为视野范围的矩形区域，或者是以该位置坐标中心点为圆心，半径为视野 范围的圆形区域。[0042]	对用户以输入的文字方式表示的用户时间位置信息进行分析时，如果用户输入的 文字在地理位置信息中找不到对应的信息，则显示地图供用户进行查询。[0043]	对用户以移动终端定位信息方式表示的用户时间位置信息进行分析包括：对于位 置点信息，利用移动终端进行GPS定位到地图上的点来作为用户时间位置信息，定位后还 进一步进行视野范围的设置；对于路线信息，先定位一点，然后再定位另一点，以这两点确 定一条路线，并存储这两点中间点的信息；对于区域信息，先定位区域的多个端点，然后以 该些端点确定一个区域，并存储该些端点的信息。对用户以移动终端定位信息方式表示的 用户时间位置信息时，进一步将其与地图下拉框输入文字相互结合，先利用定位然后再在 地图上点击下一点，然后再在下拉框中输入另一点的信息。[0044]	步骤2中所述接收搜索发起用户提供的待搜索的时间位置信息包括：接收搜索发 起用户点击地图输入的地理坐标信息，接收搜索发起用户点击下拉框输入的下拉框信息， 接收搜索发起用户文字输入的文字信息，以及接收搜索发起用户移动终端GPS定位的地理 坐标信息。其中，接收搜索发起用户文字输入的文字信息包括：接收搜索发起用户提供的某 一点的地理坐标，接收搜索发起用户提供的某条折线段的多个点的地理坐标，接收搜索发 起用户提供的某个区域顶点的地理坐标，以及接收搜索发起用户提供的某个圆区域圆心的 地理坐标及其半径。[0045]	步骤2中所述接收搜索发起用户提供的待搜索的时间位置信息后进一步包括：判 断接收的搜索发起用户提供的待搜索的时间位置信息的数据格式与存储的所有用户的时 间位置信息的数据格式是否相同，如果不同，则将待搜索的时间位置信息转换为与所有用户的时间位置信息数据格式相同的时间位置数据。[0046]	步骤2中所述将该待搜索的时间位置信息与存储的所有用户的时间位置信息进 行匹配包括：计算该待搜索的时间位置信息与存储的所有用户的时间位置信息中的时间位 置信息是否重合、包含或相交，如果是重合、包含或相交，则匹配成功；若搜索发起用户输入 的搜索条件为点信息，则计算时间重合度；若输入的为线信息，则计算线重合度与时间重合 度，且取其中较小的重合度为排序比例；若输入的为区域信息，则计算区域重合度与时间重 合度，且取其中较小的一个作为排序比例；其中重合度就是重合的部分占搜索发起输入部 分的比例以及重合的部分占被搜索的用户部分的比例，取这两比例中较小的一个作为重合 度。[0047]	步骤3中所述显示匹配成功的目标用户信息包括：若搜索发起用户输入的时间位 置信息为位置点信息，则首先显示与该位置点重合的用户信息，然后再显示与该位置点相 交的线段的用户信息，以及与该位置点相交的区域的用户信息，若与点或线段或区域相交 的用户信息有多个，则按时间的重合比例由大到小的顺序进行排序并显示；若搜索发起用 户输入的时间位置信息为路线信息，则计算搜索发起用户的路线长度与数据库中路线长度 重合部分占两个长度比例中最小的一个；两条路线的长度由各线段坐标点之间的距离之和 得出，当计算线段相交时，计算结果为重合的则计算两条线段的长度并取最短的一条线段 长度作为重合长度，然后将所有重合长度相加即得重合部分路线长度；然后计算时间长度 重合比例，然后取两个比例中路线长度的重合比例与时间长度重合比例最小的一个作为最 终排序的比例，然后按该比例的由大到小排序进行显示；若搜索发起用户输入的时间位置 信息为区域信息，则计算区域面积重合比例；若两个区域中都为多边形相交，则以其中任意 窗口为裁剪窗口计算相交的区域，然后计算该区域的面积，计算相交的区域占该搜索发起 用户区域与该区域比例最小的一个，若两个区域相互包含，则比例为被包含的区域占包含 它的区域的比例。[0048]	图2示出了本发明基于时间位置信息搜索目标用户的系统结构示意图，该系统包 括时间位置分析器1、时间位置索引器2和时间位置搜索器3。时间位置分析器1用于对表 示用户时间位置的信息进行分析，获取所有用户的时间位置信息，并输出给所述时间位置 索引器2 ；时间位置索引器2用于接收并存储所述时间位置分析器1输入的所有用户的时 间位置信息；时间位置搜索器3用于接收搜索发起用户输入的待搜索的时间位置信息，并 将该待搜索的时间位置信息与所述时间位置索引器2中存储的所有用户的时间位置信息 进行匹配，显示匹配成功的目标用户信息。[0049]	时间位置分析器1包括获取模块10、计算模块11和发送模块12。其中，获取模块 10用于对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息并输出给所述 计算模块11，该表示用户时间位置的信息由各用户在登录网络时输入。计算模块11用于 分析计算该时间位置信息是否符合要求，将符合要求的时间位置信息输出给所述发送模块 12。发送模块12用于将该符合要求的时间位置信息发送给所述时间位置索引器2。[0050]	获取模块10获取的表示用户时间位置的信息包括用户输入的地理坐标信息和时 间段信息，其中用户输入的地理坐标信息包括：用户点击地图输入的地理坐标信息；用户 点击下拉框输入的下拉框信息；用户文字输入的文字信息；以及用户移动终端GPS定位的 地理坐标信息。用户文字输入的文字信息包括：用户提供的某一点的地理坐标；用户提供的某条折线段的多个点的地理坐标；用户提供的某个区域顶点的地理坐标；以及用户提供 的某个圆区域圆心的地理坐标及其半径。[0051]	计算模块11在分析计算该时间位置信息是否符合要求时，对输入的路线以及其 时间段做运算，以计算其速度，然后设定一阈值，计算出的速度大于该阈值的则认为不符合 要求。计算模块11包括判断子单元110、第一计算子单元111和第二计算子单元112。判 断子单元110用于判断用户输入的时间位置信息是点的信息、线的信息或区域的信息。第 一计算子单元111对于点的信息记录该点地理坐标，对于线的信息计算每一折线段端点地 理坐标，对于区域的信息计算该区域顶点的地理坐标。第二计算子单元112用于将输入的 线的信息与时间段信息做速度计算，并将速度符合要求的输出给发送模块12。[0052]	对于第二计算单元112，在判断用户输入信息的是否为随意输入信息时，还可以包 括：第二计算单元112将用户输入的信息与用户之前输入的信息（即存储在数据库中的） 进行对比，即将用户输入的信息与数据库中在时间及区域均不重合的用户之前输入的信息 进行对比，对比方式为：计算用户输入区域或路线或点与数据库中提取出来的区域或路线 或点的最近距离，然后将该最近距离除以两用户输入的时间信息计算出来的时间间隔，然 后设定一阈值，大于该阈值的则认为是随意输入的信息，返回不符合要求；小于或等于该阈 值的则认为不是随意输入的信息，存储在数据库中。[0053]	时间位置搜索器3包括接收模块30、匹配模块31和显示模块32。接收模块30用 于接收搜索发起用户输入的时间位置信息，并将该时间位置信息转换为与所述时间位置索 引器2中存储的数据格式相同的时间位置数据。匹配模块31用于查询所述时间位置索引 器2中存储的所有用户的时间位置信息，将该待搜索的时间位置信息与所述时间位置索引 器2中存储的所有用户的时间位置信息进行匹配，判断搜索发起用户输入的时间位置信息 与所有用户时间位置信息中的时间位置信息是否重合、包含或相交，如果是重合、包含或相 交，则匹配成功。显示模块32用于显示匹配成功的目标用户信息。[0054]	匹配模块31在将该待搜索的时间位置信息与所述时间位置索引器2中存储的所 有用户的时间位置信息进行匹配时，计算该待搜索的时间位置信息与存储的所有用户的时 间位置信息中的时间位置信息是否重合、包含或相交，若搜索发起用户输入的搜索条件为 点信息，则计算时间重合度；若输入的为线信息，则计算线重合度与时间重合度，且取其中 较小的重合度为排序比例；若输入的为区域信息，则计算区域重合度与时间重合度，且取其 中较小的一个作为排序比例；其中重合度就是重合的部分占搜索发起输入部分的比例以及 重合的部分占被搜索的用户部分的比例，取这两比例中较小的一个作为重合度。显示模块 32取时间重合度与路线重合度或区域重合度中最小的一个作为排序比例，显示结果按排序 比例由大到小依次排列。[0055]	图3为依照本发明实施例提供的基于时间位置信息搜索目标用户的方法流程图， 该方法包括以下步骤：[0056]	步骤301 ：对表示用户时间位置的信息进行分析，获取所有用户的时间位置信息， 并进行存储。[0057]	本步骤中，可以对用户以点击地图方式表示的用户时间位置信息进行分析，获取 所述用户时间位置的信息，并进行存储；[0058]	或者，对用户以点击下拉框方式表示的用户时间位置信息进行分析，获取所述用户时间位置的信息，并进行存储；[0059]	或者，对用户以输入的文字方式表示的用户时间位置信息进行分析，获取所述用 户时间位置的信息，并进行存储。[0060]	或者，对用户以移动终端定位信息方式表示的用户时间位置信息进行分析，获取 所述用户时间位置的信息，并进行存储。[0061]	本实施例中的时间位置数据不仅与地图中的地理坐标数据结合，而且可以与地点 位置间的路径数据相结合。[0062]	下面对上述四种方式的具体实现分别进行介绍：[0063]	方式一：用户可以直接在人机界面上显示的地图进行定位，用户也可以在地图上 表示待过的位置点或走过的路线或待过的某一区域。若用户表示待过某位置，如用户需要 记录自己在7月18号4点到7月18号5点在湖北省武汉大学信息学部一栋待过或者将要 在那个时候待在那里，则用户可以将比例尺放大到合适尺度，在湖北省武汉市武汉大学信 息学部找到一栋进行点击，然后界面弹出对话框用户进行输入时间段。此时，建筑物可能为 一个较大的范围，所以点击该范围中的任意位置，系统均存储该建筑物设定好的对应坐标 fn息ο[0064]	点击某具体位置时，用户还可以设定一个视野范围，如以用户点击的位置为圆心， 视野范围为半径的圆区域，或者是以用户点击的位置为中心，视野范围为边长的矩形区域， 存储方式为区域的存储方式，下文将对区域方式进行介绍。视野范围可以用系统默认的或 者用户自行输入。[0065]	若用户需要记录一段路线，则可以连续地点击若干位置如天安门到故宫再到北京 大学。点击路线时可以是连续记录两点的坐标，且路线为两点间的直线距离，或者，将点击 的位置与系统中存储的路径信息相结合，地图上显示用户点击两点间的连线都是路径点之 间最短距离的连线。如若用户点击A路径点与B路径点，将点击的位置与系统中存储的路径 信息相结合，系统则根据数据库中存储的路径信息计算出A到B点的最短路径。然后系统 记录A到B经过的所有路径点的坐标信息。所有路径点的坐标信息由最短路径算法得出， 算法如下：[0066]	最短路径问题是图论研究中的一个经典算法问题，旨在寻找图（由结点和路径组 成的）中两结点之间的最短路径。算法具体的形式包括：[0067]	确定起点的最短路径问题-即已知起始结点，求最短路径的问题。[0068]	确定终点的最短路径问题-与确定起点的问题相反，该问题是已知终结结点，求 最短路径的问题。在无向图中该问题与确定起点的问题完全等同，在有向图中该问题等同 于把所有路径方向反转的确定起点的问题。[0069]	确定起点终点的最短路径问题-即已知起点和终点，求两结点之间的最短路径。[0070]	全局最短路径问题-求图中所有的最短路径。[0071]	用于解决最短路径问题的算法被称做“最短路径算法”，有时被简称作“路径算 法”。最常用的路径算法有：[0072]	Dijkstra 算法[0073]	A* 算法[0074]	SPFA 算法14[0075]	BelIman-Ford 算法[0076]	Floyd-Warshall 算法[0077]	Johnson 算法[0078]	所谓单源最短路径问题是指：已知图G = (V，E)，我们希望找出从某给定的源结点 S e V到V中的每个结点的最短路径。[0079]	首先，我们可以发现有这样一个事实：如果P是G中从vs到vj的最短路，vi是P 中的一个点，那么，从vs沿P到vi的路是从VS到vi的最短路。[0080]	Dijkstra 算法[0081]	Dijkstra(迪杰斯特拉）算法是典型的最短路径路由算法，用于计算一个节点到 其他所有节点的最短路径。主要特点是以起始点为中心向外层层扩展，直到扩展到终点为 止。Dijkstra算法能得出最短路径的最优解，但由于它遍历计算的节点很多，所以效率低。[0082]	Dijstra&#8212;般的表述通常有两种方式，一种用永久和临时标号方式，一种是用 OPEN, CLOSE表方式，Drew为了和下面要介绍的A*算法和D*算法表述一致，这里均采用 OPEN, CLOSE表的方式。[0083]	其采用的是贪心法的算法策略[0084]	大概过程：[0085]创建两个表，OPEN,	CLOSE。[0086]	OPEN表保存所有已生成而未考察的节点，CLOSED表中记录已访问过的节点。[0087]	1.访问路网中距离起始点最近且没有被检查过的点，把这个点放入OPEN组中等 待检查。[0088]	2.从OPEN表中找出距起始点最近的点，找出这个点的所有子节点，把这个点放到 CLOSE表中。[0089]	3.遍历考察这个点的子节点。求出这些子节点距起始点的距离值，放子节点到 OPEN表中。[0090]	4.重复第2和第3步，直到OPEN表为空，或找到目标点。[0091]	Dijkstra算法是解单源最短路径问题的贪心算法。其基本思想是，设置顶点集合 点集合S并不断地做贪心选择来扩充这个集合。一个顶点属于集合S当且仅当从源到该顶 点的最短路径长度已知。初始时，S中仅含有源。设u是G的其一顶点。把从源到u且中 间只经过S中顶点的路称为从源到u的特殊路径，并用数组Distance记录当前每个顶点所 对应的最短特殊路径长度。Dijkstra算法每次从V-S中取出具有最短特殊路长度的顶占， Distance就记录了从源到所有其它顶点之间最短路径长度。[0092]	例如图4所示的有向图，应用Dijkstra算法计算从源顶点1到其它顶点最短路径 的过程列表在下表1中。选代 初始[0093]</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00151.png"> <img id="idf0001" file="CN102033918AD00151.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00151.png" class="patent-full-image" alt="Figure CN102033918AD00151"> </a> </div>
    <p>[0094]	表 1[0095]	上述Dijkstra算法只计算出了从源顶点到其它顶点间的最短路径长度。如果还要求相应的最短路径，可以用算法中数组prev记录的信息找出相应的最短路径。算法中数 组preV[i]记录的是从源到顶点i最短路径上i的前一个顶点。初始时，对所有i ！ = 1， Sprev[i] = U。在Dijkstra算法中更新最短路径长度时，只要Distance [u]+Cost [u] [j] &lt; Distance[j]时，就置prev[i] = U。当Di jkstra算法终止时，就可以组prev找到从源 到i的最短路径上每个顶点的前一个顶点，从而找到从源到i的最短路径。[0096]	例如，对于上面例子图3中的有向图，经Dijkstra算法计算后可得到数组prev具 有的值为11413。如果要找出顶点1到顶点5的最短路径，可以从数组prev得到顶点5的 前一顶点3，3的前一顶点4，4的前一顶点1。再反向输出得顶点1到顶点5的最短路径是 1&#8212; &gt; 4&#8212; &gt; 3&#8212; &gt; 5.[0097]	若用户进行路径选择时两点中有一个或一个以上未点到路径点，则未点到路径点 的的点计算与其最接近的路径线，并用线段与和该路径线垂直的交点相连，然后计算该交 点路径线上与该交点距离最短的路径点，然后计算该路径点之间的最短距离，路线即为用 户点击的点与其最近的路径线之间的垂直距离加上与该垂直交点距离最短的路径点之间 的距离然后加上路径点之间的最短距离。系统则记录该点以及交点还有所有路径点的坐标 信息，当该点在路径线上时，该点到该路径线的距离即为0，与其最接近的线即为该点在路 径线上的线，若有两条或多条路径线穿过该点，则之后计算与该交点各路径线上的路径点 之间的距离，取最短的，若还有一个以上路径点距离一样，则任取一个路径点进行相连。[0098]	在用户选择了飞行模式或者路线模式时，用户可以只记录该路线信息，还可以选 择一个视野范围，如系统自带的三十米的视野范围，或者是用户自行输入的一个视野范围。 系统则根据该视野范围计算出该区域顶点信息。[0099]	计算方式可以为，如用户第一次依次点击A、B两点时，若为飞行模式，则记录与该 AB线段垂直的以线段端点A、B为中点且以两倍视野范围为长度的两条线段的四个端点即 四个顶点，当用户接着点击下一个点如C时，计算与BC垂直的以C为中点且以两倍视野范 围为长度的线段两端点，并记录该两顶点。用户接着点击时照此循环。若为路线模式，则按 照A、B两点间所有的路径点如a，b，c, d，e，然后计算其组成的线段，区域顶点信息则根据 所有路径点计算得出，线段之间的区域顶点信息计算方式与飞行模式的计算方式一样。以 区域的方式存储。区域的存储方式在下文介绍。[0100]	当用户输入为路线信息以及时间段信息时，系统可以对路线长度进行计算，将路 线长度除以时间得出该用户的速度，设定一阈值，若用户输入的路线速度大于该阈值则返 回输入不符合要求，小于该阈值则存储该路线信息。[0101]	若用户要表示待过的某一区域，则可以依次进行顶点的标注，形成一个闭区域，这 时记录各顶点坐标信息。或者可以挑选如一个矩形框进行区域的选择，。后台的存储方式 也为各顶点的坐标，也可以挑选如一个圆区域进行区域的选择（可以先点击一点确认圆心 坐标，后点击的点确定圆的半径）后台的存储方式为圆心坐标及半径的长度。[0102]	上述地图输入的方式是在二维情况下进行的，当地图为更高维数如三维时，除了 具体位置的如某栋建筑物是可以在三维下进行，其他如区域，路线的选择都是将高度轴化 为0来进行的。[0103]	方式二 ：对用户以点击下拉框方式表示的用户时间位置信息进行分析。[0104]	若用户只记录待一个地方，将下拉框一直选到最后一个下拉框点击确认即可。如首先挑选湖北省，然后选择武汉市，然后选择洪山区，然后选择武汉大学，然后选择街道口， 然后选择群光广场。系统则存储相应的位置信息和时间信息。存储方式与地图方式一样。[0105]	或者选择了位置后还可以进行视野范围的确定，以该位置坐标中心点为中心，边 长为视野范围的矩形区域。或者是以该位置坐标中心点为圆心，半径为视野范围的圆形区 域。视野范围也可以由系统默认方式确定或者用户进行输入。[0106]	因为用户可以选择飞行模式或道路模式，所以系统计算方式也有两种，存储方式 也分两种。一种未与路径相结合，两点间的路线为直线相连，一种与路径相结合，两点间为 道路的相连，可能包含两个路径点或两个以上的路径点。选择飞行模式的存储方式与地图 的飞行模式一样。选择路线模式的与地图的路线模式一样。[0107]	选择时也可以选择视野范围，计算方式和存储方式与用户利用地图输入的方式一样。[0108]	进行区域选择时下拉框选择的地理位置就相当于一个区域，如湖北省武汉市洪山 区，系统自动存储该区域对应的顶点信息。[0109]	用下拉框时，系统可以显示一个与用户输入实时体现的地图，如用下拉框选择湖 北省武汉市武汉大学信息学部一教学楼时，系统的地图会自动显示到一教学楼位置。在逐 一选择的过程中，如选到湖北省地图即跳到湖北省，下一个选择武汉市则跳到武汉市。进行 路线选择时下拉框选择的地理位置就相当于在地图上该地理位置点击，用户可以选择下拉 框定位后再在地图中点击下一个点，也可以在点击完地图后在下拉框中选择。此步骤可以 重复。存储方式与用户点击地图相对应的方式一致。[0110]	方式三：对用户以输入的文字方式表示的用户时间位置信息进行分析。输入文 字方式与下拉框类似，只是需要考虑若用户输入的文字在地理位置信息中找不到对应的信 息，此时系统可以显示找不到该位置，然后显示地图供用户自行查询。[0111]	方式四：用户输入也可以利用移动终端（包括智能手机，笔记本，P0S，车载电脑等 等）（或者说一切可以用来定位的来代替鼠标输入）如手机进行GPS定位到地图上的点，也 就是用户用自己具体到某个地方代替了鼠标在地图上的移动。如用户表示待过某一位置， 则可在移动终端的位置上进行定位，系统自动存储该坐标信息。定位后也可以进行视野范 围的设置，存储为区域，与地图方式类似，也可以利用系统默认的方式。[0112]	用户表示路线时，可以是定位到一点，然后再到另一点上按定位，系统自动存储该 路线中间的顶点信息，也可以选择飞行模式或道路模式，与地图方式类似，区域也一样。[0113]	在路线和区域时，若用户选择运动模式，则系统根据移动终端的实时定位，每隔一 段距离如十米存储一个端点信息。此时用户则不需要一点一点的按，系统会自动记录用户 所行走的路线或区域的端点信息。[0114]	GPS定位的步骤也可以与地图下拉框输入文字相互结合，如先利用定位然后再在 地图上点击下一点，然后再在下拉框中输入另一点的信息。[0115]	步骤302:接收搜索发起用户提供的待搜索的时间位置信息，将该待搜索的时间 位置信息与存储的所有用户的时间位置信息进行匹配。[0116]	本步骤中，可以在界面上显示一个地图；根据接收到的用户点击或者用手机定位 的表示地点位置和时间段信息，将点击后的时间位置信息转换为与所述数据库中存储的数 据格式相同的时间位置数据；[0117]	或者，在界面上显示多个下拉框，根据接收到的用户选择下拉框中的地点位置和 时间段信息，将选择后的时间位置信息转换为与所述数据库中存储的数据格式相同的时间 位置数据；[0118]	或者，接收用户自行输入的文字时间位置信息，根据接收到的时间位置信息，将所 述时间位置信息转换为与所述数据库中存储数据格式相同的时间位置数据。[0119]	或者，接收用户移动终端的定位信息，根据接收到的时间位置信息，将所述时间位 置信息转换为与所述数据库中存储数据格式相同的时间位置数据。[0120]	从搜索发起用户中的数据，可先用时间段确定大概范围如，搜索发起用户输入的 时间为a_b，则在数据库中查找所有第一项小于等于b且第二项大于等于a的。若搜索发起 用户搜索的是某一位置的信息，则查询数据库余下的数据中与该点坐标信息相同的点，并 记录。同时也计算每个点与各路线各个线段的是否相交，其算法是：[0121]	设定线段AB在笛卡尔坐标系下的坐标值为（Xa，Ya)、(Xb, Yb)，引入如下的参数方 程表示线段：[0122]线段	AB =X = Xa+ (Xb-Xa) *m[0123]	Y = Ya+(Yb-Ya) *m[0124]	参数0&lt;=m&lt;= 1注：仅当参数0&lt;=m&lt;= 1表示线段AB，点的数据为（Xc， Y。)，求点与线段的交点，先求参数m，上述方程整理为：[0125]	Xc = Xa+0(b-Xa) *m[0126]	Yc = Ya+(Yb-Ya) *m[0127]当（x。-xa)/(Xb-Xa)不等于（Y。-Ya)/(Yb-Ya)时，点与线段不相交，当（x。-xa)/(Xb-Xa) =(Yc-Ya) / (Yb-Ya)时，m = (Xc-Xa) / (Xb-Xa) = (Yc-Ya) / (Yb-Ya)，，当 0&lt;=m&lt;=l 时，它们 才有交点，交点为(Xc，Y。)，反之，则无交点。[0128]	计算点与区域的相交[0129]	判断一个点是否包含在同平面的一个多变形内，有许多算法，这里仅介绍常用的 三种叉积判断法，夹角之和检验法以及交点计数检验法中的交点计数检验法：[0130]	当多边形是凹多边形，甚至还带孔时，可采用交点计数法判断点是否在多边形内。 具体做法是，从判断点作一射线至无穷远：[0131]	求射线与多边形边的交点个数。若个数为奇数，则点在多边形内，否则，点在多边 形外。[0132]	当射线穿过多边形顶点时，必须特殊对待。正确的方法是，若共享顶点的两边在射 线的同一侧，则交点计数加2，否则加1。具体计数时，当一条边的两个端点y值都大于ytl， 即边处于射线上方时，计数加1，否则不加。[0133]	若是计算点与圆区域的可以进行点与圆心的距离计算，小于等于圆的半径判断在 圆内，大于圆的半径判断为在圆外。[0134]	若输入的为路线信息，利用路线中最近的两点，以两点为一线段，计算与点相交 时，计算点与每一线段是否相交，算法与上文点与线段相交算法一致。计算与线段是否相交 时，计算每一线段与该数据库中的每条路线中的两邻近点的线段是否相交，直到计算完所 有路线和该搜索发起用户路线中每一线段是否相交。线段相交算法为：[0135]	设定两线段AB、⑶在笛卡尔坐标系下的坐标值为（Xa，Ya)、0(b、Yb)和（X。，Y。）、（Xd、Yd)，引入如下的参数方程表示两线段：[0136]线段	AB =X = Xa+ (Xb-Xa) *m[0137]	Y = Ya+(Yb-Ya) *m[0138]	参数 0 &lt;= m &lt;= 1[0139]线段	CD =X = Xc+ (Xd-Xc) *m[0140]	Y = Yc+(Yd-Yc) *m[0141]参数	0 &lt;= η &lt;= 1[0142]	注：仅当参数0&lt;=m&lt; = 1表示线段ΑΒ，0 &lt;= η &lt; = 1[0143]	时表示线段⑶。求解两线段的焦点，这里先求参数m，n，上述方程整理为：[0144]	Xa+ (Xb-Xa) = Xc+ (Xd-Xc)[0145]	Ya+ (Yb-Ya) = Yc+ (Yd-Yc)[0146]即为（)(b-Xa)	*m- (Xd-Xc) *n = Xc-Xa[0147]	(Yb-Ya) *m_ (Yd-Yc) *n = Yc-Ya[0148]设	D = |)(b-Xa Xc-Xd[0149]	IYb-Ya Yc-YdI[0150]	D = O时两线段AB、⑶平行或重合。[0151]	此时可以将两条线段中任意一条中的一点带入到另一条的方程中看是否在该线 段上，算法如上文所述，若在则两条线段重合，在本实施例中判断为相交，若不在则判断为 平行，舍去。[0152]当	D =/0 时：[0153]	m= 1/D I Xc-Xa Xc-Xd ι η = 1/D | Xb-Xa Xc-Xa |[0154]	IYc-Ya Yc-YdI	IVYa Yc-YaI[0155]	求出 m = m ‘、η = η，[0156]	当0&lt;=m&lt;=10&lt;=n&lt;=l时，线段AB、CD才有交点，交点为：[0157]	(Xa+ (Xb-Xa) *m，，Ya+ (Yb-Ya) *m，)或（Xc+ (Xd-Xc) *n，，Yc+ (Yd-Yc) *n，），反之，则视线 段AB，CD无交点。[0158]	判断线段与区域中的多边形的相交时，先逐一比较顶点组成的线段与该路线的各 线段是否相交，算法与线段相交算法一致，若有相交则记录，若无一相交，则表明该整条路 线在区域内或在区域外，判断该路线中任意一点是否在该区域中，算法与点与区域相交的 算法相同，若该点在该区域中则记录该数据，若不在，则舍弃该数据。[0159]	判断线段与区域中的圆的相交时，圆与线段相交的算法也可以为：[0160]	如图5，已知线段P” P2，端点坐标为P (Xl，Y1)，P U2，y2)，则其方程为：[0161]	ax+by+c = 0 (1)[0162]其中	a = Y0-Y1, b = x「&#12316;，c = Xc^-Xj。。圆的方程为：[0163]	(x-x0) 2+(y-y0)2 = r2 (2)[0164]	由点到直线的距离公式可知，圆心（&#190;，y0)至IJ[0165]	P” P2 的距离 d 为 d =丨	C'[0166]	若d &gt; r，则表明线段与圆没有交点，否则，讨论交点求法。[0167] 0168]容易求出，PpP2的参数方程为</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00201.png"> <img id="idf0002" file="CN102033918AD00201.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00201.png" class="patent-full-image" alt="Figure CN102033918AD00201"> </a> </div>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00202.png"> <img id="idf0003" file="CN102033918AD00202.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00202.png" class="patent-full-image" alt="Figure CN102033918AD00202"> </a> </div>
    <p>将式C3)代入式O)中，化简整理得</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00203.png"> <img id="idf0004" file="CN102033918AD00203.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00203.png" class="patent-full-image" alt="Figure CN102033918AD00203"> </a> </div>
    <p>令 Δ = B2-4AC 若Δ = 0，则只有一个解山0176] 若Δ &gt; 0，则有两个解</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00204.png"> <img id="idf0005" file="CN102033918AD00204.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00204.png" class="patent-full-image" alt="Figure CN102033918AD00204"> </a> </div>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00205.png"> <img id="idf0006" file="CN102033918AD00205.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00205.png" class="patent-full-image" alt="Figure CN102033918AD00205"> </a> </div>
    <p>如果OStiS 1，则将ti代入式（3)所求出的点是线段与圆的交点，否则不是交通过以上的讨论，给出直线段与圆的求交算法： 算法1 ：直线段与圆的求交。 输入：线段P1P2和圆。 Stepl ：初始化：求 a, b，c，d，A, B, C 等。St印2 ：求圆心到线段的距离d。若d &gt; r，则无交点，转&#20034;印6 ；否则转St印3。0183]	St印3:求解方程(4)。如果Δ =0，求出唯一实根&#20175;转&#20034;印4 ；否则，求出实根t1; .2,转 Step5。0184]	&#20034;印4:若1 e W，1]，则代入式（3)求出交点并保存到交点表中，转&#20034;印6 ；否则， 直接转&#20034;印6。0185]	St印5 ：如果、&gt; t2，则交换它们的值，使、&lt; t2，若、e [0，1]，则代入式(3)求 出交点并保存到交点表中。0186]	Step6 ：结束。</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00206.png"> <img id="idf0007" file="CN102033918AD00206.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00206.png" class="patent-full-image" alt="Figure CN102033918AD00206"> </a> </div>
    <p>0187]	若搜索发起用户输入的为区域信息，与点与线段相交的都与上文中的算法一致， 判断区域中的多边形区域与多边形区域是否相交时，判断输入的区域的边界顶点组成的线 段与数据库中顶点所组成的线段是否相交。若相交则记录，不相交的话，两个多边形为相离 或者包含与被包含的关系，判断搜索发起用户任意一点是否在数据库中顶点包围的区域中 和判断数据库中边界的任意一点是否在搜索发起用户的区域中，若在则记录，若不在则舍 弃。[0188]	判断多边形区域与圆区域是否相交时，先判断区域边界顶点组成的线段与圆形是 否相交，相交则记录，不相交则判断圆上任意一点是否在多边形中和判断多边形中任意一 点是否在圆形中，其中有一个在另外一个区域中则记录，否则舍弃。[0189]	判断圆区域与圆区域是否相交时，判断两圆心的距离是否大于两半径之和，若大 于则舍弃，若小于等于则记录。[0190]	步骤303 ：显示匹配成功的目标用户信息：[0191]	若搜索发起用户输入的为具体位置，简称为点的信息，则首先显示与该点位置重合的用户信息，然后再显示与之相交的线段的用户和区域与该点相交的用户。若与点或线 段或面的相交都有多个用户，则按时间的重合比例由大到小来排序。[0192]	时间的重合比例为：时间相交的计算重合时间段占搜索发起用户的与数据库中时 间段的比例中最小的一个。若是包含的话，即计算被包含的时间段长度占包含它的时间长 度的比例。然后按所有比例由大到小进行排列显示。此举可以避免有些用户的恶意书写信 肩、ο[0193]	若搜索发起用户输入的为路线信息，简称为线的信息，显示方式可以为，计算搜索 发起用户的路线长度与数据库中路线长度重合部分占两个长度比例中最小的一个。路线重 合比例为：比例为计算重合部分路线长度占两条路线长度中的比例中较小的比例。[0194]	两条路线的长度由各线段坐标点之间的距离之和得出，当计算线段相交时，计算 结果为重合的则计算两条线段的长度并取最短的一条线段长度作为重合长度，然后将所有 重合长度相加即得重合部分路线长度。[0195]	然后计算时间长度重合比例，然后取两个比例中路线长度的重合比例与时间长度 重合比例最小的一个作为最终排序的比例，然后按该比例的由大到小排序进行显示。其余 与点与区域的则按时间段的重合比例来排序。[0196]	若搜索发起用户发起的为区域信息，计算区域面积重合比例：若两个区域中都为 多边形相交，则以其中任意窗口为裁剪窗口把相交的区域进行计算出来。裁剪算法可以用 ffeiler-Atherton任意多边形裁剪算法，然后计算该区域的面积，计算面积的方法根据多边 形顶点信息分割成为若干个三角形的方法即可，然后计算相交的区域占该搜索发起用户区 域与该区域比例最小的一个，若两个区域相互包含，则比例为被包含的区域占包含它的区 域的比例。Weiler-Atherton任意多边形裁剪算法为现有技术，这里就不再详细说明。[0197]	当计算区域中的多边形与圆区域相交时，我们来研究圆的裁剪问题。给定任意多 边形裁剪窗口，圆的半径为r，圆心在（&#190;，％)，如下图6。处理思想是，按逆时针方向依次求 裁剪窗口的每条边与被裁剪圆的交点。求已Pi+1 (i = 1,2,…，m，令Pm+1 EP1)与圆的交点 可用上文所述线段与圆的相交算法求出。[0198]	首先，如果实际交点数number = 0，则说明被裁剪圆要么落在多边形窗口内，要么 落在多边形窗口外。[0199]	1)若被裁剪圆圆心在多边形窗口内（可用交点计数检验法），则绘制整个圆。[0200]	2)若被裁剪圆圆心在多边形窗口外，整个圆被裁剪。[0201]	以下的讨论均假设number &gt; O。[0202]	假设窗口的所有边与圆的交点参数序列为t1;t2，…，tk(k最多取到an，实际值可 在编程时得到），其中ti; t2，…，tk的顺序可由下面的方法确定：[0203]	①若ti，tj是属于同一条边PiPw与圆的交点参数，则较小的一个在较大的前面 (在直线段与圆的求交算法中已经这样做了），即、&lt;、。[0204]	②若ti，tj是两条不同边与圆的交点，则按逆时针方向进行排序，若边在前面的， 那么t值就在前面。[0205]	设参数、对应的交点为A，如果参数序列已经按上述方法正确排序，那么交点&#20175;， Q2,…，A就是正确的顺序。[0206]	下面讨论判断两相邻交点之间的圆弧是否被裁剪的方法。[0207]	设&#20175;，&#20175;，&#183;&#183;&#183;, Qk是多边形窗口与被裁剪圆的所有交点，并已按上述方法正确排 序。对两相邻的交点Qi, Qi+1，(0彡i彡k，令Qk+1 ^ Q1)之间的圆弧是否画出，可采用中点 检测法。请注意，圆弧是有方向的，圆弧AC^1表示以A为起点，以(^1为终点按逆时针方 向的圆弧；圆弧Qi+1A表示以Qi+1为起点，以A为终点按逆时针方向的圆弧。[0208]	如图7，将圆的方程写成参数形式：</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00221.png"> <img id="idf0008" file="CN102033918AD00221.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00221.png" class="patent-full-image" alt="Figure CN102033918AD00221"> </a> </div>
    <p>[0211]	将&amp;点坐标代入上述参数方程可求出α i，将Qi+1点坐标代入，求出α i+1。为了正 确求出圆弧A Qi+1的中点，分以下三种情况进行讨论。</p>
    <div class="patent-image small-patent-image"> <a href="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00222.png"> <img id="idf0009" file="CN102033918AD00222.tif" img-content="drawing" img-format="tif" src="//patentimages.storage.googleapis.com/CN102033918A/CN102033918AD00222.png" class="patent-full-image" alt="Figure CN102033918AD00222"> </a> </div>
    <p>[0215]	将α代入圆的参数方程⑷求得点M(xy)，点M(x，y)与裁剪窗口的位置关系判 定可采用“交点计数检验法”。[0216]	若M在窗口外，则圆弧(^iw被裁剪。为保证裁剪后的图形仍然封闭，应该绘制出 以Qi为起点，以Qi+1为终点的线段。[0217]	若M在窗口内，圆弧GjiG^1被保留。[0218]	通过以上的讨论，给出圆关于一个多边形窗口的裁剪算法。[0219]	算法2 ：圆关于多边形窗口的裁剪。[0220]	输入：多边形窗口 P1Pf Pm，被裁剪圆0(xQ，y0, r)。[0221]	：按照逆时针方向对多边形窗口的每条边PiPwG = 1，2，…，m，令 Pm+1 E P1)依次调用直线段与圆的求交算法求出交点（如果有的话）。并将交点存入数组 intersec-point。如果实际交点数number = 0，转&#20034;印2 ；否则，转&#20034;印3。[0222]	St印2 ：若被裁剪圆圆心在多边形窗口内，则绘制整个圆；否则，整个圆被裁剪。转 Step5。[0223]	St印3:依次考察两相邻的交点Gli = intersec-point [i]和 Qi+1 = intersec-point [i + 1] (0 ^ i &lt; number, intersec-point [number]= intersec-point [0])所组成有向圆弧AQi+1，求出该段圆弧的中点M0[0224]	&#20034;印4 ：采用交点计数检验法，若M在窗口外，则圆弧被裁剪，仅绘制出以 intersec-point [i]为起点，以intersec-point [i+Ι]为终点的线段；若M在窗口内，则画 出该段圆弧。[0225]	Step5 ：结束。[0226]	对本算法进行了实现，结果表明，不论从效率还是稳定性方面都取得了比较理想 的效果。然后计算裁剪的面积，裁剪的面积可以简化为将圆弧化为线段来计算任意多边形 的面积。简化了计算，提高了速度。然后计算该面积与多边形区域的面积比和该面积与圆 区域的面积比，并取最小的一个作为区域面积重合比例。[0227]	若计算区域中的圆区域与圆区域，若是包含与被包含的关系，则取被包含的圆区 域面积与包含该圆的圆面积之比为区域面积比例，若是相交，则计算相交的两点，计算每个 圆心与相交两点组成的扇形面积与三角形面积之差，然后将该差相加即为相交的面积。区域面积重合比例即为相交的面积与各个圆的面积比之间的较小的那一个。[0228]	用以上各方法计算出区域面积比例后，显示时将该比例与时间段重合比例最小的 一个作为排序比例由大到小进行排序显示，其余的与点与线的则把时间重合比例作为排序 比例。[0229]	以上所述的具体实施例，对本发明的目的、技术方案和有益效果进行了进一步详 细说明，所应理解的是，以上所述仅为本发明的具体实施例而已，并不用于限制本发明，凡 在本发明的精神和原则之内，所做的任何修改、等同替换、改进等，均应包含在本发明的保 护范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1818909A?cl=zh">CN1818909A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2006年3月21日</td><td class="patent-data-table-td patent-date-value">2006年8月16日</td><td class="patent-data-table-td ">唐晨辉</td><td class="patent-data-table-td ">一种互联网用户相互搜索方法及其搜索引擎</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101578602A?cl=zh">CN101578602A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年11月5日</td><td class="patent-data-table-td patent-date-value">2009年11月11日</td><td class="patent-data-table-td ">索尼株式会社</td><td class="patent-data-table-td ">图像显示系统、显示设备和显示方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101582062A?cl=zh">CN101582062A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2008年5月12日</td><td class="patent-data-table-td patent-date-value">2009年11月18日</td><td class="patent-data-table-td ">深圳市莱科电子技术有限公司</td><td class="patent-data-table-td ">一种基于位置信息的相片管理系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101867730A?cl=zh">CN101867730A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年6月9日</td><td class="patent-data-table-td patent-date-value">2010年10月20日</td><td class="patent-data-table-td ">马明</td><td class="patent-data-table-td ">一种基于用户轨迹的多媒体合成方法</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9320008">US9320008</a></td><td class="patent-data-table-td patent-date-value">2012年4月5日</td><td class="patent-data-table-td patent-date-value">2016年4月19日</td><td class="patent-data-table-td ">Telefonaktiebolaget L M Ericsson (Publ)</td><td class="patent-data-table-td ">Method and apparatus for determining geographic position of mobile terminals</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013149382A1?cl=zh">WO2013149382A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月5日</td><td class="patent-data-table-td patent-date-value">2013年10月10日</td><td class="patent-data-table-td ">Telefonaktiebolaget L M Ericsson (Publ)</td><td class="patent-data-table-td ">Method and apparatus for determining geographic position of mobile terminals</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=-PlxBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0017300000">G06F17/30</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年4月27日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2011年6月15日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年11月21日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2016年1月20日</td><td class="patent-data-table-td ">EXPY</td><td class="patent-data-table-td ">Termination of patent right or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/cf6aeb42180e4cdbda66/CN102033918A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E5%9F%BA%E4%BA%8E%E6%97%B6%E9%97%B4%E4%BD%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E6%90%9C%E7%B4%A2%E7%9B%AE%E6%A0%87%E7%94%A8.pdf?id=-PlxBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0eptk8pJirPFphdnffkguQ8Y5GjQ"},"sample_url":"https://www.google.com/patents/reader?id=-PlxBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>