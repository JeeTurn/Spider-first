<!DOCTYPE html><html><head><title>专利 CN102420819A - 用户注册方法、交互方法及相关设备 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_6e802a6b2b28d51711baddc2f3bec198/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_6e802a6b2b28d51711baddc2f3bec198__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="用户注册方法、交互方法及相关设备"><meta name="DC.contributor" content="王鹏" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2011-11-28" scheme="dateSubmitted"><meta name="DC.description" content="本发明涉及通信技术领域，公开了用户注册方法、交互方法及相关设备。其中用户注册方法，包括：接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取为所述非系统注册用户分配的在所述系统内有效的临时账号；根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。使用本发明，可以使一个系统的注册用户能够与非该系统的注册用户进行交互。"><meta name="DC.date" content="2012-4-18"><meta name="DC.relation" content="CN:101986674:A" scheme="references"><meta name="DC.relation" content="CN:1700226:A" scheme="references"><meta name="citation_patent_publication_number" content="CN:102420819:A"><meta name="citation_patent_application_number" content="CN:201110384980"><link rel="canonical" href="https://www.google.com/patents/CN102420819A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102420819A?cl=zh"/><meta name="title" content="专利 CN102420819A - 用户注册方法、交互方法及相关设备"/><meta name="description" content="本发明涉及通信技术领域，公开了用户注册方法、交互方法及相关设备。其中用户注册方法，包括：接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取为所述非系统注册用户分配的在所述系统内有效的临时账号；根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。使用本发明，可以使一个系统的注册用户能够与非该系统的注册用户进行交互。"/><meta property="og:title" content="专利 CN102420819A - 用户注册方法、交互方法及相关设备"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102420819A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102420819A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102420819A&amp;usg=AFQjCNHIGHug84MTqNlAaHWoV_0XUuCM1Q" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/e4eabbd40c2b850a6fc9/CN102420819A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/e4eabbd40c2b850a6fc9/CN102420819A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102420819A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102420819A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102420819A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102420819B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102420819A?cl=zh" style="display:none"><span itemprop="description">本发明涉及通信技术领域，公开了用户注册方法、交互方法及相关设备。其中用户注册方法，包括：接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取为所述非系统注册用户...</span><span itemprop="url">https://www.google.com/patents/CN102420819A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102420819A - 用户注册方法、交互方法及相关设备</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102420819A - 用户注册方法、交互方法及相关设备" title="专利 CN102420819A - 用户注册方法、交互方法及相关设备"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102420819 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110384980</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2012年4月18日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年11月28日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年11月28日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102420819B?hl=zh-CN&amp;cl=zh">CN102420819B</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2621141A1?hl=zh-CN&amp;cl=zh">EP2621141A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2621141A4?hl=zh-CN&amp;cl=zh">EP2621141A4</a>, </span><span class="patent-bibdata-value"><a href="/patents/US9059958?hl=zh-CN&amp;cl=zh">US9059958</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20130198382?hl=zh-CN&amp;cl=zh">US20130198382</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2013078811A1?hl=zh-CN&amp;cl=zh">WO2013078811A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110384980.6, </span><span class="patent-bibdata-value">CN 102420819 A, </span><span class="patent-bibdata-value">CN 102420819A, </span><span class="patent-bibdata-value">CN 201110384980, </span><span class="patent-bibdata-value">CN-A-102420819, </span><span class="patent-bibdata-value">CN102420819 A, </span><span class="patent-bibdata-value">CN102420819A, </span><span class="patent-bibdata-value">CN201110384980, </span><span class="patent-bibdata-value">CN201110384980.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E9%B9%8F%22">王鹏</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102420819A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102420819A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102420819A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (5),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (6),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110384980&amp;usg=AFQjCNFIAesYYGBzlk1GJALwrr8TrcucWQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102420819A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNHE27Y0jMAWIxcrSXsSl4o50ISqcw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT112145497" lang="ZH" load-source="patent-office">用户注册方法、交互方法及相关设备</invention-title>
      </span><br><span class="patent-number">CN 102420819 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA95613989" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明涉及通信技术领域，公开了用户注册方法、交互方法及相关设备。其中用户注册方法，包括：接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取为所述非系统注册用户分配的在所述系统内有效的临时账号；根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。使用本发明，可以使一个系统的注册用户能够与非该系统的注册用户进行交互。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(30)</span></span></div><div class="patent-text"><div mxw-id="PCLM40937704" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种用户注册方法，其特征在于，包括：接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取为所述非系统注册用户分配的在所述系统内有效的临时账号；根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的用户注册方法，其特征在于，所述邀请请求还包括所述系统注册用户的账号；所述方法还包括：保存所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求2所述的用户注册方法，其特征在于，获取为所述非系统注册用户分配的临时账号前进一步包括：根据所述系统注册用户的账号判断所述系统注册用户是否有权限发送邀请请求；如果判断得到所述系统注册用户有权限发送邀请请求，才获取为所述非系统注册用户分配的临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求1至3任一所述的用户注册方法，其特征在于，所述邀请请求还包括所述系统注册用户邀请所述非系统注册用户进行交互的交互类型；所述获取为所述非系统注册用户分配的在所述系统内有效的临时账号后进一步包括：在所述交互类型对应的交互服务器注册所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求1至4任一所述的用户注册方法，其特征在于，所述系统为融合通信套件系统；所述获取为所述非系统注册用户分配的在所述系统内有效的临时账号后进一步包括：在网际协议多媒体子系统核心网中注册所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求1至5任一所述的用户注册方法，其特征在于，获取为所述非系统注册用户分配的在所述系统内有效的临时账号时，进一步获取所述临时账号登录所述系统的登录密码；向所述非系统注册用户所使用的终端发送所述临时账号时，进一步向所述非系统注册用户所使用的终端发送所述登录密码。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求1至6任一所述的用户注册方法，其特征在于，所述根据所述被邀请用户的标识向所述被邀请用户所使用的终端发送所述临时账号包括：将所述临时账号设置在邀请链接中，根据所述非系统注册用户的标识向所述非系统注册用户所使用的终端发送所述邀请链接。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求1至7任一所述的用户注册方法，其特征在于，所述非系统注册用户的标识是所述非系统注册用户的电子邮件地址；所述向所述非系统注册用户所使用的终端发送所述临时账号包括：通过电子邮件的方式向所述电子邮件地址发送所述临时账号；或所述非系统注册用户的标识是所述非系统注册用户的终端号码；所述向所述非系统注册用户所使用的终端发送所述临时账号包括：通过短信或多媒体短信的方式向所述终端号码对应的终端发送所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求8所述的用户注册方法，其特征在于，所述临时账号是所述电子邮件地址、或根据所述电子邮件地址生成、或所述终端号码、或根据所述终端号码生成。</div>
    </div>
    </div> <div class="claim"> <div num="10" class="claim">
      <div class="claim-text">10.	一种交互方法，其特征在于，包括：接收来自系统网关的临时账号，使用所述临时账号向所述系统网关发送登录请求，所述临时账号是为非系统注册用户分配且在所述系统内有效；接收所述系统网关返回的邀请所述非系统注册用户的系统注册用户的信息；向所述系统网关发送需要发送至所述系统注册用户的交互消息，所述交互消息携带所述临时账号，以使所述系统网关对所述临时账号鉴权通过后向所述系统注册用户所使用的第一系统客户端转发所述交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.如权利要求10所述的交互方法，其特征在于，所述向所述系统网关发送需要发送至所述系统注册用户的交互消息前进一步包括：向所述系统网关发送请求检测所述系统注册用户的在线状态的检测请求；接收所述系统网关返回的所述系统注册用户的在线状态；如果所述系统注册用户的在线状态为在线，才向所述系统网关发送需要发送至所述系统注册用户的交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.如权利要求10或11所述的交互方法，其特征在于，所述方法进一步包括：向所述系统网关发送注销请求，以使所述系统网关删除所述临时账号以及所述临时账号与所述系统注册用户的账号的邀请关系、或删除所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
    </div> <div class="claim"> <div num="13" class="claim">
      <div class="claim-text">13.	一种交互方法，其特征在于，包括：接收第二系统客户端发送的登录请求，所述登录请求携带为所述非系统注册用户分配的在所述系统内有效的临时账号；在对所述登录请求携带的临时账号的鉴权通过后，向所述第二系统客户端发送邀请所述非系统注册用户的系统注册用户的信息；接收来自所述第二系统客户端的需要发送给所述系统注册用户的交互消息，该交互消息携带临时账号；在对所述交互消息携带的临时账号的鉴权通过后，向所述系统注册用户使用的第一系统客户端转发所述交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.如权利要求13所述的交互方法，其特征在于，所述对所述交互消息携带的临时账号的鉴权包括：根据保存的临时账号与系统注册用户的账号的邀请关系，判断所述交互消息携带的临时账号是否与所述系统注册用户的账号存在邀请关系；如果所述交互消息携带的临时账号与所述系统注册用户的账号存在邀请关系，鉴权通过。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.如权利要求13或14所述的交互方法，其特征在于，所述向所述系统注册用户转发所述交互消息包括：将所述交互消息的格式从所述第二系统客户端与所述系统网关交互的第一协议的格式，转换为所述系统内部交互所使用的第二协议的格式；向所述第一系统客户端转发转换为所述第二协议的格式的交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16.如权利要求13至15任一所述的交互方法，其特征在于，所述方法还包括：接收来自所述第二系统客户端的请求检测所述系统注册用户的在线状态的检测请求；检测所述系统注册用户的在线状态；将所述系统注册用户的在线状态返回给所述第二系统客户端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.如权利要求13至16任一所述的交互方法，其特征在于，所述方法还包括：接收来自所述第一系统客户端或第二系统客户端的注销请求；删除所述临时账号以及所述临时账号与所述系统注册用户的账号的邀请关系、或删除所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
    </div> <div class="claim"> <div num="18" class="claim">
      <div class="claim-text">18.	一种系统网关，其特征在于，包括：接收单元，用于接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；获取单元，用于获取为所述非系统注册用户分配的在所述系统内有效的临时账号；发送单元，用于根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.如权利要求18所述的系统网关，其特征在于，所述邀请请求还包括所述系统注册用户的账号；所述系统网关还包括：保存单元，用于保存所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.如权利要求19所述的系统网关，其特征在于，还包括：判断单元，用于根据所述系统注册用户的账号判断所述系统注册用户是否有权限发送邀请请求；所述获取单元，用于在所述判断单元判断得到所述系统注册用户有权限发送邀请请求时，才获取为所述非系统注册用户分配的临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="21" class="claim">
      <div class="claim-text">21.如权利要求18至20任一所述的系统网关，其特征在于，所述邀请请求还包括所述系统注册用户邀请所述非系统注册用户进行交互的交互类型；所述系统网关还包括：第一注册单元，用于在所述交互类型对应的交互服务器注册所述临时账号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="22" class="claim">
      <div class="claim-text">22.如权利要求18至21任一所述的系统网关，其特征在于，所述系统为融合通信套件系统；所述系统网关还包括：第二注册单元，用于在网际协议多媒体子系统核心网中注册所述临时账号。</div>
    </div>
    </div> <div class="claim"> <div num="23" class="claim">
      <div class="claim-text">23.	&#8212;种终端，其特征在于，包括：接收单元，用于接收来自系统网关的临时账号，所述临时账号是为非系统注册用户分配且在所述系统内有效；发送单元，用于向所述系统网关发送登录请求，所述登录请求包括所述接收单元接收的临时账号；所述接收单元，还用于接收所述系统网关返回的邀请所述非系统注册用户的系统注册用户的信息；所述发送单元，还用于向所述系统网关发送需要发送至所述系统注册用户的交互消息，所述交互消息携带所述临时账号，以使所述系统网关对所述临时账号鉴权通过后向所述系统注册用户所使用的第一系统客户端转发所述交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="24" class="claim">
      <div class="claim-text">24.如权利要求23所述的终端，其特征在于，所述发送单元，还用于向所述系统网关发送请求检测所述系统注册用户的在线状态的检测请求；所述接收单元，还用于接收所述系统网关返回的所述系统注册用户的在线状态； 所述发送单元，用于在所述系统注册用户的在线状态为在线时，才向所述系统网关发送需要发送至所述系统注册用户的交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="25" class="claim">
      <div class="claim-text">25.如权利要求23或M所述的终端，其特征在于，所述发送单元，还用于向所述系统网关发送注销请求，以使所述系统网关删除所述临时账号以及所述临时账号与所述系统注册用户的账号的邀请关系、或删除所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
    </div> <div class="claim"> <div num="26" class="claim">
      <div class="claim-text">26.	&#8212;种系统网关，其特征在于，包括：接收单元，用于接收第二系统客户端发送的登录请求，所述登录请求携带为所述非系统注册用户分配的在所述系统内有效的临时账号；鉴权单元，用于对所述登录请求携带的临时账号进行鉴权；发送单元，用于在所述鉴权单元对所述登录请求携带的临时账号的鉴权通过后，向所述第二系统客户端发送邀请所述非系统注册用户的系统注册用户的信息；所述接收单元，还用于接收来自所述第二系统客户端的需要发送给所述系统注册用户的交互消息，该交互消息携带临时账号；所述鉴权单元，还用于对所述交互消息携带的临时账号进行鉴权； 所述发送单元，还用于在所述鉴权单元对所述交互消息携带的临时账号的鉴权通过后，向所述系统注册用户使用的第一系统客户端转发所述交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="27" class="claim">
      <div class="claim-text">27.如权利要求沈所述的系统网关，其特征在于，所述鉴权单元，具体用于根据保存的临时账号与系统注册用户的账号的邀请关系，判断所述交互消息携带的临时账号是否与所述系统注册用户的账号存在邀请关系；如果所述交互消息携带的临时账号与所述系统注册用户的账号存在邀请关系，确定鉴权通过。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="28" class="claim">
      <div class="claim-text">28.如权利要求沈或27所述的系统网关，其特征在于，所述发送单元，具体用于将所述交互消息的格式从所述第二系统客户端与所述系统网关交互的第一协议的格式，转换为所述系统内部交互所使用的第二协议的格式；向所述第一系统客户端转发转换为所述第二协议的格式的交互消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="29" class="claim">
      <div class="claim-text">29.如权利要求沈至观任一所述的系统网关，其特征在于，所述系统网关还包括检测单元；所述接收单元，还用于接收来自所述第二系统客户端的请求检测所述系统注册用户的在线状态的检测请求；所述检测单元，用于在所述接收单元接收了所述检测请求后，检测所述系统注册用户的在线状态；所述发送单元，还用于将所述系统注册用户的在线状态返回给所述第二系统客户端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="30" class="claim">
      <div class="claim-text">30.如权利要求沈至四任一所述的系统网关，其特征在于，所述系统网关还包括删除单元；所述接收单元，还用于接收来自所述第一系统客户端或第二系统客户端的注销请求； 所述删除单元，用于在所述接收单元接收了所述注销请求后，删除所述临时账号以及所述临时账号与所述系统注册用户的账号的邀请关系、或删除所述临时账号与所述系统注册用户的账号的邀请关系。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES46400098" lang="ZH" load-source="patent-office" class="description">
    <p>用户注册方法、交互方法及相关设备</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及通信技术领域，具体涉及用户注册方法、交互方法及相关设备。 背景技术</p>
    <p>[0002]	融合通信套件（RCS :Rich Communication Suite)解决方案是一个跨通信网、互联网的综合通信及信息共享平台。用户可以使用真实的手机号码作为登录帐号，可以通过 RCS解决方案的个人电脑（PC =Personal Computer)客户端、万维网（Web)客户端或手机客户端与联系人进行即时通讯（IMdnstant Messaging)通信，也可以上传、下载、共享图片、 音乐、视频、文本等内容。RCS解决方案不但能够扩大用户的社交网络，也能够为用户提供多元化的生活形态。</p>
    <p>[0003]	但是RCS解决方案和普通的IM交互工具一样，如果两个用户需要使用相同类型的客户端进行交互（如IM交互、文件交互等），这两个用户必须是该客户端对应的系统的注册用户；例如，用户A和用户B如果需要通过RCS客户端进行交互，那么用户A和用户B必须都是RCS系统的注册用户才可以。这就导致一个系统（IM系统、RCS系统等）的注册用户不能够与非该系统的注册用户进行交互。</p>
    <p>发明内容</p>
    <p>[0004]	本发明实施例提供了用户注册方法、交互方法及相关设备，可以使一个系统的注册用户能够与非该系统的注册用户进行交互。</p>
    <p>[0005]	本发明一个实施例提供了一种用户注册方法，包括：</p>
    <p>[0006]	接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；</p>
    <p>[0007]	获取为所述非系统注册用户分配的在所述系统内有效的临时账号；</p>
    <p>[0008]	根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。</p>
    <p>[0009]	本发明另一个实施例提供了一种交互方法，包括：</p>
    <p>[0010]	接收来自系统网关的临时账号，使用所述临时账号向所述系统网关发送登录请求，所述临时账号是为非系统注册用户分配且在所述系统内有效；</p>
    <p>[0011]	接收所述系统网关返回的邀请所述非系统注册用户的系统注册用户的信息；</p>
    <p>[0012]	向所述系统网关发送需要发送至所述系统注册用户的交互消息，所述交互消息携带所述临时账号，以使所述系统网关对所述临时账号鉴权通过后向所述系统注册用户所使用的第一系统客户端转发所述交互消息。</p>
    <p>[0013]	本发明另一个实施例提供了一种交互方法，包括：</p>
    <p>[0014]	接收第二系统客户端发送的登录请求，所述登录请求携带为所述非系统注册用户分配的在所述系统内有效的临时账号；</p>
    <p>[0015]	在对所述登录请求携带的临时账号的鉴权通过后，向所述第二系统客户端发送邀请所述非系统注册用户的系统注册用户的信息；</p>
    <p>[0016]	接收来自所述第二系统客户端的需要发送给所述系统注册用户的交互消息，该交互消息携带临时账号；</p>
    <p>[0017]	在对所述交互消息携带的临时账号的鉴权通过后，向所述系统注册用户使用的第一系统客户端转发所述交互消息。</p>
    <p>[0018]	本发明另一个实施例提供了一种系统网关，包括：</p>
    <p>[0019]	接收单元，用于接收系统注册用户通过第一系统客户端发送的邀请请求，所述邀请请求包括非系统注册用户的标识；</p>
    <p>[0020]	获取单元，用于获取为所述非系统注册用户分配的在所述系统内有效的临时账号；</p>
    <p>[0021]	发送单元，用于根据所述非系统注册用户的标识，向所述非系统注册用户所使用的终端发送所述临时账号。</p>
    <p>[0022]	本发明另一个实施例提供了一种终端，包括：</p>
    <p>[0023]	接收单元，用于接收来自系统网关的临时账号，所述临时账号是为非系统注册用户分配且在所述系统内有效；</p>
    <p>[0024]	发送单元，用于向所述系统网关发送登录请求，所述登录请求包括所述接收单元接收的临时账号；</p>
    <p>[0025]	所述接收单元，还用于接收所述系统网关返回的邀请所述非系统注册用户的系统注册用户的信息；</p>
    <p>[0026]	所述发送单元，还用于向所述系统网关发送需要发送至所述系统注册用户的交互消息，所述交互消息携带所述临时账号，以使所述系统网关对所述临时账号鉴权通过后向所述系统注册用户所使用的第一系统客户端转发所述交互消息。</p>
    <p>[0027]	本发明另一个实施例提供了一种系统网关，包括：</p>
    <p>[0028]	接收单元，用于接收第二系统客户端发送的登录请求，所述登录请求携带为所述非系统注册用户分配的在所述系统内有效的临时账号；</p>
    <p>[0029]	鉴权单元，用于对所述登录请求携带的临时账号进行鉴权；</p>
    <p>[0030]	发送单元，用于在所述鉴权单元对所述登录请求携带的临时账号的鉴权通过后， 向所述第二系统客户端发送邀请所述非系统注册用户的系统注册用户的信息；</p>
    <p>[0031]	所述接收单元，还用于接收来自所述第二系统客户端的需要发送给所述系统注册用户的交互消息，该交互消息携带临时账号；</p>
    <p>[0032]	所述鉴权单元，还用于对所述交互消息携带的临时账号进行鉴权；</p>
    <p>[0033]	所述发送单元，还用于在所述鉴权单元对所述交互消息携带的临时账号的鉴权通过后，向所述系统注册用户使用的第一系统客户端转发所述交互消息。</p>
    <p>[0034]	从本发明实施例提供的以上技术方案可以看出，由于本发明实施例中系统网关可以在系统注册用户要求非系统注册用户进行交互时，为非系统注册用户分配临时账号，并将临时账号发送给非系统注册用户，使非系统注册用户可以使用该临时账号与系统注册用户进行交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。附图说明</p>
    <p>[0035]	为了更清楚地说明本发明实施例中的技术方案，下面将对实施例描述中所需要使用的附图作简单地介绍，显而易见地，下面描述中的附图仅仅是本发明的一些实施例，对于本领域普通技术人员来讲，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。</p>
    <p>[0036]	图1为本发明一个实施例提供的用户注册方法的流程图；</p>
    <p>[0037]	图2为本发明另一个实施例提供的用户注册方法的信令流程图；</p>
    <p>[0038]	图3为本发明一个实施例提供的交互方法的流程图；</p>
    <p>[0039]	图4为本发明另一个实施例提供的交互方法的流程图；</p>
    <p>[0040]	图5为本发明另一个实施例提供的交互方法的信令流程图；</p>
    <p>[0041]	图6为本发明一个实施例提供的系统网关的结构图；</p>
    <p>[0042]	图7为本发明另一个实施例提供的系统网关的结构图；</p>
    <p>[0043]	图8为本发明另一个实施例提供的系统网关的结构图；</p>
    <p>[0044]	图9为本发明另一个实施例提供的系统网关的结构图；</p>
    <p>[0045]	图10为本发明一个实施例提供的终端的结构图；</p>
    <p>[0046]	图11为本发明另一个实施例提供的系统网关的结构图；</p>
    <p>[0047]	图12为本发明另一个实施例提供的系统网关的结构图；</p>
    <p>[0048]	图13为本发明另一个实施例提供的终端的结构图。</p>
    <p>具体实施方式</p>
    <p>[0049]	下面将结合本发明实施例中的附图，对本发明实施例中的技术方案进行清楚、完整地描述，显然，所描述的实施例仅仅是本发明一部分实施例，而不是全部的实施例。基于本发明中的实施例，本领域普通技术人员在没有作出创造性劳动前提下所获得的所有其他实施例，都属于本发明保护的范围。</p>
    <p>[0050]	先介绍本发明实施例提供的用户注册方法，图1描述了本发明一个实施例提供的用户注册方法的流程，该实施例描述的是系统网关的处理流程，其中，系统网关根据系统的不同会有不同，例如系统为RCS系统时，系统网关为RCS网关；系统为IM系统时，系统网关为IM网关。该实施例包括：</p>
    <p>[0051]	101、接收系统注册用户通过第一系统客户端发送的邀请请求，该邀请请求携带非系统注册用户的标识。</p>
    <p>[0052]	系统网关接收的邀请请求是基于系统内交互协议的，例如，在RCS系统内，邀请请求是通过网际协议多媒体子系统（IMS =IP multimedia subsystem)核心网传输的，RCS网关具体可以从rest接口接收邀请请求，其中邀请请求可以是基于超文本传输协议（HTTP ： Hyper Text Transport Protocol)或内部自定义协议的；在IM系统内，邀请请求则是基于该IM系统所使用的内部协议。其中，第一系统客户端是指由系统注册用户使用的客户端。 其中，第一系统客户端获取非系统注册用户的标识过程，具体可以通过系统注册用户从操作的终端的通讯录中选择获取，也可以通过接收系统注册用户的输入获取。</p>
    <p>[0053]	在本发明的一个实施例中，第一系统客户端在获取了邀请请求中的用户的标识后，可以先到系统的注册用户信息中心查询该用户的标识，如果没有从注册用户信息中心查询到该用户的标识，就可以确定该用户没有在系统注册，从而在确定该用户没有在系统注册时，才向系统网关发送邀请请求。其中，系统的注册用户信息中心根据不同的系统会有不同，例如在RCS系统中，可以是RCS用户中心（RCS UP Center)；在IM系统中，可以是IM Server。</p>
    <p>[0054]	其中，邀请请求携带的非系统注册用户的标识可以是非系统注册用户的电子邮件 (E-mail)地址、终端号码等。</p>
    <p>[0055]	102、获取为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0056]	其中，可以由系统网关为非系统注册用户分配临时账号，具体地，系统网关可以直接以非系统注册用户的标识作为临时账号，也可以分配系统流水号作为临时账号，也可以采用其他方式分配临时账号；本发明实施例不限定临时账号的具体形式，也不限定临时账号的分配方式，只需要保证分配的临时账号在系统中唯一即可。也可以由系统网关将非系统注册用户的标识发送至系统的注册用户信息中心，由系统的注册用户信息中心为非系统注册用户分配临时账号后，将临时账号发送给系统网关。</p>
    <p>[0057]	其中，在本发明的另一个实施例中，为了提高系统的安全性，在为非系统注册用户分配临时账号时，可以进一步分配使用该临时账号登录系统时使用的登录密码。</p>
    <p>[0058]	103、根据非系统注册用户的标识，向非系统注册用户所使用的终端发送临时账号。</p>
    <p>[0059]	根据非系统注册用户的标识不同，系统网关可以通过不同的通道向非系统注册用户发送临时账号，可以理解的是，系统网关发送临时账号的通道与接收邀请请求的通道不同，接收邀请请求一般采用系统内通道，但是发送临时账号的通道根据非系统注册用户的标识的类型的不同有不同，根据通道的不同，系统网关可以采用不同的方式发送邀请请求。 例如，在非系统注册用户的标识为非系统注册用户的E-mail地址时，系统网关可以通过 E-mail的方式向E-mail地址发送临时账号；在非系统注册用户的标识为终端号码时，则通过短信或多媒体短信的方式向终端号码对应的终端发送临时账号。</p>
    <p>[0060]	其中，如果分配了与临时账号对应的登录密码，则向非系统注册用户所使用的终端发送临时账号时，进一步向非系统注册用户所使用的终端发送登录密码。</p>
    <p>[0061]	具体地，为了方便非系统注册用户的操作，可以将临时账号或临时账号和登录密码设置在邀请链接中，再向非系统注册用户所使用的终端发送该邀请链接；非系统注册用户在收到了邀请链接后，可以直接点击该邀请链接登录系统，降低了非系统注册用户的操作繁琐度。</p>
    <p>[0062]	从上可知，本实施例中系统网关可以在系统注册用户要求非系统注册用户进行交互时，为非系统注册用户分配临时账号，并将临时账号发送给非系统注册用户，使非系统注册用户可以使用该临时账号与系统注册用户进行交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0063]	在本发明的另一个实施例中，系统网关接收的邀请请求还可以携带发起该邀请请求的系统注册用户的账号；此时，为了提高系统的安全性，系统网关在为非系统注册用户分配了临时账号后，可以进一步保存发起邀请请求的系统注册用户的账号与该临时账号的邀请关系，从而在后续的交互过程中，仅允许临时账号与该临时账号具有邀请关系的系统注册用户的账号进行交互。</p>
    <p>[0064]	进一步，在系统网关接收的邀请请求携带了发起该邀请请求的系统注册用户的账号时，系统网关可以根据系统注册用户的账号判断该系统注册用户是否有权限发送邀请请求；并且只有在判断得到系统注册用户有权限发送邀请请求时，才获取为非系统注册用户分配的临时账号，从而避免没有权限的系统注册用户发送邀请请求，提高系统的安全性和稳定性。其中，具有什么样的权限可以发送邀请请求可以由系统运营商设定，例如，只要是系统注册用户都可以发送邀请请求，或只允许有效的系统注册用户发送邀请请求，或只允许具有一定级别，并且有效的系统注册用户发送邀请请求等；其中，有效的系统注册用户是指的可以正常使用系统功能的系统注册用户，例如，如果一个系统注册用户的账号处于挂失状态，则该系统注册用户就不是有效的系统注册用户。</p>
    <p>[0065]	在本发明的另一个实施例中，系统网关接收的邀请请求还携带了系统注册用户邀请非系统注册用户进行交互的交互类型；此时，系统网关在获取了为非系统注册用户分配的在系统内有效的临时账号后，可以进一步在交互类型对应的交互服务器注册临时账号。 例如，系统注册用户邀请非系统注册用户进行交互的交互类型为IM交互时，系统网关可以将临时账号在IM服务器进行注册；系统注册用户邀请非系统注册用户进行交互的交互类型为文件交互时，系统网关可以将临时账号在文件服务器进行注册。这样，非系统注册用户后续在使用临时账号与系统注册用户进行交互时，可以通过交互服务器的验证。可以理解的是，在临时账号是由系统的注册用户信息中心分配时，系统网关可以不需要在交互类型对应的交互服务器注册临时账号。</p>
    <p>[0066]	在本发明的另一个实施例中，系统为RCS系统，则RCS网关在获取了为非系统注册用户分配的在系统内有效的临时账号后，可以进一步在网际协议多媒体子系统（IMS =IP multimedia subsystem)核心网中注册该临时账号。由于RCS系统中的交互信息会通过IMS 核心网进行传输，因此在IMS核心网中注册临时账号，可以确保非系统注册用户可以使用临时账号在IMS核心网传输交互信息。</p>
    <p>[0067]	图2描述了本发明另一个实施例提供的用户注册方法的信令流程，该实施例具体描述的是在RCS系统中，RCS注册用户邀请非RCS注册用户进行IM交互时的用户注册的流程，该实施例包括：</p>
    <p>[0068]	201、第一系统客户端在接收到用户A发起的与用户B进行IM交互的指令后，向 RCS UP Center发送查询请求，用于查询用户B是否为RCS注册用户，该查询请求携带用户 B的标识。</p>
    <p>[0069]	其中，用户A是RCS注册用户，第一系统客户端是RCS标准客户端，用户A在登录了第一系统客户端后，可以从第一系统客户端的联系人列表、或者终端的通讯录中选择用户B 的标识，或者也可以由用户A输入用户B的标识。</p>
    <p>[0070]	202、RCS UP Center根据用户B的标识查询用户B是否为RCS注册用户，并将查询结果携带在查询响应中返回给第一系统客户端。</p>
    <p>[0071]	203、第一系统客户端在接收到查询响应后，获取查询结果；如果查询结果为用户 B为RCS注册用户时，开始正常的RCS交互流程，本发明实施例不对正常的RCS交互流程进行描述；如果查询结果为用户B为非RCS注册用户，则第一系统客户端向RCS网关发送邀请请求，该邀请请求携带用户A的身份验证信息以及用户B的标识，其中，用户A的身份验证信息包括用户A的账号及登录密码等信息。</p>
    <p>[0072]	假设用户B的用户标识是E-mail地址，该E-mail具体为b@cc. com,则本发明一个实施例提供的邀请请求可以如下所示：</p>
    <p>[0073]	POST http：//host：port/rcsgw/invitee/user HTTP/1. 1</p>
    <p>[0074]	Authorization =Basic QUNS01NFQ1VSSVRZVE9LRU4 = Content Type ： application/json ；charset = UTF-8</p>
    <p>[0075]	{〃 email" &#183;.'’ b@cc.com" }</p>
    <p>[0076]	其中，用户A的身份验证信息保存在Authorization头域，Authorization头域的内容是由A的身份验证信息经过BASE64加密获得的字符串。</p>
    <p>[0077]	204、RCS网关接收到邀请请求后，使用邀请请求携带的用户A的身份验证信息验证用户A是否有权限发送邀请请求，在确定用户A有权限发送邀请请求时，为用户B分配临时账号和登录密码。</p>
    <p>[0078]	RCS系统中的账号可以为会话发起协议统一资源标识（SIP URI =Session Initiation Protocol Uniform Resource Identifier)，本实施例假设 RCS 网关使用 E-mail地址生成临时账号，则生成的临时账号为SIP :bicc. com。</p>
    <p>[0079]	其中，RCS网关在为用户B分配了临时账号和登录密码后，可以在临时账号表中增加为用户B分配的临时账号的信息，具体地，临时账号表中可以保存用户B的标识，为用户 B分配的临时账号及登录密码。在这种情况下，RCS网关在为用户B分配临时账号之前，可以先到临时账号表中确定是否已经为用户B分配了临时账号，如果已经分配了临时账号则可以直接使用临时账号表中记录的为用户B分配的临时账号。</p>
    <p>[0080]	进一步，RCS网关还可以进一步在邀请关系表中记录用户A与用户B的邀请关系， 其中，可以在邀请关系表中记录用户A的账号以及为用户B分配的临时账号，其中，保存的用户A的账号可以是用户A的用户身份标识（UID =User Identity)和用户A的SIP URI中的至少一个。在本发明的另一个实施例中，为用户B分配的临时账号是有有效期的，则可以进一步在邀请关系表中记录分配临时账号的时间以及临时账号的有效期；其中，在有效期为默认的有效期时，可以仅在邀请关系表中记录分配临时账号的时间。</p>
    <p>[0081]	其中，RCS网关在接收到第一系统客户端发送的邀请请求后，会向第一系统客户端返回邀请请求响应（图中未示出）。</p>
    <p>[0082]	205、RCS网关向IMS核心网发送第一注册请求，用于请求IMS核心网网元对为用户B分配的临时账号进行注册，该第一注册请求携带为用户B分配的临时账号。</p>
    <p>[0083]	206、IMS核心网向RCS网关发送第一注册响应，该第一注册响应携带为用户B分配的临时账号是否成功注册的信息。本实施例仅考虑成功注册的情况。</p>
    <p>[0084]	207、RCS网关向IM服务器发送第二注册请求，用于请求IM服务器对为用户B分配的临时账号进行注册，该第二注册请求携带为用户B分配的临时账号。</p>
    <p>[0085]	208、IM服务器向RCS网关发送第二注册响应，该第二注册响应携带为用户B分配的临时账号是否成功注册的信息。本实施例仅考虑成功注册的情况。</p>
    <p>[0086]	209、RCS网关将为用户B分配的临时账号和登录密码设置在邀请链接中，并向用户B的E-mail地址发送E-mail，该E-mail包括该邀请链接；其中，向用户B的E-mail地址发送E-mail，具体是向该E-mail地址所在的E-mail服务器发送Eiai 1，后续由该E-mail服务器将E-mail发送给用户B使用的终端。</p>
    <p>[0087]	假设临时账号sip :bicc. com对应的登录密码为12345，则本发明一个实施例提供的邀请链接如下所示：</p>
    <p>[0088]	http：//host:port/rcsgw/invitee/session/sip:bicc. com ？ passwd = 12345</p>
    <p>[0089]	其中，为了使用户B在收到E-mail能够清楚地知道该链接的作用，RCS网关还可以在发送的E-mail中增加一些关于该邀请链接的介绍信息。</p>
    <p>[0090]	从上可知，本实施例中RCS网关可以在RCS注册用户要求非RCS注册用户进行交互时，为非RCS注册用户分配临时账号，并将临时账号发送给非RCS注册用户，使非RCS注册用户可以使用该临时账号与RCS注册用户进行交互，使RCS注册用户可以有更好的业务体验，也能够增加非RCS注册用户注册成RCS注册用户的意愿，加快RCS的普及。</p>
    <p>[0091]	如下再介绍本发明实施例提供的交互方法，图3描述了本发明一个实施例提供的交互方法的流程，该实施例描述的是终端，具体是非系统注册用户使用的终端的处理流程， 该实施例包括：</p>
    <p>[0092]	301、接收来自系统网关的临时账号，该临时账号是为非系统注册用户分配且在系统内有效。</p>
    <p>[0093]	具体地，终端可以在接收系统网关发送的E-mail、短信或彩信等后，从E-mail、短信或彩信中获取临时账号。其中，该临时账号可以承载在邀请链接中。</p>
    <p>[0094]	进一步，在临时账号有对应的登录密码时，E-mail、短信或彩信中会进一步包括该登录密码。相应地，在临时账号承载在邀请链接中时，该登录密码也可以承载在该邀请链接中。</p>
    <p>[0095]	302、使用临时账号向系统网关发送登录请求。</p>
    <p>[0096]	非系统注册用户在获取了临时账号、或者临时账号与登录密码时，可以启动第二系统客户端，再输入临时账号、或者输入临时账号与登录密码，第二系统客户端就会向系统网关发送登录请求，该登录请求包括临时账号、或者临时账号与登录密码，以使系统网关能够根据临时账号、或者临时账号与登录密码进行鉴权。</p>
    <p>[0097]	在临时账号、或者临时账号与登录密码承载在邀请链接中时，非系统注册用户只需要点击该邀请链接，就可以启动第二系统客户端，第二系统客户端启动后就可以自动的发送登录请求，从而可以减少非系统注册用户需要进行的操作，提高非系统注册用户的使用意愿。</p>
    <p>[0098]	其中，第二系统客户端可以是预先设置在终端的独立客户端，该独立客户端与系统注册用户所使用的第一系统客户端相比，可能会有一些附加功能上的缺失，但是基本的系统功能与第一系统客户端是相同的；第二系统客户端也可能是一个Web客户端，该Web客户端基本的系统功能与第一系统客户端是相同的。在临时账号、或者临时账号与登录密码承载在邀请链接中时，非系统注册用户只需要点击邀请链接，终端就会自动的启动独立客户端或Web客户端；其中，基本的系统功能根据系统的不同会有不同，例如对于RCS系统，基本的系统功能可以包括RCS会话等；对于IM系统，基本的系统功能可以包括IM会话等；可以理解的是，第二系统客户端所能够实现的基本的系统功能可以由系统运营商根据需要进行定制。</p>
    <p>[0099]	其中，系统网关在接收到登录请求后，根据登录请求携带的临时账号、或者临时账号与登录密码进行鉴权，具体地，系统网关可以到自身保存的临时账号表中匹配登录请求携带的临时账号、或者临时账号与登录密码。在鉴权通过后，系统网关就可以从自身保存的邀请关系表中查找到邀请该非系统注册用户的系统注册用户的信息。</p>
    <p>[0100]	303、接收系统网关返回的邀请非系统注册用户的系统注册用户的信息。</p>
    <p>[0101]	由于非系统注册用户在系统中没有对应的联系人列表，因此在第二系统客户端登陆了系统之后，就会接收到系统网关返回的邀请该非系统注册用户进行交互的系统注册用户的信息，从而使非系统注册用户可以与邀请该非系统注册用户的系统注册用户进行交互，并且该非RCS注册用户只能与邀请他的RCS注册用户进行交互，不能任意与其他RCS注册用户交互。</p>
    <p>[0102]	可以理解的是，系统注册用户的信息根据不同的系统会有不同，例如在IM系统中，系统注册用户的信息可以是系统注册用户的IM账号等；在RCS系统中，系统注册用户的信息可以是系统注册用户的UID，或者是系统注册用户的SIP URI等。</p>
    <p>[0103]	304、向系统网关发送需要发送至系统注册用户的交互消息，该交互消息携带临时账号，以使系统网关对临时账号鉴权通过后向系统注册用户所使用的第一系统客户端转发该交互消息。</p>
    <p>[0104]	终端在接收了邀请非系统注册用户的系统注册用户的信息后，就会在第二系统客户端的界面上显示该系统注册用户的信息，使非系统注册用户可以通过第二系统客户端打开与该系统注册用户的交互窗口，从而与系统注册用户进行交互。</p>
    <p>[0105]	交互消息除了携带非系统注册用户与系统注册用户进行交互的交互信息外，还可携带临时账号、或者临时账号与登录密码，使系统网关可以根据临时账号、或者临时账号与登录密码进行鉴权，从而在鉴权通过后向系统注册用户所使用的第一系统客户端转发交互消息，具体地，系统网关可以通过当前交互类型对应的交互服务器向第一系统客户端转发交互消息；可以理解的是，如果系统网关在为非系统注册用户分配临时账号时没有将该临时账号在交互服务器注册，则系统网关至少需要在通过交互服务器向第一系统客户端转发交互消息之前，将该临时账号在该交互服务器注册。</p>
    <p>[0106]	其中，为了提高系统的安全性，可以要求仅在系统注册用户在线时，该系统注册用户邀请的非系统注册用户才能够与该系统注册用户进行交互，因此在向系统网关发送需要发送至系统注册用户的交互消息前进一步包括：向系统网关发送请求检测系统注册用户的在线状态的检测请求；接收系统网关返回的系统注册用户的在线状态；如果系统注册用户的在线状态为在线，才向系统网关发送需要发送至系统注册用户的交互消息。</p>
    <p>[0107]	从上可知，本实施例中非系统注册用户使用的终端可以使用系统网关分配的临时账号登录到系统，并且与邀请该非系统注册用户的系统注册用户进行交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0108]	进一步，在本发明的另一个实施例中，为了进一步提高系统的安全性，非系统注册用户使用的第二系统客户端或系统注册用户使用的第一系统客户端在注销登录时，会向系统网关发送一个注销请求，以使系统网关删除临时账号以及临时账号与系统注册用户的账号的邀请关系、或删除临时账号与系统注册用户的账号的邀请关系。</p>
    <p>[0109]	图4描述了本发明另一个实施例提供的交互方法的流程，该实施例描述的是系统网关的处理流程，该实施例包括：</p>
    <p>[0110]	401、接收第二系统客户端发送的登录请求，该登录请求携带为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0111]	其中，在系统网关为临时账号分配了登录密码时，系统网关接收的登录请求还可以进一步携带该登录密码。</p>
    <p>[0112]	402、在对登录请求携带的临时账号的鉴权通过后，向第二系统客户端发送邀请非系统注册用户的系统注册用户的信息。</p>
    <p>[0113]	系统网关可以到自身保存的临时账号表中匹配登录请求携带的临时账号、或者临时账号与登录密码，在匹配通过后，系统网关可以从自身保存的邀请关系表中查找到邀请该非系统注册用户的系统注册用户的信息。</p>
    <p>[0114]	403、接收来自第二系统客户端的需要发送给系统注册用户的交互消息，该交互消息携带临时账号。</p>
    <p>[0115]	404、在对交互消息携带的临时账号的鉴权通过后，向系统注册用户所使用的第一系统客户端转发交互消息。</p>
    <p>[0116]	其中，对交互消息携带的临时账号的鉴权可以包括：根据保存的临时账号与系统注册用户的账号的邀请关系，判断交互消息携带的临时账号是否与系统注册用户的账号存在邀请关系；如果交互消息携带的临时账号与系统注册用户的账号存在邀请关系，则鉴权通过。</p>
    <p>[0117]	从上可知，本实施例中系统网关只需要对临时账号进行鉴权就可以实现第二系统客户端的登录，以及与第一系统客户端之间的交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0118]	其中，根据系统的不同，系统网关向系统注册用户所使用的第一系统客户端转发交互消息的流程可能会有不同，一般情况下，系统网关可以通过交互服务器向第一系统客户端转发交互消息。例如在IM系统中，系统网关可以将交互消息转发给IM服务器，由IM 服务器将该交互消息转发至第一系统客户端。在RCS系统中，交互类型为IM交互时，系统网关可以通过IMS核心网将交互消息转发至RCS系统的IM服务器，再由该IM服务器将交互消息转发至第一系统客户端。</p>
    <p>[0119]	在非系统注册用户使用的第二系统客户端与系统网关的交互使用第一协议，且系统内部交互使用第二协议，且第一协议与第二协议不同时，系统网关向系统注册用户使用的第一系统客户端转发交互消息具体可以包括：将消息的格式从第二系统客户端与系统网关交互的第一协议的格式，转换为系统内部交互所使用的第二协议的格式；向第一系统客户端转发转换为第二协议的格式的交互消息。其中，系统内部交互包括系统内网元之间的交互，以及系统内网元与系统注册用户使用的第一系统客户端的交互等。</p>
    <p>[0120]	在本发明的另一个实施例中，为了提高系统交互的安全性，系统网关向系统注册用户所使用的第一系统客户端转发交互消息前可以进一步包括：</p>
    <p>[0121]	在本发明的另一个实施例中，为了达到仅在系统注册用户在线时，该系统注册用户邀请的非系统注册用户才能够与该系统注册用户进行交互的目的，非系统注册用户使用的第二系统客户端可以向系统网关发送检测系统注册用户的在线状态的检测请求；因此，系统网关会接收到来自第二系统客户端的请求检测系统注册用户的在线状态的检测请求； 因此系统网关可以检测系统注册用户的在线状态，并将系统注册用户的在线状态携带在检测响应中返回给第二系统客户端。</p>
    <p>[0122]	以系统为RCS系统为例，假设RCS注册用户为用户A，非RCS注册用户为用户B，则用户B使用的第二系统客户端可以向RCS网关发送status消息来请求RCS网关检测用户 A的在线状态，假设用户A的SIP URI为sip :aicc. com，则第二系统客户端发送的status 消息可以如下所示：</p>
    <p>[0123]	GET http：//host:port/rcsgw/invitee/status/sip:aicc. com HTTP/1. 1</p>
    <p>[0124]	Authorization =Basic QUNS01NFQ1VSSVRZVE9LRU4 =</p>
    <p>[0125]	其中，Authorization为使用用户B的临时账号及登录密码经过BASE64加密后的</p>
    <p>字符串。</p>
    <p>[0126]	RCS网关收到status消息后，根据Authorization对用户B进行鉴权，鉴权通过后，根据自身保存的邀请关系表验证用户B是否有权限查询用户A的在线状态。如果用户 B有权限查询用户A的在线状态，RCS网关将status消息转换为SIP OPTIONS消息发送给 IMS核心网，收到IMS核心网返回的用户A的在线状态后，将用户A的在线状态返回给用户 B使用的第二客户端。</p>
    <p>[0127]	可以理解的是，第二系统客户端可以周期性地向系统网关发送status消息，以使系统网关周期性地检测系统注册用户的在线状态；当然，第二系统客户端也可以只向系统网关发送一次status消息，系统网关自动的周期性地检测系统注册用户的在线状态。需要说明的是，系统网关虽然周期性地检测系统注册用户的在线状态，但是只要检测到的系统注册用户的在线状态与上一次返回给第二系统客户端的在线状态相比没有改变，系统网关就不需要再次向第二系统客户端返回系统注册用户的在线状态。</p>
    <p>[0128]	进行交互的非系统注册用户和系统注册用户都有可能在交互的过程中，或交互完成后下线，如果是非系统注册用户下线，非系统注册用户使用的第二系统客户端会向系统网关发送注销请求，请求注销登录；如果是系统注册用户下线，系统注册用户使用的第一系统客户端也会向系统网关发送注销请求，请求注销登录。因此在本发明的另一个实施例中， 系统网关会接收到来自系统注册用户使用的第一系统客户端、或非系统注册用户使用的第二系统客户端的注销请求；此时，系统网关可以删除临时账号以及临时账号与系统注册用户的账号的邀请关系、或删除临时账号与系统注册用户的账号的邀请关系。即，系统网关在接收到注销请求后，可以从自身保存的邀请关系表中删除临时账号与系统注册用户的账号的邀请关系，以及从临时账号表中删除为非系统注册用户分配的临时账号；或者，如果系统网关在不同时间为同一个非系统注册用户分配的临时账号是相同的，那么系统网关可以只删除邀请关系表中临时账号与系统注册用户的账号的邀请关系，如果再有系统注册用户邀请该非系统注册用户进行交互，系统网关可以直接到临时账号表中获取为该非系统注册用户分配的临时账号。</p>
    <p>[0129]	图5描述了本发明另一个实施例提供的交互方法的信令流程图，该实施例具体描述的是在RCS系统中，RCS注册用户与非RCS注册用户进行IM交互的流程，该实施例包括：</p>
    <p>[0130]	501、用户B启动第二系统客户端后，第二系统客户端向RCS网关发送登录请求，该登录请求携带临时账号。[0131]	其中，用户B为非RCS注册用户，临时账号是RCS网关为用户B分配的。</p>
    <p>[0132]	502、RCS网关对临时账号进行鉴权。</p>
    <p>[0133]	RCS网关可以将登录请求携带的临时账号到临时账号表中进行匹配，如果在临时账号表中匹配到对应的临时账号则鉴权通过，反之，鉴权不通过。</p>
    <p>[0134]	503、RCS网关在对临时账号的鉴权通过后，将登录请求转换成SIP协议的登录请求。</p>
    <p>[0135]	其中，RCS网关接收的登录请求所采用的协议可以是Restful协议，也可以是超文本传输协议（HTTP ：Hyper Text Transport Protocol) + 可扩展标记语言(XML =Extensive Makeup Language)协议；具体地，在第二系统客户端是独立客户端时，登录请求所采用的协议可以是Restful协议；在第二系统客户端是Web客户端时，登录请求所采用的协议可以是 HTTP+XML 协议或 Restful 协议。</p>
    <p>[0136]	504、RCS网关使用SIP协议的登录请求发起SIP鉴权流程，以使IMS核心网和IM 服务器对SIP协议的登录请求进行鉴权。</p>
    <p>[0137]	由于RCS网关在为非RCS注册用户分配临时账号后，已经在IMS核心网和IM服务器注册了该临时账号，因此IMS核心网和IM服务器能够通过SIP协议的登录请求的鉴权。</p>
    <p>[0138]	505,RCS网关在收到IMS核心网和IM服务器返回的表示鉴权通过的响应后，从邀请关系表中获取与上述临时账号具有邀请关系的系统注册用户的信息，将获取的系统注册用户的信息携带在登录响应中返回给第二系统客户端。</p>
    <p>[0139]	本实施例假设获取的系统注册用户的信息包括用户A的信息。</p>
    <p>[0140]	506、第二系统客户端在接收到登录响应后，向RCS网关发送status消息，用于请求RCS网关检测用户A的在线状态。</p>
    <p>[0141]	507,RCS网关在对用户B的鉴权通过后，将status消息转换为SIP0PTI0NS消息， 使用SIP OPTIONS消息发起SIP OPTIONS消息流程，通过IMS核心网从IM服务器获取用户 A的在线状态。</p>
    <p>[0142]	508、RCS网关在收到IMS核心网返回的用户A的在线状态后，将用户A的在线状态携带在status响应中返回给第二系统客户端。</p>
    <p>[0143]	509、在用户A的在线状态为在线时，用户B可以选择向用户A发送第一 IM消息， 因此第二系统客户端向RCS网关发送第一 IM消息。</p>
    <p>[0144]	假设用户A的SIP URI是SIP :aicc. com，用户B向用户A发送的第一 IM消息的内容为abcdefg，本发明一个实施例提供的向RCS网关发送的第一 IM消息如下所示：</p>
    <p>[0145]	POST http：//host：port/rcsgw/invitee/message HTTP/1. 1</p>
    <p>[0146]	Authorization =Basic QUNS01NFQ1VSSVRZVE9LRU4 =</p>
    <p>[0147]	{〃 to" :〃 sip:aicc. com" ， ‘‘ message" :〃 abcdefg" }</p>
    <p>[0148]	其中，Authorization后的内容是用户B的临时账号和登录密码经过BASE64加密后的字符串。</p>
    <p>[0149]	其中，第一 IM消息可以基于Restful协议或HTTP+XML协议。</p>
    <p>[0150]	510、RCS网关收到消息后，对用户B进行鉴权。</p>
    <p>[0151]	具体的鉴权包括对用户B的临时账号的鉴权，以及用户B是否与用户A存在邀请关系的鉴权。[0152]	511、鉴权通过后，RCS网关将第一 IM消息转换成SIP INVITE消息，通过MSRP通道将SIP INVITE消息经由IMS核心网发送至IM服务器。</p>
    <p>[0153]	其中，在第一系统客户端与第二系统客户端之间尚未建立MSRP通道时，则可以直接将SIP INVITE消息发送至IMS核心网发起SIP INVITE流程从而建立MSRP通道。</p>
    <p>[0154]	512、IM服务器将SIP INVITE消息转发给用户A使用的第一系统客户端。</p>
    <p>[0155]	在第一系统客户端接收到SIP INVITE消息后，就会建立第一系统客户端与RCS网关之间的MSRP通道，则后续RCS网关和第一系统客户端之间的交互可以直接通过MSRP通道进行。</p>
    <p>[0156]	513、用户A向用户B回复消息，第一系统客户端通过MSRP通道将第二 IM消息发送至RCS网关。</p>
    <p>[0157]	514、RCS网关将第二 IM消息转换成Restful协议或HTTP+XML协议后，将转换成 Restful协议或HTTP+XML协议的第二 IM消息发送给第二系统客户端。</p>
    <p>[0158]	515、用户B选择结束交互，第二系统客户端向RCS网关发送注销请求。</p>
    <p>[0159]	516,RCS网关将注销请求转换成SIP协议格式，通过IMS核心网向IM服务器发送转换成SIP协议格式的注销请求，使用SIP协议格式的注销请求发起SIP BYE流程，拆除 MSRP通道。</p>
    <p>[0160]	517、RCS网关进行注销处理。</p>
    <p>[0161]	具体地，注销处理包括删除邀请关系表中用户B的临时账号与用户A的账号之间的邀请关系，进一步，还可以删除临时账号表中用户B的临时账号。</p>
    <p>[0162]	518、RCS网关在注销处理完成后，向第二系统客户端发送注销响应。</p>
    <p>[0163]	从上可知，本实施例中RCS网关只需要对临时账号进行鉴权就可以实现第二系统客户端的登录，以及与第一系统客户端之间的交互，使非RCS注册用户可以使用该临时账号与RCS注册用户进行交互，使RCS注册用户可以有更好的业务体验，也能够增加非RCS注册用户注册成RCS注册用户的意愿，加快RCS的普及。</p>
    <p>[0164]	需要说明的是，对于前述的各方法实施例，为了简单描述，故将其都表述为一系列的动作组合，但是本领域技术人员应该知悉，本发明并不受所描述的动作顺序的限制，因为依据本发明，某些步骤可以采用其他顺序或者同时进行。其次，本领域技术人员也应该知悉，说明书中所描述的实施例均属于优选实施例，所涉及的动作和模块并不一定是本发明所必须的。</p>
    <p>[0165]	如下介绍本发明实施例提供的装置，先介绍本发明实施例提供的系统网关，图6 描述了本发明一个实施例提供的系统网关的结构，包括：</p>
    <p>[0166]	接收单元601，用于接收系统注册用户通过第一系统客户端发送的邀请请求，该邀请请求包括非系统注册用户的标识。</p>
    <p>[0167]	获取单元602，用于在接收单元601接收了邀请请求后，获取为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0168]	发送单元603，用于根据非系统注册用户的标识，向非系统注册用户所使用的终端发送获取单元602获取的临时账号。</p>
    <p>[0169]	从上可知，本实施例中系统网关可以在系统注册用户要求非系统注册用户进行交互时，为非系统注册用户分配临时账号，并将临时账号发送给非系统注册用户，使非系统注册用户可以使用该临时账号与系统注册用户进行交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0170]	图7描述了本发明另一个实施例提供的系统网关的结构，包括：</p>
    <p>[0171]	接收单元601，用于接收系统注册用户通过第一系统客户端发送的邀请请求，该邀请请求包括非系统注册用户的标识；该邀请请求还包括系统注册用户的账号。</p>
    <p>[0172]	获取单元602，用于在接收单元601接收了邀请请求后，获取为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0173]	发送单元603，用于根据非系统注册用户的标识，向非系统注册用户所使用的终端发送获取单元602获取的临时账号。</p>
    <p>[0174]	保存单元704，用于保存获取单元602获取的临时账号与接收单元601接收的系统注册用户的账号的邀请关系。</p>
    <p>[0175]	如图7所示，本发明另一个实施例提供的系统网关还可以包括判断单元805，用于根据接收单元601接收的系统注册用户的账号，判断该系统注册用户是否有权限发送邀请请求；此时，获取单元602，仅用于在判断单元805判断得到系统注册用户有权限发送邀请请求时，才获取为非系统注册用户分配的临时账号。</p>
    <p>[0176]	如图7所示，本发明另一个实施例提供的系统网关包括的接收单元601接收的邀请请求，还可以包括系统注册用户邀请非系统注册用户进行交互的交互类型；则该实施例提供的系统网关还可以包括第一注册单元906，用于在接收单元601接收的交互类型对应的交互服务器注册获取单元602获取的临时账号。</p>
    <p>[0177]	本发明另一个实施例提供的系统网关可以应用于RCS系统，具体是作为RCS系统中的RCS网关使用；当系统网关应用于RCS系统时，还可以包括第二注册单元，用于在IMS 核心网中注册分配单元602分配的临时账号，其中第二注册单元未在图中示出。</p>
    <p>[0178]	图8描述了本发明另一个实施例提供的系统网关的结构，包括：</p>
    <p>[0179]	接收单元1001，用于接收第二系统客户端发送的登录请求，该登录请求携带为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0180]	鉴权单元1002，用于对接收单元1001接收的登录请求携带的临时账号进行鉴权。</p>
    <p>[0181]	发送单元1003，用于在鉴权单元1002对登录请求携带的临时账号的鉴权通过后， 向第二系统客户端发送邀请非系统注册用户的系统注册用户的信息。</p>
    <p>[0182]	接收单元1001，还用于接收来自第二系统客户端的需要发送给系统注册用户的交互消息，该交互消息携带临时账号。</p>
    <p>[0183]	鉴权单元1002，还用于对接收单元1001接收的交互消息携带的临时账号进行鉴权。</p>
    <p>[0184]	在本发明的一个实施例中，鉴权单元1002，具体可以用于根据保存的临时账号与系统注册用户的账号的邀请关系，判断交互消息携带的临时账号是否与系统注册用户的账号存在邀请关系；如果交互消息携带的临时账号与系统注册用户的账号存在邀请关系，确定鉴权通过。</p>
    <p>[0185]	发送单元1003，还用于在鉴权单元1002对交互消息携带的临时账号的鉴权通过后，向系统注册用户使用的第一系统客户端转发交互消息。[0186]	在本发明的一个实施例中，发送单元1003，具体可以用于将交互消息的格式从第二系统客户端与系统网关交互的第一协议的格式，转换为系统内部交互所使用的第二协议的格式；再向第一系统客户端转发转换为第二协议的格式的交互消息。</p>
    <p>[0187]	从上可知，本实施例中系统网关只需要对临时账号进行鉴权就可以实现第二系统客户端的登录，以及与第一系统客户端之间的交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0188]	图9描述了本发明另一个实施例提供的系统网关的结构，包括：</p>
    <p>[0189]	接收单元1001，用于接收第二系统客户端发送的登录请求，该登录请求携带为非系统注册用户分配的在系统内有效的临时账号。</p>
    <p>[0190]	鉴权单元1002，用于对接收单元1001接收的登录请求携带的临时账号进行鉴权。</p>
    <p>[0191]	发送单元1003，用于在鉴权单元1002对登录请求携带的临时账号的鉴权通过后， 向第二系统客户端发送邀请非系统注册用户的系统注册用户的信息。</p>
    <p>[0192]	接收单元1001，还用于接收来自第二系统客户端的请求检测系统注册用户的在线状态的检测请求。</p>
    <p>[0193]	检测单元1104，用于在接收单元1001接收了检测请求后，检测系统注册用户的在线状态。</p>
    <p>[0194]	发送单元1003，还用于将检测单元1104检测到的系统注册用户的在线状态返回</p>
    <p>给第二系统客户端。</p>
    <p>[0195]	接收单元1001，还用于接收来自第二系统客户端的需要发送给系统注册用户的交互消息，该交互消息携带临时账号。</p>
    <p>[0196]	鉴权单元1002，还用于对接收单元1001接收的交互消息携带的临时账号进行鉴权。</p>
    <p>[0197]	发送单元1003，还用于在鉴权单元1002对交互消息携带的临时账号的鉴权通过后，向系统注册用户使用的第一系统客户端转发交互消息。</p>
    <p>[0198]	如图9所示，在本发明的另一个实施例中，接收单元1001，还可以用于接收来自第一系统客户端或第二系统客户端的注销请求；此时，该实施例提供的系统网关还可以包括如图9所示的删除单元1205，用于在接收单元1001接收了注销请求后，删除临时账号以及临时账号与系统注册用户的账号的邀请关系、或删除临时账号与系统注册用户的账号的邀请关系。</p>
    <p>[0199]	再介绍本发明实施例提供的终端，图10描述了本发明一个实施例提供的终端的结构，包括：</p>
    <p>[0200]	接收单元1301，用于接收来自系统网关的临时账号，该临时账号是为非系统注册用户分配且在系统内有效。</p>
    <p>[0201]	发送单元1302，用于向系统网关发送登录请求，该登录请求包括接收单元1301接收的临时账号。</p>
    <p>[0202]	接收单元1301，还用于接收系统网关返回的邀请非系统注册用户的系统注册用户的信息。</p>
    <p>[0203]	发送单元1302，还用于向系统网关发送需要发送至统注册用户的交互消息，该交号，以使系统网关对临时账号鉴权通过后向系统注册用户所使用的第一系统客户端转发交互消息。</p>
    <p>[0204]	从上可知，本实施例中非系统注册用户使用的终端可以使用系统网关分配的临时账号登录到系统，并且与邀请该非系统注册用户的系统注册用户进行交互，从而使一个系统的注册用户能够与非该系统的注册用户进行交互，使系统注册用户可以有更好的业务体验，也能够增加非系统注册用户注册成系统注册用户的意愿。</p>
    <p>[0205]	在本发明的另一个实施例中，本发明实施例提供的终端所包括的发送单元1302， 还可以用于向系统网关发送请求检测系统注册用户的在线状态的检测请求；接收单元 1301，还可以用于接收系统网关返回的系统注册用户的在线状态；发送单元1302，用于在系统注册用户的在线状态为在线时，才向系统网关发送需要发送至系统注册用户的交互消肩、ο</p>
    <p>[0206]	在本发明的另一个实施例中，本发明实施例提供的终端所包括的发送单元1302， 还可以用于向系统网关发送注销请求，以使系统网关删除临时账号以及临时账号与系统注册用户的账号的邀请关系、或删除临时账号与系统注册用户的账号的邀请关系。</p>
    <p>[0207]	图11描述了本发明另一个实施例提供的系统网关的结构，包括至少一个处理器 1402 (例如CPU)，至少一个网络接口 1405或者其他通信接口，存储器1406，和至少一个通信总线1403，用于实现这些装置之间的连接通信。处理器1402用于执行存储器1406中存储的可执行模块，例如计算机程序。存储器1406可能包含高速随机存取存储器（RAM=Random Access Memory)，也可能还包括非不稳定的存储器(non-volatile memory)，例如至少一个磁盘存储器。通过至少一个网络接口 1405(可以是有线或者无线）实现该系统网关与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。</p>
    <p>[0208]	在一些实施方式中，存储器1406存储了程序14061，程序14061可以被处理器 1402执行，这个程序包括：接收系统注册用户通过第一系统客户端发送的邀请请求，该邀请请求包括非系统注册用户的标识；获取为非系统注册用户分配的在系统内有效的临时账号；根据非系统注册用户的标识，向非系统注册用户所使用的终端发送临时账号。</p>
    <p>[0209]	图12描述了本发明另一个实施例提供的系统网关的结构，包括至少一个处理器 1502 (例如CPU)，至少一个网络接口 1505或者其他通信接口，存储器1506，和至少一个通信总线1503，用于实现这些装置之间的连接通信。处理器1502用于执行存储器1506中存储的可执行模块，例如计算机程序。存储器1506可能包含高速随机存取存储器（RAM=Random Access Memory)，也可能还包括非不稳定的存储器(non-volatile memory)，例如至少一个磁盘存储器。通过至少一个网络接口 1505(可以是有线或者无线）实现该系统网关与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。</p>
    <p>[0210]	在一些实施方式中，存储器1506存储了程序15061，程序15061可以被处理器 1502执行，这个程序包括：接收第二系统客户端发送的登录请求，该登录请求携带为非系统注册用户分配的在系统内有效的临时账号；在对登录请求携带的临时账号的鉴权通过后，向第二系统客户端发送邀请非系统注册用户的系统注册用户的信息；接收来自第二系统客户端的需要发送给系统注册用户的交互消息，该交互消息携带临时账号；在对交互消息携带的临时账号的鉴权通过后，向系统注册用户使用的第一系统客户端转发交互消息。</p>
    <p>[0211]	图13描述了本发明另一个实施例提供的终端的结构，包括至少一个处理器1602 (例如CPU)，至少一个网络接口 1605或者其他通信接口，存储器1606，和至少一个通信总线1603，用于实现这些装置之间的连接通信。处理器1602用于执行存储器1606中存储的可执行模块，例如计算机程序。终端可选的包含用户接口 1604，包括但不限于显示器，键盘和点击设备（例如，鼠标，轨迹球（tracliball)，触感板或者触感显示屏。存储器1606可能包含高速随机存取存储器（RAM =Random Access Memory)，也可能还包括非不稳定的存储器（non-volatile memory)，例如至少一个磁盘存储器。通过至少一个网络接口 1505 (可以是有线或者无线）实现该系统网关与至少一个其他网元之间的通信连接，可以使用互联网，广域网，本地网，城域网等。</p>
    <p>[0212]	在一些实施方式中，存储器1606存储了程序16061，程序16061可以被处理器 1602执行，这个程序包括：接收来自到系统网关的临时账号，使用临时账号向系统网关发送登录请求，该临时账号是为非系统注册用户分配且在系统内有效；接收系统网关返回的邀请非系统注册用户的系统注册用户的信息；向系统网关发送需要发送至系统注册用户的交互消息，交互消息携带所述临时账号，以使系统网关对临时账号鉴权通过后向系统注册用户所使用的第一系统客户端转发交互消息。</p>
    <p>[0213]	上述装置和系统内的各模块之间的信息交互、执行过程等内容，由于与本发明方法实施例基于同一构思，具体内容可参见本发明方法实施例中的叙述，此处不再赘述。</p>
    <p>[0214]	本领域普通技术人员可以理解实现上述实施例方法中的全部或部分流程，是可以通过计算机程序来指令相关的硬件来完成，上述的程序可存储于一计算机可读取存储介质中，该程序在执行时，可包括如上述各方法的实施例的流程。其中，上述的存储介质可为磁碟、光盘、只读存储记忆体（ROM :Read-0nly Memory)或随机存储记忆体（RAM =Random Access Memory)等。</p>
    <p>[0215]	本文中应用了具体个例对本发明的原理及实施方式进行了阐述，以上实施例的说明只是用于帮助理解本发明的方法及其思想；同时，对于本领域的一般技术人员，依据本发明的思想，在具体实施方式及应用范围上均会有改变之处，综上所述，本说明书内容不应理解为对本发明的限制。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1700226A?cl=zh">CN1700226A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2005年4月30日</td><td class="patent-data-table-td patent-date-value">2005年11月23日</td><td class="patent-data-table-td ">世嘉股份有限公司</td><td class="patent-data-table-td ">向非会员提供会员服务的系统、服务器、方法和程序</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101986674A?cl=zh">CN101986674A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月17日</td><td class="patent-data-table-td patent-date-value">2011年3月16日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种通过移动通信终端邀请社交网站好友的方法及装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103516675A?cl=zh">CN103516675A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月21日</td><td class="patent-data-table-td patent-date-value">2014年1月15日</td><td class="patent-data-table-td ">华为软件技术有限公司</td><td class="patent-data-table-td ">资源标识共享方法、终端和管理平台</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/EP2882157A4?cl=zh">EP2882157A4</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月26日</td><td class="patent-data-table-td patent-date-value">2016年4月27日</td><td class="patent-data-table-td ">Beijing Wangmi Online Network Co Ltd</td><td class="patent-data-table-td ">Network accessing method, application server and system</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014019427A1?cl=zh">WO2014019427A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年6月26日</td><td class="patent-data-table-td patent-date-value">2014年2月6日</td><td class="patent-data-table-td ">Beijing Wangmi Online Network Co., Ltd.</td><td class="patent-data-table-td ">访问网络的方法、应用服务器及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014117515A1?cl=zh">WO2014117515A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年9月6日</td><td class="patent-data-table-td patent-date-value">2014年8月7日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">终端状态判断的方法和系统、RCS-e服务器</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2016045214A1?cl=zh">WO2016045214A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2014年12月22日</td><td class="patent-data-table-td patent-date-value">2016年3月31日</td><td class="patent-data-table-td ">深圳市中兴微电子技术有限公司</td><td class="patent-data-table-td ">一种决策方法、装置、终端及计算机存储介质</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012660000">H04L12/66</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0029060000">H04L29/06</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L65/1073">H04L65/1073</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L63/083">H04L63/083</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L65/1069">H04L65/1069</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=6y1uBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L51/36">H04L51/36</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2012年4月18日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年5月30日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2014年11月5日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/e4eabbd40c2b850a6fc9/CN102420819A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_6e802a6b2b28d51711baddc2f3bec198.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E7%94%A8%E6%88%B7%E6%B3%A8%E5%86%8C%E6%96%B9%E6%B3%95_%E4%BA%A4%E4%BA%92%E6%96%B9%E6%B3%95%E5%8F%8A%E7%9B%B8%E5%85%B3.pdf?id=6y1uBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U2FLtQ4liTrQS20_1TjUMshn8LrkA"},"sample_url":"https://www.google.com/patents/reader?id=6y1uBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>