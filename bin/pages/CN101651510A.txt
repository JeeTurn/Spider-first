<!DOCTYPE html><html><head><title>专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="业务数据同步发送的恢复处理方法和装置"><meta name="DC.contributor" content="姚翠峰" scheme="inventor"><meta name="DC.contributor" content="艾建勋" scheme="inventor"><meta name="DC.contributor" content="中兴通讯股份有限公司" scheme="assignee"><meta name="DC.date" content="2008-8-14" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开了一种业务数据同步发送的恢复处理方法和装置，该方法包括：第一网元向第二网元发送请求，该请求中携带数据流的标识信息和第一信息，其中，上述请求用于获取数据流中第一信息指示的数据包对应的无线链路控制协议数据单元的无线链路控制序列号；第一网元接收第二网元根据请求返回的第二信息，并将第二信息中携带的无线链路控制序列号分配给第一网元中的无线链路控制协议数据单元。通过本发明，出现数据丢失的下层网元或重新启动的下层网元通过向其他正常运作的下层网元获取正确的RLC序列号，保持了各下层网元间RLC序列号的同步，避免了相邻小区的无线干扰。"><meta name="DC.date" content="2010-2-17"><meta name="citation_patent_publication_number" content="CN:101651510:A"><meta name="citation_patent_application_number" content="CN:200810131394"><link rel="canonical" href="https://www.google.com/patents/CN101651510A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101651510A?cl=zh"/><meta name="title" content="专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置"/><meta name="description" content="本发明公开了一种业务数据同步发送的恢复处理方法和装置，该方法包括：第一网元向第二网元发送请求，该请求中携带数据流的标识信息和第一信息，其中，上述请求用于获取数据流中第一信息指示的数据包对应的无线链路控制协议数据单元的无线链路控制序列号；第一网元接收第二网元根据请求返回的第二信息，并将第二信息中携带的无线链路控制序列号分配给第一网元中的无线链路控制协议数据单元。通过本发明，出现数据丢失的下层网元或重新启动的下层网元通过向其他正常运作的下层网元获取正确的RLC序列号，保持了各下层网元间RLC序列号的同步，避免了相邻小区的无线干扰。"/><meta property="og:title" content="专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101651510A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101651510A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101651510A&amp;usg=AFQjCNENu4p19KpQd3MusflsD063JnfNCQ" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/94ef21259847aa2044ba/CN101651510A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/94ef21259847aa2044ba/CN101651510A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101651510A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101651510A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101651510A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN101651510B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101651510A?cl=zh" style="display:none"><span itemprop="description">本发明公开了一种业务数据同步发送的恢复处理方法和装置，该方法包括：第一网元向第二网元发送请求，该请求中携带数据流的标识信息和第一信息，其中，上述请求用于获取数据流中第一信息指示的数据包对应的无线链路控...</span><span itemprop="url">https://www.google.com/patents/CN101651510A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置" title="专利 CN101651510A - 业务数据同步发送的恢复处理方法和装置"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101651510 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200810131394</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2010年2月17日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2008年8月14日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2008年8月14日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101651510B?hl=zh-CN&amp;cl=zh">CN101651510B</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2320599A1?hl=zh-CN&amp;cl=zh">EP2320599A1</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2320599A4?hl=zh-CN&amp;cl=zh">EP2320599A4</a>, </span><span class="patent-bibdata-value"><a href="/patents/EP2320599B1?hl=zh-CN&amp;cl=zh">EP2320599B1</a>, </span><span class="patent-bibdata-value"><a href="/patents/US8462687?hl=zh-CN&amp;cl=zh">US8462687</a>, </span><span class="patent-bibdata-value"><a href="/patents/US20110141964?hl=zh-CN&amp;cl=zh">US20110141964</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2010017728A1?hl=zh-CN&amp;cl=zh">WO2010017728A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200810131394.9, </span><span class="patent-bibdata-value">CN 101651510 A, </span><span class="patent-bibdata-value">CN 101651510A, </span><span class="patent-bibdata-value">CN 200810131394, </span><span class="patent-bibdata-value">CN-A-101651510, </span><span class="patent-bibdata-value">CN101651510 A, </span><span class="patent-bibdata-value">CN101651510A, </span><span class="patent-bibdata-value">CN200810131394, </span><span class="patent-bibdata-value">CN200810131394.9</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A7%9A%E7%BF%A0%E5%B3%B0%22">姚翠峰</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%89%BE%E5%BB%BA%E5%8B%8B%22">艾建勋</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E4%B8%AD%E5%85%B4%E9%80%9A%E8%AE%AF%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">中兴通讯股份有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101651510A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101651510A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101651510A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (2),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (9),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200810131394&amp;usg=AFQjCNHvuBGOczGed-EsDOZt6D_eyTO2AQ"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101651510A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFLinNcQwV_2jpL10vNvQ2Nz1W1hg"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT92723433" lang="ZH" load-source="patent-office">业务数据同步发送的恢复处理方法和装置</invention-title>
      </span><br><span class="patent-number">CN 101651510 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA73846872" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开了一种业务数据同步发送的恢复处理方法和装置，该方法包括：第一网元向第二网元发送请求，该请求中携带数据流的标识信息和第一信息，其中，上述请求用于获取数据流中第一信息指示的数据包对应的无线链路控制协议数据单元的无线链路控制序列号；第一网元接收第二网元根据请求返回的第二信息，并将第二信息中携带的无线链路控制序列号分配给第一网元中的无线链路控制协议数据单元。通过本发明，出现数据丢失的下层网元或重新启动的下层网元通过向其他正常运作的下层网元获取正确的RLC序列号，保持了各下层网元间RLC序列号的同步，避免了相邻小区的无线干扰。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(20)</span></span></div><div class="patent-text"><div mxw-id="PCLM29207741" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.一种业务数据同步发送的恢复处理方法，第一网元和第二网元为下层网元，且所述第一网元接收其上层网元发送的数据流，其特征在于，所述方法包括：    所述第一网元向所述第二网元发送请求，所述请求中携带所述数据流的标识信息和第一信息，其中，所述请求用于获取所述数据流中所述第一信息指示的数据包对应的无线链路控制协议数据单元的无线链路控制序列号；    所述第一网元接收所述第二网元根据所述请求返回的第二信息，并将所述第二信息中携带的无线链路控制序列号分配给所述第一网元中的所述无线链路控制协议数据单元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2. 根据权利要求1所述的方法，其特征在于，所述第一信息包 括至少以下之一 ：所述数据流中的数据突发的时间戳信息、 所述凄t据流中的数据包的序列号、由所述第 一 网元和所述第 二网元的上层网元分配的所述数据流中数据突发的数据突发 标识。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3. 根据权利要求2所述的方法，其特征在于，在所述第一网元 向所述第二网元发送所述^青求之后，所述方法还包括：所述第二网元接收所述请求，并才艮据所述^青求向所述第 一网元返回所述第二消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4. 根据权利要求3所述的方法，其特征在于，在所述第一信息 为所述数据流的#:据突发的时间戳信息的情况下，所述第二 网元4妄收所述"i青求，并才艮l居所述^青求向所述第 一网元返回所 述第二消息的处理包4舌：所述第二网元将所述时间戳信息对应的数据突发中的第 一个凄t据包对应的第 一个无线链^各控制协议凄t据单元的无线 链路控制序列号作为所述第二信息返回给所述第 一 网元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5. 根据权利要求3所述的方法，其特征在于，在所述第一信息 为所述数据流的数据突发的数据突发标识的情况下，所述第 二网元接收所述请求，并才艮据所述i青求向所述第一网元返回 所述第二消息的处理包括：所述第二网元将所述凄欠据突发标识对应的凝:据突发中的 第 一个凄t据包对应的第 一个无线链路控制协议ft据单元的无 线链路控制序列号作为所述第二信息返回给所述第 一 网元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6. 根据权利要求3所述的方法，其特征在于，在所述第一信息 为所述数据流中的数据包的序列号的情况下，所述第二网元 接收所述i青求，并才艮据所述请求向所述第 一网元返回所述第 二消息的处理包括：所述第二网元将所述数据包序列号对应的数据包所对应 的第 一 个无线链路控制协议数据单元的无线链路控制序列号 作为所述第二信息，返回给所述第一网元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7. 根据权利要求3所述的方法，其特征在于，在所述第一信息 为所述数据流中的凄t据包的序列号的情况下，所述第二网元 4妄收所述i&#36010;求，并4艮据所述i青求向所述第 一网元返回所述第 二消息的处理包4舌：所述第二网元将所述数据包的序列号对应的数据包所对 应的第 一个无线链路控制协议数据单元的无线链路控制序列 号及所述凄t据包在所述无线链^各控制协i义^:据单元中的偏移 信息作为所述第二信息返回给所述第 一 网元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8. 根据权利要求1至7中任一项所述的方法，其特征在于，所述第一网元和所述第二网元的所述上层网元包括以下 之一：长期演进系统的多媒体广播组播业务网关、通用陆地 无线接入网的主控无线网络控制器、增强的高速分组接入系 纟克的主节点力口；所述第一网元和所述第二网元包括以下之一：长期演进 系统的演进节点B、通用陆地无线接入网的从属无线网络控 制器、增强的高速分组接入系统的,人属节点加。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9. 根据权利要求1至7中任一项所述的方法，其特征在于，所 述凄t据流包含多个凄t据突发。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10. 根据权利要求1至7中任一项所述的方法，其特征在于，在所述数据流为 一 个多媒体广播组播业务的数据包流的 情况下，所述凄t据流的标识信息包4舌至少以下之一：所述多 々某体广^番组^番业务的业务标识、所述第 一 网元和所述第二网元为所述lt据流建立的信令连4妄标识；在所述数据流为多个多媒体组播广播业务的数据包流的 情况下，所述凄t据流的标识信息包括至少以下之一：所述第 一网元和所述第二网元的上层网元为所述^t据流分配的标 识、所述第 一 网元和所述第二网元为所述数据流建立的信令 连接标识。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11. 根据权利要求1至7中任一项所述的方法，其特征在于，所 述数据突发为一组标识相同时间戳信息的数据包；或者所述 数据突发为一组同时进行无线链路控制串接处理的数据包； 或者所述凄t据突发为 一个H据包。</div>
    </div>
    </div> <div class="claim"> <div num="12" class="claim">
      <div class="claim-text">12. &#8212;种业务数据同步发送的恢复处理方法，其特征在于，包括：第 一 网元将其4妄收的数据流的标识信息发送给第二网 元，其中，所述数据流的标识信息用于请求获取所述数据流 的数据包对应的无线链路控制协议数据单元的无线链路控制 序列号；所述第 一 网元4妾收所述第二网元才艮据所述凄史据流的标识 信息返回的响应信息，其中，所述响应信息中携带有所述邀: 据流的标识信息所对应的lt据流中的所述无线链^各控制协议 数据单元的无线链路控制序列号和第一信息，其中，所述第 一信息用于指示所述无线《连路控制协议凄t据单元。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13. 根据权利要求12所述的方法，其特征在于，所述第一信息包 括至少以下之一：所述数据流中的 一个数据突发的时间戳信 息、由所述第一网元和所述第二网元的上层网元分配的所述 数据流中的一个数据突发的数据突发标识、所述数据流中的 一个ft据包的序列号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14. 根据权利要求13所述的方法，其特征在于，在所述第一信息 为由所述第 一 网元和所述第二网元的上层网元分配的所述数 据流中的 一 个数据突发的时间戳信息的情况下，所述无线链 路控制协议数据单元的无线链路控制序列号为该数据突发中 的第 一个数据包对应的第 一个无线链路控制协议数据单元的 无线链路控制序列号，相应地，所述第一网元接收到所述响 应信息后，根据所述时间戳信息确定相应的数据突发，并为 确定的所述数据突发中的第 一个数据包对应的第 一个无线链 ^各控制协"i义^:据单元分配所述无线链^各控制序列号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15. 根据权利要求13所述的方法，其特征在于，在所述第一信息 为所述凄t据流中的一个lt据包的序列号的情况下，所述协i义^:据单元的无线链路控制序列号为所述^t据包对应的第 一个 无线链路控制协议数据单元的无线链路控制序列号，相应地， 所述第一网元接收到所述响应信息后，4艮据所述凄t据包序列 号确定相应的数据包，并为确定的所述数据包对应的第 一个 无线链^各控制协议数据单元分配所述无线链^各控制序列号。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="16" class="claim">
      <div class="claim-text">16. 根据权利要求13所述的方法，其特征在于，在所述第一信息 为由所述第 一 网元和所述第二网元的上层网元分配的所述数 据流中的一个数据突发的凄t据突发标识的情况下，所述无线 链路控制协议数据单元的无线链路控制序列号为该数据突发 中的第 一个数据包对应的第 一个无线链路控制协议数据单元 的无线链路控制序列号，相应地，所述第一网元接收到所述 响应^f言息后，才艮据所述凄史据突发标识确定相应的婆t据突发， 并为确定的所述lt据突发中的第 一个凄t据包对应的第 一个无 线链路控制协议数据单元分配所述无线链路控制序列号。</div>
    </div>
    </div> <div class="claim"> <div num="17" class="claim">
      <div class="claim-text">17. 4艮据4又利要求12至16中任一项所述的方法，其特征在于，所述第 一 网元和所述第二网元的所述上层网元包括以下 之一：长期演进系统的多媒体广播组播业务网关、通用陆地 无线*接入网的主控无线网络控制器、增强的高速分组接入系 统的主节点加；所述第一网元和所述第二网元包括以下之一：长期演进 系统的演进节点B、通用陆地无线接入网的从属无线网络控 制器、增强的高速分组接入系统的从属节点加。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18. 根据权利要求12至16中任一项所述的方法，其特征在于，在所述数据流为 一个多^某体广播组播业务的数据包流的 情况下，所述凄t据流的标识4言息包4舌至少以下之一：所述多々某体广^J番组4番业务的业务标识、所述第 一 网元和所述第二网元为所述数据流建立的信令连4妄标识；在所述数据流为多个多媒体组播广播业务的数据包流的 情况下，所述凄t据流的标识信息包括至少以下之一：所述第 一网元和所述第二网元的上层网元为所述数据流分配的标 识、所述第 一网元和所述第二网元为所述凄t据流建立的信令 连接标识。</div>
    </div>
    </div> <div class="claim"> <div num="19" class="claim">
      <div class="claim-text">19. 一种业务数据同步发送的恢复处理装置，位于第一网元侧， 其特征在于，包括：发送模块，用于向第二网元发送请求，其中，所述请求 中携带所述第 一 网元接收的数据流的标识信息和第 一信息， 其中，所述请求用于获取所述数据流中所述第一信息指示的 数据包对应的无线链路控制协议数据单元的无线链路控制序 列号；处理^t块，用于接收所述第二网元^f艮据所述请求返回的 第二信息，并将所述第二信息中携带的无线链路控制序列号 分配症会所述第 一 网元中的所述无线链if各控制协i义凄t据单元。</div>
    </div>
    </div> <div class="claim"> <div num="20" class="claim">
      <div class="claim-text">20. &#8212;种业务凄t据同步发送的恢复处理装置，位于第一网元侧， 其特征在于，包括：发送模块，用于将接收的数据流的标识信息发送给第二 网元，其中，所述数据流的标识信息用于请求获取所述数据 流的数据包对应的 一 个无线链路控制协议数据单元的无线链 路控制序列号；处理模块，用于接收所述第二网元根据所述数据流的标 识信息返回的响应信息，其中，所述响应信息中携带有所述 凄t据流的标识信息所对应的数据流中的所述无线链^各控制协议数据单元的无线链路控制序列号和第一信息，其中，所述 第 一信息用于指示所述无线链路控制协议数据单元。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES35673581" lang="ZH" load-source="patent-office" class="description">
    <p>业务数据同步发送的恢复处理方法和装置</p>
    <p>技术领域</p>
    <p>本发明涉及通信领域，尤其涉及一种业务凄t据同步发送的恢复 处理方法和装置。</p>
    <p>背景技术</p>
    <p>随着Internet网络的迅猛发展，大量多媒体业务涌现出来，人 们对移动通信的需求已不再满足于电话和消息业务，目前，多媒体 业务中引入了应用业务，应用业务的特点是多个用户能同时接收相 同的凄t据，例如3见频点播、电一见广^番、祸L频会i义、网上教育、互动 游戏等。</p>
    <p>为了有效地利用移动网络资源，提出了多媒体广播组播业务 (Multimedia Broadcast Multicast Service, 简一尔为MBMS) 4支术， MBMS为一个数据源向多个用户发送^t据的点到多点业务，通过该 业务，能够实现网络资源共享，包括移动核心网和接入网的资源共 享，尤其是空口资源的共享，且3GPP中的MBMS不^f又能够实现&#32020; 文本低速率的消息类组播和广播，而且能够实现高速率的多媒体业 务组纟番和广才番。</p>
    <p>MBMS单频网传^T方式（MBMS Single Frequency Network,简 称为MBSFN)是一种能够才是高MBMS业务频-潜利用率的4支术。 MBSFN中，相邻小区同步发送相同的无线信号，用户设备（UE) 可以将来自于不同基站的信号视为多径信号。同步发送MBMS业务无线信号的多个小区组成MBSFN同步区域，在MBSFN同步区域 内的小区，同步发送相同的MBMS业务信号，这些小区称为MBSFN 小区。</p>
    <p>由于MBMS业务是面向全网的服务，同一个MBMS业务可能 建立在不同的下层网元节点上，具体地，上层网元向下层网元发送 数据流，其中，该数据流中包括多个数据突发，每个数据突发中包 4舌多个翁:据包，目前，采用下述方法来实现多个网元在小区间的 MBMS业务同步，图1示出了上层网元和下层网元的逻辑结构框架 图，可以看出， 一个上层网元与多个下层网元相连4妻，进行信令交 互，图2是根据现有技术的MBMS同步实现方法的流程图，如图2 所示，包4舌以下处理：</p>
    <p>步骤S202,上层网元向各个下层网元发送MBMS业务数据包， 其中，该数据包中携带时间戳信息、数据包序列号信息、累计数据 包长度信息等。对于 一 个或多个连续并且需要进行无线链路控制 (Radio Link Control,简称为RLC )协议层进行串接处理的数据包， 上层网元对该一个或多个凝:据包标识相同的时间戳信息，这些标识 了相同时间戳的 一个或多个数据包组成一个数据突发（data burst), 一个凄t据突发可以是一组连续的凄t据包，也可以是单独的 一个凄t才居 包；</p>
    <p>步骤S204，对于每个下层网元，其接收到上述MBMS业务数 据包，其中，对同一个数据突发中的数据包进行RLC协议层串接处 理，不同数据突发中的数据包不进行RLC串接；</p>
    <p>步骤S206，下层网元对同一个凄t据突发中的数据包在其标识的 时间戳指示的时刻开始按照其序列号进行处理；</p>
    <p>10步骤S208，下层网元根据每个数据包中的数据包序列号信息， 检测是否存在数据包的丢失，以及&#19999;失的数据包的个数；</p>
    <p>步骤S210,下层网元根据每个数据包携带的累计数据包长度信 息，检测丢失的数据包的累计长度，构造虚拟数据包。</p>
    <p>由于上层网元发送给每个下层网元的MBMS业务凄史据包完全 相同，这样各下层网元可以进行完全一致的处理，以实现MBMS 业务在各下层网元的小区间的同步发送。</p>
    <p>通过上述方法，下层网元在4企测到凄t据包丢失时，可以4艮据丢 失的数据包的个数和总长度，构造虚拟数据包，其中，这些虚拟数 据包的个数和总长度与丢失数据包的个数和总长度一致，构造虚拟 数据包之后，下层网元将构造的虚拟数据包加入到用户面协议处理 中，就像丢失的数据包没有&#19999;失一样，但是下层网元并不发送包含 虚拟数据包的用户面数据块（RLC PDU或者MAC PDU )，来保证 对后续凄史据包处理和其它下层第一网元致，并避免因为虚拟凄t据包 和真实数据包的不一致而导致的与相邻小区间的无线干扰。</p>
    <p>需要it明的是，上述的一个上层网元和一个或多个下层网元在 物理功能上可以是相同的网元，也可以是不同的网元，将其分为上 层网元和下层网元只是/人逻辑上进4亍的划分，协作完成业务同步功 能，即多个相同或不同的物理网元4要照逻辑功能划分为 一个上层网 元和一个或多个下层网元，这些网元协同合作实现在下层网元小区 以多小区合并方式发送MBMS业务。</p>
    <p>在上述多个网元的小区间的MBMS业务同步实现方法中，存 在以下问题：</p>
    <p>一、在上述多个网元的小区间的MBMS业务同步实王见方法中， 每个下层网元独立完成对MBMS业务数据包的无线链^各控制协议(RLC)处理，具体包括分配RLC序列号、RLC分片和串接 (segmentation and concatenation )，在正常'l"青〉兄下,每个下层网元纟* 护当前的RLC序列号，并根据当前接收到的数据包进行上述RLC 处理，由于各下层网元的初始RLC序列号可以通过配置来保持同步 的，这样每个下层网元在数据处理过程中，都可以保持RLC序列号 分配的一致性。但是，在现有的多个网元的小区间的MBMS业务同 步实现方法中，在某个下层网元因为管理原因或者异常情况发生重 新启动后，该下层网元不能确定正确的无线链J各控制协议序列号， 无法与其4也没有发生重新启动的下层网it/f呆持RLC序列号的同步。</p>
    <p>二、在凄t据&#20034;人上层网元传丰叙到下层网元的过程中，存在丢失的 可能性，并且可能出现连续的数据包丢失，才艮据现有4支术，下层网 元可以检测到丢失的数据包的个数和丢失的数据包的总长度，并根 据这些信息构造虚拟的&#19999;失数据包，并将这些虚拟的数据包进行用 户面协议层处理，就像这些数据包没有丢失一样，以保持后续接收 到的数据包的处理状态和其他没有发生数据丢失的下层网元一致， 这样保证在数据丢失的情况下，在正确的接收到后续数据包后，还 能4呆持和其它下层网元的同步。</p>
    <p>但是，前一个数据突发的数据包和后 一个数据突发的数据包不 可能在同一个RLC PDU内串接，对前一个数据突发的数据块，如 果没有占满一个RLC PDU或者MAC SDU，则在RLC十办i义层或者 MAC协议层进行填充处理，填充的数据大小取决于RLC协议PDU 或者MAC PDU没有被占用的空间大小。在出现连续数据丢失的情 况下，下层网元没有办法判断丢失的若干个凄t悟包是否属于同一个 数据突发，那么也就是没有办法判断这些数椐包之间是否需要进行 串接或者填充处理，即，&#19999;失的数据包真实的占用RLC PDU或者 MAC PDU的负荷空间的大小是没有办法正确计算的。</p>
    <p>12在上述的情况下，出现凄t据丢失的下层网元或重新启动的下层</p>
    <p>网元不能与其他正常运作的下层网元保持RLC序列号的同步，会导 致小区间无线信号的干扰。</p>
    <p>发明内容</p>
    <p>考虑到相关冲支术中存在的出现凄t据&#19999;失的下层网元或重新启动 的下层网元不能与其他正常运作的下层网元保持RLC序列号的同 步，会带来无线信号的干扰的问题而提出本发明，为此，本发明的 主要目的在于提供一种业务数据同步发送的恢复处理方法和装置， 以解决上述问题。</p>
    <p>根据本发明的一个方面，提供一种业务数据同步发送的恢复处 理方法。</p>
    <p>根据本发明的业务数据同步发送的恢复处理方法包括：第 一 网 元向第二网元发送请求，其中，请求中携带数据流的标识信息和第 一信息，其中，请求用于获取数据流中第一信息指示的数据包对应 的无线链路控制协议数据单元的无线链路控制序列号；第 一 网元接 收第二网元根据请求返回的第二信息，并将第二信息中携带的无线 链路控制序列号分配给第 一 网元中的无线链路控制协议数据单元， 其中，第一网元和第二网元为下层网元，且第一网元接收的数据流 为上层网元发送的。</p>
    <p>根据本发明的一个方面，提供一种业务数据同步发送的恢复处 理方法。</p>
    <p>才艮据本发明的业务凄t据同步发送的恢复处理方法包括：第 一网 元将其接收的数据流的标识信息发送给第二网元，其中，数据流的 标识信息用于请求获取数据流的数据包对应的无线链路控制协议数 据单元的无线链^各控制序列号；第 一 网元4妄收第二网元冲艮据凄t据流的标识信息返回的响应信息，其中，响应信息中携带有凝:据流的标 识信息所对应的数据流中的无线4连路控制协议凄t据单元的无线链3各 控制序列号和第一信息，其中，第一信息用于指示无线链路控制协 议数据单元。</p>
    <p>根据本发明的另 一个方面，提供一种业务数据同步发送的恢复 处理装置，其中，该装置位于第一网元侧。</p>
    <p>根据本发明的业务数据同步发送的恢复处理装置包括：发送模 块，用于向第二网元发送请求，其中，请求中携带第一网元接收的 数据流的标识信息和第一信息，其中，请求用于获取数据流中第一 信息指示的数据包对应的无线链路控制协议数据单元的无线链路控 制序列号；处理模块，用于接收第二网元根据请求返回的第二信息， 并将第二信息中携带的无线链路控制序列号分配给第 一 网元中的无 线4连^各控制协议&#171;居单元。</p>
    <p>根据本发明的另 一个方面，提供一种业务数据同步发送的恢复 处理装置，其中，该装置位于第一网元侧。</p>
    <p>#4居本发明的业务数据同步发送的恢复处理装置包括：发送才莫 块，用于将接收的数据流的标识信息发送给第二网元，其中，数据 流的标识信息用于请求获取数据流的数据包对应的一个无线链路控 制协议数据单元的无线链路控制序列号；处理模块，用于接收第二 网元根据数据流的标识信息返回的响应信息，其中，响应信息中携 带有数据流的标识信息所对应的数据流中的无线链路控制协议数据 单元的无线链路控制序列号和第一信息，其中，第一信息用于指示 无线链^各控制协议lt据单元。</p>
    <p>通过本发明的上述至少 一个技术方案，出现数据丢失的下层网 元或重新启动的下层网元通过向其他正常运作的下层网元获取正确</p>
    <p>14的RLC序列号，保持了各下层网元间RLC序列号的同步，避免了 相邻小区的无线干扰。</p>
    <p>附图说明</p>
    <p>附图用来^是供对本发明的进一步理解，并且构成i&#20812;明书的 一部 分，与本发明的实施例一起用于解释本发明，并不构成对本发明的 限制。在附图中：</p>
    <p>图； 、 I 、 一      W 一       W 、、 "王</p>
    <p>图2是根据相关技术的MBMS同步实现方法的流程图；</p>
    <p>图3是根据本发明方法实施例一的业务数据同步发送的恢复处 理方法的流禾呈图；</p>
    <p>图4是根据图3所示方法的实例一的消息结构示意图；</p>
    <p>图5是才艮^^居图3所示方法的实例二的消息结构示意图；</p>
    <p>图6是才艮据图3所示方法的实例三的消息结构示意图；</p>
    <p>图7是4艮据图3所示方法的实例四的消息结构示意图；</p>
    <p>图8是才艮据本发明方法实施例二的业务凝:据同步发送的恢复处 理方法的流程图；</p>
    <p>图9是根据本发明装置实施例一的业务数据同步发送的恢复处 理装置的结构框架图；图10是根据本发明装置实施例二的业务数据同步发送的恢复处理装置的结构框架图。 具体实施方式下面将结合附图详细描述本发明。 方法实施例根据本发明实施例，4是供了一种数据恢复处理方法。图3是根据本发明实施例的业务数据同步发送的恢复处理方法 的流禾呈图，如图3所示，该方法包4舌以下步艰《：步骤S302,第一网元向第二网元发送请求，该请求中携带凄t据 流的标识信息和第一信息，其中，该请求用于获取数据流中第一信 息指示的数据包对应的无线链路控制协议数据单元（RLC.PDU)的 无线链if各控制（RLC)序列号；步骤S304，第一网元4妄收第二网元才艮据i青求返回的第二信息， 并将第二信息中携带的RLC序列号分配给第 一 网元中的RLC.PDU。在实施步骤S302之前，第一网元接收其上层网元发送的数据 流，其中，第一网元和第二网元为下层网元。通过本发明实施例提供的技术方案，出现数据&#19999;失的下层网元RLC序列号，保持了各下层网元间RLC序列号的同步，避免了相 邻小区的无线干扰。其中，上层网元和下层网元可以是下列网元的组合方式，^f旦不 限于下列的组合：组合一，在通用陆地无线接入网（UTRAN)系统的MBMS业 务同步组网中，上层网元为上层无线网络控制器（RNC)，下层网元 为下层RNC,其中，上层网元和下层网元间的接口为Iur接口 ，在 该组合中，上层网元和下层网元为物理功能相同的网元。组合二，在增强的高速分组接入系统（HSPA+ )的MBMS业 务同步组网中，上层网元为主控RNC或者主节点加（masterNodeB + ，即master NB+ )，下层网元为&#20034;人属节点力口 （ slave NodeB + ,即 slave NB+),其中，上层网元和下层网元间的4妄口为Iur 4妄口 ，在该 纟且合中，上层网元和下层网元为物理功能相同而逻辑功能不同的网 元。组合三，在长期演进系统（LTE )的MBMS业务同步组网中， 上层网元为多々某体广播组播业务网关（MGW)或者MCE,下层网 元为演进节点B (E-UTRAN NodeB )，其中，上层网元和下层网元 间的4妄口为M2 4妄口 。对于凄t据流的标识信息，在lt据流为一个多々某体广纟番组纟番业务 的数据包流的情况下，数据流的标识信息包括至少以下之一：为该 多J?某体广播组^番业务的业务标识、第一网元和第二网元为凄t据流建 立的信令连接标识；在数据流为多个多々某体组播广播业务的数据包 流的情况下，数据流的标识信息包括至少以下之一：为第一网元和 第二网元的上层网元为该凝:据流分配的标识、第一网元和第二网元 为数据流建立的信令连接标识。优选地，在上述第 一 消息为数据流中的数据突发的时间戳信息 的情况下，以实例一为例进^f亍-说明。实例一</p>
    <p>下层网元一 （即，上文所述的第一网元）在MBMS业务进4亍 过禾呈中重新启动或者才企测到MBMS业务连续多个业务翁:据包丢失 的情况下，下层网元一向下层网元二 （即，上文所述的第二网元） 发送消息一 （即，上文所述的请求），其中，消息一携带有MBMS 业务标识（即，上文所述的凄t据流的标识信息）和MBMS业务中某 个翁:据突发的时间戳信息，该凄t据突发可以为下层网元一和下层网 元二接收到的MBMS业务中的任意一个数据突发。</p>
    <p>下层网元二接收到上述消息一，在下层网元二维护了 MBMS 业务的无线《连;洛控制切4义处理状态的情况下，下层网元二才艮据上述 数据突发的时间戳信息查找数据流中相应的数据突发，确定该数据 突发中的第 一个数据包对应的第 一个RLC PDU的RLC序列号后， 向下层网元一发送消息二，其中，消息二携带有该数据突发中的第 一个数据包对应的第 一个RLC PDU的RLC序列号、MBMS业务标 识、上述数据突发的时间戳信息。</p>
    <p>下层网元一接收到上述消息二 ， 4艮据消息二携带的信息对 MBMS业务数据包进行无线链路控制协议处理，具体地，可以将消 息二中的RLC序列号分配给消息一中的时间戳信息对应的数据突 发中的第 一个数据包对应的RLC PDU。</p>
    <p>如图4所示，上述消息一中携带的数据突发时间戳为T,下层 网元二接收到消息 一后，查找时间戳T对应的数据突发的第 一个数 据包，若为该凝:据包的第一个RLCPDU分配的RLC序列号SN1， 则将SN1作为消息二发送给下层网元一，下层网元一接收到消息二 后，设置数据突发时间戳为T的数据突发的第一个数据包对应的第 一个RLCPDU的RLC序列号为SN1。优选地，在上述第一消息为由第一网元和第二网元的上层网元 分配的数据流中数据突发的数据突发标识的情况下，以实例二为例 进行说明。</p>
    <p>实例二</p>
    <p>下层网元一在MBMS业务进行过程中重新启动或者才企测到 MBMS业务连续多个业务^t据包丢失的情况下，下层网元一向下层 网元二发送消息一，其中，消息一携带有MBMS业务标识和MBMS 业务中某个数据突发的数据突发标识，该数据突发可以为下层网元 一和下层网元二4妄收到的MBMS业务中的4壬意一个翁:才居突发。</p>
    <p>下层网元二接收到上述消息一，在下层网元二维护了 MBMS 业务的无线链^各控制协议处理状态的情况下，下层网元二冲艮据上述 数据突发的数据突发标识查找数据流中相应的数据突发，确定该数 据突发中的第一个凝:据包对应的第一个RLC PDU的RLC序列号 后，向下层网元一发送消息二，其中，消息二携带有该数据突发中 的第 一个凄t据包对应的第 一个RLC PDU的RLC序列号、MBMS业 务标识、上述数据突发标识。</p>
    <p>下层网元一接收到上述消息二，根据消息二携带的信息，对 MBMS业务数据包进行无线链路控制协议处理，具体地，可以将消 息二中的RLC序列号分配给消息一中的数据突发标识对应的数据 突发中的第 一个数据包对应的RLC PDU。</p>
    <p>如图5所示，上述消息一中携带的数据突发序列号为S,下层 网元二接收到消息一后，查找数据突发序列号S对应的数据突发的 第一个数据包，若为该数据包的第一个RLCPDU分配的RLC序列 号SNl,则将SN1作为消息二发送给下层网元一，下层网元一接收</p>
    <p>19到消息二后，设置数据突发序列号为s的数据突发的第一个数据包</p>
    <p>对应的第 一个RLC PDU的RLC序列号为SN1 。</p>
    <p>优选地，在上述第 一 消息为数据流中的lt据包的序列号的情况 下，以实例三为例进4iS&#20812;明，且该lt据包为某个^:据突发中的第一 个凄t据包。</p>
    <p>实例三</p>
    <p>下层网元一在MBMS业务进^f亍过禾呈中重&#23560;斤启动或者4企测到 MBMS业务连续多个业务凝:据包丢失的情况下，下层网元一向下层 网元二发送消息一，其中，消息一携带有MBMS业务标识和MBMS 业务中某个凄t据包的序列号，该数据包可以为下层网元一和下层网 元二接收到的MBMS业务中的任意一个凄t据包。</p>
    <p>下层网元二接收到上述消息一，在下层网元二维护了 MBMS 业务的无线链路控制协议处理状态的情况下，下层网元二才艮据上述 数据包的序列号查找数据流中相应的数据包，确定该数据包中的第 一个RLCPDU的RLC序列号后，向下层网元一发送消息二，其中， 消息二携带有该lt据包中的第一个RLC PDU的RLC序列号、 MBMS业务才示iK、上述凄t才居包序列号。</p>
    <p>下层网元一接收到上述消息二，根据消息二携带的信息，对 MBMS业务数据包进行无线链路控制协议处理，具体地，可以将消 息二中的RLC序列号分配给消息一中的数据包对应的第一个RLC PDU。</p>
    <p>如图6所示，上述消息一中携带的业务数据包序列号为S，下 层网元二接收到消息一后，查找业务数据包序列号S对应的数据包， 若为该数据包的第 一个RLC PDU分配的RLC序列号SN1 ，则将SN1 作为消息二发送给下层网元一，下层网元一接收到消息二后，设置</p>
    <p>20业务4feb悟包序列号为S的凝::悟包对应的第一个RLC PDU的RLC序 列号为SN1。</p>
    <p>优选地，在上述第 一 消息为数据流中的数据包的序列号的情况 下，以实例四为例进^f于"i&#20812;明，且该翁:据包为某个凄t据突发中的任意 一个数据包。</p>
    <p>实例四</p>
    <p>下层网元一在MBMS业务进行过程中重新启动或者4企测到 MBMS业务连续多个业务数据包丢失的情况下，下层网元一向下层 网元二发送消息一，其中，消息一携带有MBMS业务标识和MBMS 业务中某个翁:据包的序列号，该数据包可以为下层网元一和下层网 元二接收到的MBMS业务中的任意一个凄t据包。</p>
    <p>下层网元二接收到上述消息一，在下层网元二维护了 MBMS 业务的无线链^各控制协议处理状态的情况下，下层网元二才艮据上述 数据包的序列号查找数据流中相应的数据包，确定该数据包中的第 一个RLC PDU的RLC序列号和该ft据包的第一个字节在该RLC PDU中的位置信息（即翁:据包在RLC PDU中的偏移信息）后，向 下层网元一发送消息二，其中，消息二携带有该数据包中的第一个 RLC PDU的RLC序列号、该^:据包的第一个字节在该RLC PDU 中的位置信息、MBMS业务标识、上述凄欠据包序列号。</p>
    <p>下层网元一接收到上述消息二，根据消息二携带的信息，对 MBMS业务数据包进行无线链路控制协议处理，具体地，可以将消 息二中的RLC序列号分配给消息一中的教:据包对应的第一个RLC PDU，并将该数据包的第一个字节在第一个RLC PDU中的偏移设 置为消息二所指示的偏移信息。如图7所示，上述消息一中携带的业务数据包序列号为S，下 层网元二接收到消息一后，查找业务数据包序列号S对应的数据包， 若为该数据包的第一个RLC PDU分配的RLC序列号SNl ，且数据 包的第一个字节在该RLC PDU中的偏移为offset,则将SNl和offset 作为消息二发送给下层网元一，下层网元一接收到消息二后，设置 业务数据包序列号为S的数据包对应的第 一个RLC PDU的RLC序 列号为SNl,并^1寻该教:才居包的第一个字节在该第一个RLC PDU中 的偏移i殳置为offset。</p>
    <p>方法实施例二</p>
    <p>根据本发明实施例，提供一种业务数据同步发送的恢复处理方法。</p>
    <p>图8是根据本发明实施例的业务数据同步发送的恢复处理方法 的流禾呈图，如图8所示，该方法包4舌以下步艰《：</p>
    <p>步骤S802，第一网元将其接收的数据流的标识信息发送给第二 网元，其中，数据流的标识信息用于请求获取数据流的数据包对应 的RLC.PDU的RLC序列号；</p>
    <p>步骤S804，第一网元接收第二网元4艮据数据流的标识信息返回 的响应信息，其中，响应信息中携带有^t据流的标识信息所对应的 数据流中的RLC.PDU的RLC序列号和第一信息，其中，第一信息 用于指示步骤S802中的RLC.PDU。</p>
    <p>其中，上述第一信息可以包4舌至少以下之一：凄t据流中的一个 数据突发的时间戳信息、由第一网元和第二网元的上层网元分配的 数据流中的一个凄t据突发的数据突发标识、凄史据流中的一个数据包 的序列号，下面分三种情况对本发明实施例进行说明。情况一：在第一信息为由第一网元和第二网元的上层网元分配 的数据流中的一个数据突发的时间戳信息的情况下，RLC.PDU的 RLC序列号为该lt据突发中的第 一 个数据包对应的第 一 个 RLC.PDU的RLC序列号，相应地，第一网元接收到响应信息后， 根据时间戳信息确定相应的数据突发，并为确定的数据突发中的第 一个数据包对应的第 一个RLC.PDU分配RLC序列号。</p>
    <p>情况二：在第 一信息为数据流中的 一个数据包的序列号的情况 下，RLC.PDU的RLC序列号为数据包中对应的第一个RLC.PDU 的RLC序列号，相应地，第一网元接收到响应信息后，才艮据数据突 发标识确定相应的数据包，并为确定的数据包对应的第 一个 RLC.PDU分配RLC序列号。</p>
    <p>情况三：在第一信息为由第一网元和第二网元的上层网元分配 的数据流中的一个数据突发的数据突发标识的情况下，RLC.PDU的 RLC序列号为该#t据突发中的第 一 个lt据包对应的第 一 个 RLC.PDU的RLC序列号，相应地，第一网元"f妄收到响应信息后， 根据数据突发标识确定相应的数据突发，并为确定的数据突发中的 第 一个^t据包对应的第 一个RLC.PDU分配RLC序列号。</p>
    <p>装置实施例一</p>
    <p>才艮据本发明实施例，提供一种业务数据同步发送的恢复处理装置。</p>
    <p>图9示出了根据本发明实施例的业务数据同步发送的恢复处理 装置的结构框架图，如图9所示，该装置包括发送才莫块IO和处理才莫 块20。</p>
    <p>以下对各才莫块的功能进4亍说明。发送模块IO，用于向第二网元发送请求，其中，请求中携带第</p>
    <p>一网元接收的数据流的标识信息和第一信息，其中，第一信息用于</p>
    <p>_清求获取第 一 网元和第二网元均4妄收到的凄t据包的一个RLC.PDU 的RLC序列号；</p>
    <p>处理模块20,用于接收第二网元根据请求返回的第二信息，并 将第二信息中携带的RLC序列号分配乡会第一网元中的RLC.PDU, 该才莫块可以连接至发送才莫块10。</p>
    <p>装置实施例二</p>
    <p>根据本发明实施例，提供一种业务数据同步发送的恢复处理装置。</p>
    <p>图10示出了根据本发明实施例的业务数据同步发送的恢复处 理装置的结构框架图，如图10所示，该装置包括发送才莫块12和处 理才莫块14，其中，</p>
    <p>发送模块12，用于将接收的数据流的标识信息发送给第二网 元，其中，数据流的标识信息用于请求获取数据流的数据包对应的 一个RLC.PDU的RLC序列号；</p>
    <p>处理模块14，用于接收第二网元根据数据流的标识信息返回的 响应信息，其中，响应信息中携带有数据流的标识信息所对应的数 据流中的RLC.PDU的RLC序列号和第一信息，其中，第一信息用 于指示RLC.PDU。</p>
    <p>通过本发明实施例提供的业务数据同步发送的恢复处理装置， 出现凝:据丢失的下层网元或重新启动的下层网元通过向其他正常运 作的下层网元获取正确的RLC序列号，保持了各下层网元间RLC 序列号的同步，避免了相邻小区的无线干扰。</p>
    <p>24如上所述，借助于本发明提供的业务数据同步发送的恢复处理 方法和/或装置，出现凄史据丢失的下层网元或重新启动的下层网元通</p>
    <p>层网元间RLC序列号的同步，避免了相邻小区的无线干扰。</p>
    <p>以上所述仅为本发明的优选实施例而已，并不用于限制本发明， 对于本领域的技术人员来说，本发明可以有各种更改和变化。凡在 本发明的精神和原则之内，所作的任何修改、等同替换、改进等， 均应包含在本发明的保护范围之内。</p>
    <p>25</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102740339A?cl=zh">CN102740339A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月8日</td><td class="patent-data-table-td patent-date-value">2012年10月17日</td><td class="patent-data-table-td ">大唐移动通信设备有限公司</td><td class="patent-data-table-td ">基站通信方法及基站、核心网通信方法及核心网装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102740339B?cl=zh">CN102740339B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月8日</td><td class="patent-data-table-td patent-date-value">2015年9月9日</td><td class="patent-data-table-td ">大唐移动通信设备有限公司</td><td class="patent-data-table-td ">基站通信方法及基站、核心网通信方法及核心网装置</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04J0003060000">H04J3/06</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04W72/005">H04W72/005</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04W28/065">H04W28/065</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04W56/00">H04W56/00</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04N21/242">H04N21/242</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=rE13BwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=H04L41/044">H04L41/044</a></span></td></tr><tr><td class="patent-data-table-td "> 欧洲专利分类号</td><td class="patent-data-table-td "><span class="nested-value">H04W28/06D</span>, <span class="nested-value">H04N21/242</span>, <span class="nested-value">H04L41/04B</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2010年2月17日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2010年5月12日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Request of examination as to substance</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2013年1月16日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Granted</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/94ef21259847aa2044ba/CN101651510A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%9A%E5%8A%A1%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5%E5%8F%91%E9%80%81%E7%9A%84%E6%81%A2%E5%A4%8D%E5%A4%84%E7%90%86.pdf?id=rE13BwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0JcV2k_iOHeDVwuQiyFDx9O5vvfg"},"sample_url":"https://www.google.com/patents/reader?id=rE13BwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>