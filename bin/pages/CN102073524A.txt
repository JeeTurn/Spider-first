<!DOCTYPE html><html><head><title>专利 CN102073524A - 一种无线通讯终端及其自启动的方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_50a6672b5f82ffbd39b7a9e87fd4594c/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_50a6672b5f82ffbd39b7a9e87fd4594c__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种无线通讯终端及其自启动的方法"><meta name="DC.contributor" content="王琪" scheme="inventor"><meta name="DC.contributor" content="中兴通讯股份有限公司" scheme="assignee"><meta name="DC.date" content="2011-1-19" scheme="dateSubmitted"><meta name="DC.description" content="本发明公开一种无线通讯终端及其自启动的方法，包括：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件。根据本发明的技术方案，彻底避免了无线通讯终端在安装UI软件和数据卡驱动程序过程中发生的与PC的操作系统的兼容性问题。"><meta name="DC.date" content="2011-5-25"><meta name="DC.relation" content="CN:101075178:A" scheme="references"><meta name="DC.relation" content="CN:101916197:A" scheme="references"><meta name="DC.relation" content="CN:1536484:A" scheme="references"><meta name="DC.relation" content="US:6889058" scheme="references"><meta name="citation_reference" content="许德新 等: &quot;嵌入式Linux在PC104上的构建与实现&quot;, 《应用科技》, vol. 33, no. 10, 31 October 2006 (2006-10-31), pages 35 - 37"><meta name="citation_patent_publication_number" content="CN:102073524:A"><meta name="citation_patent_application_number" content="CN:201110021985"><link rel="canonical" href="https://www.google.com/patents/CN102073524A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN102073524A?cl=zh"/><meta name="title" content="专利 CN102073524A - 一种无线通讯终端及其自启动的方法"/><meta name="description" content="本发明公开一种无线通讯终端及其自启动的方法，包括：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件。根据本发明的技术方案，彻底避免了无线通讯终端在安装UI软件和数据卡驱动程序过程中发生的与PC的操作系统的兼容性问题。"/><meta property="og:title" content="专利 CN102073524A - 一种无线通讯终端及其自启动的方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&sa=N&tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?cl=zh&hl=zh-CN&tbm=isch&source=og&sa=N&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?cl=zh&hl=zh-CN&sa=N&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?cl=zh&hl=zh-CN&sa=N&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?cl=zh&hl=zh-CN&sa=N&tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN102073524A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN102073524A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN102073524A&amp;usg=AFQjCNG9iLrEv7w4rLbA4bNcygKDTjWDbg" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/0c736a60ace697e81182/CN102073524A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/0c736a60ace697e81182/CN102073524A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN102073524A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN102073524A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN102073524A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN102073524B?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN102073524A?cl=zh" style="display:none"><span itemprop="description">本发明公开一种无线通讯终端及其自启动的方法，包括：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行切换程序将无线通讯终端切换到正常工作 ...</span><span itemprop="url">https://www.google.com/patents/CN102073524A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN102073524A - 一种无线通讯终端及其自启动的方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN102073524A - 一种无线通讯终端及其自启动的方法" title="专利 CN102073524A - 一种无线通讯终端及其自启动的方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN102073524 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 201110021985</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2011年5月25日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2011年1月19日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2011年1月19日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102073524B?hl=zh-CN&amp;cl=zh">CN102073524B</a>, </span><span class="patent-bibdata-value"><a href="/patents/WO2012097574A1?hl=zh-CN&amp;cl=zh">WO2012097574A1</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">201110021985.2, </span><span class="patent-bibdata-value">CN 102073524 A, </span><span class="patent-bibdata-value">CN 102073524A, </span><span class="patent-bibdata-value">CN 201110021985, </span><span class="patent-bibdata-value">CN-A-102073524, </span><span class="patent-bibdata-value">CN102073524 A, </span><span class="patent-bibdata-value">CN102073524A, </span><span class="patent-bibdata-value">CN201110021985, </span><span class="patent-bibdata-value">CN201110021985.2</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E7%8E%8B%E7%90%AA%22">王琪</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E4%B8%AD%E5%85%B4%E9%80%9A%E8%AE%AF%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">中兴通讯股份有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN102073524A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102073524A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN102073524A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#backward-citations">专利引用</a> (4),</span> <span class="patent-bibdata-value"><a href="#npl-citations">非专利引用</a> (1),</span> <span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (7),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (5),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (3)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D201110021985&amp;usg=AFQjCNEV5Bdqw1NrRBF0ZCd3FHE4CPScsw"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D102073524A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNFzB7R9s4_r-n_dp4P33R0N5S_LMw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT103308497" lang="ZH" load-source="patent-office">一种无线通讯终端及其自启动的方法</invention-title>
      </span><br><span class="patent-number">CN 102073524 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA85217571" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明公开一种无线通讯终端及其自启动的方法，包括：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件。根据本发明的技术方案，彻底避免了无线通讯终端在安装UI软件和数据卡驱动程序过程中发生的与PC的操作系统的兼容性问题。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(13)</span></span></div><div class="patent-text"><div mxw-id="PCLM36393739" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.	一种无线通讯终端，其特征在于，该无线通讯终端包括：GRUB引导程序模块、嵌入式 操作系统模块；其中，GRUB引导程序模块，用于开始运行后，引导嵌入式操作系统模块开始运行；嵌入式操作系统模块，用于开始运行后，运行切换程序将无线通讯终端切换到正常工 作模式，并运行预装的数据卡驱动程序和/或UI软件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.根据权利要求1所述的无线通讯终端，其特征在于，该无线通讯终端还包括：USB接 口模块、SCSI指令处理模块、SCSI-Flash界面转换模块、Flash读写模块；其中，USB接口模块，用于当PC的BIOS进行自检时，枚举出USB设备；接收PC的BIOS下发 的SCSI指令，并将该SCSI指令转发给SCSI指令处理模块；SCSI指令处理模块，用于接收USB接口模块转发的SCSI指令，并将SCSI指令中的数据 块起始编号和数据块数量信息发送给SCSI-Flash界面转换模块；SCSI-Flash界面转换模块，用于将数据块起始编号和数据块数量信息转换成GRUB引 导程序和嵌入式操作系统的在Flash存储区中的实际存储地址，并将所述实际存储地址发 送给Flash读写模块；Flash读写模块，用于从所述实际存储地址中读取出GRUB引导程序与嵌入式操作系 统，并上报给PC的BIOS。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.根据权利要求2所述的无线通讯终端，其特征在于，所述SCSI-Flash界面转换模块 将数据块起始编号和数据块数量信息转换成GRUB引导程序和嵌入式操作系统的在Flash 存储区中的实际存储地址为：SCSI-Flash界面转换模块按照1个数据块是512个字节的单位，并根据数据块起始 编号和数据块数量信息，计算出需要从Flash存储区中读取的数据的起始地址偏移值，再 利用预先存储的GRUB引导程序和嵌入式操作系统的Flash存储区的首地址，计算出PC的 BIOS需要读取的数据的首地址。</div>
    </div>
    </div> <div class="claim"> <div num="4" class="claim">
      <div class="claim-text">4.根据权利要其1所述的无线通讯终端，其特征在于，所述GRUB引导程序模块引导嵌 入式操作系统模块开始运行为：GRUB引导程序模块开始工作后，GRUB引导程序模块引导嵌入式操作系统模块开始运 行；当嵌入式操作系统模块在GRUB引导程序模块的引导下开始运行后，在内存中建立虚拟 ramdisk，对自身进行复制后保存到该虚拟ramdisk。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.根据权利要求1所述的无线通讯终端，其特征在于，所述嵌入式操作系统模块运行 切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软 件为：嵌入式操作系统模块以所述虚拟ramdisk为基础开始运行后，运行内存的切换程序， 将枚举为USB设备的无线通讯终端切换到多端口的正常工作模式，并运行预先安装的数据 卡驱动程序和/或UI软件。</div>
    </div>
    </div> <div class="claim"> <div num="6" class="claim">
      <div class="claim-text">6.	一种无线通讯终端自启动的方法，其特征在于，该方法包括：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB弓I导程序弓I导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行 切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软 件。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.根据权利要求6所述的方法，其特征在于，所述PC的BIOS运行搜索到的USB设备中 的GRUB引导程序之前，该方法还包括：当PC的BIOS进行自检时，已插入PC的无线通讯终端枚举USB设备，PC的BIOS搜索 所述USB设备中的GRUB引导程序。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.根据权利要求7所述的方法，其特征在于，所述当PC的BIOS进行自检时，已插入PC 的无线通讯终端枚举USB设备为：在PC开机之前插入无线通讯终端，或在将无线通讯终端插入PC之后重新启动PC，当 PC的BIOS进行自检时，无线通讯终端的USB接口模块枚举出USB设备。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.根据权利要求7所述的方法，其特征在于，所述PC的BIOS搜索所述USB设备中的 GRUB引导程序为：PC的BIOS下发SCSI指令给USB设备，枚举为USB设备的无线通讯终端的USB接口模 块接收该SCSI指令，并将收到的SCSI指令转发给无线通讯终端的SCSI指令处理模块；SCSI指令处理模块接收所述SCSI指令，并将SCSI指令中的数据块起始编号和数据块 数量信息发送给无线通讯终端的SCSI-Flash界面转换模块；SCSI-Flash界面转换模块将数据块起始编号和数据块数量信息转换成GRUB引导程序 和嵌入式操作系统的在Flash存储区中的实际存储地址，并将所述实际存储地址发送给无 线通讯终端的Flash读写模块；Flash读写模块从所述实际存储地址中读取出GRUB引导程序与嵌入式操作系统，并上 报给PC的BIOS。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.根据权利要求9所述的方法，其特征在于，所述SCSI-Flash界面转换模块将数据块 起始编号和数据块数量信息转换成GRUB引导程序和嵌入式操作系统的在Flash存储区中 的实际存储地址为：SCSI-Flash界面转换模块按照1个数据块是512个字节的单位，并根据数据块起始 编号和数据块数量信息，计算出需要从Flash存储区中读取的数据的起始地址偏移值，再 利用预先存储的GRUB引导程序和嵌入式操作系统的Flash存储区的首地址，计算出PC的 BIOS需要读取的数据的首地址。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="11" class="claim">
      <div class="claim-text">11.根据权利要求6所述的方法，其特征在于，所述PC的BIOS运行搜索到的USB设备 中的GRUB引导程序为：当PC的BIOS根据无线通讯终端的Flash读写模块上报的GRUB引导程序与嵌入式操 作系统后，PC的BIOS确定自身搜索到USB设备中的GRUB引导程序，并运行所述GRUB引导 程序，GRUB引导程序开始引导工作。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.根据权利要求6所述的方法，其特征在于，所述GRUB引导程序引导USB数据卡中的 嵌入式操作系统开始运行为：GRUB引导程序开始工作后，GRUB引导程序引导无线通讯终端的嵌入式操作系统开始 运行；当嵌入式操作系统在GRUB引导程序的引导下开始运行后，在无线通讯终端的内存中 建立虚拟ramdisk，对自身进行复制后保存到该虚拟ramdisk。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.根据权利要求6所述的方法，其特征在于，所述嵌入式操作系统运行切换程序将无 线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件为：嵌入式操作系统以所述虚拟ramdisk为基础开始运行后，运行无线通讯终端的内存的切换程序，将枚举为USB设备的无线通讯终端切换到多端口的正常工作模式；并运行预先 安装的数据卡驱动程序和/或UI软件，无线通讯终端进入正常工作状态，开始配合UI软件 进行工作。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES42111229" lang="ZH" load-source="patent-office" class="description">
    <p>一种无线通讯终端及其自启动的方法</p>
    <p>技术领域</p>
    <p>[0001]	本发明涉及嵌入式软件开发领域，尤其涉及一种无线通讯终端及其自启动的方法。</p>
    <p>背景技术</p>
    <p>[0002]	通用串行总线（USB，Universal Serial BUS)数据卡是随着无线网络技术的延伸 和成熟，出现的一种使用USB接口的便携式上网工具，同时随着3G技术的发展，USB数据卡 为我们提供了一种更便携、更快捷、更易用的与计算机（PC，Personal Computer)配合的外 接扩展的上网方式。</p>
    <p>[0003]	USB数据卡为用户提供了良好的PC外接扩展手段，实现了优质高速的网络连接， 此外USB数据卡有以下的优势与特点：（1)具有USB设备共有的即插即用、可热插拔的特 点；（2)体积小巧、携带方便，适合外出时使用；（3)基于3G网络的USB数据卡还可以给用户 提供高速度高质量的网络连接；(4)除了网络连接外，还可以实现如短信、语音电话、视频 电话、T-Flash卡的读卡器等功能。</p>
    <p>[0004]	图1是现有技术中USB数据卡的工作模式的流程，如图1所示，首先将USB数据卡 枚举为一个只读光盘（CDROM，Compact Disc Read-Only Memory)类的设备，用于提供给用 户安装用户界面（UIJser Interface)软件和数据卡驱动程序；如果此时PC中已经安装了 该设备的UI软件和数据卡驱动程序，则会由操作系统中的常驻检测程序直接运行UI软件 和数据卡驱动程序，并下发切换指令将USB数据卡切换到正常工作模式（也有可能由常驻 程序直接切换，或使用Mass Storage设备的过滤驱动来切换，具体需要根据数据卡所使用 的切换方式确定），USB数据卡配合UI软件进行工作；如果此时PC中还没有安装该设备的 UI软件和数据卡驱动程序，则开始从CDROM运行安装程序进行UI软件和数据卡驱动程序的 安装，安装的过程需要耗时数分钟，然后由过滤驱动下发切换指令将USB数据卡切换到正 常工作模式，UI软件自动运行，USB数据卡配合UI软件进行工作；因此，数据卡能否正常工 作，与用户PC中的操作系统关系非常大；首先PC的操作系统必须可以正常识别出CDROM设 备（在安装了某些有问题的虚拟光驱软件的PC上，这一前提无法保证），其次必须可以正常 顺利的安装UI软件和驱动程序（由于杀毒软件的限制或者其他软件的冲突有可能会导致 安装失败），之后才可以正常在PC的操作系统中使用，基于这种USB数据卡的工作模式，随 着数据卡产品功能的不断增加和复杂化，USB数据卡在目前的实现方法中还存在一些不足， 从而影响用户体验；USB数据卡的缺点是：（1)为了同时并发多种业务，USB数据卡需要同时 虚拟和枚举出多种功能设备，又称为interface，例如，用于语音通话的VOUSB interface, 用于收发短信的AT interface，用于实现微软上网规范的NIDS interface等，这些设备都 是专用的，需要安装第三方提供的驱动程序方可使用，这样就需要用户在第一次使用时安 装多个设备驱动程序；同时，为了实现安装驱动程序的自动化，将驱动程序整合在PC侧的 用户界面（UI，User Interface)软件中，这样就需要在第一次使用时安装整个UI软件，安 装之后会在硬盘中和注册表等位置留下相关信息，因此增加了使用的复杂度和系统垃圾；(2)给设备安装驱动程序需要一定的等待时间，在不同的操作系统下，所耗费的安装时间也 是不同的；在某些安装驱动程序速度较慢的系统中，例如Windows VISTA系统，每一个设备 的驱动程序需要20&#12316;30秒左右的安装时间，如果用户使用的USB数据卡产品会虚拟出多 个设备，那么就需要数分钟的安装时间，严重影响用户体验；（3)在Windows操作系统中，在 安装过程中，由于PC侧的驱动程序受到当前系统环境、已安装的软件和驱动程序等因素的 影响，偶尔会有兼容性问题出现，外在的表现形式就是在Windows设备管理器中，出现黄色 叹号错误，导致设备无法使用；虽然这是一个小概率的驱动程序安装问题，但是如果USB数 据卡虚拟出多个设备，出现这种兼容性问题的概率必然会提高，从而影响到用户的正常使 用；(4)在Windows操作系统中，将用户分为不同的安全等级，只有在管理员等级下才可以 正常无限制地安装各种软件和驱动程序，非管理员权限的用户将会受到不同程度的限制； 由于存在这种限制，如果我们将USB数据卡临时插入他人PC上进行暂时使用，就会因为不 是管理员权限而无法正常安装PC侧的UI软件，也就不能正常安装驱动程序，从而影响了用 户的正常使用。</p>
    <p>发明内容</p>
    <p>[0005]	有鉴于此，本发明的主要目的在于提供一种无线通讯终端及其自启动的方法，彻 底避免了无线通讯终端在安装UI软件和数据卡驱动程序过程中发生的与PC的操作系统的 兼容性问题。</p>
    <p>[0006]	为达到上述目的，本发明的技术方案是这样实现的：</p>
    <p>[0007]	本发明提供一种无线通讯终端，该无线通讯终端包括：GRUB引导程序模块、嵌入 式操作系统模块；其中，</p>
    <p>[0008]	GRUB引导程序模块，用于开始运行后，引导嵌入式操作系统模块开始运行；</p>
    <p>[0009]	嵌入式操作系统模块，用于开始运行后，运行切换程序将无线通讯终端切换到正 常工作模式，并运行预装的数据卡驱动程序和/或UI软件。</p>
    <p>[0010]	上述无线通讯终端中，该无线通讯终端还包括：USB接口模块、SCSI指令处理模 块、SCSI-Flash界面转换模块、Flash读写模块；其中，</p>
    <p>[0011]	USB接口模块，用于当PC的BIOS进行自检时，枚举出USB设备；接收PC的BIOS下 发的SCSI指令，并将该SCSI指令转发给SCSI指令处理模块；</p>
    <p>[0012]	SCSI指令处理模块，用于接收USB接口模块转发的SCSI指令，并将SCSI指令中的 数据块起始编号和数据块数量信息发送给SCSI-Flash界面转换模块；</p>
    <p>[0013]	SCSI-Flash界面转换模块，用于将数据块起始编号和数据块数量信息转换成 GRUB引导程序和嵌入式操作系统的在Flash存储区中的实际存储地址，并将所述实际存储 地址发送给Flash读写模块；</p>
    <p>[0014]	Flash读写模块，用于从所述实际存储地址中读取出GRUB引导程序与嵌入式操作 系统，并上报给PC的BIOS。</p>
    <p>[0015]	上述无线通讯终端中，所述SCSI-Flash界面转换模块将数据块起始编号和数据 块数量信息转换成GRUB引导程序和嵌入式操作系统的在Flash存储区中的实际存储地址 为：</p>
    <p>[0016]	SCSI-Flash界面转换模块按照1个数据块是512个字节的单位，并根据数据块起始编号和数据块数量信息，计算出需要从Flash存储区中读取的数据的起始地址偏移值， 再利用预先存储的GRUB引导程序和嵌入式操作系统的Flash存储区的首地址，计算出PC 的BIOS需要读取的数据的首地址。</p>
    <p>[0017]	上述无线通讯终端中，所述GRUB引导程序模块引导嵌入式操作系统模块开始运 行为：</p>
    <p>[0018]	GRUB引导程序模块开始工作后，GRUB引导程序模块引导嵌入式操作系统模块开 始运行；当嵌入式操作系统模块在GRUB引导程序模块的引导下开始运行后，在内存中建立 虚拟ramdisk，对自身进行复制后保存到该虚拟ramdisk。</p>
    <p>[0019]	上述无线通讯终端中，所述嵌入式操作系统模块运行切换程序将无线通讯终端切 换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件为：</p>
    <p>[0020]	嵌入式操作系统模块以所述虚拟ramdisk为基础开始运行后，运行内存的切换程 序，将枚举为USB设备的无线通讯终端切换到多端口的正常工作模式，并运行预先安装的 数据卡驱动程序和/或UI软件。</p>
    <p>[0021]	本发明还提供一种无线通讯终端自启动的方法，该方法包括：</p>
    <p>[0022]	PC的BIOS运行搜索到的USB设备中的GRUB引导程序；</p>
    <p>[0023]	GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统 运行切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或 UI软件。</p>
    <p>[0024]	上述方法中，所述PC的BIOS运行搜索到的USB设备中的GRUB引导程序之前，该 方法还包括：</p>
    <p>[0025]	当PC的BIOS进行自检时，已插入PC的无线通讯终端枚举USB设备，PC的BIOS搜 索所述USB设备中的GRUB引导程序。</p>
    <p>[0026]	上述方法中，所述当PC的BIOS进行自检时，已插入PC的无线通讯终端枚举USB 设备为：</p>
    <p>[0027]	在PC开机之前插入无线通讯终端，或在将无线通讯终端插入PC之后重新启动PC， 当PC的BIOS进行自检时，无线通讯终端的USB接口模块枚举出USB设备。</p>
    <p>[0028]	上述方法中，所述PC的BIOS搜索所述USB设备中的GRUB弓丨导程序为：</p>
    <p>[0029]	PC的BIOS下发SCSI指令给USB设备，枚举为USB设备的无线通讯终端的USB接 口模块接收该SCSI指令，并将收到的SCSI指令转发给无线通讯终端的SCSI指令处理模 块；</p>
    <p>[0030]	SCSI指令处理模块接收所述SCSI指令，并将SCSI指令中的数据块起始编号和数 据块数量信息发送给无线通讯终端的SCSI-Flash界面转换模块；</p>
    <p>[0031]	SCSI-Flash界面转换模块将数据块起始编号和数据块数量信息转换成GRUB引导 程序和嵌入式操作系统的在Flash存储区中的实际存储地址，并将所述实际存储地址发送 给无线通讯终端的Flash读写模块；</p>
    <p>[0032]	Flash读写模块从所述实际存储地址中读取出GRUB引导程序与嵌入式操作系统， 并上报给PC的BIOS。</p>
    <p>[0033]	上述方法中，所述SCSI-Flash界面转换模块将数据块起始编号和数据块数量信 息转换成GRUB引导程序和嵌入式操作系统的在Flash存储区中的实际存储地址为：[0034]	SCSI-Flash界面转换模块按照1个数据块是512个字节的单位，并根据数据块起 始编号和数据块数量信息，计算出需要从Flash存储区中读取的数据的起始地址偏移值， 再利用预先存储的GRUB引导程序和嵌入式操作系统的Flash存储区的首地址，计算出PC 的BIOS需要读取的数据的首地址。</p>
    <p>[0035]	上述方法中，所述PC的BIOS运行搜索到的USB设备中的GRUB引导程序为：</p>
    <p>[0036]	当PC的BIOS根据无线通讯终端的Flash读写模块上报的GRUB引导程序与嵌入 式操作系统后，PC的BIOS确定自身搜索到USB设备中的GRUB引导程序，并运行所述GRUB 引导程序，GRUB引导程序开始引导工作。</p>
    <p>[0037]	上述方法中，所述GRUB引导程序引导USB数据卡中的嵌入式操作系统开始运行 为：</p>
    <p>[0038]	GRUB引导程序开始工作后，GRUB引导程序引导无线通讯终端的嵌入式操作系统 开始运行；当嵌入式操作系统在GRUB引导程序的引导下开始运行后，在无线通讯终端的内 存中建立虚拟ramdisk，对自身进行复制后保存到该虚拟ramdisk。</p>
    <p>[0039]	上述方法中，所述嵌入式操作系统运行切换程序将无线通讯终端切换到正常工作 模式，并运行预装的数据卡驱动程序和/或UI软件为：</p>
    <p>[0040]	嵌入式操作系统以所述虚拟ramdisk为基础开始运行后，运行无线通讯终端的内 存的切换程序，将枚举为USB设备的无线通讯终端切换到多端口的正常工作模式；并运行 预先安装的数据卡驱动程序和/或UI软件，无线通讯终端进入正常工作状态，开始配合UI 软件进行工作。</p>
    <p>[0041]	本发明提供的无线通讯终端及其自启动的方法，PC的BIOS运行搜索到的USB设 备中的GRUB引导程序；GRUB引导程序引导无线通讯终端中的嵌入式操作系统开始运行，嵌 入式操作系统运行切换程序将无线通讯终端切换到正常工作模式，并运行预装的数据卡驱 动程序和/或UI软件，将PC引导到无线通讯终端的嵌入式操作系统中，由于该嵌入式操作 系统中以及那个预先安装了 UI软件和数据卡驱动程序，因此可以直接使用数据卡的功能， 无需再安装任何软件；同时，由于嵌入式操作系统的特点是无线通讯终端自带的专用于使 用无线通讯终端连接网络的操作系统，因此不但在运行时具有较高的运行速度，并且在受 到病毒感染时可以在下次重启时自动清除。</p>
    <p>[0042]	在PC开机时通过无线通讯终端的引导功能，运行无线通讯终端内置的嵌入式操 作系统，在该操作系统中，有着与操作系统专业版同样的使用界面，且可以正常访问PC的 硬盘，因此不影响用户上网浏览和上传/下载数据；但是由于不是运行在PC操作系统中，因 此在受到病毒的攻击后，也只会对无线通讯终端的嵌入式操作系统造成破坏，在下次重新 启动时，该嵌入式操作系统就可以自动恢复。</p>
    <p>[0043]	由于使用的是无线通讯终端自带的嵌入式操作系统，该操作系统的界面、预装的 软件、用于无线通讯终端使用的UI软件、数据卡驱动程序等都可以预先定制，可以直接使 用，无需安装UI软件，也无需安装数据卡驱动程序，做到真正的免驱动安装功能；且驱动程 序和UI软件都不会在PC的操作系统中留下任何安装痕迹和系统垃圾。</p>
    <p>[0044]	如果PC的操作系统是Linux等，是对无线通讯终端的支持并不十分完善的操作系 统，也可以通过将PC引导到无线通讯终端自带的嵌入式操作系统的方式，直接在操作系统 中使用无线通讯终端，发挥无线通讯终端的所有功能，带来更好的用户体验。[0045]	由于很多公司的PC，他人的PC，都没有开放管理员权限，此时是无法安装无线通 讯终端的UI软件和驱动程序的，也就是说，完全无法使用无线通讯终端产品；但是利用本 发明提供的无线通讯终端及其与计算机的操作系统的兼容方法，可以直接在开机时将PC 的操作系统引导到无线通讯终端的嵌入式操作系统中，完全没有权限的限制，可以正常使 用所有无线通讯终端功能。</p>
    <p>[0046]	由于是使用无线通讯终端内置的操作系统，该操作系统已经由厂商自行定制和测 试，预先安装了 UI软件和数据卡驱动程序，最大程度上杜绝了无线通讯终端在与PC的操作 系统配合使用过程中，出现的各种由于系统环境和安装软件的多样化引起的兼容性和软件 冲突问题。</p>
    <p>附图说明</p>
    <p>[0047]	图1是现有技术中USB数据卡的工作模式的流程；</p>
    <p>[0048]	图2是本发明无线通讯终端的结构示意图；</p>
    <p>[0049]	图3是本发明实现无线通讯终端自启动的方法的流程示意图。</p>
    <p>具体实施方式</p>
    <p>[0050]	系统引导管理器(GRUB, GRand Unified Bootloader)是一个来自GNU项目的多操 作系统启动程序。GRUB是多启动规范的实现，它允许用户可以在计算机内同时拥有多个操 作系统，并在计算机启动时选择希望运行的操作系统。GRUB可用于选择操作系统分区上的 不同内核，也可用于向这些内核传递启动参数。</p>
    <p>[0051]	嵌入式操作系统是基于以组件为组成部分的嵌入式操作系统，嵌入式操作系统 包括嵌入式Windows操作系统、嵌入式Linux操作系统、嵌入式Mac操作系统和嵌入式 Android操作系统等，嵌入式Windows操作系统可以是嵌入式WindowsXP操作系统、嵌入式 WindoWS7操作系统等；嵌入式操作系统也可以顺利运行在PC中；嵌入式操作系统基于操作 系统的专业版，将专业版分成大约12000多个组件，设备厂商可以根据自己的需要和硬件 配置自由选择需要加载的组件，可以非常方便的对操作系统进行变化和裁剪；嵌入式操作 系统根据所选组件的不同，可以实现操作系统专业版的几乎所有功能，也可以支持操作系 统下的各种应用程序，具有很强的实用性和灵活性。</p>
    <p>[0052]	基于上述GRUB和嵌入式操作系统，本发明提供一种无线通讯终端及其自启动的 方法，其基本思想是：PC的BIOS运行搜索到的USB设备中的GRUB引导程序；GRUB引导程序 引导无线通讯终端中的嵌入式操作系统开始运行，嵌入式操作系统运行切换程序将无线通 讯终端切换到正常工作模式，并运行预装的数据卡驱动程序和/或UI软件。</p>
    <p>[0053]	下面通过附图及具体实施例对本发明再做进一步的详细说明。</p>
    <p>[0054]	本发明提供一种无线通讯终端，图2是本发明无线通讯终端的结构示意图，如图2 所示，该无线通讯终端包括=GRUB引导程序模块21、嵌入式操作系统模块22 ；其中，</p>
    <p>[0055]	GRUB引导程序模块21，用于开始运行后，引导嵌入式操作系统模块22开始运行；</p>
    <p>[0056]	嵌入式操作系统模块22，用于开始运行后，运行切换程序将USB数据卡切换到正 常工作模式，并运行预装的数据卡驱动程序和/或UI软件。</p>
    <p>[0057]	该无线通讯终端还包括：USB接口模块23、SCSI指令处理模块24、SCSI-Flash界面转换模块25、Flash读写模块沈；其中，</p>
    <p>[0058]	USB接口模块23，用于当PC的BIOS进行自检时，枚举出USB设备；接收PC的BIOS 下发的SCSI指令，并将该SCSI指令转发给SCSI指令处理模块M ；</p>
    <p>[0059]	SCSI指令处理模块M，用于接收USB接口模块23转发的SCSI指令，并将SCSI指 令中的数据块起始编号和数据块数量信息发送给SCSI-Flash界面转换模块25 ；</p>
    <p>[0060]	SCSI-Flash界面转换模块25，用于将数据块起始编号和数据块数量信息转换成 GRUB引导程序和嵌入式操作系统的在Flash存储区中的实际存储地址，并将所述实际存储 地址发送给Flash读写模块沈；</p>
    <p>[0061]	Flash读写模块沈，用于从所述实际存储地址中读取出GRUB引导程序与嵌入式操 作系统，并上报给PC的BIOS。</p>
    <p>[0062]	所述SCSI-Flash界面转换模块25将数据块起始编号和数据块数量信息转换成 GRUB引导程序和嵌入式操作系统的在Flash存储区中的实际存储地址为：</p>
    <p>[0063]	SCSI-Flash界面转换模块25按照1个数据块是512个字节的单位，并根据数据 块起始编号和数据块数量信息，计算出需要从Flash存储区中读取的数据的起始地址偏移 值，再利用预先存储的GRUB引导程序和嵌入式操作系统的Flash存储区的首地址，计算出 PC的BIOS需要读取的数据的首地址。</p>
    <p>[0064]	所述GRUB引导程序模块21引导嵌入式操作系统模块22开始运行为：</p>
    <p>[0065]	GRUB引导程序模块21开始工作后，GRUB引导程序模块21引导嵌入式操作系统模 块22开始运行；当嵌入式操作系统模块22在GRUB引导程序模块21的引导下开始运行后， 在内存中建立虚拟ramdisk，对自身进行复制后保存到该虚拟ramdisk。</p>
    <p>[0066]	所述嵌入式操作系统模块22运行切换程序将无线通讯终端切换到正常工作模 式，并运行预装的数据卡驱动程序和/或UI软件为：</p>
    <p>[0067]	嵌入式操作系统模块22以所述虚拟ramdisk为基础开始运行后，运行内存的切换 程序，将枚举为USB设备的无线通讯终端切换到多端口的正常工作模式，并运行预先安装 的数据卡驱动程序和/或UI软件。</p>
    <p>[0068]	本发明中的无线通讯终端是指以USB接口为对外接口的无线通讯设备，例如智能 移动终端、平板电脑和USB数据卡等；下面以无线通讯终端是USB数据卡以及嵌入式操作系 统为嵌入式Windows操作系统为例，对无线通讯终端自启动的方法进行说明。</p>
    <p>[0069]	基于上述装置，本发明还提供一种无线通讯终端自启动的方法，图3是本发明实 现无线通讯终端自启动的方法的流程示意图，如图3所示，该方法包括以下步骤：</p>
    <p>[0070]	步骤301，当PC的BIOS进行自检时，已插入PC的USB数据卡枚举USB设备；</p>
    <p>[0071]	具体的，在PC开机之前插入USB数据卡，或在将USB数据卡插入PC之后重新启动 PC，可以保证在PC的基本输入输出系统（BI0S，Basic Input Output System)进行自检时， USB数据卡已经插入PC;</p>
    <p>[0072]	当PC的BIOS进行自检时，USB数据卡的USB接口模块枚举出USB设备，用于实现 与计算机的引导交互；其中，USB设备可以是大量存储存储设备，例如U盘、CDROM等，可以是 通信类设备，例如以太网卡、调制解调器等；可以通过在USB数据卡的固件中实现slave方 式的USB协议栈的方式，实现USB数据卡中的USB接口模块；USB接口模块按照USB协议， 在将USB数据卡链接到PC的操作系统后，根据PC的操作系统下发的USB标准指令做出相应的回复，从而实现枚举出符合USB协议的USB设备；本实施例中，USB接口模块需要首先 枚举出一个Mass Storage类型的USB设备。</p>
    <p>[0073]	步骤302，PC的BIOS搜索USB设备中的GRUB引导程序；</p>
    <p>[0074]	具体的，USB数据卡这种大容量磁碟类设备会被PC的BIOS视为引导分区之一，并 且会按照BIOS中预先设置的顺序依次在各个引导分区中搜索GRUB引导程序，因此，PC的 BIOS可以与枚举的USB设备进行数据交互，搜索USB设备中的GRUB引导程序；</p>
    <p>[0075]	当BIOS搜索USB设备中的GRUB引导程序时，BIOS会下发一系列的小型计算机系 统接口（SCSI，Small Computer System Interface)指令给USB 设备，以获取 USB 设备的容 量或读取USB设备的引导区等；枚举为USB设备的USB数据卡的USB接口模块接收该SCSI 指令，并将收到的SCSI指令转发给USB数据卡的SCSI指令处理模块，SCSI指令处理模块 接收PC的BIOS下发的SCSI指令，并将SCSI指令中的数据块起始编号和数据块数量信息 发送给USB数据卡的SCSI-Flash界面转换模块；SCSI-Flash界面转换模块按照1个数据 块是512个字节的单位，并根据数据块起始编号和数据块数量信息，计算出需要从Flash存 储区中读取的数据的起始地址偏移值，再利用预先存储的GRUB引导程序和嵌入式Windows 操作系统的Flash存储区的首地址，计算出PC的BIOS需要读取的数据的首地址，所述需要 读取的数据的首地址为GRUB引导程序和嵌入式Windows操作系统的实际存储地址，从而 SCSI-Flash界面转换模块实现引将数据块起始编号和数据块数量信息，转换成GRUB引导 程序和嵌入式Windows操作系统的在Flash存储区中的实际存储地址；SCSI-Flash界面转 换模块将计算出GRUB引导程序和嵌入式Windows操作系统的在Flash存储区中的实际存 储地址，发送给USB数据卡的Flash读写模块；Flash读写模块根据收到实际存储地址，利 用API函数从USB数据卡的Flash存储区中，读取出GRUB引导程序与嵌入式Windows操作 系统，并将读取出的GRUB引导程序与嵌入式Windows操作系统上报给PC的BIOS。</p>
    <p>[0076]	步骤303，PC的BIOS运行搜索到的USB设备中的GRUB引导程序；</p>
    <p>[0077]	具体的，当PC的BIOS根据USB数据卡的Flash读写模块上报的GRUB引导程序与 嵌入式Windows操作系统后，PC的BIOS确定自身搜索到USB设备中的GRUB引导程序，并 运行该GRUB引导程序，GRUB引导程序开始引导工作。</p>
    <p>[0078]	步骤304，GRUB引导程序引导USB数据卡中的嵌入式Windows操作系统开始运行， 嵌入式Windows操作系统运行切换程序将USB数据卡切换到正常工作模式，并运行预装的 数据卡驱动程序和UI软件；</p>
    <p>[0079]	具体的，GRUB引导程序开始工作后，GRUB引导程序引导USB数据卡的嵌入式 Windows操作系统开始运行；当嵌入式Windows操作系统在GRUB引导程序的引导下开始 运行后，首先运行自身的入口文件setupldr. bin,该入口文件可以读取自身的配置文件 winnt. xpe，以获取自身的运行方式，本实施例中，嵌入式Windows操作系统的运行方式为 虚拟磁碟ramdisk，因此嵌入式Windows操作系统在USB数据卡的内存中建立一个虚拟 ramdisk,对自身进行复制，将复制后的嵌入式Windows操作系统保存到该虚拟ramdisk中， 该虚拟ramdisk将被虚拟成一个硬盘分区，作为嵌入式Windows操作系统的分区存在；</p>
    <p>[0080]	嵌入式Windows操作系统以该虚拟ramdisk为基础开始运行，嵌入式Windows操 作系统开始运行之后，可以自动运行厂商指定的常驻USB数据卡的内存的切换程序；该切 换程序将枚举为USB设备的USB数据卡切换到多端口的正常工作模式；嵌入式Windows操作系统可以自动运行已经预先安装的数据卡驱动程序，并运行UI软件，从而USB数据卡进 入正常工作状态，开始配合UI软件进行工作。</p>
    <p>[0081]	为了给用户提供更多的使用选择，应对用户使用过程中的各种情况，本发明还提 供了一种将传统USB数据卡工作模式与上述方法相结合的方法，该方法可以根据用户的选 择执行相应的处理流程，具体的，本实施例中，在USB数据卡在进行USB设备的枚举时，枚举 的USB设备为CDROM与虚拟USB设备两种大容量设备并存的方式；其中，CDROM中加载的是 包含UI软件和数据卡驱动程序的安装程序的虚拟光盘，虚拟USB设备中加载的是USB数据 卡的Flash存储区中的嵌入式Windows操作系统的GRUB引导程序；这样，当用户想以传统 USB数据卡工作模式安装UI软件和数据卡驱动程序时，在PC的操作系统中使用USB数据卡 时，只需要在插入USB数据卡后，安装CDROM中的数据卡驱动程序和UI软件，然后等待数据 卡被自动切换为正常工作模式后使用即可；如果用户想以图3所示的方法使用USB数据卡 时，只需要在插入USB数据卡后，重启PC，或在开机前插入USB数据卡，然后通过USB数据 卡的虚拟USB设备，在BIOS自检阶段将PC引导到USB数据卡的嵌入式Windows操作系统 中，等待驱动自动安装完毕，UI软件运行后使用即可。这两种模式的无缝结合，可以给用户 提供更多的使用选择，可以让用户应对各种使用中遇到的问题，不但提高了 USB数据卡的 可用性，对用户体验也有很大程度的提高。</p>
    <p>[0082]	以上所述，仅为本发明的较佳实施例而已，并非用于限定本发明的保护范围，凡在 本发明的精神和原则之内所作的任何修改、等同替换和改进等，均应包含在本发明的保护 范围之内。</p>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="backward-citations"></a><div class="patent-section-header"><span class="patent-section-title">专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用的专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN1536484A?cl=zh">CN1536484A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2004年4月1日</td><td class="patent-data-table-td patent-date-value">2004年10月13日</td><td class="patent-data-table-td ">特科2000国际有限公司</td><td class="patent-data-table-td ">可移动的操作系统和加载该系统的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101075178A?cl=zh">CN101075178A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2007年6月25日</td><td class="patent-data-table-td patent-date-value">2007年11月21日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">Td_scdma无线数据卡的自启动方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101916197A?cl=zh">CN101916197A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年7月22日</td><td class="patent-data-table-td patent-date-value">2010年12月15日</td><td class="patent-data-table-td ">北京东土科技股份有限公司</td><td class="patent-data-table-td ">一种控制系统自启动程序的实现方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US6889058">US6889058</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2001年4月20日</td><td class="patent-data-table-td patent-date-value">2005年5月3日</td><td class="patent-data-table-td ">Sony Corporation</td><td class="patent-data-table-td ">Set up logic for dual interface wireless IP communication device</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="npl-citations"></a><div class="patent-section-header"><span class="patent-section-title">非专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th colspan="3"class="patent-data-table-th">参考文献</th></tr></thead><tr><td class="patent-data-table-td ">1</td><td class="patent-data-table-td "><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td ">许德新 等: "<a href='http://scholar.google.com/scholar?q="%E5%B5%8C%E5%85%A5%E5%BC%8FLinux%E5%9C%A8PC104%E4%B8%8A%E7%9A%84%E6%9E%84%E5%BB%BA%E4%B8%8E%E5%AE%9E%E7%8E%B0"'>嵌入式Linux在PC104上的构建与实现</a>", 《应用科技》, vol. 33, no. 10, 31 October 2006 (2006-10-31), pages 35 - 37</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102592085A?cl=zh">CN102592085A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月27日</td><td class="patent-data-table-td patent-date-value">2012年7月18日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种无线通信终端及行业软件安全运行方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102592085B?cl=zh">CN102592085B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年12月27日</td><td class="patent-data-table-td patent-date-value">2015年9月16日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种无线通信终端及行业软件安全运行方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103049327A?cl=zh">CN103049327A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年10月14日</td><td class="patent-data-table-td patent-date-value">2013年4月17日</td><td class="patent-data-table-td ">深圳市同洲电子股份有限公司</td><td class="patent-data-table-td ">一种android系统挂载多存储设备的方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103379006A?cl=zh">CN103379006A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年4月19日</td><td class="patent-data-table-td patent-date-value">2013年10月30日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">数据卡自适应方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/US9104518">US9104518</a></td><td class="patent-data-table-td patent-date-value">2012年6月21日</td><td class="patent-data-table-td patent-date-value">2015年8月11日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">Wireless communication terminal and method for securely running industry software</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012097574A1?cl=zh">WO2012097574A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年7月6日</td><td class="patent-data-table-td patent-date-value">2012年7月26日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种无线通讯终端及其自启动的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013097426A1?cl=zh">WO2013097426A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年6月21日</td><td class="patent-data-table-td patent-date-value">2013年7月4日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种无线通信终端及行业软件安全运行方法</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009480000">G06F9/48</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=G06F0009445000">G06F9/445</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04W0088020000">H04W88/02</a></span></td></tr><tr><td class="patent-data-table-td "> 合作分类</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=IZOUBwABERAJ&amp;q=http://worldwide.espacenet.com/classification&amp;usg=AFQjCNGs5WqSrPE3A4ZP63zGuM6PRNfEFA#!/CPC=G06F9/4401">G06F9/4401</a></span></td></tr><tr><td class="patent-data-table-td "> 欧洲专利分类号</td><td class="patent-data-table-td "><span class="nested-value">G06F9/44A</span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2011年5月25日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2012年11月28日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2016年3月30日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/0c736a60ace697e81182/CN102073524A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_50a6672b5f82ffbd39b7a9e87fd4594c.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E6%97%A0%E7%BA%BF%E9%80%9A%E8%AE%AF%E7%BB%88%E7%AB%AF%E5%8F%8A%E5%85%B6%E8%87%AA%E5%90%AF%E5%8A%A8.pdf?id=IZOUBwABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U0wDLMIa3kUaSw0-ptW6B10n3kPZQ"},"sample_url":"https://www.google.com/patents/reader?id=IZOUBwABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>