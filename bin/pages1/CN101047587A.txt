<!DOCTYPE html><html><head><title>专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法 -  Google 专利</title><script>(function(){(function(){function e(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var f=a?new e(a.responseStart):new e;window.jstiming={Timer:e,load:f};if(a){var c=a.navigationStart,d=a.responseStart;0<c&&d>=c&&(window.jstiming.srt=d-c)}if(a){var b=window.jstiming.load;0<c&&d>=c&&(b.tick("_wtsrt",void 0,c),b.tick("wtsrt_",
"_wtsrt",d),b.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),b&&0<c&&(b.tick("_tbnd",void 0,window.chrome.csi().startE),b.tick("tbnd_","_tbnd",c))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,b&&0<c&&(b.tick("_tbnd",void 0,window.external.startE),b.tick("tbnd_","_tbnd",c))),a&&(window.jstiming.pt=a)}catch(g){}})();})();
</script><link rel="stylesheet" href="/patents/css/_1ec17bec5b1e6ba0eab577be28b6afb9/kl_intl_patents_bundle.css" type="text/css" /><script src="/books/javascript/atb_1ec17bec5b1e6ba0eab577be28b6afb9__zh_cn.js"></script><script>function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: "zh",gaTrack: true,gaId: "UA-27188110-1",multilanguagePage: true});}</script><script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script><meta name="DC.type" content="Patent"><meta name="DC.title" content="一种非无线局域网终端访问外部网络的系统及方法"><meta name="DC.contributor" content="姚忠辉" scheme="inventor"><meta name="DC.contributor" content="莫良耀" scheme="inventor"><meta name="DC.contributor" content="华为技术有限公司" scheme="assignee"><meta name="DC.date" content="2006-6-30" scheme="dateSubmitted"><meta name="DC.description" content="本发明提供了一种非无线局域网终端访问外部网络的系统及方法，通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立连接，并且通过多用户接入终端保存每一个非WLAN终端与所建连接的关系，实现了多个非WLAN终端同时通过多用户接入终端接入WLAN网络，进而和外部网络进行数据传输。另外，本发明通过多用户接入终端与非WLAN网络的信息交互，使非WLAN终端在与外部网络进行数据交互前，获悉自身与外部网络间的链路是否支持访问外部网络。本发明同时提供了一种非无线局域网终端访问外部网络的多用户接入终端，其包括WLAN接口、非WLAN接口、共享接入管理单元及共享接入数据服务单元。"><meta name="DC.date" content="2007-10-3"><meta name="citation_patent_publication_number" content="CN:101047587:A"><meta name="citation_patent_application_number" content="CN:200610091155"><link rel="canonical" href="https://www.google.com/patents/CN101047587A?cl=zh"/><meta property="og:url" content="https://www.google.com/patents/CN101047587A?cl=zh"/><meta name="title" content="专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法"/><meta name="description" content="本发明提供了一种非无线局域网终端访问外部网络的系统及方法，通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立连接，并且通过多用户接入终端保存每一个非WLAN终端与所建连接的关系，实现了多个非WLAN终端同时通过多用户接入终端接入WLAN网络，进而和外部网络进行数据传输。另外，本发明通过多用户接入终端与非WLAN网络的信息交互，使非WLAN终端在与外部网络进行数据交互前，获悉自身与外部网络间的链路是否支持访问外部网络。本发明同时提供了一种非无线局域网终端访问外部网络的多用户接入终端，其包括WLAN接口、非WLAN接口、共享接入管理单元及共享接入数据服务单元。"/><meta property="og:title" content="专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法"/><meta property="og:type" content="book"/><meta property="og:site_name" content="Google Books"/><meta property="og:image" content="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><link rel="image_src" href="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"/><script>if (window['_OC_timingAction']) {window['_OC_timingAction']('patents_refpage');}</script><style>#gbar,#guser{font-size:13px;padding-top:1px !important;}#gbar{height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}@media all{.gb1{height:22px;margin-right:.5em;vertical-align:top}#gbar{float:left}}a.gb1,a.gb4{text-decoration:underline !important}a.gb1,a.gb4{color:#00c !important}.gbi .gb4{color:#dd8e27 !important}.gbf .gb4{color:#900 !important}

#gbar { padding:.3em .6em !important;}</style></head><body ><div id=gbar><nobr><a class=gb1 href="https://www.google.com/search?tab=tw">搜索</a> <a class=gb1 href="https://www.google.com/search?hl=zh-CN&tbm=isch&source=og&tab=ti">图片</a> <a class=gb1 href="https://maps.google.com/maps?hl=zh-CN&tab=tl">地图</a> <a class=gb1 href="https://play.google.com/?hl=zh-CN&tab=t8">Play</a> <a class=gb1 href="https://www.youtube.com/results?tab=t1">YouTube</a> <a class=gb1 href="https://news.google.com/nwshp?hl=zh-CN&tab=tn">新闻</a> <a class=gb1 href="https://mail.google.com/mail/?tab=tm">Gmail</a> <a class=gb1 href="https://drive.google.com/?tab=to">云端硬盘</a> <a class=gb1 style="text-decoration:none" href="https://www.google.com/intl/zh-CN/options/"><u>更多</u> &raquo;</a></nobr></div><div id=guser width=100%><nobr><span id=gbn class=gbi></span><span id=gbf class=gbf></span><span id=gbe></span><a target=_top id=gb_70 href="https://www.google.com/accounts/Login?service=&continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN&hl=zh-CN" class=gb4>登录</a></nobr></div><div class=gbh style=left:0></div><div class=gbh style=right:0></div><div role="alert" style="position: absolute; left: 0; right: 0;"><a href="https://www.google.com/patents/CN101047587A?cl=zh&amp;hl=zh-CN&amp;output=html_text" title="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"><img border="0" src="//www.google.com/images/cleardot.gif"alt="屏幕阅读器用户请注意：点击此链接可进入无障碍模式。阅读器在无障碍模式下具有同样的基本功能，但可让用户获得更好的体验。"></a></div><div class="kd-appbar"><h2 class="kd-appname"><a href="/patents?hl=zh-CN"> 专利</a></h2><div class="kd-buttonbar left" id="left-toolbar-buttons"><a id="appbar-write-review-link" href=""></a><a id="appbar-view-print-sample-link" href=""></a><a id="appbar-view-ebook-sample-link" href=""></a><a id="appbar-patents-prior-art-finder-link" href="https://www.google.com/patents/related/CN101047587A"></a><a id="appbar-patents-discuss-this-link" href="https://www.google.com/url?id=-EuHAAABERAJ&amp;q=http://patents.stackexchange.com/redirect/google-patents%3Fpublication%3DCN101047587A&amp;usg=AFQjCNGM08FayBBIf7vgzV3uUADiAnaK4A" data-is-grant="false"></a><a id="appbar-read-patent-link" href="//docs.google.com/viewer?url=patentimages.storage.googleapis.com/pdfs/f520a7a5db42c7c55621/CN101047587A.pdf"></a><a id="appbar-download-pdf-link" href="//patentimages.storage.googleapis.com/pdfs/f520a7a5db42c7c55621/CN101047587A.pdf"></a><a class="appbar-content-language-link" data-selected="true" data-label="中文" href="/patents/CN101047587A?cl=zh&amp;hl=zh-CN"></a><a class="appbar-content-language-link" data-label="英语" href="/patents/CN101047587A?cl=en&amp;hl=zh-CN"></a><a class="appbar-application-grant-link" data-selected="true" data-label="申请" href="/patents/CN101047587A?hl=zh-CN&amp;cl=zh"></a><a class="appbar-application-grant-link" data-label="授权" href="/patents/CN100479403C?hl=zh-CN&amp;cl=zh"></a></div><div class="kd-buttonbar right" id="right-toolbar-buttons"></div></div><div id="books-microdata" itemscope=""itemtype="http://schema.org/Book"itemid="https://www.google.com/patents/CN101047587A?cl=zh" style="display:none"><span itemprop="description">本发明提供了一种非无线局域网终端访问外部网络的系统及方法，通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立连接，并且通过多用户接入终端保存每一个非WLAN终端与所建连接的关系，实现了多个非WLAN终端同时 ...</span><span itemprop="url">https://www.google.com/patents/CN101047587A?cl=zh&amp;utm_source=gb-gplus-share</span><span class="main-title" itemprop="name">专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法</span><img itemprop="image" src="https://www.google.com/patents?id=&amp;printsec=frontcover&amp;img=1&amp;zoom=1"alt="专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法" title="专利 CN101047587A - 一种非无线局域网终端访问外部网络的系统及方法"></div><div style="display: none"><ol id="ofe-gear-menu-contents" class="gbmcc"><li class="gbe gbmtc"><a class="gbmt goog-menuitem-content" id="" href="https://www.google.com/advanced_patent_search?hl=zh-CN"> 高级专利搜索</a></li></ol></div><div id="volume-main"><div id="volume-center"><div class=vertical_module_list_row><div id=intl_patents class=about_content><div id=intl_patents_v><table class="patent-bibdata patent-drawings-missing"><tr><td class="patent-bibdata-heading"> 公开号</td><td class="single-patent-bibdata">CN101047587 A</td></tr><tr><td class="patent-bibdata-heading">发布类型</td><td class="single-patent-bibdata">申请</td></tr><tr><td class="patent-bibdata-heading"> 专利申请号</td><td class="single-patent-bibdata">CN 200610091155</td></tr><tr><td class="patent-bibdata-heading">公开日</td><td class="single-patent-bibdata">2007年10月3日</td></tr><tr><td class="patent-bibdata-heading"> 申请日期</td><td class="single-patent-bibdata">2006年6月30日</td></tr><tr><td class="patent-bibdata-heading"> 优先权日<span class="patent-tooltip-anchor patent-question-icon"data-tooltip-text="优先日期属于假设性质，不具任何法律效力。Google 对于所列日期的正确性并没有进行法律分析，也不作任何陈述。"></span></td><td class="single-patent-bibdata">2006年6月30日</td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">公告号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN100479403C?hl=zh-CN&amp;cl=zh">CN100479403C</a></span></span></td></tr><tr class="patent-bibdata-list-row alternate-patent-number"><td class="patent-bibdata-heading"> 公开号</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value">200610091155.6, </span><span class="patent-bibdata-value">CN 101047587 A, </span><span class="patent-bibdata-value">CN 101047587A, </span><span class="patent-bibdata-value">CN 200610091155, </span><span class="patent-bibdata-value">CN-A-101047587, </span><span class="patent-bibdata-value">CN101047587 A, </span><span class="patent-bibdata-value">CN101047587A, </span><span class="patent-bibdata-value">CN200610091155, </span><span class="patent-bibdata-value">CN200610091155.6</span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 发明者</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E5%A7%9A%E5%BF%A0%E8%BE%89%22">姚忠辉</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=ininventor:%22%E8%8E%AB%E8%89%AF%E8%80%80%22">莫良耀</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading"> 申请人</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="https://www.google.com/search?tbo=p&amp;tbm=pts&amp;hl=en&amp;q=inassignee:%22%E5%8D%8E%E4%B8%BA%E6%8A%80%E6%9C%AF%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22">华为技术有限公司</a></span></span></td></tr><tr class="patent-bibdata-list-row "><td class="patent-bibdata-heading">导出引文</td><td><span class="patent-bibdata-value-list"><span class="patent-bibdata-value"><a href="/patents/CN101047587A.bibtex?cl=zh">BiBTeX</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101047587A.enw?cl=zh">EndNote</a>, </span><span class="patent-bibdata-value"><a href="/patents/CN101047587A.ris?cl=zh">RefMan</a></span></span></td></tr><tr class="patent-internal-links"><td colspan=2><span class="patent-bibdata-value"><a href="#forward-citations"> 被以下专利引用</a> (19),</span> <span class="patent-bibdata-value"><a href="#classifications">分类</a> (2),</span> <span class="patent-bibdata-value"><a href="#legal-events">法律事件</a> (4)</span> </td></tr><tr><td colspan=2 class="patent-bibdata-external-link-spacer-top"></td></tr><tr class="patent-bibdata-external-link-spacer-bottom"></tr><tr><td colspan=2><span class="patent-bibdata-heading">外部链接:&nbsp;</span><span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=-EuHAAABERAJ&amp;q=http://211.157.104.87:8080/sipo/zljs/hyjs-yx-new.jsp%3Frecid%3D200610091155&amp;usg=AFQjCNGmd6Rq6plwLS-VO6cAQPam-G6uSg"> 中国国家知识产权局</a>, </span><span class="patent-bibdata-value"><a href="https://www.google.com/url?id=-EuHAAABERAJ&amp;q=http://worldwide.espacenet.com/publicationDetails/biblio%3FCC%3DCN%26NR%3D101047587A%26KC%3DA%26FT%3DD&amp;usg=AFQjCNEJtbHUU3g2Do2BU5oOk1dzEnXVWw"> 欧洲专利数据库 (Espacenet)</a></span></span></td></tr><tr class="patent-bibdata-group-spacer"></tr></table><div class="number-and-title"><span class="patent-title"><invention-title mxw-id="PT121981681" lang="ZH" load-source="patent-office">一种非无线局域网终端访问外部网络的系统及方法</invention-title>
      </span><br><span class="patent-number">CN 101047587 A</span></div><div class="patent-section patent-abstract-section"><div class="patent-section-header"><span class="patent-section-title"> 摘要</span></div><div class="patent-text"><abstract mxw-id="PA108215301" lang="ZH" load-source="patent-office">
    <div class="abstract">本发明提供了一种非无线局域网终端访问外部网络的系统及方法，通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立连接，并且通过多用户接入终端保存每一个非WLAN终端与所建连接的关系，实现了多个非WLAN终端同时通过多用户接入终端接入WLAN网络，进而和外部网络进行数据传输。另外，本发明通过多用户接入终端与非WLAN网络的信息交互，使非WLAN终端在与外部网络进行数据交互前，获悉自身与外部网络间的链路是否支持访问外部网络。本发明同时提供了一种非无线局域网终端访问外部网络的多用户接入终端，其包括WLAN接口、非WLAN接口、共享接入管理单元及共享接入数据服务单元。</div>
  </abstract>
  </div></div><div class="patent-section patent-claims-section"><div class="patent-section-header"><span class="patent-section-title">权利要求<span class="patent-section-count">(28)</span></span></div><div class="patent-text"><div mxw-id="PCLM50802952" lang="ZH" load-source="patent-office" class="claims">
    <div class="claim"> <div num="1" class="claim">
      <div class="claim-text">1.一种非无线局域网终端访问外部网络的系统，该系统包括：WLAN网络以及外部网络，WLAN网络与外部网络相连，进行数据交互，其特征在于，该系统进一步包括：至少一个非无线局域网WLAN终端、多用户接入终端，其中，所述的非WLAN终端与多用户接入终端通过本地链路相连，所述的多用户接入终端通过WLAN数据链路与WLAN网络相连，所述的多用户接入终端用于为每一个非WLAN终端在自身与WLAN网络间建立连接并保存连接关系；以及为每一个非WLAN终端和WLAN网络进行数据转发。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="2" class="claim">
      <div class="claim-text">2.如权利要求1所述的系统，其特征在于，所述的多用户接入终端由WLAN接口、至少一个非WLAN接口、共享接入管理单元以及共享接入数据服务单元组成，其中，WLAN接口，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立连接，以及与WLAN网络进行数据交互；非WLAN接口，用于非WLAN终端接入多用户接入终端，以及与非WLAN终端进行数据交互；共享接入管理单元，用于保存每个非WLAN终端与WLAN接口和WLAN网络间的连接关系；共享接入数据服务单元，用于为非WLAN终端和WLAN网络提供数据转发传输服务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="3" class="claim">
      <div class="claim-text">3.如权利要求2所述的系统，其特征在于，所述的WLAN接口进一步包括虚链路或虚拟终端建立模块，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立一条虚链路或一个虚拟终端；所述的共享接入管理单元进一步包括连接关系保存模块，用于保存和管理每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="4" class="claim">
      <div class="claim-text">4.如权利要求2或3所述的系统，其特征在于，所述的共享接入管理单元进一步包括能力信息管理模块用于存储和管理预先配置或动态生成的能力信息，包括：多用户接入终端是否支持共享接入功能，是否开启共享接入功能，以及多用户接入终端与WLAN网络之间是否建立了WLAN数据链路；所述的非WLAN接口进一步包括能力协商模块，用于与非WLAN终端进行消息交互，通过查询能力信息管理模块的能力信息，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="5" class="claim">
      <div class="claim-text">5.如权利要求2或3所述的系统，其特征在于，所述的WLAN接口进一步包括网络选择模块，用于为每一个非WLAN终端提供网络选择服务，并将网络选择的结果通过共享接入管理单元传输给非WLAN接口，再由非WLAN接口传输给非WLAN终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="6" class="claim">
      <div class="claim-text">6.如权利要求2或3所述的系统，其特征在于，所述的非WLAN接口进一步包括密钥传递模块，用于将非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥传递给共享接入管理单元；所述的共享接入管理单元进一步包括密钥传递模块，用于将WLAN接口的密钥传递模块传递的密钥发送给WLAN接口；所述的WLAN接口进一步包括封装加密模块，用于封装共享接入数据服务单元转发的非WLAN终端发出的数据报文，并根据共享接入管理单元的密钥传递模块发送的密钥确定加解密密钥，并利用确定的加密密钥加密封装后的数据报文，以及解密WLAN网络转发的外部网络发送给该非WLAN终端的加密数据报文，所述WLAN网络进一步包括封装加密模块，用于封装外部网络发送的数据报文，并根据非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥确定加解密密钥，并利用确定的加密密钥加密外部网络发送给该WLAN终端的数据报文，解密非WLAN终端通过WLAN接口发送的加密数据报文。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="7" class="claim">
      <div class="claim-text">7.如权利要求1、2或3所述的系统，其特征在于，所述的多用户接入终端设置在具有访问外部网络功能的设备中，所述的具有访问外部网络功能的设备在支持非WLAN终端访问外部网络的同时，支持自身获取外部网络提供的服务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="8" class="claim">
      <div class="claim-text">8.如权利要求1、2或3所述的系统，其特征在于，所述的非WLAN终端为：具有IEEE.802.3或802.1&#160;5系列标准接口的终端、或者具有USB接口的终端；所述的非WLAN终端通过IEEE.802.3或802.15系列标准接口或者USB接口与多用户接入终端建立本地链路相连。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="9" class="claim">
      <div class="claim-text">9.如权利要求7所述的系统，其特征在于，所述的非WLAN终端为个人数字辅助设备PDA、蓝牙终端、USB终端或GSM手机；所述的非WLAN终端通过USB接口或蓝牙接口与多用户接入终端建立本地链路相连。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="10" class="claim">
      <div class="claim-text">10.如权利要求1、2或3所述的系统，其特征在于，所述的外部网络为：目标网络、AAA服务器所在网络或其他与WLAN网络连接的非WLAN网络。</div>
    </div>
    </div> <div class="claim"> <div num="11" class="claim">
      <div class="claim-text">11.一种用于非无线局域网终端访问外部网络的多用户接入终端，其特征在于，该多用户接入终端包括：WLAN接口、至少一个非WLAN接口、共享接入管理单元以及共享接入数据服务单元，WLAN接口，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立连接，以及与WLAN网络进行数据交互；非WLAN接口，用于非WLAN终端接入多用户接入终端，以及与非WLAN终端进行数据交互；共享接入管理单元，用于保存每个非WLAN终端与WLAN接口和WLAN网络间的连接关系；共享接入数据服务单元，用于为非WLAN终端和WLAN网络提供数据转发传输服务。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="12" class="claim">
      <div class="claim-text">12.如权利要求11所述的多用户接入终端，其特征在于，所述的WLAN接口进一步包括虚链路或虚拟终端建立模块，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立一条虚链路或一个虚拟终端；所述的共享接入管理单元进一步包括连接关系保存模块，用于保存和管理每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="13" class="claim">
      <div class="claim-text">13.如权利要求12所述的多用户接入终端，其特征在于，所述的共享接入管理单元进一步包括能力信息管理模块用于存储和管理预先配置或动态生成的能力信息，包括：多用户接入终端是否支持共享接入功能，是否开启共享接入功能，以及多用户接入终端与WLAN网络之间是否建立了WLAN数据链路；所述的非WLAN接口进一步包括能力协商模块，用于与非WLAN终端进行消息交互，通过查询能力信息管理模块的能力信息，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="14" class="claim">
      <div class="claim-text">14.如权利要求11或12所述的多用户接入终端，其特征在于，所述的WLAN接口进一步包括网络选择模块，用于为每一个非WLAN终端提供网络选择服务，并将网络选择的结果通过共享接入管理单元传输给非WLAN接口，再由非WLAN接口传输给非WLAN终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="15" class="claim">
      <div class="claim-text">15.如权利要求11或12所述的多用户接入终端，其特征在于，所述的非WLAN接口进一步包括密钥传递模块，用于将非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥传递给共享接入管理单元；所述的共享接入管理单元进一步包括密钥传递模块，用于将WLAN接口的密钥传递模块传递的密钥发送给WLAN接口；所述的WLAN接口进一步包括封装加密模块，用于封装共享接入数据服务单元转发的非WLAN终端发出的数据报文，并根据共享接入管理单元的密钥传递模块发送的密钥确定加解密密钥，并利用确定的加密密钥加密封装后的数据报文，以及解密WLAN网络转发的外部网络发送给该非WLAN终端的加密数据报文。</div>
    </div>
    </div> <div class="claim"> <div num="16" class="claim">
      <div class="claim-text">16.一种非无线局域网终端访问外部网络的方法，其特征在于，在系统内设置多用户接入终端，该方法包括以下步骤：A、每个非WLAN终端和多用户接入终端之间建立本地链路，多用户接入终端和WLAN网络之间建立WLAN数据链路；B、多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接；C、非WLAN终端通过多用户接入终端和WLAN网络与外部网络进行数据交互。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="17" class="claim">
      <div class="claim-text">17.如权利要求16所述的方法，其特征在于，步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接为：多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立一个虚链路或虚拟终端，并保存每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="18" class="claim">
      <div class="claim-text">18.如权利要求16或17所述的方法，其特征在于，步骤A所述链路建立完成后，进一步包括：多用户接入终端与非WLAN终端进行消息交互，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="19" class="claim">
      <div class="claim-text">19.如权利要求16或17所述的方法，其特征在于，步骤A所述链路建立完成后，进一步包括：多用户接入终端根据非WLAN终端发送的外部网络的标识符以及非WLAN终端需要的服务类型进行网络选择，获得网络选择结果后，将网络选择结果返回非WLAN终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="20" class="claim">
      <div class="claim-text">20.如权利要求16或17所述的方法，其特征在于，步骤C所述非WLAN终端与外部网络进行数据交互包括：非WLAN终端向外部网络传递数据的流程和外部网络向非WLAN终端传递数据的流程，所述非WLAN终端向外部网络传递数据的流程包括：C1、非WLAN终端通过本地链路将携带非WLAN终端MAC地址、目的地址以及数据的数据报文发送给多用户接入终端；C2、多用户接入终端对接收到的数据报文按照WLAN网络标准封装，并对封装后的数据报文加密后，发送给WLAN网络侧；C3、WLAN网络侧对接收到的数据报文解密，并将解密后的数据报文发送到目的地址，所述外部网络向非WLAN终端传递数据的流程包括：c1、外部网络将携带源地址、非WLAN终端MAC地址以及数据的数据报文发送给WLAN网络侧；c2、WLAN网络侧对接收到的数据报文按照WLAN网络标准封装，并对封装后的数据报文加密后，发送给多用户接入终端；c3、多用户接入终端解密接受到的数据报文，根据非WLAN终端MAC地址将解密后的数据报文发送给非WLAN终端。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="21" class="claim">
      <div class="claim-text">21.如权利要求20所述的方法，其特征在于，步骤C2或c2所述的对接收到的数据报文封装为：按照802.1&#160;1数据帧格式封装数据报文。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="22" class="claim">
      <div class="claim-text">22.如权利要求20或21所述的方法，其特征在于，步骤C2所述的对封装后的数据报文加密后，发送给WLAN网络侧为：多用户接入终端根据虚链路或虚拟终端绑定信息确定相应的虚链路或虚拟终端密钥加密封装后的数据报文，并将虚链路或虚拟终端的端地址作为数据报文的发送和接收地址，将数据报文发送给WLAN网络侧；步骤C3所述的对接收到的数据报文解密为：根据虚链路或虚拟终端的端地址匹配相应的密钥对接受到的数据报文进行解密；或者，多用户接入终端根据WLAN数据链路选择相应的密钥加密封装后的数据报文，并将非WLAN终端的MAC地址和网络侧接入点AP的MAC地址作为数据报文的发送和接收地址发送给WLAN网络侧；步骤C3所述的对接收到的数据报文解密为：根据接收到的数据报文的发送地址匹配相应的密钥，对接收到的数据报文进行解密。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="23" class="claim">
      <div class="claim-text">23.如权利要求20所述的方法，其特征在于，步骤c2所述的WLAN网络侧对接收到的数据报文进行加密后，发送给多用户接入终端为：WLAN网络侧根据虚链路或虚拟终端绑定信息确定相应的虚链路或虚拟终端加密密钥，利用确定的加密密钥对封装后的数据报文进行加密，并将虚链路或虚拟终端的端地址作为数据报文的发送和接收地址，将数据报文发送给多用户接入终端；步骤c3所述的对接收到的数据报文解密为：根据虚链路或虚拟终端的端地址匹配相应的密钥对接受到的数据报文进行解密；或者，WLAN网络侧根据接收到的数据报文的目的地址确定相应的加密密钥来加密数据报文，并将非WLAN终端的MAC地址和网络侧接入点AP的MAC地址作为数据报文的发送和接收地址发送给WLAN网络侧；步骤c3所述的对接收到的数据报文解密为：根据接收到的数据报文的目的地址匹配相应的密钥，对接收到的数据报文进行解密。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="24" class="claim">
      <div class="claim-text">24.如权利要求16或17所述的方法，其特征在于，步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接后，进一步包括：a、非WLAN终端发送断开本地链路消息给多用户接入终端；b、多用户接入终端接收该断开本地链路消息，释放自身存储的本地链路相关资源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="25" class="claim">
      <div class="claim-text">25.如权利要求24所述的方法，其特征在于，步骤b所述释放自身存储的本地链路相关资源后，进一步包括：在非WLAN终端与某个虚链路或虚拟终端存在绑定关系时，多用户接入终端向WLAN网络侧发送删除虚链路或虚拟终端消息，并释放自身存储的相应虚链路或虚拟终端资源。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="26" class="claim">
      <div class="claim-text">26.如权利要求16或17所述的方法，其特征在于，步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接后，当多用户接入终端和WLAN网络之间的WLAN数据链路断开、或某个虚链路被删除、或某个虚拟终端被删除时，进一步包括：a1、多用户接入终端向所有的非WLAN接口发送WLAN网络不可用通知，或虚链路已删除通知，或虚拟终端已删除通知，并释放自身存储的WLAN数据链路和虚链路的相关资源，或与已删除虚链路相关的信息，或与已删除虚拟终端相关的信息；b1、多用户接入终端向非WLAN终端发送WLAN网络不可用消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="27" class="claim">
      <div class="claim-text">27.如权利要求26所述的方法，其特征在于，步骤b1所述多用户接入终端向非WLAN终端发送WLAN网络不可用消息后，当WLAN网络再次可用时，该方法进一步包括：a2、多用户接入终端和WLAN网络建立WLAN数据链路；b2、多用户接入终端存储链路状态信息，并为已经创建的链路分配链路标识号，基于本地链路向非WLAN终端发送WLAN网络可用消息；或者，a3、非WLAN终端通过本地链路向多用户接入终端发送主动查询请求；b3、多用户接入终端查找自身存储的WLAN数据链路状态信息，并根据查询结果基于本地链路向非WLAN终端发送WLAN网络可用消息。</div>
    </div>
    </div> <div class="claim-dependent"> <div num="28" class="claim">
      <div class="claim-text">28.如权利要求27所述的方法，其特征在于，步骤b2或b3所述向非WLAN终端发送WLAN网络可用消息后，进一步包括：多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接，并保存每一个非WLAN终端与WLAN网络的连接关系。</div>
    </div>
  </div> </div>
  </div></div><div class="patent-section patent-description-section"><div class="patent-section-header"><span class="patent-section-title"> 说明</span></div><div class="patent-text"><div mxw-id="PDES57862291" lang="ZH" load-source="patent-office" class="description">
    <invention-title lang="ZH">一种非无线局域网终端访问外部网络的系统及方法</invention-title>
    <technical-field>
      <p>技术领域</p>
      <p>本发明涉及无线局域网接入技术，特别涉及一种非无线局域网终端访问外部网络的系统及方法。</p>
    </technical-field>
    <background-art>
      <p>背景技术</p>
      <p>无线局域网(WLAN)技术由于具有无线化、可比拟有线的高速率接入以及价格低廉等优势，而深受市场的欢迎。目前已开始取代有线局域网广泛应用于家庭、校园、酒店、企业办公等场合，并开始作为一种无线宽带接入技术广泛部署于公众热点，为公众提供无线宽带数据接入服务。ISO/IEC8802-11：1999“信息技术系统间远程通信和信息交换局域网和城域网特定要求第11部分：WLAN媒体访问控制层(MAC)和物理层(PHY)规范”是WLAN的国际标准，其内容对应IEEE&#160;802.11。</p>
      <p>中国也发布了WLAN国家标准GB/T&#160;15629.11-2003，其与国际标准的主要差别体现在接入控制的安全机制上。事实上，市场广泛应用的WLAN产品主要是按照IEEE&#160;802.11标准项目组发布的针对IEEE&#160;802.11的补充规范制作的，针对IEEE&#160;802.11的补充规范包括：IEEE&#160;802.11b、IEEE&#160;802.11g、IEEE&#160;802.11a等。其中，IEEE&#160;802.11b、IEEE&#160;802.11g工作在2.4Hz频段，IEEE&#160;802.11a工作在5GHz频段。IEEE&#160;802.11b支持的物理层速率可达到11Mb/s，IEEE&#160;802.11g、IEEE&#160;802.11a支持的物理层速率可达到54Mb/s。目前IEEE&#160;802.11正在制订支持更高吞吐量的标准802.11n，以更好地支持各种实时业务及多媒体应用，增大系统容量。</p>
      <p>参见图1，图1为现有技术IEEE&#160;802.11定义的WLAN系统的网络架构示意图。如图1所示，该WLAN系统包括：分发系统(DS，DistributionSystem)、WLAN网络接入点(AP，Access&#160;Point)、WLAN接口终端设备(STA，Station)、逻辑点(portal)以及有线局域网。</p>
      <p>其中，AP相当于移动网络的基站，其主要功能是使得STA能与其它的STA或有线局域网的相关设备进行通信。例如：多个STA接入到一个AP组成一个无线局域网进行通信；接入到不同的AP的STA组成一个无线局域网进行通信；以及STA与有线局域网的相关设备进行通信。关联到一个AP下的STA构成一个基本服务集(BSS)。</p>
      <p>DS使得不同的BSS之间，以及BSS与有线局域网之间能够组成一个大的局域网，称之为扩展服务集(ESS)。逻辑点是指提供DS与有线局域网之间MAC服务数据单元(MSDUs)转发的逻辑点。</p>
      <p>每个STA为对应的无线通信媒体保留两个状态变量，分别用于标识STA的认证状态和关联状态，在WLAN无线通信媒体的一端保留对应端的状态，不同的状态下，允许传递的802.11帧的类型是不一样的。其中，1类帧指控制帧及部分管理帧，2类帧指1类帧之外的其他管理帧，3类帧指数据帧及省电控制帧，具体请参见IEEE&#160;802.11标准。</p>
      <p>参见图2，图2为现有技术IEEE&#160;802.11标准的STA的状态机。对于一个STA，在AP上需要维护该STA的状态。最初的状态为状态1：未鉴权，未关联；当STA根据AP的信标帧信息决定接入该AP后，STA与AP开始802.11鉴权认证过程，在认证成功后，进入状态2：已认证，未关联；进入状态2后，STA开始与AP进行关联协商，当关联成功后，即进入状态3：已认证，已关联。这时，在如图1所示系统的DS中将保留该STA与该AP的映射关系，使得系统中其它站点发送数据包给该STA时，能正确发送到与该STA关联的AP，再由该AP转发给该STA。</p>
      <p>由于802.11所提供的鉴权及安全机制不能满足实际应用中的安全需求，802.11i对其安全性进行了增强。802.11i制定采用802.11的开放系统选项作为802.11鉴权，这种方式的客观效果相当于不鉴权，采用802.1X作为鉴权认证和密钥管理的机制，在加密方法上支持AES算法，具体安全机制在建立关联期间协商。因此，对于802.11i来说，进入状态3后，STA与AP之间的链路在802.1X认证及密钥协商未完成之前，只能通过802.1X非受控端口传递802.1X数据报文，在成功完成会话密钥协商后，其他数据报文即可通过802.1X受控端口在AP与STA之间进行加密传递。</p>
      <p>中国WLAN&#160;WAPI安全标准基本原理与IEEE802.11i类似，采用与802.1X同样的基于端口的接入控制方法。</p>
      <p>对于STA和AP之间的链路，可以用STA和AP的媒体存储控制层(MAC)地址对来表示。根据IEEE802.11标准，STA与AP之间只能有一条链路。因此，在STA与AP之间，只能采用与该链路绑定的唯一的安全机制，并且不同的业务流在MAC层不能在安全上实现逻辑隔离。</p>
      <p>为了满足使一个STA支持多业务接入的需求，特别是为了解决当接入STA的不同业务具有各自独立的安全证书，要求与不同的认证服务器进行交互的问题，目前有两种解决方案：虚链路(Virtual&#160;Link)机制与虚拟终端机制。这里，所述的业务的安全证书可以为GSM/UMTS网络SIM卡，也可以为用户名/密码等。</p>
      <p>虚链路机制允许在STA与AP之间存在多条链路，不同的链路采用不同的地址对进行标识，参见图3，图3为现有技术STA和AP之间的基链路对应多条虚链路的示意图。</p>
      <p>如图3所示，当一个STA与AP建立关联时，STA的MAC地址与AP的MAC地址，即BSSID，在AP与STA之间确定了一条链路，称为基链路。基于基链路，可以在STA与AP之间建立多条虚链路。在MAC层，每条虚链路由虚链路两端的端地址(EA，End-Point&#160;Address)对唯一识别，比如图3的(EA1，EA2)、(EA3，EA4)、(EA5，EA6)就标识不同的虚链路。虚链路的两端可以各自指定自己的端地址，也可以由某一端，比如AP侧，指定虚链路的两个端地址。虚链路是通过基链路建立的，即虚链路建立相关MAC管理帧时，使用基链路端地址对作为发送及接收地址。在建立虚链路时，要协商确定虚链路所采用的安全机制以及端地址，所述的安全机制可以采用802.1X，或者中国国家标准WAPI，或者其他的在线注册方法等。</p>
      <p>在未建立虚链路之前，AP与STA之间通过基链路进行通信，也就是802.11MAC帧的发送地址(TA)和接收地址(RA)为基链路的端地址。在建立虚链路后，可以基于这个虚链路进行鉴权和协商会话密钥。承载在该虚链路上的MAC协议数据单元帧的发送地址和接收地址为该虚链路的端地址。</p>
      <p>某一端，比如STA，内部的MAC层之上的MAC应用层，即MAC用户，可以通过直接使用该端地址对来使用虚链路，也可以通过由本端MAC层指配的一个虚链路号(Virtual&#160;Link&#160;No.)来使用虚链路，虚链路号和对应虚链路的端地址对有一个映射关系。因此，在MAC层针对每一条虚链路，应分配本端唯一的虚链路号，当MAC用户需要使用或管理某一虚链路时，给MAC层发送的消息或原语接口应携带相应的虚链路号。这里，MAC层和MAC用户层都属于某一端的内部逻辑层。在虚链路成功建立后，某一端，比如STA，的MAC用户可以请求MAC层基于虚链路进行数据报文传递。</p>
      <p>参见图4，图4为现有技术基于虚链路的数据传递流程示意图。</p>
      <p>步骤401，本端的MAC用户发送数据报文请求消息到本端的MAC层，其中携带：MAC层源地址，目的地址，虚链路号，及待发送的数据。</p>
      <p>步骤402，本端的MAC层收到该数据报文请求消息后，根据源地址和目的地址，以及由虚链路号确定的发送地址和接收地址，构建MAC数据帧头地址域，同时按802.11协议要求及对应虚链路的安全机制对数据报文进行分段及加密等操作，组成一个或一序列MAC协议数据单元后，通过无线接口发送给另一端的MAC层，比如AP。另一端的MAC层再对接收到的数据报文进行解密及分段重组工作。</p>
      <p>步骤403，本端的MAC层完成数据报文发送后，MAC层向MAC用户回应一个数据报文状态指示，指示相应数据报文在虚链路上传递的状态，如成功发送与否等。</p>
      <p>步骤404，另一端完成接收本端的一个数据报文后，将向另一端相关MAC用户发送数据报文指示，其中携带了源地址，目的地址，虚链接号，及接收的数据报文。</p>
      <p>虚拟终端机制是不同于虚链路的另一个思路，即一个STA可以仿真多个STA独立地与AP进行鉴权和关联。因此，不同的业务或应用可以基于不同的虚拟终端。空口中传输的MAC协议数据单元帧的发送地址和接收地址为该虚拟终端的MAC地址和AP的MAC地址。</p>
      <p>随着无线局域网络应用的推广，业界提出WLAN接入与多种接入方式无缝互联的要求，比如蓝牙(Bluetooth)和WLAN，公共陆地移动通信网(GSM、3GPP网络等)与WLAN的互联互通。从用户角度而言，希望能够忽略蓝牙、无线局域网和广域网(GSM/3GPP)之间的技术差异，使得用户的连接和所使用的业务可以穿越不同的互联网络到达目标网络，实现互通与融合。</p>
      <p>目前已经有了支持蓝牙、PDA等非WLAN终端设备通过一个带WLAN接口的多接口共享设备访问WLAN网络的技术，但是现有的技术不支持在共享设备和WLAN网络之间建立多条链路，因此，不能实现多个非WLAN终端通过共享设备同时和外部网络进行多个AAA认证或者获取多种业务服务。另外，这些技术仅仅将共享设备作为一个转发设备来看待，不能使非WLAN终端与外部网络进行数据交互前，获悉自身与WLAN网络之间的通信链路是否能够支持非WLAN终端访问外部网络。</p>
    </background-art>
    <disclosure>
      <p>发明内容</p>
      <p>有鉴于此，本发明的主要目的在于提供一种非无线局域网终端访问外部网络的系统，使多个非WLAN终端同时接入WLAN网络，进而同时访问外部网络。</p>
      <p>本发明的另一主要目的在于提供一种访问外部网络的多用户接入终端，使多个非WLAN终端同时接入WLAN网络，进而同时访问外部网络。</p>
      <p>本发明的第三个主要目的在于提供一种非无线局域网终端访问外部网络的方法，使多个非WLAN终端同时接入WLAN网络，进而同时访问外部网络。</p>
      <p>为了达到上述目的的第一方面，本发明提供了一种非无线局域网终端访问外部网络的系统，该系统包括：至少一个非无线局域网WLAN终端、多用户接入终端、WLAN网络以及外部网络，其中，WLAN网络与外部网络相连，进行数据交互；所述的非WLAN终端与多用户接入终端通过本地链路相连，所述的多用户接入终端通过WLAN数据链路与WLAN网络相连，所述的多用户接入终端用于为每一个非WLAN终端在自身与WLAN网络间建立连接并保存连接关系；以及为每一个非WLAN终端和WLAN网络进行数据转发。</p>
      <p>所述的多用户接入终端由WLAN接口、至少一个非WLAN接口、共享接入管理单元以及共享接入数据服务单元组成，其中，WLAN接口，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立连接，以及与WLAN网络进行数据交互；非WLAN接口，用于非WLAN终端接入多用户接入终端，以及与非WLAN终端进行数据交互；共享接入管理单元，用于保存每个非WLAN终端与WLAN接口和WLAN网络间的连接关系；共享接入数据服务单元，用于为非WLAN终端和WLAN网络提供数据转发传输服务。</p>
      <p>所述的WLAN接口进一步包括虚链路或虚拟终端建立模块，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立一条虚链路或一个虚拟终端；所述的共享接入管理单元进一步包括连接关系保存模块，用于保存和管理每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</p>
      <p>所述的共享接入管理单元进一步包括能力信息管理模块用于存储和管理预先配置或动态生成的能力信息，包括：多用户接入终端是否支持共享接入功能，是否开启共享接入功能，以及多用户接入终端与WLAN网络之间是否建立了WLAN数据链路；所述的非WLAN接口进一步包括能力协商模块，用于与非WLAN终端进行消息交互，通过查询能力信息管理模块的能力信息，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</p>
      <p>所述的WLAN接口进一步包括网络选择模块，用于为每一个非WLAN终端提供网络选择服务，并将网络选择的结果通过共享接入管理单元传输给非WLAN接口，再由非WLAN接口传输给非WLAN终端。</p>
      <p>所述的非WLAN接口进一步包括密钥传递模块，用于将非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥传递给共享接入管理单元；所述的共享接入管理单元进一步包括密钥传递模块，用于将WLAN接口的密钥传递模块传递的密钥发送给WLAN接口；所述的WLAN接口进一步包括封装加密模块，用于封装共享接入数据服务单元转发的非WLAN终端发出的数据报文，并根据共享接入管理单元的密钥传递模块发送的密钥确定加解密密钥，并利用确定的加密密钥加密封装后的数据报文，以及解密WLAN网络转发的外部网络发送给该非WLAN终端的加密数据报文，所述WLAN网络进一步包括封装加密模块，用于封装外部网络发送的数据报文，并根据非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥确定加解密密钥，并利用确定的加密密钥加密外部网络发送给该WLAN终端的数据报文，解密非WLAN终端通过WLAN接口发送的加密数据报文。</p>
      <p>所述的多用户接入终端设置在具有访问外部网络功能的设备中，所述的具有访问外部网络功能的设备在支持非WLAN终端访问外部网络的同时，支持自身获取外部网络提供的服务。</p>
      <p>所述的非WLAN终端为：具有IEEE.802.3或802.15系列标准接口的终端、或者具有USB接口的终端；所述的非WLAN终端通过IEEE.802.3或802.15系列标准接口或者USB接口与多用户接入终端建立本地链路相连。</p>
      <p>所述的非WLAN终端为个人数字辅助设备PDA、蓝牙终端、USB终端或GSM手机；所述的非WLAN终端通过USB接口或蓝牙接口与多用户接入终端建立本地链路相连。</p>
      <p>所述的外部网络为：目标网络、AAA服务器所在网络或其他与WLAN网络连接的非WLAN网络。</p>
      <p>为了达到上述目的的第二方面，本发明提供了一种访问外部网络的多用户接入终端，其包括：WLAN接口、至少一个非WLAN接口、共享接入管理单元以及共享接入数据服务单元，WLAN接口，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立连接，以及与WLAN网络进行数据交互；非WLAN接口，用于非WLAN终端接入多用户接入终端，以及与非WLAN终端进行数据交互；共享接入管理单元，用于保存每个非WLAN终端与WLAN接口和WLAN网络间的连接关系；共享接入数据服务单元，用于为非WLAN终端和WLAN网络提供数据转发传输服务。</p>
      <p>所述的WLAN接口进一步包括虚链路或虚拟终端建立模块，用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立一条虚链路或一个虚拟终端；所述的共享接入管理单元进一步包括连接关系保存模块，用于保存和管理每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</p>
      <p>所述的共享接入管理单元进一步包括能力信息管理模块用于存储和管理预先配置或动态生成的能力信息，包括：多用户接入终端是否支持共享接入功能，是否开启共享接入功能，以及多用户接入终端与WLAN网络之间是否建立了WLAN数据链路；所述的非WLAN接口进一步包括能力协商模块，用于与非WLAN终端进行消息交互，通过查询能力信息管理模块的能力信息，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</p>
      <p>所述的WLAN接口进一步包括网络选择模块，用于为每一个非WLAN终端提供网络选择服务，并将网络选择的结果通过共享接入管理单元传输给非WLAN接口，再由非WLAN接口传输给非WLAN终端。</p>
      <p>所述的非WLAN接口进一步包括密钥传递模块，用于将非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥传递给共享接入管理单元；所述的共享接入管理单元进一步包括密钥传递模块，用于将WLAN接口的密钥传递模块传递的密钥发送给WLAN接口；所述的WLAN接口进一步包括封装加密模块，用于封装共享接入数据服务单元转发的非WLAN终端发出的数据报文，并根据共享接入管理单元的密钥传递模块发送的密钥确定加解密密钥，并利用确定的加密密钥加密封装后的数据报文，以及解密WLAN网络转发的外部网络发送给该非WLAN终端的加密数据报文。</p>
      <p>为了达到上述目的的第三方面，本发明提供了一种非无线局域网终端访问外部网络的方法，该方法包括以下步骤：A、每个非WLAN终端和多用户接入终端之间建立本地链路，多用户接入终端和WLAN网络之间建立WLAN数据链路；B、多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接；</p>
      <p>C、非WLAN终端通过多用户接入终端和WLAN网络与外部网络进行数据交互。</p>
      <p>步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接为：多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立一个虚链路或虚拟终端，并保存每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</p>
      <p>步骤A所述链路建立完成后，进一步包括：多用户接入终端与非WLAN终端进行消息交互，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</p>
      <p>步骤A所述链路建立完成后，进一步包括：多用户接入终端根据非WLAN终端发送的外部网络的标识符以及非WLAN终端需要的服务类型进行网络选择，获得网络选择结果后，将网络选择结果返回非WLAN终端。</p>
      <p>步骤C所述非WLAN终端与外部网络进行数据交互包括：非WLAN终端向外部网络传递数据的流程和外部网络向非WLAN终端传递数据的流程，所述非WLAN终端向外部网络传递数据的流程包括：C1、非WLAN终端通过本地链路将携带非WLAN终端MAC地址、目的地址以及数据的数据报文发送给多用户接入终端；C2、多用户接入终端对接收到的数据报文按照WLAN网络标准封装，并对封装后的数据报文加密后，发送给WLAN网络侧；C3、WLAN网络侧对接收到的数据报文解密，并将解密后的数据报文发送到目的地址，所述外部网络向非WLAN终端传递数据的流程包括：c1、外部网络将携带源地址、非WLAN终端MAC地址以及数据的数据报文发送给WLAN网络侧；</p>
      <p>c2、WLAN网络侧对接收到的数据报文按照WLAN网络标准封装，并对封装后的数据报文加密后，发送给多用户接入终端；c3、多用户接入终端解密接受到的数据报文，根据非WLAN终端MAC地址将解密后的数据报文发送给非WLAN终端。</p>
      <p>步骤C2或c2所述的对接收到的数据报文封装为：按照802.11数据帧格式封装数据报文。</p>
      <p>步骤C2所述的对封装后的数据报文加密后，发送给WLAN网络侧为：多用户接入终端根据虚链路或虚拟终端绑定信息确定相应的虚链路或虚拟终端密钥加密封装后的数据报文，并将虚链路或虚拟终端的端地址作为数据报文的发送和接收地址，将数据报文发送给WLAN网络侧；步骤C3所述的对接收到的数据报文解密为：根据虚链路或虚拟终端的端地址匹配相应的密钥对接受到的数据报文进行解密；或者，多用户接入终端根据WLAN数据链路选择相应的密钥加密封装后的数据报文，并将非WLAN终端的MAC地址和网络侧接入点AP的MAC地址作为数据报文的发送和接收地址发送给WLAN网络侧；步骤C3所述的对接收到的数据报文解密为：根据接收到的数据报文的发送地址匹配相应的密钥，对接收到的数据报文进行解密。</p>
      <p>步骤c2所述的WLAN网络侧对接收到的数据报文进行加密后，发送给多用户接入终端为：WLAN网络侧根据虚链路或虚拟终端绑定信息确定相应的虚链路或虚拟终端加密密钥，利用确定的加密密钥对封装后的数据报文进行加密，并将虚链路或虚拟终端的端地址作为数据报文的发送和接收地址，将数据报文发送给多用户接入终端；步骤c3所述的对接收到的数据报文解密为：根据虚链路或虚拟终端的端地址匹配相应的密钥对接受到的数据报文进行解密；或者，WLAN网络侧根据接收到的数据报文的目的地址确定相应的加密密钥来加密数据报文，并将非WLAN终端的MAC地址和网络侧接入点AP的MAC地址作为数据报文的发送和接收地址发送给WLAN网络侧；步骤c3所述的对接收到的数据报文解密为：根据接收到的数据报文的目的地址匹配相应的密钥，对接收到的数据报文进行解密。</p>
      <p>步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接后，进一步包括：a、非WLAN终端发送断开本地链路消息给多用户接入终端；b、多用户接入终端接收该断开本地链路消息，释放自身存储的本地链路相关资源。</p>
      <p>步骤b所述释放自身存储的本地链路相关资源后，进一步包括：在非WLAN终端与某个虚链路或虚拟终端存在绑定关系时，多用户接入终端向WLAN网络侧发送删除虚链路或虚拟终端消息，并释放自身存储的相应虚链路或虚拟终端资源。</p>
      <p>步骤B所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接后，当多用户接入终端和WLAN网络之间的WLAN数据链路断开、或某个虚链路被删除、或某个虚拟终端被删除时，进一步包括：a1、多用户接入终端向所有的非WLAN接口发送WLAN网络不可用通知，或虚链路已删除通知，或虚拟终端已删除通知，并释放自身存储的WLAN数据链路和虚链路的相关资源，或与已删除虚链路相关的信息，或与已删除虚拟终端相关的信息；b1、多用户接入终端向非WLAN终端发送WLAN网络不可用消息。</p>
      <p>步骤b1所述多用户接入终端向非WLAN终端发送WLAN网络不可用消息后，当WLAN网络再次可用时，该方法进一步包括：a2、多用户接入终端和WLAN网络建立WLAN数据链路；b2、多用户接入终端存储链路状态信息，并为已经创建的链路分配链路标识号，基于本地链路向非WLAN终端发送WLAN网络可用消息；或者，a3、非WLAN终端通过本地链路向多用户接入终端发送主动查询请求；b3、多用户接入终端查找自身存储的WLAN数据链路状态信息，并根据查询结果基于本地链路向非WLAN终端发送WLAN网络可用消息。</p>
      <p>步骤b2或b3所述向非WLAN终端发送WLAN网络可用消息后，进一步包括：多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接，并保存每一个非WLAN终端与WLAN网络的连接关系。</p>
      <p>本发明提供的非WLAN终端访问外部网络的系统及方法通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立虚链路或虚拟终端，实现了多个非WLAN终端同时通过多用户接入终端接入WLAN网络，进而和外部网络进行数据传输。</p>
      <p>本发明提供的通过多用户接入终端访问外部网络的系统及方法，还使得非WLAN终端在通过多用户接入终端获取外部网络提供的业务服务前，能够通过多用户接入终端确认自身与WLAN之间建立的链路是否能够支持非WLAN终端访问外部网络，并且多用户接入终端还可以根据非WLAN终端发送的携带外部网络标识符和所需服务类型等参数的消息，为非WLAN终端提供网络选择服务。因此，利用本发明提供的通过多用户接入终端访问外部网络的系统及方法能够扩展非WLAN终端的使用范围。</p>
    </disclosure>
    <description-of-drawings>
      <p>附图说明</p>
      <p>图1为现有技术IEEE&#160;802.11定义的WLAN系统的网络架构示意图；图2为现有技术IEEE&#160;802.11标准的STA的状态机；图3为现有技术STA和AP之间的基链路对应多条虚链路的示意图；图4为现有技术基于虚链路的数据传递流程示意图；图5为本发明非WLAN终端访问外部网络的系统的结构示意图；图6为图5所示系统中的多用户接入终端提供的共享接入服务的框架图；图7(a)为图5所示系统中的多用户接入终端的结构示意图；(b)为(a)所示多用户接入终端的一个较佳实施例的结构示意图。</p>
      <p>图8为本发明非WLAN终端访问外部网络的方法的流程图；</p>
      <p>图9为图8所示方法的一个较佳实施例的流程示意图；图10为本发明非WLAN终端到外部网络的数据传递流程示意图；图11为本发明外部网络到非WLAN终端的数据传递流程示意图；图12为本发明非WLAN终端断开与WLAN网络连接的流程图；图13为本发明多用户接入终端断开与非WLAN终端的连接的方法的流程图；图14为本发明非WLAN终端获悉WLAN网络再次可用的流程图；图15为本发明非WLAN终端获悉WLAN网络再次可用的流程图；图16为本发明非WLAN终端通过本地链路再次接入WLAN网络的方法的一个较佳实施例的流程图。</p>
    </description-of-drawings>
    <mode-for-invention>
      <p>具体实施方式</p>
      <p>为使本发明的目的、技术方案和有益效果更加清楚明白，下面结合实施例和附图，对本发明进一步详细说明。</p>
      <p>本发明提供的非WLAN终端访问外部网络的系统及方法通过在多用户接入终端与WLAN网络之间为每一个非WLAN终端建立连接，并且通过多用户接入终端保存每一个非WLAN终端和所建连接的绑定关系，实现了多个非WLAN终端同时通过多用户接入终端接入WLAN网络，进而同时和外部网络进行数据传输。</p>
      <p>参见图5，图5为本发明非WLAN终端访问外部网络的系统的结构示意图。如图5所示，该系统包括：至少一个非无线局域网WLAN终端501、多用户接入终端502、WLAN网络503、以及外部网络504。</p>
      <p>其中，WLAN网络503与外部网络504相连，进行数据交互。</p>
      <p>所述的非WLAN终端501与多用户接入终端502通过本地链路相连，所述的多用户接入终502端通过WLAN数据链路与WLAN网络503相连，所述的多用户接入终端502用于为每一个非WLAN终端501在自身与WLAN网络503间建立连接并保存连接关系；以及为每一个非WLAN终端501和WLAN网络503进行数据转发。</p>
      <p>非WLAN终端501不支持WLAN接口，但可能配备某一类带有签约网络信息的智能卡装置，为了访问外部网络，比如有签署关系的归属网络，这些不带WLAN接口的设备与多用户接入终端502通过本地链路连接，然后通过多用户接入终端502与WLAN网络503之间的WLAN数据链路接入外部网络504。这样非WLAN终端501就可以通过本地链路和WLAN数据链路访问外部网络504。</p>
      <p>图5中的非WLAN终端可以为具有IEEE.802.3或802.15系列标准接口的终端、或者具有USB接口的终端，所述的非WLAN终端通过IEEE.802.3或802.15系列标准接口或者USB接口与多用户接入终端建立本地链路相连。</p>
      <p>非WLAN终端501可以为个人数字辅助设备(PDA)、蓝牙终端、USB终端或GSM手机等不带有WLAN接口的设备。如果非WLAN终端501为PDA，则非WLAN终端501与多用户接入终端502之间通过USB本地链路连接；如果非WLAN终端501为蓝牙手机，则非WLAN终端501和多用户接入终端502之间通过蓝牙本地链路相连。本发明将非WLAN终端与多用户接入终端之间的本地短距离通信链路统称为非WLAN终端和多用户接入终端之间的本地链路。</p>
      <p>外部网络504为WLAN网络连接的非WLAN网络，可以为目标网络、AAA服务器所在的网络等等。</p>
      <p>另外，图5中的多用户接入终端502如果设置在笔记本等可以实现外部网络访问的设备中时，所述的可以实现外部网络访问的设备在支持非WLAN终端访问外部网络的同时，也可以和外部网络进行独立的AAA认证和业务传递。比如：蓝牙手机通过该可以实现外部网络访问的设备和外部网络进行话音通讯的同时，该终端仍然可以使用自身的签约服务商提供的互联网服务或者有限电视(IPTV)服务等等。</p>
      <p>参见图6，图6为图5所示系统中的多用户接入终端提供的共享接入服务的框架图。如图6所示，多用户接入终端支持非WLAN终端共享接入，并且提供如下服务：</p>
      <p>1)能力协商服务。多用户接入终端能够与其它要共享接入的非WLAN终端进行能力信息协商。通过能力信息协商，非WLAN终端可以确认：多用户接入终端是否支持共享接入；共享接入终端是否启用共享接入功能；多用户接入终端是否与WLAN网络建立了WLAN数据链路；是否支持MAC地址匿名接入。如果非WLAN终端用户将MAC地址作为身份标识，不希望在空口暴露MAC地址时，可以由WLAN网络侧为该非WLAN终端分配临时MAC地址。</p>
      <p>2)连接服务。提供连接管理服务，管理各个接口的连接状态，控制非WLAN终端接入WLAN网络或者断开和WLAN网络的连接。通过多用户接入终端提供的连接服务，WLAN网络能够基于与多用户接入终端建立的WLAN数据链路，获悉每一个连到多用户接入终端的非WLAN终端，并将这些需要访问外部网络的非WLAN终端逻辑上视为自己的客户端。多用户接入终端通过发送“WLAN网络可用”或者“WLAN网络不可用”的消息动态通知非WLAN终端WLAN网络的状态。</p>
      <p>3)网络选择服务。希望共享接入的非WLAN终端在打算和外部网络的认证服务器进行鉴权之前，通过发送“接入请求”消息，使得多用户接入终端进行网络选择，以确定能不能通过该多用户接入终端到达自己的归属网络或者互连网(Internet)。其中“接入请求”消息中带有外部网络标识符，所需要的服务类型等参数；而多用户接入终端回应的“接入响应”消息中则带有外部网络标识符，服务类型，和网络选择结果等参数。</p>
      <p>4)数据传输服务。多用户接入终端能够识别不同接口发送过来的数据报文，并能够根据策略选择不创建虚链路、创建虚链路或者虚拟终端来承载数据报文，并发送给WLAN网络；另一方面，也能将WLAN网络通过无线接口发送过来的数据报文分发到相应的本地接口，再通过本地链路发送到相应的非WLAN终端，从而提供数据传输服务。</p>
      <p>参见图7(a)，图7(a)为图5所示系统中的多用户接入终端的结构示意图。如图7(a)所示，该系统包括：至少一个非WLAN接口701、共享接入管理单元702、共享接入数据服务单元703以及WLAN接口704。其中，WLAN接口704用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立连接，以及与WLAN网络进行数据交互。</p>
      <p>非WLAN接口701用于非WLAN终端接入多用户接入终端，以及与非WLAN终端进行数据交互。</p>
      <p>共享接入管理单元702用于保存每个非WLAN终端与WLAN接口704和WLAN网络间的连接关系。</p>
      <p>共享接入数据服务单元703用于为非WLAN终端和WLAN网络提供数据转发传输服务。</p>
      <p>参见图7(b)，图7(b)为图7(a)所示多用户接入终端的一个较佳实施例的结构示意图。如图7(b)所示，非WLAN接口701包括能力协商模块和密钥传递模块。</p>
      <p>能力协商模块用于与非WLAN终端进行消息交互，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</p>
      <p>非WLAN接口701的密钥传递模块用于将非WLAN终端与外部网络协商的与非WLAN终端或虚链路或虚拟终端绑定的密钥传递给共享接入管理单元。</p>
      <p>共享接入管理单元702包括能力信息管理模块、连接关系保存模块以及密钥传递模块。</p>
      <p>其中，能力信息管理模块用于存储和管理预先配置或动态生成的能力信息，比如：多用户接入终端是否支持共享接入功能，是否开启共享接入功能，以及多用户接入终端与WLAN网络之间是否建立了WLAN数据链路等信息。</p>
      <p>连接关系保存模块用于识别连接到多用户接入终端各个接口的非WLAN终端，为每个接口分配接口标识符；以及保存每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</p>
      <p>共享接入管理单元702的密钥传递模块用于将非WLAN接口的密钥传递模块传递的密钥发送给WLAN接口。</p>
      <p>非WLAN终端基于本地链路给非WLAN接口701的能力协商模块发送“能力信息查询请求”消息，其中携带参数：多用户接入终端是否提供终端共享接入功能、多用户接入终端是否和WLAN网络建立了互通需要的WLAN数据链路以及WLAN网络与外部网络之间的链路是否可用等。非WLAN接口701从共享接入管理单元702的能力信息管理模块中查询“能力信息查询请求”消息中携带的各个参数对应的能力，并将能力查询响应返回给非WLAN终端。</p>
      <p>参见表1，表1所示的是与共享接入管理单元702有关的几种本地消息。</p>
      <p>共享接入数据服务单元703，用于为非WLAN终端和WLAN网络提供数据转发传输服务，包括：将非WLAN接口701接收到的数据传递给WLAN接口704，以及将WLAN接口704接收到的数据传递给非WLAN接口701。该共享接入数据服务单元703可以和WLAN接口704的MAC应用层集成在一起，也可以单独设置，相当于在MAC应用层上面设置一个共享接入数据服务单元。</p>
      <p>参见表2，表2为与共享接入数据服务单元703有关的本地数据原语。</p>
      <p>WLAN接口704包括：虚链路或虚拟终端建立模块、网络选择模块以及封装加密模块，虚链路或虚拟终端建立模块用于为每一个非WLAN终端在多用户接入终端与WLAN网络间建立一条虚链路或一个虚拟终端。</p>
      <p>网络选择模块用于为每一个非WLAN终端提供网络选择服务，并将网络选择的结果通过共享接入管理单元703传输给非WLAN接口701，再由非WLAN接口701传输给非WLAN终端。</p>
      <p>
        <span class="patent-image-not-available"> </span>
      </p>
      <p>表1</p>
      <p>
        <span class="patent-image-not-available"> </span>
      </p>
      <p>表2封装加密模块用于封装共享接入数据服务单元702转发的非WLAN终端发出的数据报文，并根据共享接入管理单元702的密钥传递模块发送的密钥确定加解密密钥，并利用确定的加密密钥加密封装后的数据报文，以及解密WLAN网络转发的外部网络发送给该非WLAN终端的加密数据报文。</p>
      <p>同时，图5所示系统中的WLAN网络503进一步包括封装加密模块，用于封装并加密外部网络发送的数据报文；以及解密WLAN接口704发送的加密数据报文。</p>
      <p>如果多个非WLAN终端通过多个非WLAN接口701接入多用户接入终端，则为了实现多个非WLAN终端同时与外部网络进行数据交互，在多用户接入终端的WLAN接口704和WLAN网络之间要基于WLAN数据链路建立多条虚链路，或者在WLAN接口704和WLAN网络之间采用虚拟终端的方式。</p>
      <p>为了实现非WLAN终端通过多用户接入终端访问外部网络，本发明提供的机制包括：1)非WLAN终端通过多用户接入终端接入WLAN网络的方法。2)非WLAN终端断开和WLAN网络链接的方法。3)非WLAN终端基于WLAN网络与外部网络传递数据的方法。</p>
      <p>参见图8，图8为本发明非WLAN终端访问外部网络的方法的流程图。如图8所示，该流程包括如下步骤：步骤801，每个非WLAN终端和多用户接入终端之间建立本地链路，多用户接入终端和WLAN网络之间建立WLAN数据链路。本地链路和WLAN数据链路一起组成非WLAN终端到WLAN网络的数据链路。</p>
      <p>步骤802，多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接；步骤803，非WLAN终端通过多用户接入终端和WLAN网络与外部网络进行数据交互。</p>
      <p>步骤802所述多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立连接可以为：多用户接入终端为每一个非WLAN终端在自身与WLAN网络间建立一个虚链路或虚拟终端，并保存每一个非WLAN终端与虚链路或虚拟终端的绑定关系。</p>
      <p>步骤801所述非WLAN终端到WLAN网络的数据链路建立完成后，进一步包括：多用户接入终端与非WLAN终端进行消息交互，通知非WLAN终端多用户接入终端是否支持和启用共享接入功能，以及多用户接入终端是否与WLAN网络建立了WLAN数据链路。</p>
      <p>步骤801所述非WLAN终端到WLAN网络的数据链路建立完成后，进一步包括：多用户接入终端根据非WLAN终端发送的外部网络的标识符以及非WLAN终端需要的服务类型进行网络选择，获得网络选择结果后，将网络选择结果返回非WLAN终端。</p>
      <p>本发明的多用户接入终端可以连接多个非WLAN终端，并且本发明通过在多用户接入终端与WLAN网络侧之间基于WLAN数据链路建立多条虚链路，或者在多用户接入终端与WLAN网络侧之间采用虚终端的方式，实现了多个非WLAN终端接入WLAN网络，进而实现了多个非WLAN终端同时与外部网络进行数据交互。</p>
      <p>参见图9，图9为图8所示方法的一个较佳实施例的流程示意图。如图9所示，该流程包括以下步骤：步骤901，多用户接入终端通过WLAN接口和WLAN网络建立WLAN数据链路。多用户接入终端本身就可以通过该WLAN数据链路获取外部网络的业务服务。</p>
      <p>步骤902，多用户接入终端的WLAN接口将WLAN数据链路的状态通知共享接入管理单元。</p>
      <p>步骤903，非WLAN终端和多用户接入终端的非WLAN接口建立一条本地链路。</p>
      <p>步骤904，多用户接入终端的非WLAN接口将本地链路的状态通知共享接入管理单元。</p>
      <p>步骤905，共享接入管理单元存储链路状态信息；分配接口标识符将这些已经创建链路的接口标识起来，并将接口标识符和非WLAN终端的MAC地址绑定。</p>
      <p>步骤906，非WLAN终端基于本地链路给多用户接入终端发送“能力信息查询请求”消息，其中携带的参数有：多用户接入终端是否提供终端共享接入功能、多用户接入终端是否和WLAN网络建立了互通需要的WLAN数据链路以及WLAN网络与外部网络之间的链路是否可用。</p>
      <p>步骤907，多用户接入终端的非WLAN接口和共享接入管理单元进行信息查询和响应，主要是根据“能力信息查询请求”中的参数进行协商。</p>
      <p>步骤908，多用户接入终端通过相应的本地链路向非WLAN终端发送“能力信息查询响应”消息，将查询结果反馈给非WLAN终端。比如，多用户接入终端不支持共享接入功能或者没启用共享接入功能的话，就会在结果中表明不支持共享接入功能或者没启用共享接入功能。</p>
      <p>步骤909，非WLAN终端根据响应结果决定是否给多用户接入终端相应的非WLAN接口发送“接入请求”消息，并进入省电超时等待状态。如果“能力信息查询响应”表明多用户接入终端不支持共享接入功能或者没启用共享接入功能，非WLAN终端就不会发送“接入请求”消息。</p>
      <p>如果“能力信息查询响应”表明多用户接入终端已经启用共享接入功能，非WLAN终端就会向多用户接入终端的非WLAN接口发送携带签约网络的网络标识符和非WLAN终端支持的业务服务类型的“接入请求”消息。这里，所述的网络标识符为NAI等，所述的非WLAN终端支持的业务服务类型为Internet数据服务、GSM/3G话音服务或数据服务等。</p>
      <p>另外如果超时期限内没有收到“接入响应”消息，非WLAN终端最多会再发送两次“接入请求”消息。这样，发送三次“接入请求”消息后，如果仍未收到“接入响应”消息，则非WLAN终端就认为WLAN网络不可用，结束接入WLAN网络的尝试。</p>
      <p>步骤910，多用户接入终端的非WLAN接口将收到的“接入请求”消息传递给共享接入管理单元，由共享接入管理单元附加上接口识别符参数，封装并传递“接入请求”消息给多用户接入终端的WLAN接口。这时，“接入请求”消息携带了签约网络的网络标识符、业务服务类型和接口识别符以及接入指示。这里，所述的接入指示用来表明是首次接入还是重新接入，接入指示可以用一个16进制数表示，如：如果接入指示为1，则表明为首次接入；如果为0，则为重新接入。</p>
      <p>步骤911，多用户接入终端的WLAN接口根据“接入请求”消息中的参数启动WLAN系统的“网络选择”流程，获得网络选择的结果。</p>
      <p>如果多用户接入终端的WLAN接口支持虚链路机制，则执行步骤912-914，否则直接执行步骤915。</p>
      <p>步骤912，对应一个非WLAN终端，在多用户接入终端的WLAN接口和WLAN网络之间基于已有的基链路创建一条虚链路，也就是以多用户接入终端的WLAN接口MAC地址和WLAN网络侧的AP的BSSID作为“虚链路建立请求”帧的发送地址(TA)和接收地址(RA)发送给AP。</p>
      <p>虚链路的端地址指定方法可以是如下两种：第一种方法，两端各自指定自己的端地址，多用户接入终端将非WLAN终端的MAC地址指定为虚链路一端的端地址，再由WLAN网络侧将AP的BSSID指定为另一端的端地址，或者新分配一个临时MAC地址。这种情况下，多用户接入终端侧和WLAN网络侧都会将虚链路和非WLAN终端绑定起来。</p>
      <p>第二种方法，由某一端，比如AP侧，指定虚链路的两个端地址。在这种情况下，多用户接入终端侧会将虚链路和非WLAN终端绑定起来，并且需要在“虚链路创建请求”中带上非WLAN终端地址，以使WLAN网络侧将该虚链路和非WLAN终端绑定起来。</p>
      <p>步骤913，当成功创建虚链路之后，多用户接入终端的WLAN接口向共享接入管理单元发送“绑定通知”，其中带上虚链路号和非WLAN终端的MAC地址。</p>
      <p>步骤914，共享接入管理单元将虚链路，接口标识符和非WLAN终端的MAC地址绑定，据此选择相应的虚链路来承载非WLAN终端和WLAN网络之间的AAA认证报文和业务数据。</p>
      <p>步骤915，多用户接入终端的WLAN接口将网络选择的结果传递给共享接入管理单元，并由共享接入管理单元传递给多用户接入终端的相应非WLAN接口。</p>
      <p>也可以在步骤913发送“绑定通知”的时候，带上网络选择的结果，一起传给共享接入管理单元。共享接入管理单元再将网络选择结果传递给相应的非WLAN接口。</p>
      <p>这里，共享接入管理单元将网络选择结果传递给相应的非WLAN接口的步骤可以在步骤913之前，也可以在步骤913到914过程中，也可以在步骤914之后。</p>
      <p>步骤916，多用户接入终端的非WLAN接口根据网络选择结果向非WLAN终端发送“接入响应”消息，其中携带网络选择结果，网络标识符，服务类型查询响应结果。非WLAN终端从省电待机状态唤醒，接收“接入响应”消息，并根据“接入响应”消息确认能否通过WLAN网络获得需要的业务服务。</p>
      <p>其中，网络选择结果包括：“WLAN网络不支持与非WLAN终端的签约网络的互通”和“WLAN网络支持与非WLAN终端的签约网络的互通”两种。</p>
      <p>步骤917～918，基于本地链路和WLAN数据链路，非WLAN终端和AAA服务器进行AAA认证，与目标网络进行业务数据传递。</p>
      <p>如图9的步骤917所示，基于本地链路和WLAN数据链路，非WLAN终端和AAA服务器进行AAA认证，比如进行SIM-EAP认证，认证成功后，非WLAN终端将与AAA服务器协商出来的主会话密钥(MSK)通过本地链路传递给多用户接入终端的WLAN接口，WLAN接口和WLAN网络根据802.11i标准进行四次握手密钥协商，协商出成对临时密钥(PTK)，再根据该PTK确定非WLAN终端的加解密密钥，并保存确定的加解密密钥与非WLAN终端或非WLAN终端对应的虚链路或虚拟终端的绑定关系。</p>
      <p>在非WLAN终端确认能够通过WLAN网络到达外部网络之后，就可以基于本地链路和WLAN数据链路进行AAA认证数据的传递，以及认证通过取得1x端口授权后的业务数据传递。这些业务数据的传递属于非WLAN终端和外部网络的数据服务。</p>
      <p>图9所述实施例中通过在多用户接入终端与WLAN网络侧建立多条虚链路的方式实现多个非WLAN终端同时接入WLAN网络，进而与外部网络进行数据交互。本发明还可以通过虚拟终端的方式来实现多个非WLAN终端同时接入WLAN网络，只需要将步骤912到步骤914换为：步骤912a，对应每一个非WLAN终端，在多用户接入终端的WLAN接口和WLAN网络之间创建一个虚拟终端，并发起一个关联请求/响应，将非WLAN终端的MAC地址，或其它临时MAC地址作为虚拟终端的临时MAC地址，并记录该虚拟终端的临时MAC地址与非WLAN终端的映射关系。</p>
      <p>步骤913a，WLAN接口向共享接入管理单元发送“虚终端绑定”通知，该通知携带虚拟终端号和非WLAN终端的MAC地址。</p>
      <p>步骤914a，共享接入管理单元绑定虚拟终端号、接口标识符以及非WLAN终端的MAC地址，据此选择相应的虚终端来承载非WLAN终端和WLAN网络之间的AAA认证报文和业务数据。</p>
      <p>参见图10，图10为本发明非WLAN终端到外部网络的数据传递流程示意图。如图10所示，该流程包括如下步骤：步骤1001，非WLAN终端通过本地链路将携带非WLAN终端MAC地址、目的地址、数据的数据报文发送给多用户接入终端的非WLAN接口。</p>
      <p>步骤1002，非WLAN接口解析接收到的数据报文，将其中的非WLAN终端MAC地址、目的地址和数据传递给共享接入数据服务单元。</p>
      <p>步骤1003，共享接入数据服务单元向WLAN接口发送“数据发送请求”消息，其中携带：非WLAN终端MAC地址、目的地址以及数据。</p>
      <p>步骤1004，WLAN接口按照802.11数据帧格式封装接收到的数据报文，并将封装好的数据报文加密后，以该数据报文的目的地址作为该802.11数据帧的地址3，发送给WLAN网络侧。</p>
      <p>这里，WLAN接口包括图4所示的MAC层和MAC用户等逻辑子层。WLAN接口对应图4中的本端或另一端，WLAN网络侧对应另一端，该步骤描述的是WLAN接口和WLAN网络侧的数据传输的情况。</p>
      <p>如果支持虚链路机制，则根据非WLAN终端MAC地址确定相应的虚链路，并选择相应的密钥加密该802.11数据帧，然后将虚链路端地址对作为该802.11数据帧的发送地址和接收地址；如果支持虚拟终端机制，则根据非WLAN终端MAC地址确定相应的虚拟终端，并选择相应的密钥加密该802.11数据帧，然后将虚拟终端的MAC地址和WLAN网络侧的AP的BSSID作为发送地址和接收地址；所述的虚拟终端的MAC地址为WLAN网络侧分配的某个临时MAC地址或者非WLAN终端的MAC地址。</p>
      <p>如果不支持虚链路或者虚拟终端机制，则根据基链路，即WLAN接口与WLAN网络侧的数据链路确定相应的密钥加密该802.11数据帧，将非WLAN终端MAC地址和AP的BSSID作为发送地址和接收地址。</p>
      <p>步骤1005，WLAN网络侧接收到数据报文后，对数据报文进行解密后，然后恢复数据报文的源地址为非WLAN终端的MAC地址并通过DS发送到该数据报文的目的地址。</p>
      <p>如果支持虚链路或虚拟终端，则WLAN网络侧根据802.11数据帧的发送地址和接收地址匹配相应的密钥进行解密；如果不支持虚链路，则根据802.11数据帧的发送地址匹配相应的密钥进行解密。</p>
      <p>参见图11，图11为本发明外部网络到非WLAN终端的数据传递流程示意图。如图11所示，该流程包括如下步骤：步骤1101，外部网络传给非WLAN终端的数据报文包括：源地址、目的地址，即非WLAN终端MAC地址、以及数据。</p>
      <p>步骤1102，WLAN网络侧按照802.11数据帧的格式封装接收到的数据报文，将封装后的数据报文加密后，发送到多用户接入终端的WLAN接口。</p>
      <p>如果采用虚链路机制，则WLAN网络侧根据虚链路绑定信息确定相应的虚链路加密密钥来加密该数据报文，并将虚链路的端地址对作为接收地址和发送地址。</p>
      <p>如果采用虚拟终端机制，则根据虚拟终端绑定信息确定相应的密钥加密该数据报文，并将虚拟终端的MAC地址和AP的BSSID填入802.11数据帧的接收地址和发送地址域中。</p>
      <p>如果即不采用虚链路机制，也不采用虚拟终端机制，则WLAN网络侧依照原数据报文的目的地址找到相应的密钥来加密数据帧，并将非WLAN终端MAC地址和AP的BSSID作为该802.11数据帧的接收地址和发送地址，将原数据报文的源地址作为该802.11数据帧的源地址，通过空口将该802.11数据帧发送到多用户接入终端的WLAN接口。</p>
      <p>步骤1103，多用户接入终端的WLAN接口收到该802.11数据帧，对其解密后，将解密后的数据帧传输到共享接入数据服务单元。</p>
      <p>如果支持虚链路机制，则WLAN接口根据该数据帧的接收地址、发送地址确定相应的虚链路和密钥，并解密该数据报文。解密后的数据报文的源地址(SA)不变，目标地址设置为相应的非WLAN终端MAC地址，再由“数据接收指示”将该数据报文传输到共享接入数据服务单元，其中携带的参数包括：源地址、非WLAN终端MAC地址、虚链路号、数据。</p>
      <p>如果支持虚拟终端机制，则WLAN接口根据该数据帧的接收地址、发送地址确定相应的虚拟终端号和密钥，并解密该数据报文。解密后的数据报文的源地址不变，目标地址置为相应的非WLAN终端MAC地址，再由“数据接收指示”将给数据报文传输到共享接入数据服务单元，其中携带的参数包括：源地址、非WLAN终端MAC地址、虚拟终端号、数据。</p>
      <p>如果即不采用虚链路机制，也不采用虚拟终端机制，则WLAN网络侧根据接收到的802.11数据帧的接收地址确定相应的密钥解密该数据报文，然后再由“数据接收指示”将该数据报文传给共享接入数据服务单元。在“数据接收指示”中携带的参数包括：接收到的802.11数据帧的源地址、接收地址、数据。</p>
      <p>步骤1104，共享接入数据服务单元根据非WLAN终端MAC地址查找自己存储的绑定信息，确定相应的非WLAN接口。</p>
      <p>步骤1105，共享接入数据服务单元向相应的非WLAN接口发送“数据传递”的数据原语，其中携带的参数包括：源地址、非WLAN终端MAC地址和数据。</p>
      <p>步骤1106，非WLAN接口通过本地链路将接收到的数据报文发送给非WLAN终端。</p>
      <p>本发明还提供了断开非WLAN终端与WLAN网络的连接的方法。包括两种情况：一种为非WLAN终端主动断开与WLAN网络的连接；另一种为多用户接入终端主动断开与非WLAN终端的连接。</p>
      <p>参见图12，图12为本发明非WLAN终端断开与WLAN网络连接的流程图。如图12所示，该流程包括以下步骤：步骤1201，当非WLAN终端不需要本地链接时，会发送“断开本地链路”消息给多用户接入终端的非WLAN接口。</p>
      <p>步骤1202，多用户接入终端的非WLAN接口向共享接入管理单元发送“本地链路已断开”的通知，其中携带上接口标识号。</p>
      <p>步骤1203，共享接入管理单元根据收到的“本地链路已断开”的通知释放本地链路相关资源，比如存储的状态信息、接口标识符等等。</p>
      <p>步骤1204，共享接入管理单元再向WLAN接口转送“本地链路已断开”的通知。这样，WLAN接口再收到以该非WLAN终端的身份标识地址，比如MAC地址，为源地址的数据报文时，就不会将该数据报文转发到WLAN网络上，能够起到过滤转发的作用。</p>
      <p>如果没有使用虚链路或虚拟终端，则结束流程；如果采用虚链路或虚终端机制，则该非WLAN终端和某个虚链路或虚拟终端存在绑定关系，执行步骤1205。</p>
      <p>步骤1205，WLAN接口会向WLAN网络侧发送“删除虚链路或虚拟终端”的消息，并将本端的虚链路资源或虚拟STA资源释放掉。</p>
      <p>当多用户接入终端和WLAN网络之间的WLAN数据链路断开或者某个虚链路或虚拟终端被删除时，多用户接入终端可以主动向自身的非WLAN接口发送“WLAN网络不可用”的通知，以便与非WLAN接口相连的非WLAN终端能够获知WLAN网络不可用。</p>
      <p>参见图13，图13为本发明多用户接入终端断开与非WLAN终端的连接的方法的流程图。如图13所示，该流程包括以下步骤：步骤1301，当WLAN接口和WLAN网络之间的WLAN数据链路断开或某个虚链路被删除时，WLAN接口会发送WLAN数据链路已断开，或虚链路已删除，或虚拟终端已删除的通知给共享接入管理单元。</p>
      <p>步骤1302，共享接入管理单元收到WLAN数据链路已断开通知时，向所有的非WLAN接口发送“WLAN网络不可用”的通知。</p>
      <p>共享接入管理单元收到虚链路已删除通知时，根据虚链路和非WLAN接口的绑定关系，向相应的非WLAN接口发送“WLAN网络不可用”的通知。</p>
      <p>共享接入管理单元收到虚拟终端已删除通知时，根据虚拟终端和非WLAN接口的绑定关系，向相应的非WLAN接口发送“WLAN网络不可用”的通知。</p>
      <p>步骤1303，当多用户接入终端向所有的非WLAN接口发送“WLAN网络不可用”的通知后，多用户接入终端释放自身存储的WLAN数据链路和虚链路的相关资源。比如：存储的WLAN数据链路状态信息，所有虚链路和非WLAN接口绑定信息等等。</p>
      <p>当多用户接入终端向某一个非WLAN接口发送“WLAN网络不可用”的通知时，多用户接入终端释放自身保存的虚链路和该非WLAN接口的绑定信息或释放自身保存的虚拟终端和该非WLAN接口的绑定关系。</p>
      <p>步骤1304，非WLAN接口收到“WLAN网络不可用”的通知后，封装一个“WLAN网络不可用”的消息基于本地链路发给非WLAN终端。</p>
      <p>在非WLAN终端获悉WLAN网络不可用之后，如果WLAN网络再次可用，比如多用户接入终端的WLAN接口和WLAN网络间重新创建了一条WLAN数据链路，则需要多用户接入终端将“WLAN网络可用”的消息通知非WLAN终端，分下面两种情况来处理。</p>
      <p>1)非WLAN终端被动获悉WLAN网络可用与否的消息该方法的前提是非WLAN终端和多用户接入终端已经建立了本地链路。参见图14，图14为本发明非WLAN终端获悉WLAN网络再次可用的流程图。如图14所示，该流程包括如下步骤：步骤1401，多用户接入终端通过WLAN接口和WLAN网络建立了WLAN数据链路。</p>
      <p>步骤1402，多用户接入终端的WLAN接口将WLAN数据链路的状态通知共享接入管理单元。</p>
      <p>步骤1403，共享接入管理单元存储链路状态信息，并为已经创建的链路分配链路标识号。链路标识号是用来管理已经创建了的WLAN数据链路的。</p>
      <p>步骤1404，多用户接入终端的共享接入管理单元向所有已经创建了本地链接的非WLAN接口发送“WLAN数据链路可用”的通知。</p>
      <p>步骤1405，非WLAN接口将封装一个“WLAN网络可用”的消息基于本地链路发给非WLAN终端。这样的话，非WLAN终端就能再次获悉WLAN网络可用与否。</p>
      <p>2)非WLAN终端主动查询WLAN网络可用与否该方法的前提是非WLAN终端和多用户接入终端已经建立了本地链路。参见图15，图15为本发明非WLAN终端获悉WLAN网络再次可用的流程图。如图15所示，该流程包括如下步骤：步骤1501，非WLAN终端通过本地链路发送“主动查询请求”给多用户接入终端，准备查询WLAN网络可用与否。</p>
      <p>步骤1502，非WLAN接口将发送一个的“查询请求”给共享接入管理单元。</p>
      <p>步骤1503，共享接入管理单元查找自己存储的WLAN数据链路状态信息，并根据查询结果非WLAN接口发送“查询响应”。</p>
      <p>步骤1504，非WLAN接口根据查询响应结果，基于本地链路发送一个“主动查询响应”给非WLAN终端，其中携带的表明WLAN网络可用与否的参数。这样的话，非WLAN终端就能获悉WLAN网络可用与否。</p>
      <p>在非WLAN终端获悉WLAN网络再次可用之后，本发明还提供了非WLAN终端通过多用户接入终端再次接入WLAN网络的方法。参见图16，图16为本发明非WLAN终端通过本地链路再次接入WLAN网络的方法的一个较佳实施例的流程图。如图16所示，该流程包括如下步骤：步骤1601，非WLAN终端向多用户接入终端的非WLAN接口发送“重接入请求”消息，该消息中携带表明该次接入为重接入的接入指示以及签约网络的网络标识符，比如NAI。</p>
      <p>步骤1602，非WLAN接口封装接收到的“重接入请求”消息，并将封装后的消息传递给共享接入管理单元。</p>
      <p>步骤1603，共享接入管理单元向WLAN接口发送“创建虚链路”或者“创建虚拟终端”的通知。</p>
      <p>步骤1604，多用户接入终端的WLAN接口和WLAN网络间创建一条虚链路或者创建一个虚拟终端和WLAN网络侧进行信息交互。</p>
      <p>步骤1605，多用户接入终端的WLAN接口向共享接入管理单元发送“虚链路绑定”或者“虚拟终端绑定”的通知。</p>
      <p>步骤1606，共享接入管理单元绑定虚链路和接口标识符或者虚拟终端和接口标识符。</p>
      <p>步骤1607，共享接入管理单元向非WLAN接口发送携带重接入结果的重接入响应通知，重接入结果为重接入成功或者拒绝重接入。非WLAN接口通过本地链路向非WLAN终端回复携带重接入结果的重接入响应。</p>
      <p>如果上述的WLAN接口不支持虚链路或虚拟终端机制，则不需要执行图16的步骤1603、1604、1605和1606。</p>
      <p>由于非WLAN终端在此之前已经通过多用户接入终端成功接入WLAN网络，并和外部网络进行过AAA认证和业务传输，所以在该实施例中所述的重新接入过程中，默认非WLAN终端到WLAN网络和外部网络的链路可用。因此，在图16所示的重新接入流程中，不进行网络选择操作，而直接进行重接入请求/响应的信息交互。</p>
      <p>当然，在非WLAN终端获悉WLAN网络再次可用之后，也可以按照图9所示实施例中的步骤909到步骤916实现接入过程。图9中的接入过程与图16所述的接入过程区别在于：前者有网络选择操作，后者没有；前者非WLAN终端向多用户接入终端发送“接入请求”，而后者非WLAN终端向多用户接入终端发送“重新接入请求”，接入请求和重新接入请求中携带的接入指示不同。</p>
    </mode-for-invention>
  </div>
  </div></div><div class="patent-section patent-tabular-section"><a id="forward-citations"></a><div class="patent-section-header"><span class="patent-section-title"> 被以下专利引用</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th">引用专利</th><th class="patent-data-table-th"> 申请日期</th><th class="patent-data-table-th">公开日</th><th class="patent-data-table-th"> 申请人</th><th class="patent-data-table-th">专利名</th></tr></thead><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101951418A?cl=zh">CN101951418A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年9月30日</td><td class="patent-data-table-td patent-date-value">2011年1月19日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种基于Wimax基站实现上网的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN101951418B?cl=zh">CN101951418B</a></td><td class="patent-data-table-td patent-date-value">2010年9月30日</td><td class="patent-data-table-td patent-date-value">2014年3月19日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">一种基于Wimax基站实现上网的方法和装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102118831A?cl=zh">CN102118831A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月16日</td><td class="patent-data-table-td patent-date-value">2011年7月6日</td><td class="patent-data-table-td ">宇龙计算机通信科技(深圳)有限公司</td><td class="patent-data-table-td ">无线接入方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102149153A?cl=zh">CN102149153A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2010年7月15日</td><td class="patent-data-table-td patent-date-value">2011年8月10日</td><td class="patent-data-table-td ">优视科技有限公司</td><td class="patent-data-table-td ">一种用于移动通讯设备终端的网络自动切换方法及装置</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN102724087A?cl=zh">CN102724087A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年3月29日</td><td class="patent-data-table-td patent-date-value">2012年10月10日</td><td class="patent-data-table-td ">中兴通讯股份有限公司</td><td class="patent-data-table-td ">网络资源共享的实现方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103067979A?cl=zh">CN103067979A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年12月28日</td><td class="patent-data-table-td patent-date-value">2013年4月24日</td><td class="patent-data-table-td ">上海寰创通信科技股份有限公司</td><td class="patent-data-table-td ">一种cpe无线终端的远程管理方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103096455A?cl=zh">CN103096455A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月7日</td><td class="patent-data-table-td patent-date-value">2013年5月8日</td><td class="patent-data-table-td ">天彩电子（深圳）有限公司</td><td class="patent-data-table-td ">一种网络信息同步的方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103152800A?cl=zh">CN103152800A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年1月31日</td><td class="patent-data-table-td patent-date-value">2013年6月12日</td><td class="patent-data-table-td ">联宝(合肥)电子科技有限公司</td><td class="patent-data-table-td ">一种多电子设备协同上网的方法及设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103202071A?cl=zh">CN103202071A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2011年11月9日</td><td class="patent-data-table-td patent-date-value">2013年7月10日</td><td class="patent-data-table-td ">高通股份有限公司</td><td class="patent-data-table-td ">物理层功率节省设施</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103236946A?cl=zh">CN103236946A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月19日</td><td class="patent-data-table-td patent-date-value">2013年8月7日</td><td class="patent-data-table-td ">无锡乾煜信息技术有限公司</td><td class="patent-data-table-td ">移动终端和无线cpe设备联动系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103236946B?cl=zh">CN103236946B</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年4月19日</td><td class="patent-data-table-td patent-date-value">2016年4月13日</td><td class="patent-data-table-td ">无锡乾煜信息技术有限公司</td><td class="patent-data-table-td ">移动终端和无线cpe设备联动系统及方法</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/CN103347266A?cl=zh">CN103347266A</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年7月26日</td><td class="patent-data-table-td patent-date-value">2013年10月9日</td><td class="patent-data-table-td ">薛海强</td><td class="patent-data-table-td ">一种网络接入方法、装置及系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2012130041A1?cl=zh">WO2012130041A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年3月14日</td><td class="patent-data-table-td patent-date-value">2012年10月4日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">网络资源共享的实现方法和系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013189389A2?cl=zh">WO2013189389A2</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月20日</td><td class="patent-data-table-td patent-date-value">2013年12月27日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种无线局域网共享认证的方法、系统及设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2013189389A3?cl=zh">WO2013189389A3</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2013年8月20日</td><td class="patent-data-table-td patent-date-value">2014年2月13日</td><td class="patent-data-table-td ">Zte Corporation</td><td class="patent-data-table-td ">一种无线局域网共享认证的方法、系统及设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014036728A1?cl=zh">WO2014036728A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月7日</td><td class="patent-data-table-td patent-date-value">2014年3月13日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">一种空口传输方法及相关设备、系统</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014047939A1?cl=zh">WO2014047939A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年9月29日</td><td class="patent-data-table-td patent-date-value">2014年4月3日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">数据分流的方法和设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2014079016A1?cl=zh">WO2014079016A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2012年11月22日</td><td class="patent-data-table-td patent-date-value">2014年5月30日</td><td class="patent-data-table-td ">Huawei Technologies Co., Ltd.</td><td class="patent-data-table-td ">网元接入方法、系统及设备</td></tr><tr><td class="patent-data-table-td citation-patent"><a href="/patents/WO2015192665A1?cl=zh">WO2015192665A1</a><span class='patent-tooltip-anchor' data-tooltip-text="由审查员引用"> *</span></td><td class="patent-data-table-td patent-date-value">2015年2月9日</td><td class="patent-data-table-td patent-date-value">2015年12月23日</td><td class="patent-data-table-td ">华为技术有限公司</td><td class="patent-data-table-td ">基于临时mac地址的接入方法、装置及系统</td></tr></table><div class="patent-section-footer">* 由审查员引用</div></div><div class="patent-section patent-tabular-section"><a id="classifications"></a><div class="patent-section-header"><span class="patent-section-title">分类</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> </th><th class="patent-data-table-th"> </th></tr></thead><tr><td class="patent-data-table-td ">国际分类号</td><td class="patent-data-table-td "><span class="nested-value"><a href="https://www.google.com/url?id=-EuHAAABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012911000">H04L12/911</a></span>, <span class="nested-value"><a href="https://www.google.com/url?id=-EuHAAABERAJ&amp;q=http://web2.wipo.int/ipcpub/&amp;usg=AFQjCNER44F5jlVoswCkvW3YEcB5lW4moA#refresh=page&amp;notion=scheme&amp;version=20130101&amp;symbol=H04L0012280000">H04L12/28</a></span></td></tr></table><div class="patent-section-footer"></div></div><div class="patent-section patent-tabular-section"><a id="legal-events"></a><div class="patent-section-header"><span class="patent-section-title">法律事件</span></div><table class="patent-data-table"><thead class="patent-data-table-thead"><tr class="patent-data-table"><th class="patent-data-table-th"> 日期</th><th class="patent-data-table-th">代码</th><th class="patent-data-table-th">事件</th><th class="patent-data-table-th">说明</th></tr></thead><tr><td class="patent-data-table-td patent-date-value">2007年10月3日</td><td class="patent-data-table-td ">C06</td><td class="patent-data-table-td ">Publication</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2007年11月28日</td><td class="patent-data-table-td ">C10</td><td class="patent-data-table-td ">Entry into substantive examination</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2009年4月15日</td><td class="patent-data-table-td ">C14</td><td class="patent-data-table-td ">Grant of patent or utility model</td><td class="patent-data-table-td "></td></tr><tr><td class="patent-data-table-td patent-date-value">2016年5月11日</td><td class="patent-data-table-td ">C41</td><td class="patent-data-table-td ">Transfer of patent application or patent right or utility model</td><td class="patent-data-table-td "></td></tr></table><div class="patent-section-footer"></div></div><div class="modal-dialog" id="patent-images-lightbox"><div class="patent-lightbox-controls"><div class="patent-lightbox-rotate-controls"><div class="patent-lightbox-rotation-text">旋转</div><div class="rotate-icon rotate-ccw-icon"></div><div class="rotate-icon rotate-cw-icon"></div></div><div class="patent-lightbox-index-counter"></div><a class="patent-lightbox-fullsize-link" target="_blank">原始图片</a><div class="patent-drawings-control patent-drawings-next"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_right.png" alt="Next page"width="21" height="21" /></div><div class="patent-drawings-control patent-drawings-prev"><img class="patent-drawings-button-img"src="/googlebooks/images/kennedy/page_left.png" alt="Previous page"width="21" height="21" /></div></div><div class="modal-dialog-content"><div class="patent-lightbox-image-holder"><div class="patent-lightbox-placeholder"></div></div></div></div><script>_OC_initPatentsAtb({image_not_available_html: " 未提供图片。\x3ca href\x3d//docs.google.com/viewer?url\x3dpatentimages.storage.googleapis.com/pdfs/f520a7a5db42c7c55621/CN101047587A.pdf\x3e查看 PDF\x3c/a\x3e"});</script></div></div></div></div></div><script>(function() {var href = window.location.href;if (href.indexOf('?') !== -1) {var parameters = href.split('?')[1].split('&');for (var i = 0; i < parameters.length; i++) {var param = parameters[i].split('=');if (param[0] == 'focus') {var elem = document.getElementById(param[1]);if (elem) {elem.focus();}}}}})();</script><script>_OC_addFlags({LockSrc:"/books/javascript/lock_1ec17bec5b1e6ba0eab577be28b6afb9.js", Host:"https://www.google.com/", IsBooksRentalEnabled:1, IsBrowsingHistoryEnabled:1, IsWebReaderSvgEnabled:0, IsImageModeNotesEnabled:1, IsOfflineBubbleEnabled:1, IsFutureOnSaleVolumesEnabled:1, IsBooksUnifiedLeftNavEnabled:1, IsMobileRequest:0, IsZipitFolderCollectionEnabled:1, IsAdsDisabled:0, IsEmbeddedMediaEnabled:1, IsImageModeAnnotationsEnabled:1, IsMyLibraryGooglePlusEnabled:1, IsImagePageProviderEnabled:1, IsBookcardListPriceSmall:0, IsInternalUser:0, IsBooksShareButtonEnabled:0, IsDisabledRandomBookshelves:0});_OC_Run({"enable_p13n":false,"is_cobrand":false,"sign_in_url":"https://www.google.com/accounts/Login?service=\u0026continue=https://www.google.com/patents%3Fcl%3Dzh%26hl%3Dzh-CN\u0026hl=zh-CN"}, {"volume_id":"","is_ebook":true,"volumeresult":{"has_flowing_text":false,"has_scanned_text":true,"can_download_pdf":false,"can_download_epub":false,"is_pdf_drm_enabled":false,"is_epub_drm_enabled":false,"download_pdf_url":"https://www.google.com/patents/download/%E4%B8%80%E7%A7%8D%E9%9D%9E%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E7%BB%88%E7%AB%AF%E8%AE%BF%E9%97%AE%E5%A4%96.pdf?id=-EuHAAABERAJ\u0026hl=zh-CN\u0026output=pdf\u0026sig=ACfU3U3Lrvwd26WQmXc5F3ADgx82EfpQJg"},"sample_url":"https://www.google.com/patents/reader?id=-EuHAAABERAJ\u0026hl=zh-CN\u0026printsec=frontcover\u0026output=reader\u0026source=gbs_atb_hover","is_browsable":true,"is_public_domain":true}, {});</script><div id="footer_table" style="font-size:83%;text-align:center;position:relative;top:20px;height:4.5em;margin-top:2em"><div style="margin-bottom:8px"><a href="https://www.google.com/search?hl=zh-CN"><nobr>Google&nbsp;首页</nobr></a> - <a href="//www.google.com/patents/sitemap/"><nobr>站点地图</nobr></a> - <a href="http://www.google.com/googlebooks/uspto.html"><nobr>美国专利商标局 (USPTO) 专利信息批量下载</nobr></a> - <a href="/intl/zh-CN/privacy/"><nobr>隐私权政策</nobr></a> - <a href="/intl/zh-CN/policies/terms/"><nobr>服务条款</nobr></a> - <a href="https://support.google.com/faqs/answer/2539193?hl=zh-CN"><nobr> 关于 Google 专利</nobr></a> - <a href="//www.google.com/tools/feedback/intl/zh-CN/error.html" onclick="try{_OC_startFeedback({productId: '72792',locale: 'zh-CN'});return false;}catch(e){}"><nobr>发送反馈</nobr></a></div></div> <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">var pageTracker = _gat._getTracker("UA-27188110-1");pageTracker._setCookiePath("/patents/");pageTracker._trackPageview();</script> </body></html>